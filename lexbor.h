/*
 * Copyright (C) 2018-2026 Alexander Borisov
 *
 * Author: Alexander Borisov <borisov@lexbor.com>
 *
 * This file is generated automatically. Do not edit!
 *
 * Generated by: single.pl
 * Project: Lexbor (https://lexbor.com/)
 * GitHub: https://github.com/lexbor/lexbor
 * Date: Tue Feb 17 10:41:17 2026
 * Version: 2.7.0
 * License: Apache License Version 2.0
 * Modules: css-1.4.0, html-2.8.0, selectors-0.5.0
 * Dependencies: core-2.7.0, dom-2.0.0, ns-1.4.0, ports/posix, tag-1.4.0
 */

/* LICENSE:

                                 Apache License
                           Version 2.0, January 2004
                        http://www.apache.org/licenses/

   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

   1. Definitions.

      "License" shall mean the terms and conditions for use, reproduction,
      and distribution as defined by Sections 1 through 9 of this document.

      "Licensor" shall mean the copyright owner or entity authorized by
      the copyright owner that is granting the License.

      "Legal Entity" shall mean the union of the acting entity and all
      other entities that control, are controlled by, or are under common
      control with that entity. For the purposes of this definition,
      "control" means (i) the power, direct or indirect, to cause the
      direction or management of such entity, whether by contract or
      otherwise, or (ii) ownership of fifty percent (50%) or more of the
      outstanding shares, or (iii) beneficial ownership of such entity.

      "You" (or "Your") shall mean an individual or Legal Entity
      exercising permissions granted by this License.

      "Source" form shall mean the preferred form for making modifications,
      including but not limited to software source code, documentation
      source, and configuration files.

      "Object" form shall mean any form resulting from mechanical
      transformation or translation of a Source form, including but
      not limited to compiled object code, generated documentation,
      and conversions to other media types.

      "Work" shall mean the work of authorship, whether in Source or
      Object form, made available under the License, as indicated by a
      copyright notice that is included in or attached to the work
      (an example is provided in the Appendix below).

      "Derivative Works" shall mean any work, whether in Source or Object
      form, that is based on (or derived from) the Work and for which the
      editorial revisions, annotations, elaborations, or other modifications
      represent, as a whole, an original work of authorship. For the purposes
      of this License, Derivative Works shall not include works that remain
      separable from, or merely link (or bind by name) to the interfaces of,
      the Work and Derivative Works thereof.

      "Contribution" shall mean any work of authorship, including
      the original version of the Work and any modifications or additions
      to that Work or Derivative Works thereof, that is intentionally
      submitted to Licensor for inclusion in the Work by the copyright owner
      or by an individual or Legal Entity authorized to submit on behalf of
      the copyright owner. For the purposes of this definition, "submitted"
      means any form of electronic, verbal, or written communication sent
      to the Licensor or its representatives, including but not limited to
      communication on electronic mailing lists, source code control systems,
      and issue tracking systems that are managed by, or on behalf of, the
      Licensor for the purpose of discussing and improving the Work, but
      excluding communication that is conspicuously marked or otherwise
      designated in writing by the copyright owner as "Not a Contribution."

      "Contributor" shall mean Licensor and any individual or Legal Entity
      on behalf of whom a Contribution has been received by Licensor and
      subsequently incorporated within the Work.

   2. Grant of Copyright License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      copyright license to reproduce, prepare Derivative Works of,
      publicly display, publicly perform, sublicense, and distribute the
      Work and such Derivative Works in Source or Object form.

   3. Grant of Patent License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      (except as stated in this section) patent license to make, have made,
      use, offer to sell, sell, import, and otherwise transfer the Work,
      where such license applies only to those patent claims licensable
      by such Contributor that are necessarily infringed by their
      Contribution(s) alone or by combination of their Contribution(s)
      with the Work to which such Contribution(s) was submitted. If You
      institute patent litigation against any entity (including a
      cross-claim or counterclaim in a lawsuit) alleging that the Work
      or a Contribution incorporated within the Work constitutes direct
      or contributory patent infringement, then any patent licenses
      granted to You under this License for that Work shall terminate
      as of the date such litigation is filed.

   4. Redistribution. You may reproduce and distribute copies of the
      Work or Derivative Works thereof in any medium, with or without
      modifications, and in Source or Object form, provided that You
      meet the following conditions:

      (a) You must give any other recipients of the Work or
          Derivative Works a copy of this License; and

      (b) You must cause any modified files to carry prominent notices
          stating that You changed the files; and

      (c) You must retain, in the Source form of any Derivative Works
          that You distribute, all copyright, patent, trademark, and
          attribution notices from the Source form of the Work,
          excluding those notices that do not pertain to any part of
          the Derivative Works; and

      (d) If the Work includes a "NOTICE" text file as part of its
          distribution, then any Derivative Works that You distribute must
          include a readable copy of the attribution notices contained
          within such NOTICE file, excluding those notices that do not
          pertain to any part of the Derivative Works, in at least one
          of the following places: within a NOTICE text file distributed
          as part of the Derivative Works; within the Source form or
          documentation, if provided along with the Derivative Works; or,
          within a display generated by the Derivative Works, if and
          wherever such third-party notices normally appear. The contents
          of the NOTICE file are for informational purposes only and
          do not modify the License. You may add Your own attribution
          notices within Derivative Works that You distribute, alongside
          or as an addendum to the NOTICE text from the Work, provided
          that such additional attribution notices cannot be construed
          as modifying the License.

      You may add Your own copyright statement to Your modifications and
      may provide additional or different license terms and conditions
      for use, reproduction, or distribution of Your modifications, or
      for any such Derivative Works as a whole, provided Your use,
      reproduction, and distribution of the Work otherwise complies with
      the conditions stated in this License.

   5. Submission of Contributions. Unless You explicitly state otherwise,
      any Contribution intentionally submitted for inclusion in the Work
      by You to the Licensor shall be under the terms and conditions of
      this License, without any additional terms or conditions.
      Notwithstanding the above, nothing herein shall supersede or modify
      the terms of any separate license agreement you may have executed
      with Licensor regarding such Contributions.

   6. Trademarks. This License does not grant permission to use the trade
      names, trademarks, service marks, or product names of the Licensor,
      except as required for reasonable and customary use in describing the
      origin of the Work and reproducing the content of the NOTICE file.

   7. Disclaimer of Warranty. Unless required by applicable law or
      agreed to in writing, Licensor provides the Work (and each
      Contributor provides its Contributions) on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
      implied, including, without limitation, any warranties or conditions
      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
      PARTICULAR PURPOSE. You are solely responsible for determining the
      appropriateness of using or redistributing the Work and assume any
      risks associated with Your exercise of permissions under this License.

   8. Limitation of Liability. In no event and under no legal theory,
      whether in tort (including negligence), contract, or otherwise,
      unless required by applicable law (such as deliberate and grossly
      negligent acts) or agreed to in writing, shall any Contributor be
      liable to You for damages, including any direct, indirect, special,
      incidental, or consequential damages of any character arising as a
      result of this License or out of the use or inability to use the
      Work (including but not limited to damages for loss of goodwill,
      work stoppage, computer failure or malfunction, or any and all
      other commercial damages or losses), even if such Contributor
      has been advised of the possibility of such damages.

   9. Accepting Warranty or Additional Liability. While redistributing
      the Work or Derivative Works thereof, You may choose to offer,
      and charge a fee for, acceptance of support, warranty, indemnity,
      or other liability obligations and/or rights consistent with this
      License. However, in accepting such obligations, You may act only
      on Your own behalf and on Your sole responsibility, not on behalf
      of any other Contributor, and only if You agree to indemnify,
      defend, and hold each Contributor harmless for any liability
      incurred by, or claims asserted against, such Contributor by reason
      of your accepting any such warranty or additional liability.

   END OF TERMS AND CONDITIONS


Lexbor SUBCOMPONENTS:

The Lexbor includes a number of subcomponents with
separate copyright notices and license terms. Your use of the source
code for the these subcomponents is subject to the terms and
conditions of the following licenses. Paths are relative to the lexbor
folder.

Portions of source/lexbor/core/dtoa.h, source/lexbor/core/dtoa.c,
source/lexbor/core/strtod.h, source/lexbor/core/strtod.c,
source/lexbor/core/diyfp.h, source/lexbor/core/diyfp.c is based on
NGINX NJS project (https://github.com/nginx/njs/) which is
available under BSD 2-clause "Simplified" License.

BSD-2-Clause license.

Copyright (C) 2015-2019 NGINX, Inc.
Copyright (C) 2019-2025 F5, Inc.
Copyright (C) 2015-2021 Igor Sysoev
Copyright (C) 2017-2025 Dmitry Volyntsev
Copyright (C) 2019-2022 Alexander Borisov
Copyright (C) 2022-2025 Vadim Zhestikov
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions
are met:
1. Redistributions of source code must retain the above copyright
   notice, this list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright
   notice, this list of conditions and the following disclaimer in the
   documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
SUCH DAMAGE.
 */

/*
 * Defines:
 */
#define LEXBOR_BUILDING_STATIC
#define LEXBOR_STATIC
#define _POSIX_C_SOURCE 199309L
#ifndef _DEFAULT_SOURCE
#define _DEFAULT_SOURCE
#endif
#ifndef _BSD_SOURCE
#define _BSD_SOURCE
#endif

/*
 * Includes:
 */
#include <dirent.h>
#include <float.h>
#include <limits.h>
#include <math.h>
#include <memory.h>
#include <stdarg.h>
#include <stdbool.h>
#include <stddef.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

/*
 * Headers:
 */
/* Header: source/lexbor/core/def.h */

#define LEXBOR_STRINGIZE_HELPER(x) #x
#define LEXBOR_STRINGIZE(x) LEXBOR_STRINGIZE_HELPER(x)

/* Format */
#ifdef _WIN32
    #define LEXBOR_FORMAT_Z "%Iu"
#else
    #define LEXBOR_FORMAT_Z "%zu"
#endif

/* Deprecated */
#ifdef _MSC_VER
    #define LXB_DEPRECATED(func) __declspec(deprecated) func
#elif defined(__GNUC__) || defined(__INTEL_COMPILER)
    #define LXB_DEPRECATED(func) func __attribute__((deprecated))
#else
    #define LXB_DEPRECATED(func) func
#endif

/* Debug */
//#define LEXBOR_DEBUG(...) do {} while (0)
//#define LEXBOR_DEBUG_ERROR(...) do {} while (0)

#define LEXBOR_MEM_ALIGN_STEP sizeof(void *)

#ifndef LEXBOR_STATIC
    #ifdef _WIN32
        #ifdef LEXBOR_BUILDING
            #define LXB_API __declspec(dllexport)
        #else
            #define LXB_API __declspec(dllimport)
        #endif
    #elif (defined(__SUNPRO_C)  || defined(__SUNPRO_CC))
        #define LXB_API __global
    #else
        #if (defined(__GNUC__) && __GNUC__ >= 4) || defined(__INTEL_COMPILER)
            #define LXB_API __attribute__ ((visibility("default")))
        #else
            #define LXB_API
        #endif
    #endif
#else
    #define LXB_API
#endif

#define LXB_EXTERN extern LXB_API

#define lxb_size(_size) ((size_t) (_size))

/* Header: source/lexbor/core/types.h */

#include <stdint.h>
#include <stdbool.h>

/* Inline */
#ifdef _MSC_VER
    #define lxb_inline static __forceinline
#else
    #define lxb_inline static inline
#endif


/* Simple types */
typedef uint32_t      lxb_codepoint_t;
typedef unsigned char lxb_char_t;
typedef unsigned int  lxb_status_t;

/* Callbacks */
typedef lxb_status_t (*lexbor_callback_f)(const lxb_char_t *buffer,
                                          size_t size, void *ctx);

/* Header: source/lexbor/core/lexbor.h */

typedef void *(*lexbor_memory_malloc_f)(size_t size);
typedef void *(*lexbor_memory_realloc_f)(void *dst, size_t size);
typedef void *(*lexbor_memory_calloc_f)(size_t num, size_t size);
typedef void (*lexbor_memory_free_f)(void *dst);

LXB_API void *
lexbor_malloc(size_t size);

LXB_API void *
lexbor_realloc(void *dst, size_t size);

LXB_API void *
lexbor_calloc(size_t num, size_t size);

LXB_API void *
lexbor_free(void *dst);

LXB_API lxb_status_t
lexbor_memory_setup(lexbor_memory_malloc_f new_malloc, lexbor_memory_realloc_f new_realloc,
                    lexbor_memory_calloc_f new_calloc, lexbor_memory_free_f new_free);

/* Header: source/lexbor/core/base.h */

#include <stdlib.h>
#include <stddef.h>
#include <stdio.h>
#include <stdarg.h>
#include <memory.h>
#include <limits.h>
#include <string.h>


#define LEXBOR_VERSION_MAJOR 2
#define LEXBOR_VERSION_MINOR 7
#define LEXBOR_VERSION_PATCH 0

#define LEXBOR_VERSION_STRING LEXBOR_STRINGIZE(LEXBOR_VERSION_MAJOR) "."       \
                              LEXBOR_STRINGIZE(LEXBOR_VERSION_MINOR) "."       \
                              LEXBOR_STRINGIZE(LEXBOR_VERSION_PATCH)

#define lexbor_assert(val)

#define lexbor_max(val1, val2) ((val1) > (val2) ? (val1) : (val2))
#define lexbor_min(val1, val2) ((val1) < (val2) ? (val1) : (val2))

#define LEXBOR_STR_RES_MAP_CHAR_OTHER      0x00
#define LEXBOR_STR_RES_MAP_CHAR_A_Z_a_z    0x01
#define LEXBOR_STR_RES_MAP_CHAR_WHITESPACE 0x02
#define LEXBOR_STR_RES_SLIP                0xFF

/*
 * Very important!!!
 *
 * for lexbor 0..00AFFF; LXB_STATUS_OK == 0x000000
 */
typedef enum {
    LXB_STATUS_OK                       = 0x0000,
    LXB_STATUS_ERROR                    = 0x0001,
    LXB_STATUS_ERROR_MEMORY_ALLOCATION,
    LXB_STATUS_ERROR_OBJECT_IS_NULL,
    LXB_STATUS_ERROR_SMALL_BUFFER,
    LXB_STATUS_ERROR_INCOMPLETE_OBJECT,
    LXB_STATUS_ERROR_NO_FREE_SLOT,
    LXB_STATUS_ERROR_TOO_SMALL_SIZE,
    LXB_STATUS_ERROR_NOT_EXISTS,
    LXB_STATUS_ERROR_WRONG_ARGS,
    LXB_STATUS_ERROR_WRONG_STAGE,
    LXB_STATUS_ERROR_UNEXPECTED_RESULT,
    LXB_STATUS_ERROR_UNEXPECTED_DATA,
    LXB_STATUS_ERROR_OVERFLOW,
    LXB_STATUS_CONTINUE,
    LXB_STATUS_SMALL_BUFFER,
    LXB_STATUS_ABORTED,
    LXB_STATUS_STOPPED,
    LXB_STATUS_NEXT,
    LXB_STATUS_STOP,
    LXB_STATUS_WARNING
}
lexbor_status_t;

typedef enum {
    LEXBOR_ACTION_OK    = 0x00,
    LEXBOR_ACTION_STOP  = 0x01,
    LEXBOR_ACTION_NEXT  = 0x02
}
lexbor_action_t;


typedef lxb_status_t
(*lexbor_serialize_cb_f)(const lxb_char_t *data, size_t len, void *ctx);

typedef lxb_status_t
(*lexbor_serialize_cb_cp_f)(const lxb_codepoint_t *cps, size_t len, void *ctx);


typedef struct {
    lexbor_serialize_cb_f cb;
    void                  *ctx;

    intptr_t              opt;
    size_t                count;
}
lexbor_serialize_ctx_t;

/* Header: source/lexbor/core/array.h */

typedef struct {
    void   **list;
    size_t size;
    size_t length;
}
lexbor_array_t;


LXB_API lexbor_array_t *
lexbor_array_create(void);

LXB_API lxb_status_t
lexbor_array_init(lexbor_array_t *array, size_t size);

LXB_API void
lexbor_array_clean(lexbor_array_t *array);

LXB_API lexbor_array_t *
lexbor_array_destroy(lexbor_array_t *array, bool self_destroy);


LXB_API void **
lexbor_array_expand(lexbor_array_t *array, size_t up_to);


LXB_API lxb_status_t
lexbor_array_push(lexbor_array_t *array, void *value);

LXB_API void *
lexbor_array_pop(lexbor_array_t *array);

LXB_API lxb_status_t
lexbor_array_insert(lexbor_array_t *array, size_t idx, void *value);

LXB_API lxb_status_t
lexbor_array_set(lexbor_array_t *array, size_t idx, void *value);

LXB_API void
lexbor_array_delete(lexbor_array_t *array, size_t begin, size_t length);


/*
 * Inline functions
 */
lxb_inline void *
lexbor_array_get(lexbor_array_t *array, size_t idx)
{
    if (idx >= array->length) {
        return NULL;
    }

    return array->list[idx];
}

lxb_inline size_t
lexbor_array_length(lexbor_array_t *array)
{
    return array->length;
}

lxb_inline size_t
lexbor_array_size(lexbor_array_t *array)
{
    return array->size;
}

/*
 * No inline functions for ABI.
 */
LXB_API void *
lexbor_array_get_noi(lexbor_array_t *array, size_t idx);

LXB_API size_t
lexbor_array_length_noi(lexbor_array_t *array);

LXB_API size_t
lexbor_array_size_noi(lexbor_array_t *array);

/* Header: source/lexbor/core/array_obj.h */

typedef struct {
    uint8_t *list;
    size_t  size;
    size_t  length;
    size_t  struct_size;
}
lexbor_array_obj_t;


LXB_API lexbor_array_obj_t *
lexbor_array_obj_create(void);

LXB_API lxb_status_t
lexbor_array_obj_init(lexbor_array_obj_t *array,
                      size_t size, size_t struct_size);

LXB_API void
lexbor_array_obj_clean(lexbor_array_obj_t *array);

LXB_API lexbor_array_obj_t *
lexbor_array_obj_destroy(lexbor_array_obj_t *array, bool self_destroy);


LXB_API uint8_t *
lexbor_array_obj_expand(lexbor_array_obj_t *array, size_t up_to);


LXB_API void *
lexbor_array_obj_push(lexbor_array_obj_t *array);

LXB_API void *
lexbor_array_obj_push_wo_cls(lexbor_array_obj_t *array);

LXB_API void *
lexbor_array_obj_push_n(lexbor_array_obj_t *array, size_t count);

LXB_API void *
lexbor_array_obj_pop(lexbor_array_obj_t *array);

LXB_API void
lexbor_array_obj_delete(lexbor_array_obj_t *array, size_t begin, size_t length);


/*
 * Inline functions
 */
lxb_inline void
lexbor_array_obj_erase(lexbor_array_obj_t *array)
{
    memset(array, 0, sizeof(lexbor_array_obj_t));
}

lxb_inline void *
lexbor_array_obj_get(const lexbor_array_obj_t *array, size_t idx)
{
    if (idx >= array->length) {
        return NULL;
    }

    return array->list + (idx * array->struct_size);
}

lxb_inline size_t
lexbor_array_obj_length(lexbor_array_obj_t *array)
{
    return array->length;
}

lxb_inline size_t
lexbor_array_obj_size(lexbor_array_obj_t *array)
{
    return array->size;
}

lxb_inline size_t
lexbor_array_obj_struct_size(lexbor_array_obj_t *array)
{
    return array->struct_size;
}

lxb_inline void *
lexbor_array_obj_last(lexbor_array_obj_t *array)
{
    if (array->length == 0) {
        return NULL;
    }

    return array->list + ((array->length - 1) * array->struct_size);
}


/*
 * No inline functions for ABI.
 */
LXB_API void
lexbor_array_obj_erase_noi(lexbor_array_obj_t *array);

LXB_API void *
lexbor_array_obj_get_noi(lexbor_array_obj_t *array, size_t idx);

LXB_API size_t
lexbor_array_obj_length_noi(lexbor_array_obj_t *array);

LXB_API size_t
lexbor_array_obj_size_noi(lexbor_array_obj_t *array);

LXB_API size_t
lexbor_array_obj_struct_size_noi(lexbor_array_obj_t *array);

LXB_API void *
lexbor_array_obj_last_noi(lexbor_array_obj_t *array);

/* Header: source/lexbor/core/mem.h */

#include <string.h>


typedef struct lexbor_mem_chunk lexbor_mem_chunk_t;
typedef struct lexbor_mem lexbor_mem_t;

struct lexbor_mem_chunk {
    uint8_t            *data;
    size_t             length;
    size_t             size;

    lexbor_mem_chunk_t *next;
    lexbor_mem_chunk_t *prev;
};

struct lexbor_mem {
    lexbor_mem_chunk_t *chunk;
    lexbor_mem_chunk_t *chunk_first;

    size_t             chunk_min_size;
    size_t             chunk_length;
};


LXB_API lexbor_mem_t *
lexbor_mem_create(void);

LXB_API lxb_status_t
lexbor_mem_init(lexbor_mem_t *mem, size_t min_chunk_size);

LXB_API void
lexbor_mem_clean(lexbor_mem_t *mem);

LXB_API lexbor_mem_t *
lexbor_mem_destroy(lexbor_mem_t *mem, bool destroy_self);


/*
 * The memory allocated in lexbor_mem_chunk_* functions needs to be freed
 * by lexbor_mem_chunk_destroy function.
 *
 * This memory will not be automatically freed by a function lexbor_mem_destroy.
 */
LXB_API uint8_t *
lexbor_mem_chunk_init(lexbor_mem_t *mem,
                      lexbor_mem_chunk_t *chunk, size_t length);

LXB_API lexbor_mem_chunk_t *
lexbor_mem_chunk_make(lexbor_mem_t *mem, size_t length);

LXB_API lexbor_mem_chunk_t *
lexbor_mem_chunk_destroy(lexbor_mem_t *mem,
                         lexbor_mem_chunk_t *chunk, bool self_destroy);

/*
 * The memory allocated in lexbor_mem_alloc and lexbor_mem_calloc function
 * will be freeds after calling lexbor_mem_destroy function.
 */
LXB_API void *
lexbor_mem_alloc(lexbor_mem_t *mem, size_t length);

LXB_API void *
lexbor_mem_calloc(lexbor_mem_t *mem, size_t length);


/*
 * Inline functions
 */
lxb_inline size_t
lexbor_mem_current_length(lexbor_mem_t *mem)
{
    return mem->chunk->length;
}

lxb_inline size_t
lexbor_mem_current_size(lexbor_mem_t *mem)
{
    return mem->chunk->size;
}

lxb_inline size_t
lexbor_mem_chunk_length(lexbor_mem_t *mem)
{
    return mem->chunk_length;
}

lxb_inline size_t
lexbor_mem_align(size_t size)
{
    return ((size % LEXBOR_MEM_ALIGN_STEP) != 0)
           ? size + (LEXBOR_MEM_ALIGN_STEP - (size % LEXBOR_MEM_ALIGN_STEP))
           : size;
}

lxb_inline size_t
lexbor_mem_align_floor(size_t size)
{
    return ((size % LEXBOR_MEM_ALIGN_STEP) != 0)
           ? size - (size % LEXBOR_MEM_ALIGN_STEP)
           : size;
}

/*
 * No inline functions for ABI.
 */
LXB_API size_t
lexbor_mem_current_length_noi(lexbor_mem_t *mem);

LXB_API size_t
lexbor_mem_current_size_noi(lexbor_mem_t *mem);

LXB_API size_t
lexbor_mem_chunk_length_noi(lexbor_mem_t *mem);

LXB_API size_t
lexbor_mem_align_noi(size_t size);

LXB_API size_t
lexbor_mem_align_floor_noi(size_t size);

/* Header: source/lexbor/core/dobject.h */

typedef struct {
    lexbor_mem_t   *mem;
    lexbor_array_t *cache;

    size_t         allocated;
    size_t         struct_size;
}
lexbor_dobject_t;


LXB_API lexbor_dobject_t *
lexbor_dobject_create(void);

LXB_API lxb_status_t
lexbor_dobject_init(lexbor_dobject_t *dobject,
                    size_t chunk_size, size_t struct_size);

LXB_API void
lexbor_dobject_clean(lexbor_dobject_t *dobject);

LXB_API lexbor_dobject_t *
lexbor_dobject_destroy(lexbor_dobject_t *dobject, bool destroy_self);


LXB_API void *
lexbor_dobject_alloc(lexbor_dobject_t *dobject);

LXB_API void *
lexbor_dobject_calloc(lexbor_dobject_t *dobject);

LXB_API void *
lexbor_dobject_free(lexbor_dobject_t *dobject, void *data);


LXB_API void *
lexbor_dobject_by_absolute_position(lexbor_dobject_t *dobject, size_t pos);


/*
 * Inline functions
 */
lxb_inline size_t
lexbor_dobject_allocated(lexbor_dobject_t *dobject)
{
    return dobject->allocated;
}

lxb_inline size_t
lexbor_dobject_cache_length(lexbor_dobject_t *dobject)
{
    return lexbor_array_length(dobject->cache);
}

/*
 * No inline functions for ABI.
 */
LXB_API size_t
lexbor_dobject_allocated_noi(lexbor_dobject_t *dobject);

LXB_API size_t
lexbor_dobject_cache_length_noi(lexbor_dobject_t *dobject);

/* Header: source/lexbor/core/avl.h */

typedef struct lexbor_avl lexbor_avl_t;
typedef struct lexbor_avl_node lexbor_avl_node_t;

typedef lxb_status_t
(*lexbor_avl_node_f)(lexbor_avl_t *avl, lexbor_avl_node_t **root,
                     lexbor_avl_node_t *node, void *ctx);

struct lexbor_avl_node {
    size_t            type;
    short             height;
    void              *value;

    lexbor_avl_node_t *left;
    lexbor_avl_node_t *right;
    lexbor_avl_node_t *parent;
};

struct lexbor_avl {
    lexbor_dobject_t  *nodes;
    lexbor_avl_node_t *last_right;
};


LXB_API lexbor_avl_t *
lexbor_avl_create(void);

LXB_API lxb_status_t
lexbor_avl_init(lexbor_avl_t *avl, size_t chunk_len, size_t struct_size);

LXB_API void
lexbor_avl_clean(lexbor_avl_t *avl);

LXB_API lexbor_avl_t *
lexbor_avl_destroy(lexbor_avl_t *avl, bool self_destroy);


LXB_API lexbor_avl_node_t *
lexbor_avl_node_make(lexbor_avl_t *avl, size_t type, void *value);

LXB_API void
lexbor_avl_node_clean(lexbor_avl_node_t *node);

LXB_API lexbor_avl_node_t *
lexbor_avl_node_destroy(lexbor_avl_t *avl, lexbor_avl_node_t *node,
                        bool self_destroy);


LXB_API lexbor_avl_node_t *
lexbor_avl_insert(lexbor_avl_t *avl, lexbor_avl_node_t **scope,
                  size_t type, void *value);

LXB_API lexbor_avl_node_t *
lexbor_avl_search(lexbor_avl_t *avl, lexbor_avl_node_t *scope, size_t type);

LXB_API void *
lexbor_avl_remove(lexbor_avl_t *avl, lexbor_avl_node_t **scope, size_t type);

LXB_API void
lexbor_avl_remove_by_node(lexbor_avl_t *avl, lexbor_avl_node_t **root,
                          lexbor_avl_node_t *node);

LXB_API lxb_status_t
lexbor_avl_foreach(lexbor_avl_t *avl, lexbor_avl_node_t **scope,
                   lexbor_avl_node_f cb, void *ctx);

LXB_API void
lexbor_avl_foreach_recursion(lexbor_avl_t *avl, lexbor_avl_node_t *scope,
                             lexbor_avl_node_f callback, void *ctx);

/* Header: source/lexbor/core/bst.h */

#include <string.h>


#define lexbor_bst_root(bst) (bst)->root
#define lexbor_bst_root_ref(bst) &((bst)->root)


typedef struct lexbor_bst_entry lexbor_bst_entry_t;
typedef struct lexbor_bst lexbor_bst_t;

typedef bool (*lexbor_bst_entry_f)(lexbor_bst_t *bst,
                                   lexbor_bst_entry_t *entry, void *ctx);

struct lexbor_bst_entry {
    void               *value;

    lexbor_bst_entry_t *right;
    lexbor_bst_entry_t *left;
    lexbor_bst_entry_t *next;
    lexbor_bst_entry_t *parent;

    size_t             size;
};

struct lexbor_bst {
    lexbor_dobject_t   *dobject;
    lexbor_bst_entry_t *root;

    size_t             tree_length;
};


LXB_API lexbor_bst_t *
lexbor_bst_create(void);

LXB_API lxb_status_t
lexbor_bst_init(lexbor_bst_t *bst, size_t size);

LXB_API void
lexbor_bst_clean(lexbor_bst_t *bst);

LXB_API lexbor_bst_t *
lexbor_bst_destroy(lexbor_bst_t *bst, bool self_destroy);

LXB_API lexbor_bst_entry_t *
lexbor_bst_entry_make(lexbor_bst_t *bst, size_t size);

LXB_API lexbor_bst_entry_t *
lexbor_bst_insert(lexbor_bst_t *bst, lexbor_bst_entry_t **scope,
                  size_t size, void *value);

LXB_API lexbor_bst_entry_t *
lexbor_bst_insert_not_exists(lexbor_bst_t *bst, lexbor_bst_entry_t **scope,
                             size_t size);


LXB_API lexbor_bst_entry_t *
lexbor_bst_search(lexbor_bst_t *bst, lexbor_bst_entry_t *scope, size_t size);

LXB_API lexbor_bst_entry_t *
lexbor_bst_search_close(lexbor_bst_t *bst, lexbor_bst_entry_t *scope,
                        size_t size);


LXB_API void *
lexbor_bst_remove(lexbor_bst_t *bst, lexbor_bst_entry_t **root, size_t size);

LXB_API void *
lexbor_bst_remove_close(lexbor_bst_t *bst, lexbor_bst_entry_t **root,
                        size_t size, size_t *found_size);

LXB_API void *
lexbor_bst_remove_by_pointer(lexbor_bst_t *bst, lexbor_bst_entry_t *entry,
                             lexbor_bst_entry_t **root);


LXB_API void
lexbor_bst_serialize(lexbor_bst_t *bst, lexbor_callback_f callback, void *ctx);

LXB_API void
lexbor_bst_serialize_entry(lexbor_bst_entry_t *entry,
                           lexbor_callback_f callback, void *ctx, size_t tabs);

/* Header: source/lexbor/core/mraw.h */

#include <string.h>


#define lexbor_mraw_meta_size()                                                \
    (((sizeof(size_t) % LEXBOR_MEM_ALIGN_STEP) != 0)                           \
    ? sizeof(size_t)                                                           \
        + (LEXBOR_MEM_ALIGN_STEP - (sizeof(size_t) % LEXBOR_MEM_ALIGN_STEP))   \
    : sizeof(size_t))


typedef struct {
    lexbor_mem_t *mem;
    lexbor_bst_t *cache;
    size_t       ref_count;
}
lexbor_mraw_t;


LXB_API lexbor_mraw_t *
lexbor_mraw_create(void);

LXB_API lxb_status_t
lexbor_mraw_init(lexbor_mraw_t *mraw, size_t chunk_size);

LXB_API void
lexbor_mraw_clean(lexbor_mraw_t *mraw);

LXB_API lexbor_mraw_t *
lexbor_mraw_destroy(lexbor_mraw_t *mraw, bool destroy_self);


LXB_API void *
lexbor_mraw_alloc(lexbor_mraw_t *mraw, size_t size);

LXB_API void *
lexbor_mraw_calloc(lexbor_mraw_t *mraw, size_t size);

LXB_API void *
lexbor_mraw_realloc(lexbor_mraw_t *mraw, void *data, size_t new_size);

LXB_API void *
lexbor_mraw_free(lexbor_mraw_t *mraw, void *data);


/*
 * Inline functions
 */
lxb_inline size_t
lexbor_mraw_data_size(void *data)
{
    return *((size_t *) (((uint8_t *) data) - lexbor_mraw_meta_size()));
}

lxb_inline void
lexbor_mraw_data_size_set(void *data, size_t size)
{
    data = (((uint8_t *) data) - lexbor_mraw_meta_size());
    memcpy(data, &size, sizeof(size_t));
}

lxb_inline void *
lexbor_mraw_dup(lexbor_mraw_t *mraw, const void *src, size_t size)
{
    void *data = lexbor_mraw_alloc(mraw, size);

    if (data != NULL) {
        memcpy(data, src, size);
    }

    return data;
}

lxb_inline size_t
lexbor_mraw_reference_count(lexbor_mraw_t *mraw)
{
    return mraw->ref_count;
}


/*
 * No inline functions for ABI.
 */
LXB_API size_t
lexbor_mraw_data_size_noi(void *data);

LXB_API void
lexbor_mraw_data_size_set_noi(void *data, size_t size);

LXB_API void *
lexbor_mraw_dup_noi(lexbor_mraw_t *mraw, const void *src, size_t size);

/* Header: source/lexbor/core/utils.h */

#define lexbor_utils_whitespace(onechar, action, logic)                        \
    (onechar action ' '  logic                                                 \
     onechar action '\t' logic                                                 \
     onechar action '\n' logic                                                 \
     onechar action '\f' logic                                                 \
     onechar action '\r')


LXB_API size_t
lexbor_utils_power(size_t t, size_t k);

LXB_API size_t
lexbor_utils_hash_hash(const lxb_char_t *key, size_t key_size);

/* Header: source/lexbor/core/str.h */

#define lexbor_str_get(str, attr) str->attr
#define lexbor_str_set(str, attr) lexbor_str_get(str, attr)
#define lexbor_str_len(str) lexbor_str_get(str, length)
#define lexbor_str(p) {.data = (lxb_char_t *) (p), sizeof(p) - 1}

#define lexbor_str_check_size_arg_m(str, size, mraw, plus_len, return_fail)    \
    do {                                                                       \
        void *tmp;                                                             \
                                                                               \
        if (str->length > (SIZE_MAX - (plus_len)))                             \
            return (return_fail);                                              \
                                                                               \
        if ((str->length + (plus_len)) > (size)) {                             \
            tmp = lexbor_mraw_realloc(mraw, str->data,                         \
                                      (str->length + plus_len));               \
                                                                               \
            if (tmp == NULL) {                                                 \
                return (return_fail);                                          \
            }                                                                  \
                                                                               \
            str->data = (lxb_char_t *) tmp;                                    \
        }                                                                      \
    }                                                                          \
    while (0)


typedef struct {
    lxb_char_t *data;
    size_t     length;
}
lexbor_str_t;


LXB_API lexbor_str_t *
lexbor_str_create(void);

LXB_API lxb_char_t *
lexbor_str_init(lexbor_str_t *str, lexbor_mraw_t *mraw, size_t size);

LXB_API lxb_char_t *
lexbor_str_init_append(lexbor_str_t *str, lexbor_mraw_t *mraw,
                       const lxb_char_t *data, size_t length);

LXB_API void
lexbor_str_clean(lexbor_str_t *str);

LXB_API void
lexbor_str_clean_all(lexbor_str_t *str);

LXB_API lexbor_str_t *
lexbor_str_destroy(lexbor_str_t *str, lexbor_mraw_t *mraw, bool destroy_obj);


LXB_API lxb_char_t *
lexbor_str_realloc(lexbor_str_t *str, lexbor_mraw_t *mraw, size_t new_size);

LXB_API lxb_char_t *
lexbor_str_check_size(lexbor_str_t *str, lexbor_mraw_t *mraw, size_t plus_len);

/* Append */
LXB_API lxb_char_t *
lexbor_str_append(lexbor_str_t *str, lexbor_mraw_t *mraw,
                  const lxb_char_t *data, size_t length);

LXB_API lxb_char_t *
lexbor_str_append_before(lexbor_str_t *str, lexbor_mraw_t *mraw,
                         const lxb_char_t *buff, size_t length);

LXB_API lxb_char_t *
lexbor_str_append_one(lexbor_str_t *str, lexbor_mraw_t *mraw,
                      const lxb_char_t data);

LXB_API lxb_char_t *
lexbor_str_append_lowercase(lexbor_str_t *str, lexbor_mraw_t *mraw,
                            const lxb_char_t *data, size_t length);

LXB_API lxb_char_t *
lexbor_str_append_with_rep_null_chars(lexbor_str_t *str, lexbor_mraw_t *mraw,
                                      const lxb_char_t *buff, size_t length);

/* Other functions */
LXB_API lxb_char_t *
lexbor_str_copy(lexbor_str_t *dest, const lexbor_str_t *target,
                lexbor_mraw_t *mraw);

LXB_API void
lexbor_str_stay_only_whitespace(lexbor_str_t *target);

LXB_API void
lexbor_str_strip_collapse_whitespace(lexbor_str_t *target);

LXB_API size_t
lexbor_str_crop_whitespace_from_begin(lexbor_str_t *target);

LXB_API size_t
lexbor_str_whitespace_from_begin(lexbor_str_t *target);

LXB_API size_t
lexbor_str_whitespace_from_end(lexbor_str_t *target);

LXB_API lxb_char_t *
lexbor_str_copy_to(lexbor_str_t *str, const lxb_char_t *buff, size_t length);

LXB_API lxb_char_t *
lexbor_str_copy_to_with_null(lexbor_str_t *str,
                             const lxb_char_t *buff, size_t length);

/* Data utils */
/*
 * [in] first: must be null-terminated
 * [in] sec: no matter what data
 * [in] sec_size: size of the 'sec' buffer
 *
 * Function compare two lxb_char_t data until find '\0' in first arg.
 * Successfully if the function returned a pointer starting with '\0',
 * otherwise, if the data of the second buffer is insufficient function returned
 * position in first buffer.
 * If function returns NULL, the data are not equal.
 */
LXB_API const lxb_char_t *
lexbor_str_data_ncasecmp_first(const lxb_char_t *first, const lxb_char_t *sec,
                               size_t sec_size);
LXB_API bool
lexbor_str_data_ncasecmp_end(const lxb_char_t *first, const lxb_char_t *sec,
                             size_t size);
LXB_API bool
lexbor_str_data_ncasecmp_contain(const lxb_char_t *where, size_t where_size,
                                 const lxb_char_t *what, size_t what_size);
LXB_API bool
lexbor_str_data_ncasecmp(const lxb_char_t *first, const lxb_char_t *sec,
                         size_t size);
LXB_API bool
lexbor_str_data_nlocmp_right(const lxb_char_t *first, const lxb_char_t *sec,
                             size_t size);
LXB_API bool
lexbor_str_data_nupcmp_right(const lxb_char_t *first, const lxb_char_t *sec,
                             size_t size);
LXB_API bool
lexbor_str_data_casecmp(const lxb_char_t *first, const lxb_char_t *sec);

LXB_API bool
lexbor_str_data_ncmp_end(const lxb_char_t *first, const lxb_char_t *sec,
                         size_t size);
LXB_API bool
lexbor_str_data_ncmp_contain(const lxb_char_t *where, size_t where_size,
                             const lxb_char_t *what, size_t what_size);
LXB_API bool
lexbor_str_data_ncmp(const lxb_char_t *first, const lxb_char_t *sec,
                     size_t size);

LXB_API bool
lexbor_str_data_cmp(const lxb_char_t *first, const lxb_char_t *sec);

LXB_API bool
lexbor_str_data_cmp_ws(const lxb_char_t *first, const lxb_char_t *sec);

LXB_API void
lexbor_str_data_to_lowercase(lxb_char_t *to, const lxb_char_t *from, size_t len);

LXB_API void
lexbor_str_data_to_uppercase(lxb_char_t *to, const lxb_char_t *from, size_t len);

LXB_API const lxb_char_t *
lexbor_str_data_find_lowercase(const lxb_char_t *data, size_t len);

LXB_API const lxb_char_t *
lexbor_str_data_find_uppercase(const lxb_char_t *data, size_t len);


/*
 * Inline functions
 */
lxb_inline lxb_char_t *
lexbor_str_data(lexbor_str_t *str)
{
    return str->data;
}

lxb_inline size_t
lexbor_str_length(lexbor_str_t *str)
{
    return str->length;
}

lxb_inline size_t
lexbor_str_size(lexbor_str_t *str)
{
    return lexbor_mraw_data_size(str->data);
}

lxb_inline void
lexbor_str_data_set(lexbor_str_t *str, lxb_char_t *data)
{
    str->data = data;
}

lxb_inline lxb_char_t *
lexbor_str_length_set(lexbor_str_t *str, lexbor_mraw_t *mraw, size_t length)
{
    if (length >= lexbor_str_size(str)) {
        lxb_char_t *tmp;

        tmp = lexbor_str_realloc(str, mraw, length + 1);
        if (tmp == NULL) {
            return NULL;
        }
    }

    str->length = length;
    str->data[length] = 0x00;

    return str->data;
}

/*
 * No inline functions for ABI.
 */
LXB_API lxb_char_t *
lexbor_str_data_noi(lexbor_str_t *str);

LXB_API size_t
lexbor_str_length_noi(lexbor_str_t *str);

LXB_API size_t
lexbor_str_size_noi(lexbor_str_t *str);

LXB_API void
lexbor_str_data_set_noi(lexbor_str_t *str, lxb_char_t *data);

LXB_API lxb_char_t *
lexbor_str_length_set_noi(lexbor_str_t *str, lexbor_mraw_t *mraw,
                          size_t length);

/* Header: source/lexbor/core/bst_map.h */

typedef struct {
    lexbor_str_t str;
    void         *value;
}
lexbor_bst_map_entry_t;

typedef struct {
    lexbor_bst_t     *bst;
    lexbor_mraw_t    *mraw;
    lexbor_dobject_t *entries;

}
lexbor_bst_map_t;


LXB_API lexbor_bst_map_t *
lexbor_bst_map_create(void);

LXB_API lxb_status_t
lexbor_bst_map_init(lexbor_bst_map_t *bst_map, size_t size);

LXB_API void
lexbor_bst_map_clean(lexbor_bst_map_t *bst_map);

LXB_API lexbor_bst_map_t *
lexbor_bst_map_destroy(lexbor_bst_map_t *bst_map, bool self_destroy);


LXB_API lexbor_bst_map_entry_t *
lexbor_bst_map_search(lexbor_bst_map_t *bst_map, lexbor_bst_entry_t *scope,
                      const lxb_char_t *key, size_t key_len);

LXB_API lexbor_bst_map_entry_t *
lexbor_bst_map_insert(lexbor_bst_map_t *bst_map, lexbor_bst_entry_t **scope,
                      const lxb_char_t *key, size_t key_len, void *value);

LXB_API lexbor_bst_map_entry_t *
lexbor_bst_map_insert_not_exists(lexbor_bst_map_t *bst_map,
                                 lexbor_bst_entry_t **scope,
                                 const lxb_char_t *key, size_t key_len);

LXB_API void *
lexbor_bst_map_remove(lexbor_bst_map_t *bst_map, lexbor_bst_entry_t **scope,
                      const lxb_char_t *key, size_t key_len);


/*
 * Inline functions
 */
lxb_inline lexbor_mraw_t *
lexbor_bst_map_mraw(lexbor_bst_map_t *bst_map)
{
    return bst_map->mraw;
}

/*
 * No inline functions for ABI.
 */
LXB_API lexbor_mraw_t *
lexbor_bst_map_mraw_noi(lexbor_bst_map_t *bst_map);

/* Header: source/lexbor/core/conv.h */

LXB_API size_t
lexbor_conv_float_to_data(double num, lxb_char_t *buf, size_t len);

LXB_API size_t
lexbor_conv_long_to_data(long num, lxb_char_t *buf, size_t len);

LXB_API size_t
lexbor_conv_int64_to_data(int64_t num, lxb_char_t *buf, size_t len);

LXB_API double
lexbor_conv_data_to_double(const lxb_char_t **start, size_t len);

LXB_API unsigned long
lexbor_conv_data_to_ulong(const lxb_char_t **data, size_t length);

LXB_API long
lexbor_conv_data_to_long(const lxb_char_t **data, size_t length);

LXB_API unsigned
lexbor_conv_data_to_uint(const lxb_char_t **data, size_t length);

LXB_API size_t
lexbor_conv_dec_to_hex(uint32_t number, lxb_char_t *out, size_t length,
                       bool upper);

lxb_inline long
lexbor_conv_double_to_long(double number)
{
    if (number > (double) LONG_MAX) {
        return LONG_MAX;
    }

    if (number < (double) LONG_MIN) {
        return -LONG_MAX;
    }

    return (long) number;
}

/* Header: source/lexbor/core/diyfp.h */

#include <math.h>


#ifdef __cplusplus
#define lexbor_diyfp(_s, _e)           { .significand = (_s), .exp = (int) (_e) }
#else
#define lexbor_diyfp(_s, _e)           (lexbor_diyfp_t)                        \
                                       { .significand = (_s), .exp = (int) (_e) }
#endif
#define lexbor_uint64_hl(h, l)   (((uint64_t) (h) << 32) + (l))


#define LEXBOR_DBL_SIGNIFICAND_SIZE    52
#define LEXBOR_DBL_EXPONENT_BIAS       (0x3FF + LEXBOR_DBL_SIGNIFICAND_SIZE)
#define LEXBOR_DBL_EXPONENT_MIN        (-LEXBOR_DBL_EXPONENT_BIAS)
#define LEXBOR_DBL_EXPONENT_MAX        (0x7FF - LEXBOR_DBL_EXPONENT_BIAS)
#define LEXBOR_DBL_EXPONENT_DENORMAL   (-LEXBOR_DBL_EXPONENT_BIAS + 1)

#define LEXBOR_DBL_SIGNIFICAND_MASK    lexbor_uint64_hl(0x000FFFFF, 0xFFFFFFFF)
#define LEXBOR_DBL_HIDDEN_BIT          lexbor_uint64_hl(0x00100000, 0x00000000)
#define LEXBOR_DBL_EXPONENT_MASK       lexbor_uint64_hl(0x7FF00000, 0x00000000)

#define LEXBOR_DIYFP_SIGNIFICAND_SIZE  64

#define LEXBOR_SIGNIFICAND_SIZE        53
#define LEXBOR_SIGNIFICAND_SHIFT       (LEXBOR_DIYFP_SIGNIFICAND_SIZE          \
                                       - LEXBOR_DBL_SIGNIFICAND_SIZE)

#define LEXBOR_DECIMAL_EXPONENT_OFF    348
#define LEXBOR_DECIMAL_EXPONENT_MIN    (-348)
#define LEXBOR_DECIMAL_EXPONENT_MAX    340
#define LEXBOR_DECIMAL_EXPONENT_DIST   8


typedef struct {
    uint64_t significand;
    int      exp;
}
lexbor_diyfp_t;


LXB_API lexbor_diyfp_t
lexbor_cached_power_dec(int exp, int *dec_exp);

LXB_API lexbor_diyfp_t
lexbor_cached_power_bin(int exp, int *dec_exp);


/*
 * Inline functions
 */
#ifdef LEXBOR_HAVE_BUILTIN_CLZLL
#define nxt_leading_zeros64(x)  (((x) == 0) ? 64 : __builtin_clzll(x))

#else

lxb_inline uint64_t
lexbor_diyfp_leading_zeros64(uint64_t x)
{
    uint64_t  n;

    if (x == 0) {
        return 64;
    }

    n = 0;

    while ((x & 0x8000000000000000) == 0) {
        n++;
        x <<= 1;
    }

    return n;
}

#endif

lxb_inline lexbor_diyfp_t
lexbor_diyfp_from_d2(double d)
{
    int biased_exp;
    uint64_t significand;
    lexbor_diyfp_t r;

    union {
        double   d;
        uint64_t u64;
    }
    u;

    u.d = d;

    biased_exp = (u.u64 & LEXBOR_DBL_EXPONENT_MASK)
                 >> LEXBOR_DBL_SIGNIFICAND_SIZE;
    significand = u.u64 & LEXBOR_DBL_SIGNIFICAND_MASK;

    if (biased_exp != 0) {
        r.significand = significand + LEXBOR_DBL_HIDDEN_BIT;
        r.exp = biased_exp - LEXBOR_DBL_EXPONENT_BIAS;
    }
    else {
        r.significand = significand;
        r.exp = LEXBOR_DBL_EXPONENT_MIN + 1;
    }

    return r;
}

lxb_inline double
lexbor_diyfp_2d(lexbor_diyfp_t v)
{
    int exp;
    uint64_t significand, biased_exp;

    union {
        double   d;
        uint64_t u64;
    }
    u;

    exp = v.exp;
    significand = v.significand;

    while (significand > LEXBOR_DBL_HIDDEN_BIT + LEXBOR_DBL_SIGNIFICAND_MASK) {
        significand >>= 1;
        exp++;
    }

    if (exp >= LEXBOR_DBL_EXPONENT_MAX) {
        return INFINITY;
    }

    if (exp < LEXBOR_DBL_EXPONENT_DENORMAL) {
        return 0.0;
    }

    while (exp > LEXBOR_DBL_EXPONENT_DENORMAL
           && (significand & LEXBOR_DBL_HIDDEN_BIT) == 0)
    {
        significand <<= 1;
        exp--;
    }

    if (exp == LEXBOR_DBL_EXPONENT_DENORMAL
        && (significand & LEXBOR_DBL_HIDDEN_BIT) == 0)
    {
        biased_exp = 0;

    } else {
        biased_exp = (uint64_t) (exp + LEXBOR_DBL_EXPONENT_BIAS);
    }

    u.u64 = (significand & LEXBOR_DBL_SIGNIFICAND_MASK)
            | (biased_exp << LEXBOR_DBL_SIGNIFICAND_SIZE);

    return u.d;
}

lxb_inline lexbor_diyfp_t
lexbor_diyfp_shift_left(lexbor_diyfp_t v, unsigned shift)
{
    return lexbor_diyfp(v.significand << shift, v.exp - shift);
}

lxb_inline lexbor_diyfp_t
lexbor_diyfp_shift_right(lexbor_diyfp_t v, unsigned shift)
{
    return lexbor_diyfp(v.significand >> shift, v.exp + shift);
}

lxb_inline lexbor_diyfp_t
lexbor_diyfp_sub(lexbor_diyfp_t lhs, lexbor_diyfp_t rhs)
{
    return lexbor_diyfp(lhs.significand - rhs.significand, lhs.exp);
}

lxb_inline lexbor_diyfp_t
lexbor_diyfp_mul(lexbor_diyfp_t lhs, lexbor_diyfp_t rhs)
{
#ifdef LEXBOR_HAVE_UNSIGNED_INT128

    uint64_t l, h;
    lxb_uint128_t u128;

    u128 = (lxb_uint128_t) (lhs.significand)
           * (lxb_uint128_t) (rhs.significand);

    h = u128 >> 64;
    l = (uint64_t) u128;

    /* rounding. */

    if (l & ((uint64_t) 1 << 63)) {
        h++;
    }

    return lexbor_diyfp(h, lhs.exp + rhs.exp + 64);

#else

    uint64_t a, b, c, d, ac, bc, ad, bd, tmp;

    a = lhs.significand >> 32;
    b = lhs.significand & 0xffffffff;
    c = rhs.significand >> 32;
    d = rhs.significand & 0xffffffff;

    ac = a * c;
    bc = b * c;
    ad = a * d;
    bd = b * d;

    tmp = (bd >> 32) + (ad & 0xffffffff) + (bc & 0xffffffff);

    /* mult_round. */

    tmp += 1U << 31;

    return lexbor_diyfp(ac + (ad >> 32) + (bc >> 32) + (tmp >> 32),
                        lhs.exp + rhs.exp + 64);
#endif
}

lxb_inline lexbor_diyfp_t
lexbor_diyfp_normalize(lexbor_diyfp_t v)
{
    return lexbor_diyfp_shift_left(v,
                        (unsigned) lexbor_diyfp_leading_zeros64(v.significand));
}

/* Header: source/lexbor/core/dtoa.h */

LXB_API size_t
lexbor_dtoa(double value, lxb_char_t *begin, size_t len);

/* Header: source/lexbor/core/fs.h */

typedef lexbor_action_t (*lexbor_fs_dir_file_f)(const lxb_char_t *fullpath,
                                                size_t fullpath_len,
                                                const lxb_char_t *filename,
                                                size_t filename_len, void *ctx);

typedef int lexbor_fs_dir_opt_t;

enum lexbor_fs_dir_opt {
    LEXBOR_FS_DIR_OPT_UNDEF          = 0x00,
    LEXBOR_FS_DIR_OPT_WITHOUT_DIR    = 0x01,
    LEXBOR_FS_DIR_OPT_WITHOUT_FILE   = 0x02,
    LEXBOR_FS_DIR_OPT_WITHOUT_HIDDEN = 0x04,
};

typedef enum {
    LEXBOR_FS_FILE_TYPE_UNDEF            = 0x00,
    LEXBOR_FS_FILE_TYPE_FILE             = 0x01,
    LEXBOR_FS_FILE_TYPE_DIRECTORY        = 0x02,
    LEXBOR_FS_FILE_TYPE_BLOCK_DEVICE     = 0x03,
    LEXBOR_FS_FILE_TYPE_CHARACTER_DEVICE = 0x04,
    LEXBOR_FS_FILE_TYPE_PIPE             = 0x05,
    LEXBOR_FS_FILE_TYPE_SYMLINK          = 0x06,
    LEXBOR_FS_FILE_TYPE_SOCKET           = 0x07
}
lexbor_fs_file_type_t;


LXB_API lxb_status_t
lexbor_fs_dir_read(const lxb_char_t *dirpath, lexbor_fs_dir_opt_t opt,
                   lexbor_fs_dir_file_f callback, void *ctx);

LXB_API lexbor_fs_file_type_t
lexbor_fs_file_type(const lxb_char_t *full_path);

LXB_API lxb_char_t *
lexbor_fs_file_easy_read(const lxb_char_t *full_path, size_t *len);

/* Header: source/lexbor/core/hash.h */

#define LEXBOR_HASH_SHORT_SIZE     16
#define LEXBOR_HASH_TABLE_MIN_SIZE 32


typedef struct lexbor_hash_search lexbor_hash_search_t;
typedef struct lexbor_hash_insert lexbor_hash_insert_t;

#ifndef LEXBOR_HASH_EXTERN
LXB_EXTERN const lexbor_hash_insert_t *lexbor_hash_insert_raw;
LXB_EXTERN const lexbor_hash_insert_t *lexbor_hash_insert_lower;
LXB_EXTERN const lexbor_hash_insert_t *lexbor_hash_insert_upper;

LXB_EXTERN const lexbor_hash_search_t *lexbor_hash_search_raw;
LXB_EXTERN const lexbor_hash_search_t *lexbor_hash_search_lower;
LXB_EXTERN const lexbor_hash_search_t *lexbor_hash_search_upper;
#endif

/*
 * FIXME:
 * It is necessary to add the rebuild of a hash table
 * and optimize collisions.
 */

typedef struct lexbor_hash lexbor_hash_t;
typedef struct lexbor_hash_entry lexbor_hash_entry_t;

typedef uint32_t
(*lexbor_hash_id_f)(const lxb_char_t *key, size_t size);

typedef lxb_status_t
(*lexbor_hash_copy_f)(lexbor_hash_t *hash, lexbor_hash_entry_t *entry,
                      const lxb_char_t *key, size_t size);

typedef bool
(*lexbor_hash_cmp_f)(const lxb_char_t *first,
                     const lxb_char_t *second, size_t size);

struct lexbor_hash_entry {
    union {
        lxb_char_t *long_str;
        lxb_char_t short_str[LEXBOR_HASH_SHORT_SIZE + 1];
    } u;

    size_t              length;

    lexbor_hash_entry_t *next;
};

struct lexbor_hash {
    lexbor_dobject_t    *entries;
    lexbor_mraw_t       *mraw;

    lexbor_hash_entry_t **table;
    size_t              table_size;

    size_t              struct_size;
};

struct lexbor_hash_insert {
    lexbor_hash_id_f   hash; /* For generate a hash id. */
    lexbor_hash_cmp_f  cmp;  /* For compare key. */
    lexbor_hash_copy_f copy; /* For copy key. */
};

struct lexbor_hash_search {
    lexbor_hash_id_f   hash; /* For generate a hash id. */
    lexbor_hash_cmp_f  cmp;  /* For compare key. */
};


LXB_API lexbor_hash_t *
lexbor_hash_create(void);

LXB_API lxb_status_t
lexbor_hash_init(lexbor_hash_t *hash, size_t table_size, size_t struct_size);

LXB_API void
lexbor_hash_clean(lexbor_hash_t *hash);

LXB_API lexbor_hash_t *
lexbor_hash_destroy(lexbor_hash_t *hash, bool destroy_obj);


LXB_API void *
lexbor_hash_insert(lexbor_hash_t *hash, const lexbor_hash_insert_t *insert,
                   const lxb_char_t *key, size_t length);

LXB_API void *
lexbor_hash_insert_by_entry(lexbor_hash_t *hash, lexbor_hash_entry_t *entry,
                            const lexbor_hash_search_t *search,
                            const lxb_char_t *key, size_t length);

LXB_API void
lexbor_hash_remove(lexbor_hash_t *hash, const lexbor_hash_search_t *search,
                   const lxb_char_t *key, size_t length);

LXB_API void *
lexbor_hash_search(lexbor_hash_t *hash, const lexbor_hash_search_t *search,
                   const lxb_char_t *key, size_t length);

LXB_API void
lexbor_hash_remove_by_hash_id(lexbor_hash_t *hash, uint32_t hash_id,
                              const lxb_char_t *key, size_t length,
                              const lexbor_hash_cmp_f cmp_func);

LXB_API void *
lexbor_hash_search_by_hash_id(lexbor_hash_t *hash, uint32_t hash_id,
                              const lxb_char_t *key, size_t length,
                              const lexbor_hash_cmp_f cmp_func);


LXB_API uint32_t
lexbor_hash_make_id(const lxb_char_t *key, size_t length);

LXB_API uint32_t
lexbor_hash_make_id_lower(const lxb_char_t *key, size_t length);

LXB_API uint32_t
lexbor_hash_make_id_upper(const lxb_char_t *key, size_t length);

LXB_API lxb_status_t
lexbor_hash_copy(lexbor_hash_t *hash, lexbor_hash_entry_t *entry,
                 const lxb_char_t *key, size_t length);

LXB_API lxb_status_t
lexbor_hash_copy_lower(lexbor_hash_t *hash, lexbor_hash_entry_t *entry,
                       const lxb_char_t *key, size_t length);

LXB_API lxb_status_t
lexbor_hash_copy_upper(lexbor_hash_t *hash, lexbor_hash_entry_t *entry,
                       const lxb_char_t *key, size_t length);


/*
 * Inline functions
 */
lxb_inline lexbor_mraw_t *
lexbor_hash_mraw(const lexbor_hash_t *hash)
{
    return hash->mraw;
}

lxb_inline lxb_char_t *
lexbor_hash_entry_str(const lexbor_hash_entry_t *entry)
{
    if (entry->length <= LEXBOR_HASH_SHORT_SIZE) {
        return (lxb_char_t *) entry->u.short_str;
    }

    return entry->u.long_str;
}

lxb_inline lxb_char_t *
lexbor_hash_entry_str_set(lexbor_hash_entry_t *entry,
                          lxb_char_t *data, size_t length)
{
    entry->length = length;

    if (length <= LEXBOR_HASH_SHORT_SIZE) {
        memcpy(entry->u.short_str, data, length);
        return (lxb_char_t *) entry->u.short_str;
    }

    entry->u.long_str = data;
    return entry->u.long_str;
}

lxb_inline void
lexbor_hash_entry_str_free(lexbor_hash_t *hash, lexbor_hash_entry_t *entry)
{
    if (entry->length > LEXBOR_HASH_SHORT_SIZE) {
        lexbor_mraw_free(hash->mraw, entry->u.long_str);
    }

    entry->length = 0;
}

lxb_inline lexbor_hash_entry_t *
lexbor_hash_entry_create(lexbor_hash_t *hash)
{
    return (lexbor_hash_entry_t *) lexbor_dobject_calloc(hash->entries);
}

lxb_inline lexbor_hash_entry_t *
lexbor_hash_entry_destroy(lexbor_hash_t *hash, lexbor_hash_entry_t *entry)
{
    return (lexbor_hash_entry_t *) lexbor_dobject_free(hash->entries, entry);
}

lxb_inline size_t
lexbor_hash_entries_count(lexbor_hash_t *hash)
{
    return lexbor_dobject_allocated(hash->entries);
}

/* Header: source/lexbor/core/in.h */

typedef struct lexbor_in_node lexbor_in_node_t;
typedef int lexbor_in_opt_t;

enum lexbor_in_opt {
    LEXBOR_IN_OPT_UNDEF    = 0x00,
    LEXBOR_IN_OPT_READONLY = 0x01,
    LEXBOR_IN_OPT_DONE     = 0x02,
    LEXBOR_IN_OPT_FAKE     = 0x04,
    LEXBOR_IN_OPT_ALLOC    = 0x08
};

typedef struct {
    lexbor_dobject_t *nodes;
}
lexbor_in_t;

struct lexbor_in_node {
    size_t            offset;
    lexbor_in_opt_t   opt;

    const lxb_char_t  *begin;
    const lxb_char_t  *end;
    const lxb_char_t  *use;

    lexbor_in_node_t  *next;
    lexbor_in_node_t  *prev;

    lexbor_in_t       *incoming;
};


LXB_API lexbor_in_t *
lexbor_in_create(void);

LXB_API lxb_status_t
lexbor_in_init(lexbor_in_t *incoming, size_t chunk_size);

LXB_API void
lexbor_in_clean(lexbor_in_t *incoming);

LXB_API lexbor_in_t *
lexbor_in_destroy(lexbor_in_t *incoming, bool self_destroy);


LXB_API lexbor_in_node_t *
lexbor_in_node_make(lexbor_in_t *incoming, lexbor_in_node_t *last_node,
                    const lxb_char_t *buf, size_t buf_size);

LXB_API void
lexbor_in_node_clean(lexbor_in_node_t *node);

LXB_API lexbor_in_node_t *
lexbor_in_node_destroy(lexbor_in_t *incoming,
                       lexbor_in_node_t *node, bool self_destroy);


LXB_API lexbor_in_node_t *
lexbor_in_node_split(lexbor_in_node_t *node, const lxb_char_t *pos);

LXB_API lexbor_in_node_t *
lexbor_in_node_find(lexbor_in_node_t *node, const lxb_char_t *pos);

/**
 * Get position by `offset`.
 * If position outside of nodes return `begin` position of first node
 * in nodes chain.
 */
LXB_API const lxb_char_t *
lexbor_in_node_pos_up(lexbor_in_node_t *node, lexbor_in_node_t **return_node,
                      const lxb_char_t *pos, size_t offset);

/**
 * Get position by `offset`.
 * If position outside of nodes return `end`
 * position of last node in nodes chain.
 */
LXB_API const lxb_char_t *
lexbor_in_node_pos_down(lexbor_in_node_t *node, lexbor_in_node_t **return_node,
                        const lxb_char_t *pos, size_t offset);

/*
 * Inline functions
 */
lxb_inline const lxb_char_t *
lexbor_in_node_begin(const lexbor_in_node_t *node)
{
    return node->begin;
}

lxb_inline const lxb_char_t *
lexbor_in_node_end(const lexbor_in_node_t *node)
{
    return node->end;
}

lxb_inline size_t
lexbor_in_node_offset(const lexbor_in_node_t *node)
{
    return node->offset;
}

lxb_inline lexbor_in_node_t *
lexbor_in_node_next(const lexbor_in_node_t *node)
{
    return node->next;
}

lxb_inline lexbor_in_node_t *
lexbor_in_node_prev(const lexbor_in_node_t *node)
{
    return node->prev;
}

lxb_inline lexbor_in_t *
lexbor_in_node_in(const lexbor_in_node_t *node)
{
    return node->incoming;
}

lxb_inline bool
lexbor_in_segment(const lexbor_in_node_t *node, const lxb_char_t *data)
{
    return node->begin <= data && node->end >= data;
}

/*
 * No inline functions for ABI.
 */
LXB_API const lxb_char_t *
lexbor_in_node_begin_noi(const lexbor_in_node_t *node);

LXB_API const lxb_char_t *
lexbor_in_node_end_noi(const lexbor_in_node_t *node);

LXB_API size_t
lexbor_in_node_offset_noi(const lexbor_in_node_t *node);

LXB_API lexbor_in_node_t *
lexbor_in_node_next_noi(const lexbor_in_node_t *node);

LXB_API lexbor_in_node_t *
lexbor_in_node_prev_noi(const lexbor_in_node_t *node);

LXB_API lexbor_in_t *
lexbor_in_node_in_noi(const lexbor_in_node_t *node);

LXB_API bool
lexbor_in_segment_noi(const lexbor_in_node_t *node, const lxb_char_t *data);

/* Header: source/lexbor/core/perf.h */

LXB_API void *
lexbor_perf_create(void);

LXB_API void
lexbor_perf_clean(void *perf);

LXB_API void
lexbor_perf_destroy(void *perf);

LXB_API lxb_status_t
lexbor_perf_begin(void *perf);

LXB_API lxb_status_t
lexbor_perf_end(void *perf);

LXB_API double
lexbor_perf_in_sec(void *perf);

/* Header: source/lexbor/core/plog.h */

typedef struct {
    const lxb_char_t *data;
    void             *context;
    unsigned         id;
}
lexbor_plog_entry_t;

typedef struct {
    lexbor_array_obj_t list;
}
lexbor_plog_t;


LXB_API lxb_status_t
lexbor_plog_init(lexbor_plog_t *plog, size_t init_size, size_t struct_size);

LXB_API lexbor_plog_t *
lexbor_plog_destroy(lexbor_plog_t *plog, bool self_destroy);


/*
 * Inline functions
 */
lxb_inline lexbor_plog_t *
lexbor_plog_create(void)
{
    return (lexbor_plog_t *) lexbor_calloc(1, sizeof(lexbor_plog_t));
}

lxb_inline void
lexbor_plog_clean(lexbor_plog_t *plog)
{
    lexbor_array_obj_clean(&plog->list);
}

lxb_inline void *
lexbor_plog_push(lexbor_plog_t *plog, const lxb_char_t *data, void *ctx,
                 unsigned id)
{
    lexbor_plog_entry_t *entry;

    if (plog == NULL) {
        return NULL;
    }

    entry = (lexbor_plog_entry_t *) lexbor_array_obj_push(&plog->list);
    if (entry == NULL) {
        return NULL;
    }

    entry->data = data;
    entry->context = ctx;
    entry->id = id;

    return (void *) entry;
}

lxb_inline size_t
lexbor_plog_length(lexbor_plog_t *plog)
{
    return lexbor_array_obj_length(&plog->list);
}

/*
 * No inline functions for ABI.
 */
LXB_API lexbor_plog_t *
lexbor_plog_create_noi(void);

LXB_API void
lexbor_plog_clean_noi(lexbor_plog_t *plog);

LXB_API void *
lexbor_plog_push_noi(lexbor_plog_t *plog, const lxb_char_t *data, void *ctx,
                     unsigned id);

LXB_API size_t
lexbor_plog_length_noi(lexbor_plog_t *plog);

/* Header: source/lexbor/core/print.h */

#include <stdarg.h>


#define LXB_PRINT_ERROR ((size_t) - 1)


LXB_API size_t
lexbor_printf_size(const char *format, ...);

LXB_API size_t
lexbor_vprintf_size(const char *format, va_list va);

LXB_API size_t
lexbor_sprintf(lxb_char_t *dst, size_t size, const char *format, ...);

LXB_API size_t
lexbor_vsprintf(lxb_char_t *dst, size_t size, const char *format, va_list va);

/* Header: source/lexbor/core/sbst.h */

#include <string.h>


typedef struct {
    lxb_char_t key;

    void       *value;
    size_t     value_len;

    size_t     left;
    size_t     right;
    size_t     next;
}
lexbor_sbst_entry_static_t;


/*
 * Inline functions
 */
lxb_inline const lexbor_sbst_entry_static_t *
lexbor_sbst_entry_static_find(const lexbor_sbst_entry_static_t *strt,
                              const lexbor_sbst_entry_static_t *root,
                              const lxb_char_t key)
{
    while (root != strt) {
        if (root->key == key) {
            return root;
        }
        else if (key > root->key) {
            root = &strt[root->right];
        }
        else {
            root = &strt[root->left];
        }
    }

    return NULL;
}

/* Header: source/lexbor/core/serialize.h */

#define lexbor_serialize_write(cb, data, length, ctx, status)                 \
    do {                                                                      \
        (status) = (cb)((lxb_char_t *) (data), (length), (ctx));              \
        if ((status) != LXB_STATUS_OK) {                                      \
            return (status);                                                  \
        }                                                                     \
    }                                                                         \
    while (false)


LXB_API lxb_status_t
lexbor_serialize_length_cb(const lxb_char_t *data, size_t length, void *ctx);


LXB_API lxb_status_t
lexbor_serialize_copy_cb(const lxb_char_t *data, size_t length, void *ctx);

/* Header: source/lexbor/core/shs.h */

#include <string.h>


typedef struct {
    char   *key;
    void   *value;

    size_t key_len;
    size_t next;
}
lexbor_shs_entry_t;

typedef struct {
    uint32_t key;
    void     *value;

    size_t   next;
}
lexbor_shs_hash_t;


LXB_API const lexbor_shs_entry_t *
lexbor_shs_entry_get_static(const lexbor_shs_entry_t *tree,
                            const lxb_char_t *key, size_t size);

LXB_API const lexbor_shs_entry_t *
lexbor_shs_entry_get_lower_static(const lexbor_shs_entry_t *root,
                                  const lxb_char_t *key, size_t key_len);

LXB_API const lexbor_shs_entry_t *
lexbor_shs_entry_get_upper_static(const lexbor_shs_entry_t *root,
                                  const lxb_char_t *key, size_t key_len);

/*
 * Inline functions
 */
lxb_inline const lexbor_shs_hash_t *
lexbor_shs_hash_get_static(const lexbor_shs_hash_t *table,
                           const size_t table_size, const uint32_t key)
{
    const lexbor_shs_hash_t *entry;

    entry = &table[ (key % table_size) + 1 ];

    do {
        if (entry->key == key) {
            return entry;
        }

        entry = &table[entry->next];
    }
    while (entry != table);

    return NULL;
}

/* Header: source/lexbor/core/strtod.h */

LXB_API double
lexbor_strtod_internal(const lxb_char_t *start, size_t length, int exp);

/* Header: source/lexbor/core/swar.h */

#define LEXBOR_SWAR_ONES (~((size_t) 0) / 0xFF)
#define LEXBOR_SWAR_REPEAT(x) (LEXBOR_SWAR_ONES * (x))
#define LEXBOR_SWAR_HAS_ZERO(v) (((v) - LEXBOR_SWAR_ONES) & ~(v) & LEXBOR_SWAR_REPEAT(0x80))
#define LEXBOR_SWAR_IS_LITTLE_ENDIAN (*(unsigned char *) &(uint16_t){1})


/*
 * When handling hot loops that search for a set of characters,
 * this function can be used to quickly move the data pointer much
 * closer to the first occurrence of such a character.
 */
lxb_inline const lxb_char_t *
lexbor_swar_seek4(const lxb_char_t *data, const lxb_char_t *end,
                  lxb_char_t c1, lxb_char_t c2, lxb_char_t c3, lxb_char_t c4)
{
    size_t bytes, matches, t1, t2, t3, t4;

    if (LEXBOR_SWAR_IS_LITTLE_ENDIAN) {
        while (data + sizeof(size_t) <= end) {
            memcpy(&bytes, data, sizeof(size_t));

            t1 = bytes ^ LEXBOR_SWAR_REPEAT(c1);
            t2 = bytes ^ LEXBOR_SWAR_REPEAT(c2);
            t3 = bytes ^ LEXBOR_SWAR_REPEAT(c3);
            t4 = bytes ^ LEXBOR_SWAR_REPEAT(c4);
            matches =   LEXBOR_SWAR_HAS_ZERO(t1) | LEXBOR_SWAR_HAS_ZERO(t2)
                      | LEXBOR_SWAR_HAS_ZERO(t3) | LEXBOR_SWAR_HAS_ZERO(t4);

            if (matches) {
                data += ((((matches - 1) & LEXBOR_SWAR_ONES) * LEXBOR_SWAR_ONES)
                        >> (sizeof(size_t) * 8 - 8)) - 1;
                break;
            } else {
                data += sizeof(size_t);
            }
        }
    }

    return data;
}

lxb_inline const lxb_char_t *
lexbor_swar_seek3(const lxb_char_t *data, const lxb_char_t *end,
                  lxb_char_t c1, lxb_char_t c2, lxb_char_t c3)
{
    size_t bytes, matches, t1, t2, t3;

    if (LEXBOR_SWAR_IS_LITTLE_ENDIAN) {
        while (data + sizeof(size_t) <= end) {
            memcpy(&bytes, data, sizeof(size_t));

            t1 = bytes ^ LEXBOR_SWAR_REPEAT(c1);
            t2 = bytes ^ LEXBOR_SWAR_REPEAT(c2);
            t3 = bytes ^ LEXBOR_SWAR_REPEAT(c3);
            matches =   LEXBOR_SWAR_HAS_ZERO(t1) | LEXBOR_SWAR_HAS_ZERO(t2)
                       | LEXBOR_SWAR_HAS_ZERO(t3);

            if (matches) {
                data += ((((matches - 1) & LEXBOR_SWAR_ONES) * LEXBOR_SWAR_ONES)
                         >> (sizeof(size_t) * 8 - 8)) - 1;
                break;
            } else {
                data += sizeof(size_t);
            }
        }
    }

    return data;
}

/* Header: source/lexbor/css/value/const.h */

#ifndef LXB_CSS_VALUE_CONST_H
#define LXB_CSS_VALUE_CONST_H


enum {
    LXB_CSS_VALUE__UNDEF               = 0x0000,
    LXB_CSS_VALUE_INITIAL              = 0x0001,
    LXB_CSS_VALUE_INHERIT              = 0x0002,
    LXB_CSS_VALUE_UNSET                = 0x0003,
    LXB_CSS_VALUE_REVERT               = 0x0004,
    LXB_CSS_VALUE_FLEX_START           = 0x0005,
    LXB_CSS_VALUE_FLEX_END             = 0x0006,
    LXB_CSS_VALUE_CENTER               = 0x0007,
    LXB_CSS_VALUE_SPACE_BETWEEN        = 0x0008,
    LXB_CSS_VALUE_SPACE_AROUND         = 0x0009,
    LXB_CSS_VALUE_STRETCH              = 0x000a,
    LXB_CSS_VALUE_BASELINE             = 0x000b,
    LXB_CSS_VALUE_AUTO                 = 0x000c,
    LXB_CSS_VALUE_TEXT_BOTTOM          = 0x000d,
    LXB_CSS_VALUE_ALPHABETIC           = 0x000e,
    LXB_CSS_VALUE_IDEOGRAPHIC          = 0x000f,
    LXB_CSS_VALUE_MIDDLE               = 0x0010,
    LXB_CSS_VALUE_CENTRAL              = 0x0011,
    LXB_CSS_VALUE_MATHEMATICAL         = 0x0012,
    LXB_CSS_VALUE_TEXT_TOP             = 0x0013,
    LXB_CSS_VALUE__LENGTH              = 0x0014,
    LXB_CSS_VALUE__PERCENTAGE          = 0x0015,
    LXB_CSS_VALUE_SUB                  = 0x0016,
    LXB_CSS_VALUE_SUPER                = 0x0017,
    LXB_CSS_VALUE_TOP                  = 0x0018,
    LXB_CSS_VALUE_BOTTOM               = 0x0019,
    LXB_CSS_VALUE_FIRST                = 0x001a,
    LXB_CSS_VALUE_LAST                 = 0x001b,
    LXB_CSS_VALUE_THIN                 = 0x001c,
    LXB_CSS_VALUE_MEDIUM               = 0x001d,
    LXB_CSS_VALUE_THICK                = 0x001e,
    LXB_CSS_VALUE_NONE                 = 0x001f,
    LXB_CSS_VALUE_HIDDEN               = 0x0020,
    LXB_CSS_VALUE_DOTTED               = 0x0021,
    LXB_CSS_VALUE_DASHED               = 0x0022,
    LXB_CSS_VALUE_SOLID                = 0x0023,
    LXB_CSS_VALUE_DOUBLE               = 0x0024,
    LXB_CSS_VALUE_GROOVE               = 0x0025,
    LXB_CSS_VALUE_RIDGE                = 0x0026,
    LXB_CSS_VALUE_INSET                = 0x0027,
    LXB_CSS_VALUE_OUTSET               = 0x0028,
    LXB_CSS_VALUE_CONTENT_BOX          = 0x0029,
    LXB_CSS_VALUE_BORDER_BOX           = 0x002a,
    LXB_CSS_VALUE_INLINE_START         = 0x002b,
    LXB_CSS_VALUE_INLINE_END           = 0x002c,
    LXB_CSS_VALUE_BLOCK_START          = 0x002d,
    LXB_CSS_VALUE_BLOCK_END            = 0x002e,
    LXB_CSS_VALUE_LEFT                 = 0x002f,
    LXB_CSS_VALUE_RIGHT                = 0x0030,
    LXB_CSS_VALUE_CURRENTCOLOR         = 0x0031,
    LXB_CSS_VALUE_TRANSPARENT          = 0x0032,
    LXB_CSS_VALUE_HEX                  = 0x0033,
    LXB_CSS_VALUE_ALICEBLUE            = 0x0034,
    LXB_CSS_VALUE_ANTIQUEWHITE         = 0x0035,
    LXB_CSS_VALUE_AQUA                 = 0x0036,
    LXB_CSS_VALUE_AQUAMARINE           = 0x0037,
    LXB_CSS_VALUE_AZURE                = 0x0038,
    LXB_CSS_VALUE_BEIGE                = 0x0039,
    LXB_CSS_VALUE_BISQUE               = 0x003a,
    LXB_CSS_VALUE_BLACK                = 0x003b,
    LXB_CSS_VALUE_BLANCHEDALMOND       = 0x003c,
    LXB_CSS_VALUE_BLUE                 = 0x003d,
    LXB_CSS_VALUE_BLUEVIOLET           = 0x003e,
    LXB_CSS_VALUE_BROWN                = 0x003f,
    LXB_CSS_VALUE_BURLYWOOD            = 0x0040,
    LXB_CSS_VALUE_CADETBLUE            = 0x0041,
    LXB_CSS_VALUE_CHARTREUSE           = 0x0042,
    LXB_CSS_VALUE_CHOCOLATE            = 0x0043,
    LXB_CSS_VALUE_CORAL                = 0x0044,
    LXB_CSS_VALUE_CORNFLOWERBLUE       = 0x0045,
    LXB_CSS_VALUE_CORNSILK             = 0x0046,
    LXB_CSS_VALUE_CRIMSON              = 0x0047,
    LXB_CSS_VALUE_CYAN                 = 0x0048,
    LXB_CSS_VALUE_DARKBLUE             = 0x0049,
    LXB_CSS_VALUE_DARKCYAN             = 0x004a,
    LXB_CSS_VALUE_DARKGOLDENROD        = 0x004b,
    LXB_CSS_VALUE_DARKGRAY             = 0x004c,
    LXB_CSS_VALUE_DARKGREEN            = 0x004d,
    LXB_CSS_VALUE_DARKGREY             = 0x004e,
    LXB_CSS_VALUE_DARKKHAKI            = 0x004f,
    LXB_CSS_VALUE_DARKMAGENTA          = 0x0050,
    LXB_CSS_VALUE_DARKOLIVEGREEN       = 0x0051,
    LXB_CSS_VALUE_DARKORANGE           = 0x0052,
    LXB_CSS_VALUE_DARKORCHID           = 0x0053,
    LXB_CSS_VALUE_DARKRED              = 0x0054,
    LXB_CSS_VALUE_DARKSALMON           = 0x0055,
    LXB_CSS_VALUE_DARKSEAGREEN         = 0x0056,
    LXB_CSS_VALUE_DARKSLATEBLUE        = 0x0057,
    LXB_CSS_VALUE_DARKSLATEGRAY        = 0x0058,
    LXB_CSS_VALUE_DARKSLATEGREY        = 0x0059,
    LXB_CSS_VALUE_DARKTURQUOISE        = 0x005a,
    LXB_CSS_VALUE_DARKVIOLET           = 0x005b,
    LXB_CSS_VALUE_DEEPPINK             = 0x005c,
    LXB_CSS_VALUE_DEEPSKYBLUE          = 0x005d,
    LXB_CSS_VALUE_DIMGRAY              = 0x005e,
    LXB_CSS_VALUE_DIMGREY              = 0x005f,
    LXB_CSS_VALUE_DODGERBLUE           = 0x0060,
    LXB_CSS_VALUE_FIREBRICK            = 0x0061,
    LXB_CSS_VALUE_FLORALWHITE          = 0x0062,
    LXB_CSS_VALUE_FORESTGREEN          = 0x0063,
    LXB_CSS_VALUE_FUCHSIA              = 0x0064,
    LXB_CSS_VALUE_GAINSBORO            = 0x0065,
    LXB_CSS_VALUE_GHOSTWHITE           = 0x0066,
    LXB_CSS_VALUE_GOLD                 = 0x0067,
    LXB_CSS_VALUE_GOLDENROD            = 0x0068,
    LXB_CSS_VALUE_GRAY                 = 0x0069,
    LXB_CSS_VALUE_GREEN                = 0x006a,
    LXB_CSS_VALUE_GREENYELLOW          = 0x006b,
    LXB_CSS_VALUE_GREY                 = 0x006c,
    LXB_CSS_VALUE_HONEYDEW             = 0x006d,
    LXB_CSS_VALUE_HOTPINK              = 0x006e,
    LXB_CSS_VALUE_INDIANRED            = 0x006f,
    LXB_CSS_VALUE_INDIGO               = 0x0070,
    LXB_CSS_VALUE_IVORY                = 0x0071,
    LXB_CSS_VALUE_KHAKI                = 0x0072,
    LXB_CSS_VALUE_LAVENDER             = 0x0073,
    LXB_CSS_VALUE_LAVENDERBLUSH        = 0x0074,
    LXB_CSS_VALUE_LAWNGREEN            = 0x0075,
    LXB_CSS_VALUE_LEMONCHIFFON         = 0x0076,
    LXB_CSS_VALUE_LIGHTBLUE            = 0x0077,
    LXB_CSS_VALUE_LIGHTCORAL           = 0x0078,
    LXB_CSS_VALUE_LIGHTCYAN            = 0x0079,
    LXB_CSS_VALUE_LIGHTGOLDENRODYELLOW = 0x007a,
    LXB_CSS_VALUE_LIGHTGRAY            = 0x007b,
    LXB_CSS_VALUE_LIGHTGREEN           = 0x007c,
    LXB_CSS_VALUE_LIGHTGREY            = 0x007d,
    LXB_CSS_VALUE_LIGHTPINK            = 0x007e,
    LXB_CSS_VALUE_LIGHTSALMON          = 0x007f,
    LXB_CSS_VALUE_LIGHTSEAGREEN        = 0x0080,
    LXB_CSS_VALUE_LIGHTSKYBLUE         = 0x0081,
    LXB_CSS_VALUE_LIGHTSLATEGRAY       = 0x0082,
    LXB_CSS_VALUE_LIGHTSLATEGREY       = 0x0083,
    LXB_CSS_VALUE_LIGHTSTEELBLUE       = 0x0084,
    LXB_CSS_VALUE_LIGHTYELLOW          = 0x0085,
    LXB_CSS_VALUE_LIME                 = 0x0086,
    LXB_CSS_VALUE_LIMEGREEN            = 0x0087,
    LXB_CSS_VALUE_LINEN                = 0x0088,
    LXB_CSS_VALUE_MAGENTA              = 0x0089,
    LXB_CSS_VALUE_MAROON               = 0x008a,
    LXB_CSS_VALUE_MEDIUMAQUAMARINE     = 0x008b,
    LXB_CSS_VALUE_MEDIUMBLUE           = 0x008c,
    LXB_CSS_VALUE_MEDIUMORCHID         = 0x008d,
    LXB_CSS_VALUE_MEDIUMPURPLE         = 0x008e,
    LXB_CSS_VALUE_MEDIUMSEAGREEN       = 0x008f,
    LXB_CSS_VALUE_MEDIUMSLATEBLUE      = 0x0090,
    LXB_CSS_VALUE_MEDIUMSPRINGGREEN    = 0x0091,
    LXB_CSS_VALUE_MEDIUMTURQUOISE      = 0x0092,
    LXB_CSS_VALUE_MEDIUMVIOLETRED      = 0x0093,
    LXB_CSS_VALUE_MIDNIGHTBLUE         = 0x0094,
    LXB_CSS_VALUE_MINTCREAM            = 0x0095,
    LXB_CSS_VALUE_MISTYROSE            = 0x0096,
    LXB_CSS_VALUE_MOCCASIN             = 0x0097,
    LXB_CSS_VALUE_NAVAJOWHITE          = 0x0098,
    LXB_CSS_VALUE_NAVY                 = 0x0099,
    LXB_CSS_VALUE_OLDLACE              = 0x009a,
    LXB_CSS_VALUE_OLIVE                = 0x009b,
    LXB_CSS_VALUE_OLIVEDRAB            = 0x009c,
    LXB_CSS_VALUE_ORANGE               = 0x009d,
    LXB_CSS_VALUE_ORANGERED            = 0x009e,
    LXB_CSS_VALUE_ORCHID               = 0x009f,
    LXB_CSS_VALUE_PALEGOLDENROD        = 0x00a0,
    LXB_CSS_VALUE_PALEGREEN            = 0x00a1,
    LXB_CSS_VALUE_PALETURQUOISE        = 0x00a2,
    LXB_CSS_VALUE_PALEVIOLETRED        = 0x00a3,
    LXB_CSS_VALUE_PAPAYAWHIP           = 0x00a4,
    LXB_CSS_VALUE_PEACHPUFF            = 0x00a5,
    LXB_CSS_VALUE_PERU                 = 0x00a6,
    LXB_CSS_VALUE_PINK                 = 0x00a7,
    LXB_CSS_VALUE_PLUM                 = 0x00a8,
    LXB_CSS_VALUE_POWDERBLUE           = 0x00a9,
    LXB_CSS_VALUE_PURPLE               = 0x00aa,
    LXB_CSS_VALUE_REBECCAPURPLE        = 0x00ab,
    LXB_CSS_VALUE_RED                  = 0x00ac,
    LXB_CSS_VALUE_ROSYBROWN            = 0x00ad,
    LXB_CSS_VALUE_ROYALBLUE            = 0x00ae,
    LXB_CSS_VALUE_SADDLEBROWN          = 0x00af,
    LXB_CSS_VALUE_SALMON               = 0x00b0,
    LXB_CSS_VALUE_SANDYBROWN           = 0x00b1,
    LXB_CSS_VALUE_SEAGREEN             = 0x00b2,
    LXB_CSS_VALUE_SEASHELL             = 0x00b3,
    LXB_CSS_VALUE_SIENNA               = 0x00b4,
    LXB_CSS_VALUE_SILVER               = 0x00b5,
    LXB_CSS_VALUE_SKYBLUE              = 0x00b6,
    LXB_CSS_VALUE_SLATEBLUE            = 0x00b7,
    LXB_CSS_VALUE_SLATEGRAY            = 0x00b8,
    LXB_CSS_VALUE_SLATEGREY            = 0x00b9,
    LXB_CSS_VALUE_SNOW                 = 0x00ba,
    LXB_CSS_VALUE_SPRINGGREEN          = 0x00bb,
    LXB_CSS_VALUE_STEELBLUE            = 0x00bc,
    LXB_CSS_VALUE_TAN                  = 0x00bd,
    LXB_CSS_VALUE_TEAL                 = 0x00be,
    LXB_CSS_VALUE_THISTLE              = 0x00bf,
    LXB_CSS_VALUE_TOMATO               = 0x00c0,
    LXB_CSS_VALUE_TURQUOISE            = 0x00c1,
    LXB_CSS_VALUE_VIOLET               = 0x00c2,
    LXB_CSS_VALUE_WHEAT                = 0x00c3,
    LXB_CSS_VALUE_WHITE                = 0x00c4,
    LXB_CSS_VALUE_WHITESMOKE           = 0x00c5,
    LXB_CSS_VALUE_YELLOW               = 0x00c6,
    LXB_CSS_VALUE_YELLOWGREEN          = 0x00c7,
    LXB_CSS_VALUE_CANVAS               = 0x00c8,
    LXB_CSS_VALUE_CANVASTEXT           = 0x00c9,
    LXB_CSS_VALUE_LINKTEXT             = 0x00ca,
    LXB_CSS_VALUE_VISITEDTEXT          = 0x00cb,
    LXB_CSS_VALUE_ACTIVETEXT           = 0x00cc,
    LXB_CSS_VALUE_BUTTONFACE           = 0x00cd,
    LXB_CSS_VALUE_BUTTONTEXT           = 0x00ce,
    LXB_CSS_VALUE_BUTTONBORDER         = 0x00cf,
    LXB_CSS_VALUE_FIELD                = 0x00d0,
    LXB_CSS_VALUE_FIELDTEXT            = 0x00d1,
    LXB_CSS_VALUE_HIGHLIGHT            = 0x00d2,
    LXB_CSS_VALUE_HIGHLIGHTTEXT        = 0x00d3,
    LXB_CSS_VALUE_SELECTEDITEM         = 0x00d4,
    LXB_CSS_VALUE_SELECTEDITEMTEXT     = 0x00d5,
    LXB_CSS_VALUE_MARK                 = 0x00d6,
    LXB_CSS_VALUE_MARKTEXT             = 0x00d7,
    LXB_CSS_VALUE_GRAYTEXT             = 0x00d8,
    LXB_CSS_VALUE_ACCENTCOLOR          = 0x00d9,
    LXB_CSS_VALUE_ACCENTCOLORTEXT      = 0x00da,
    LXB_CSS_VALUE_RGB                  = 0x00db,
    LXB_CSS_VALUE_RGBA                 = 0x00dc,
    LXB_CSS_VALUE_HSL                  = 0x00dd,
    LXB_CSS_VALUE_HSLA                 = 0x00de,
    LXB_CSS_VALUE_HWB                  = 0x00df,
    LXB_CSS_VALUE_LAB                  = 0x00e0,
    LXB_CSS_VALUE_LCH                  = 0x00e1,
    LXB_CSS_VALUE_OKLAB                = 0x00e2,
    LXB_CSS_VALUE_OKLCH                = 0x00e3,
    LXB_CSS_VALUE_COLOR                = 0x00e4,
    LXB_CSS_VALUE_LTR                  = 0x00e5,
    LXB_CSS_VALUE_RTL                  = 0x00e6,
    LXB_CSS_VALUE_BLOCK                = 0x00e7,
    LXB_CSS_VALUE_INLINE               = 0x00e8,
    LXB_CSS_VALUE_RUN_IN               = 0x00e9,
    LXB_CSS_VALUE_FLOW                 = 0x00ea,
    LXB_CSS_VALUE_FLOW_ROOT            = 0x00eb,
    LXB_CSS_VALUE_TABLE                = 0x00ec,
    LXB_CSS_VALUE_FLEX                 = 0x00ed,
    LXB_CSS_VALUE_GRID                 = 0x00ee,
    LXB_CSS_VALUE_RUBY                 = 0x00ef,
    LXB_CSS_VALUE_LIST_ITEM            = 0x00f0,
    LXB_CSS_VALUE_TABLE_ROW_GROUP      = 0x00f1,
    LXB_CSS_VALUE_TABLE_HEADER_GROUP   = 0x00f2,
    LXB_CSS_VALUE_TABLE_FOOTER_GROUP   = 0x00f3,
    LXB_CSS_VALUE_TABLE_ROW            = 0x00f4,
    LXB_CSS_VALUE_TABLE_CELL           = 0x00f5,
    LXB_CSS_VALUE_TABLE_COLUMN_GROUP   = 0x00f6,
    LXB_CSS_VALUE_TABLE_COLUMN         = 0x00f7,
    LXB_CSS_VALUE_TABLE_CAPTION        = 0x00f8,
    LXB_CSS_VALUE_RUBY_BASE            = 0x00f9,
    LXB_CSS_VALUE_RUBY_TEXT            = 0x00fa,
    LXB_CSS_VALUE_RUBY_BASE_CONTAINER  = 0x00fb,
    LXB_CSS_VALUE_RUBY_TEXT_CONTAINER  = 0x00fc,
    LXB_CSS_VALUE_CONTENTS             = 0x00fd,
    LXB_CSS_VALUE_INLINE_BLOCK         = 0x00fe,
    LXB_CSS_VALUE_INLINE_TABLE         = 0x00ff,
    LXB_CSS_VALUE_INLINE_FLEX          = 0x0100,
    LXB_CSS_VALUE_INLINE_GRID          = 0x0101,
    LXB_CSS_VALUE_HANGING              = 0x0102,
    LXB_CSS_VALUE_CONTENT              = 0x0103,
    LXB_CSS_VALUE_ROW                  = 0x0104,
    LXB_CSS_VALUE_ROW_REVERSE          = 0x0105,
    LXB_CSS_VALUE_COLUMN               = 0x0106,
    LXB_CSS_VALUE_COLUMN_REVERSE       = 0x0107,
    LXB_CSS_VALUE__NUMBER              = 0x0108,
    LXB_CSS_VALUE_NOWRAP               = 0x0109,
    LXB_CSS_VALUE_WRAP                 = 0x010a,
    LXB_CSS_VALUE_WRAP_REVERSE         = 0x010b,
    LXB_CSS_VALUE_SNAP_BLOCK           = 0x010c,
    LXB_CSS_VALUE_START                = 0x010d,
    LXB_CSS_VALUE_END                  = 0x010e,
    LXB_CSS_VALUE_NEAR                 = 0x010f,
    LXB_CSS_VALUE_SNAP_INLINE          = 0x0110,
    LXB_CSS_VALUE__INTEGER             = 0x0111,
    LXB_CSS_VALUE_REGION               = 0x0112,
    LXB_CSS_VALUE_PAGE                 = 0x0113,
    LXB_CSS_VALUE_SERIF                = 0x0114,
    LXB_CSS_VALUE_SANS_SERIF           = 0x0115,
    LXB_CSS_VALUE_CURSIVE              = 0x0116,
    LXB_CSS_VALUE_FANTASY              = 0x0117,
    LXB_CSS_VALUE_MONOSPACE            = 0x0118,
    LXB_CSS_VALUE_SYSTEM_UI            = 0x0119,
    LXB_CSS_VALUE_EMOJI                = 0x011a,
    LXB_CSS_VALUE_MATH                 = 0x011b,
    LXB_CSS_VALUE_FANGSONG             = 0x011c,
    LXB_CSS_VALUE_UI_SERIF             = 0x011d,
    LXB_CSS_VALUE_UI_SANS_SERIF        = 0x011e,
    LXB_CSS_VALUE_UI_MONOSPACE         = 0x011f,
    LXB_CSS_VALUE_UI_ROUNDED           = 0x0120,
    LXB_CSS_VALUE_XX_SMALL             = 0x0121,
    LXB_CSS_VALUE_X_SMALL              = 0x0122,
    LXB_CSS_VALUE_SMALL                = 0x0123,
    LXB_CSS_VALUE_LARGE                = 0x0124,
    LXB_CSS_VALUE_X_LARGE              = 0x0125,
    LXB_CSS_VALUE_XX_LARGE             = 0x0126,
    LXB_CSS_VALUE_XXX_LARGE            = 0x0127,
    LXB_CSS_VALUE_LARGER               = 0x0128,
    LXB_CSS_VALUE_SMALLER              = 0x0129,
    LXB_CSS_VALUE_NORMAL               = 0x012a,
    LXB_CSS_VALUE_ULTRA_CONDENSED      = 0x012b,
    LXB_CSS_VALUE_EXTRA_CONDENSED      = 0x012c,
    LXB_CSS_VALUE_CONDENSED            = 0x012d,
    LXB_CSS_VALUE_SEMI_CONDENSED       = 0x012e,
    LXB_CSS_VALUE_SEMI_EXPANDED        = 0x012f,
    LXB_CSS_VALUE_EXPANDED             = 0x0130,
    LXB_CSS_VALUE_EXTRA_EXPANDED       = 0x0131,
    LXB_CSS_VALUE_ULTRA_EXPANDED       = 0x0132,
    LXB_CSS_VALUE_ITALIC               = 0x0133,
    LXB_CSS_VALUE_OBLIQUE              = 0x0134,
    LXB_CSS_VALUE_BOLD                 = 0x0135,
    LXB_CSS_VALUE_BOLDER               = 0x0136,
    LXB_CSS_VALUE_LIGHTER              = 0x0137,
    LXB_CSS_VALUE_FORCE_END            = 0x0138,
    LXB_CSS_VALUE_ALLOW_END            = 0x0139,
    LXB_CSS_VALUE_MIN_CONTENT          = 0x013a,
    LXB_CSS_VALUE_MAX_CONTENT          = 0x013b,
    LXB_CSS_VALUE__ANGLE               = 0x013c,
    LXB_CSS_VALUE_MANUAL               = 0x013d,
    LXB_CSS_VALUE_LOOSE                = 0x013e,
    LXB_CSS_VALUE_STRICT               = 0x013f,
    LXB_CSS_VALUE_ANYWHERE             = 0x0140,
    LXB_CSS_VALUE_VISIBLE              = 0x0141,
    LXB_CSS_VALUE_CLIP                 = 0x0142,
    LXB_CSS_VALUE_SCROLL               = 0x0143,
    LXB_CSS_VALUE_BREAK_WORD           = 0x0144,
    LXB_CSS_VALUE_STATIC               = 0x0145,
    LXB_CSS_VALUE_RELATIVE             = 0x0146,
    LXB_CSS_VALUE_ABSOLUTE             = 0x0147,
    LXB_CSS_VALUE_STICKY               = 0x0148,
    LXB_CSS_VALUE_FIXED                = 0x0149,
    LXB_CSS_VALUE_JUSTIFY              = 0x014a,
    LXB_CSS_VALUE_MATCH_PARENT         = 0x014b,
    LXB_CSS_VALUE_JUSTIFY_ALL          = 0x014c,
    LXB_CSS_VALUE_ALL                  = 0x014d,
    LXB_CSS_VALUE_DIGITS               = 0x014e,
    LXB_CSS_VALUE_UNDERLINE            = 0x014f,
    LXB_CSS_VALUE_OVERLINE             = 0x0150,
    LXB_CSS_VALUE_LINE_THROUGH         = 0x0151,
    LXB_CSS_VALUE_BLINK                = 0x0152,
    LXB_CSS_VALUE_WAVY                 = 0x0153,
    LXB_CSS_VALUE_EACH_LINE            = 0x0154,
    LXB_CSS_VALUE_INTER_WORD           = 0x0155,
    LXB_CSS_VALUE_INTER_CHARACTER      = 0x0156,
    LXB_CSS_VALUE_MIXED                = 0x0157,
    LXB_CSS_VALUE_UPRIGHT              = 0x0158,
    LXB_CSS_VALUE_SIDEWAYS             = 0x0159,
    LXB_CSS_VALUE_ELLIPSIS             = 0x015a,
    LXB_CSS_VALUE_CAPITALIZE           = 0x015b,
    LXB_CSS_VALUE_UPPERCASE            = 0x015c,
    LXB_CSS_VALUE_LOWERCASE            = 0x015d,
    LXB_CSS_VALUE_FULL_WIDTH           = 0x015e,
    LXB_CSS_VALUE_FULL_SIZE_KANA       = 0x015f,
    LXB_CSS_VALUE_EMBED                = 0x0160,
    LXB_CSS_VALUE_ISOLATE              = 0x0161,
    LXB_CSS_VALUE_BIDI_OVERRIDE        = 0x0162,
    LXB_CSS_VALUE_ISOLATE_OVERRIDE     = 0x0163,
    LXB_CSS_VALUE_PLAINTEXT            = 0x0164,
    LXB_CSS_VALUE_COLLAPSE             = 0x0165,
    LXB_CSS_VALUE_PRE                  = 0x0166,
    LXB_CSS_VALUE_PRE_WRAP             = 0x0167,
    LXB_CSS_VALUE_BREAK_SPACES         = 0x0168,
    LXB_CSS_VALUE_PRE_LINE             = 0x0169,
    LXB_CSS_VALUE_KEEP_ALL             = 0x016a,
    LXB_CSS_VALUE_BREAK_ALL            = 0x016b,
    LXB_CSS_VALUE_BOTH                 = 0x016c,
    LXB_CSS_VALUE_MINIMUM              = 0x016d,
    LXB_CSS_VALUE_MAXIMUM              = 0x016e,
    LXB_CSS_VALUE_CLEAR                = 0x016f,
    LXB_CSS_VALUE_HORIZONTAL_TB        = 0x0170,
    LXB_CSS_VALUE_VERTICAL_RL          = 0x0171,
    LXB_CSS_VALUE_VERTICAL_LR          = 0x0172,
    LXB_CSS_VALUE_SIDEWAYS_RL          = 0x0173,
    LXB_CSS_VALUE_SIDEWAYS_LR          = 0x0174,
    LXB_CSS_VALUE__LAST_ENTRY          = 0x0175
};
typedef unsigned int lxb_css_value_type_t;


#endif /* LXB_CSS_VALUE_CONST_H */

/* Header: source/lexbor/css/at_rule/const.h */

#ifndef LXB_CSS_AT_RULE_CONST_H
#define LXB_CSS_AT_RULE_CONST_H


enum {
    LXB_CSS_AT_RULE__UNDEF      = 0x0000,
    LXB_CSS_AT_RULE__CUSTOM     = 0x0001,
    LXB_CSS_AT_RULE_FONT_FACE   = 0x0002,
    LXB_CSS_AT_RULE_MEDIA       = 0x0003,
    LXB_CSS_AT_RULE_NAMESPACE   = 0x0004,
    LXB_CSS_AT_RULE__LAST_ENTRY = 0x0005
};
typedef uintptr_t lxb_css_at_rule_type_t;


#endif /* LXB_CSS_AT_RULE_CONST_H */

/* Header: source/lexbor/css/base.h */

#define LXB_CSS_VERSION_MAJOR 1
#define LXB_CSS_VERSION_MINOR 4
#define LXB_CSS_VERSION_PATCH 0

#define LXB_CSS_VERSION_STRING                                                 \
    LEXBOR_STRINGIZE(LXB_CSS_VERSION_MAJOR) "."                                \
    LEXBOR_STRINGIZE(LXB_CSS_VERSION_MINOR) "."                                \
    LEXBOR_STRINGIZE(LXB_CSS_VERSION_PATCH)


typedef struct lxb_css_memory {
    lexbor_dobject_t *objs;
    lexbor_mraw_t    *mraw;
    lexbor_mraw_t    *tree;

    size_t           ref_count;
}
lxb_css_memory_t;

typedef uint32_t lxb_css_type_t;

typedef struct lxb_css_parser lxb_css_parser_t;
typedef struct lxb_css_parser_state lxb_css_parser_state_t;
typedef struct lxb_css_parser_error lxb_css_parser_error_t;

typedef struct lxb_css_syntax_tokenizer lxb_css_syntax_tokenizer_t;
typedef struct lxb_css_syntax_token lxb_css_syntax_token_t;

/* Callbacks. */

typedef bool
(*lxb_css_parser_state_f)(lxb_css_parser_t *parser,
                          const lxb_css_syntax_token_t *token, void *ctx);

typedef void *
(*lxb_css_style_create_f)(lxb_css_memory_t *memory);

typedef lxb_status_t
(*lxb_css_style_serialize_f)(const void *style, lexbor_serialize_cb_f cb,
                             void *ctx);

typedef void *
(*lxb_css_style_destroy_f)(lxb_css_memory_t *memory,
                           void *style, bool self_destroy);

/* StyleSheet tree structures. */

typedef struct lxb_css_stylesheet lxb_css_stylesheet_t;
typedef struct lxb_css_rule_list lxb_css_rule_list_t;
typedef struct lxb_css_rule_style lxb_css_rule_style_t;
typedef struct lxb_css_rule_bad_style lxb_css_rule_bad_style_t;
typedef struct lxb_css_rule_declaration_list lxb_css_rule_declaration_list_t;
typedef struct lxb_css_rule_declaration lxb_css_rule_declaration_t;
typedef struct lxb_css_rule_at lxb_css_rule_at_t;

typedef struct {
    lxb_char_t                *name;
    size_t                    length;
    uintptr_t                 unique;
    lxb_css_parser_state_f    state;
    lxb_css_style_create_f    create;
    lxb_css_style_destroy_f   destroy;
    lxb_css_style_serialize_f serialize;
    void                      *initial;
}
lxb_css_entry_data_t;

typedef struct {
    lxb_char_t                        *name;
    size_t                            length;
    uintptr_t                         unique;

    /* const lxb_css_syntax_cb_at_rule_t */
    const void                        *cbs;

    lxb_css_style_create_f            create;
    lxb_css_style_destroy_f           destroy;
    lxb_css_style_serialize_f         serialize;
    void                              *initial;
}
lxb_css_entry_at_rule_data_t;

typedef struct {
    lxb_char_t *name;
    size_t     length;
    uintptr_t  unique;
}
lxb_css_data_t;


LXB_API lxb_css_memory_t *
lxb_css_memory_create(void);

LXB_API lxb_status_t
lxb_css_memory_init(lxb_css_memory_t *memory, size_t prepare_count);

LXB_API void
lxb_css_memory_clean(lxb_css_memory_t *memory);

LXB_API lxb_css_memory_t *
lxb_css_memory_destroy(lxb_css_memory_t *memory, bool self_destroy);

LXB_API lxb_css_memory_t *
lxb_css_memory_ref_inc(lxb_css_memory_t *memory);

LXB_API void
lxb_css_memory_ref_dec(lxb_css_memory_t *memory);

LXB_API lxb_css_memory_t *
lxb_css_memory_ref_dec_destroy(lxb_css_memory_t *memory);

/* Header: source/lexbor/css/syntax/base.h */

#define LXB_CSS_SYNTAX_VERSION_MAJOR 1
#define LXB_CSS_SYNTAX_VERSION_MINOR 4
#define LXB_CSS_SYNTAX_VERSION_PATCH 0

#define LXB_CSS_SYNTAX_VERSION_STRING                                          \
    LEXBOR_STRINGIZE(LXB_CSS_SYNTAX_VERSION_MAJOR) "."                         \
    LEXBOR_STRINGIZE(LXB_CSS_SYNTAX_VERSION_MINOR) "."                         \
    LEXBOR_STRINGIZE(LXB_CSS_SYNTAX_VERSION_PATCH)

/* Header: source/lexbor/css/log.h */

typedef enum {
    LXB_CSS_LOG_INFO = 0,
    LXB_CSS_LOG_WARNING,
    LXB_CSS_LOG_ERROR,
    LXB_CSS_LOG_SYNTAX_ERROR
}
lxb_css_log_type_t;

typedef struct {
    lexbor_str_t       text;
    lxb_css_log_type_t type;
}
lxb_css_log_message_t;

typedef struct {
    lexbor_array_obj_t messages;
    lexbor_mraw_t      *mraw;
    bool               self_mraw;
}
lxb_css_log_t;


LXB_API lxb_css_log_t *
lxb_css_log_create(void);

LXB_API lxb_status_t
lxb_css_log_init(lxb_css_log_t *log, lexbor_mraw_t *mraw);

LXB_API void
lxb_css_log_clean(lxb_css_log_t *log);

LXB_API lxb_css_log_t *
lxb_css_log_destroy(lxb_css_log_t *log, bool self_destroy);

LXB_API lxb_css_log_message_t *
lxb_css_log_append(lxb_css_log_t *log, lxb_css_log_type_t type,
                   const lxb_char_t *str, size_t length);

LXB_API lxb_css_log_message_t *
lxb_css_log_push(lxb_css_log_t *log, lxb_css_log_type_t type, size_t length);

LXB_API lxb_css_log_message_t *
lxb_css_log_format(lxb_css_log_t *log, lxb_css_log_type_t type,
                   const char *format, ...);

LXB_API lxb_css_log_message_t *
lxb_css_log_not_supported(lxb_css_log_t *log,
                          const char *module_name, const char *description);

LXB_API const lxb_char_t *
lxb_css_log_type_by_id(lxb_css_log_type_t type, size_t *out_length);

LXB_API lxb_status_t
lxb_css_log_serialize(lxb_css_log_t *log, lexbor_serialize_cb_f cb, void *ctx,
                      const lxb_char_t *indent, size_t indent_length);

LXB_API lxb_char_t *
lxb_css_log_serialize_char(lxb_css_log_t *log, size_t *out_length,
                           const lxb_char_t *indent, size_t indent_length);

LXB_API lxb_status_t
lxb_css_log_message_serialize(lxb_css_log_message_t *msg,
                              lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_char_t *
lxb_css_log_message_serialize_char(lxb_css_log_message_t *msg,
                                   size_t *out_length);


/*
 * Inline functions
 */
lxb_inline size_t
lxb_css_log_length(lxb_css_log_t *log)
{
    return lexbor_array_obj_length(&log->messages);
}

/* Header: source/lexbor/css/syntax/token.h */

#define lxb_css_syntax_token_base(token) ((lxb_css_syntax_token_base_t *) (token))
#define lxb_css_syntax_token_ident(token) ((lxb_css_syntax_token_ident_t *) (token))
#define lxb_css_syntax_token_function(token) ((lxb_css_syntax_token_function_t *) (token))
#define lxb_css_syntax_token_at_keyword(token) ((lxb_css_syntax_token_at_keyword_t *) (token))
#define lxb_css_syntax_token_hash(token) ((lxb_css_syntax_token_hash_t *) (token))
#define lxb_css_syntax_token_string(token) ((lxb_css_syntax_token_string_t *) (token))
#define lxb_css_syntax_token_bad_string(token) ((lxb_css_syntax_token_bad_string_t *) (token))
#define lxb_css_syntax_token_url(token) ((lxb_css_syntax_token_url_t *) (token))
#define lxb_css_syntax_token_bad_url(token) ((lxb_css_syntax_token_bad_url_t *) (token))
#define lxb_css_syntax_token_delim(token) ((lxb_css_syntax_token_delim_t *) (token))
#define lxb_css_syntax_token_delim_char(token) (((lxb_css_syntax_token_delim_t *) (token))->character)
#define lxb_css_syntax_token_unicode_range(token) ((lxb_css_syntax_token_unicode_range_t *) (token))
#define lxb_css_syntax_token_number(token) ((lxb_css_syntax_token_number_t *) (token))
#define lxb_css_syntax_token_percentage(token) ((lxb_css_syntax_token_percentage_t *) (token))
#define lxb_css_syntax_token_dimension(token) ((lxb_css_syntax_token_dimension_t *) (token))
#define lxb_css_syntax_token_dimension_string(token) (&((lxb_css_syntax_token_dimension_t *) (token))->str)
#define lxb_css_syntax_token_whitespace(token) ((lxb_css_syntax_token_whitespace_t *) (token))
#define lxb_css_syntax_token_cdo(token) ((lxb_css_syntax_token_cdo_t *) (token))
#define lxb_css_syntax_token_cdc(token) ((lxb_css_syntax_token_cdc_t *) (token))
#define lxb_css_syntax_token_colon(token) ((lxb_css_syntax_token_colon_t *) (token))
#define lxb_css_syntax_token_semicolon(token) ((lxb_css_syntax_token_semicolon_t *) (token))
#define lxb_css_syntax_token_comma(token) ((lxb_css_syntax_token_comma_t *) (token))
#define lxb_css_syntax_token_ls_bracket(token) ((lxb_css_syntax_token_ls_bracket_t *) (token))
#define lxb_css_syntax_token_rs_bracket(token) ((lxb_css_syntax_token_rs_bracket_t *) (token))
#define lxb_css_syntax_token_l_parenthesis(token) ((lxb_css_syntax_token_l_parenthesis_t *) (token))
#define lxb_css_syntax_token_r_parenthesis(token) ((lxb_css_syntax_token_r_parenthesis_t *) (token))
#define lxb_css_syntax_token_lc_bracket(token) ((lxb_css_syntax_token_lc_bracket_t *) (token))
#define lxb_css_syntax_token_rc_bracket(token) ((lxb_css_syntax_token_rc_bracket_t *) (token))
#define lxb_css_syntax_token_comment(token) ((lxb_css_syntax_token_comment_t *) (token))


typedef struct lxb_css_syntax_token_data lxb_css_syntax_token_data_t;

typedef const lxb_char_t *
(*lxb_css_syntax_token_data_cb_f)(const lxb_char_t *begin, const lxb_char_t *end,
                                  lexbor_str_t *str, lexbor_mraw_t *mraw,
                                  lxb_css_syntax_token_data_t *td);

typedef lxb_status_t
(*lxb_css_syntax_token_cb_f)(const lxb_char_t *data, size_t len, void *ctx);

struct lxb_css_syntax_token_data {
    lxb_css_syntax_token_data_cb_f cb;
    lxb_status_t                   status;
    int                            count;
    uint32_t                       num;
    bool                           is_last;
};

typedef enum {
    LXB_CSS_SYNTAX_TOKEN_UNDEF = 0x00,

    /* String tokens. */
    LXB_CSS_SYNTAX_TOKEN_IDENT,
    LXB_CSS_SYNTAX_TOKEN_FUNCTION,
    LXB_CSS_SYNTAX_TOKEN_AT_KEYWORD,
    LXB_CSS_SYNTAX_TOKEN_HASH,
    LXB_CSS_SYNTAX_TOKEN_STRING,
    LXB_CSS_SYNTAX_TOKEN_BAD_STRING,
    LXB_CSS_SYNTAX_TOKEN_URL,
    LXB_CSS_SYNTAX_TOKEN_BAD_URL,
    LXB_CSS_SYNTAX_TOKEN_COMMENT,                /* not in specification */
    LXB_CSS_SYNTAX_TOKEN_WHITESPACE,

    /* Has a string. */
    LXB_CSS_SYNTAX_TOKEN_DIMENSION,

    /* Other tokens. */
    LXB_CSS_SYNTAX_TOKEN_DELIM,
    LXB_CSS_SYNTAX_TOKEN_UNICODE_RANGE,
    LXB_CSS_SYNTAX_TOKEN_NUMBER,
    LXB_CSS_SYNTAX_TOKEN_PERCENTAGE,
    LXB_CSS_SYNTAX_TOKEN_CDO,
    LXB_CSS_SYNTAX_TOKEN_CDC,
    LXB_CSS_SYNTAX_TOKEN_COLON,
    LXB_CSS_SYNTAX_TOKEN_SEMICOLON,
    LXB_CSS_SYNTAX_TOKEN_COMMA,
    LXB_CSS_SYNTAX_TOKEN_LS_BRACKET,   /* U+005B LEFT SQUARE BRACKET ([) */
    LXB_CSS_SYNTAX_TOKEN_RS_BRACKET,  /* U+005D RIGHT SQUARE BRACKET (]) */
    LXB_CSS_SYNTAX_TOKEN_L_PARENTHESIS,   /* U+0028 LEFT PARENTHESIS (() */
    LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS,  /* U+0029 RIGHT PARENTHESIS ()) */
    LXB_CSS_SYNTAX_TOKEN_LC_BRACKET,    /* U+007B LEFT CURLY BRACKET ({) */
    LXB_CSS_SYNTAX_TOKEN_RC_BRACKET,   /* U+007D RIGHT CURLY BRACKET (}) */
    LXB_CSS_SYNTAX_TOKEN__EOF,
    LXB_CSS_SYNTAX_TOKEN__TERMINATED,  /* Deprecated, use LXB_CSS_SYNTAX_TOKEN__END. */
    LXB_CSS_SYNTAX_TOKEN__END = LXB_CSS_SYNTAX_TOKEN__TERMINATED,
    LXB_CSS_SYNTAX_TOKEN__LAST_ENTRY
}
lxb_css_syntax_token_type_t;

typedef struct lxb_css_syntax_token_base {
    const lxb_char_t            *begin;
    size_t                      length;

    uintptr_t                   user_id;
}
lxb_css_syntax_token_base_t;

typedef struct lxb_css_syntax_token_number {
    lxb_css_syntax_token_base_t base;

    double                      num;
    bool                        is_float;
    bool                        have_sign;
}
lxb_css_syntax_token_number_t;

typedef struct lxb_css_syntax_token_string {
    lxb_css_syntax_token_base_t base;

    const lxb_char_t            *data;
    size_t                      length;
}
lxb_css_syntax_token_string_t;

typedef struct lxb_css_syntax_token_dimension {
    lxb_css_syntax_token_number_t num;
    lxb_css_syntax_token_string_t str;
}
lxb_css_syntax_token_dimension_t;

typedef struct lxb_css_syntax_token_delim {
    lxb_css_syntax_token_base_t base;
    lxb_codepoint_t             character;
}
lxb_css_syntax_token_delim_t;

typedef struct lxb_css_syntax_token_unicode_range {
    lxb_css_syntax_token_base_t base;
    lxb_codepoint_t             start;
    lxb_codepoint_t             end;
}
lxb_css_syntax_token_unicode_range_t;

typedef lxb_css_syntax_token_string_t lxb_css_syntax_token_ident_t;
typedef lxb_css_syntax_token_string_t lxb_css_syntax_token_function_t;
typedef lxb_css_syntax_token_string_t lxb_css_syntax_token_at_keyword_t;
typedef lxb_css_syntax_token_string_t lxb_css_syntax_token_hash_t;
typedef lxb_css_syntax_token_string_t lxb_css_syntax_token_bad_string_t;
typedef lxb_css_syntax_token_string_t lxb_css_syntax_token_url_t;
typedef lxb_css_syntax_token_string_t lxb_css_syntax_token_bad_url_t;
typedef lxb_css_syntax_token_number_t lxb_css_syntax_token_percentage_t;
typedef lxb_css_syntax_token_string_t lxb_css_syntax_token_whitespace_t;
typedef lxb_css_syntax_token_base_t   lxb_css_syntax_token_cdo_t;
typedef lxb_css_syntax_token_base_t   lxb_css_syntax_token_cdc_t;
typedef lxb_css_syntax_token_base_t   lxb_css_syntax_token_colon_t;
typedef lxb_css_syntax_token_base_t   lxb_css_syntax_token_semicolon_t;
typedef lxb_css_syntax_token_base_t   lxb_css_syntax_token_comma_t;
typedef lxb_css_syntax_token_base_t   lxb_css_syntax_token_ls_bracket_t;
typedef lxb_css_syntax_token_base_t   lxb_css_syntax_token_rs_bracket_t;
typedef lxb_css_syntax_token_base_t   lxb_css_syntax_token_l_parenthesis_t;
typedef lxb_css_syntax_token_base_t   lxb_css_syntax_token_r_parenthesis_t;
typedef lxb_css_syntax_token_base_t   lxb_css_syntax_token_lc_bracket_t;
typedef lxb_css_syntax_token_base_t   lxb_css_syntax_token_rc_bracket_t;
typedef lxb_css_syntax_token_string_t lxb_css_syntax_token_comment_t;
typedef lxb_css_syntax_token_base_t   lxb_css_syntax_token_terminated_t;

struct lxb_css_syntax_token {
    union lxb_css_syntax_token_u {
        lxb_css_syntax_token_base_t          base;
        lxb_css_syntax_token_comment_t       comment;
        lxb_css_syntax_token_number_t        number;
        lxb_css_syntax_token_dimension_t     dimension;
        lxb_css_syntax_token_percentage_t    percentage;
        lxb_css_syntax_token_hash_t          hash;
        lxb_css_syntax_token_string_t        string;
        lxb_css_syntax_token_bad_string_t    bad_string;
        lxb_css_syntax_token_delim_t         delim;
        lxb_css_syntax_token_unicode_range_t unicode_range;
        lxb_css_syntax_token_l_parenthesis_t lparenthesis;
        lxb_css_syntax_token_r_parenthesis_t rparenthesis;
        lxb_css_syntax_token_cdc_t           cdc;
        lxb_css_syntax_token_function_t      function;
        lxb_css_syntax_token_ident_t         ident;
        lxb_css_syntax_token_url_t           url;
        lxb_css_syntax_token_bad_url_t       bad_url;
        lxb_css_syntax_token_at_keyword_t    at_keyword;
        lxb_css_syntax_token_whitespace_t    whitespace;
        lxb_css_syntax_token_terminated_t    terminated;
    }
    types;

    lxb_css_syntax_token_type_t type;
    uintptr_t                   offset;
    bool                        cloned;

    lxb_css_syntax_token_t      *next;
};


LXB_API lxb_css_syntax_token_t *
lxb_css_syntax_token(lxb_css_syntax_tokenizer_t *tkz);

LXB_API lxb_css_syntax_token_t *
lxb_css_syntax_token_next(lxb_css_syntax_tokenizer_t *tkz);

LXB_API void
lxb_css_syntax_token_consume(lxb_css_syntax_tokenizer_t *tkz);

LXB_API void
lxb_css_syntax_token_consume_n(lxb_css_syntax_tokenizer_t *tkz, unsigned count);

LXB_API lxb_status_t
lxb_css_syntax_token_string_dup(lxb_css_syntax_token_string_t *token,
                                lexbor_str_t *str, lexbor_mraw_t *mraw);

LXB_API lxb_status_t
lxb_css_syntax_token_string_make(lxb_css_syntax_tokenizer_t *tkz,
                                 lxb_css_syntax_token_t *token);

LXB_API void
lxb_css_syntax_token_string_free(lxb_css_syntax_tokenizer_t *tkz,
                                 lxb_css_syntax_token_t *token);

LXB_API const lxb_char_t *
lxb_css_syntax_token_type_name_by_id(lxb_css_syntax_token_type_t type);

LXB_API lxb_css_syntax_token_type_t
lxb_css_syntax_token_type_id_by_name(const lxb_char_t *type_name, size_t len);

LXB_API lxb_status_t
lxb_css_syntax_token_serialize(const lxb_css_syntax_token_t *token,
                               lxb_css_syntax_token_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_syntax_token_serialize_str(const lxb_css_syntax_token_t *token,
                                   lexbor_str_t *str, lexbor_mraw_t *mraw);

LXB_API lxb_char_t *
lxb_css_syntax_token_serialize_char(const lxb_css_syntax_token_t *token,
                                    size_t *out_length);

LXB_API lxb_css_log_message_t *
lxb_css_syntax_token_error(lxb_css_parser_t *parser,
                           const lxb_css_syntax_token_t *token,
                           const char *module_name);

/*
 * Inline functions
 */
lxb_inline lxb_css_syntax_token_t *
lxb_css_syntax_token_create(lexbor_dobject_t *dobj)
{
    return (lxb_css_syntax_token_t *) lexbor_dobject_calloc(dobj);
}

lxb_inline void
lxb_css_syntax_token_clean(lxb_css_syntax_token_t *token)
{
    memset(token, 0, sizeof(lxb_css_syntax_token_t));
}

lxb_inline lxb_css_syntax_token_t *
lxb_css_syntax_token_destroy(lxb_css_syntax_token_t *token,
                             lexbor_dobject_t *dobj)
{
    return (lxb_css_syntax_token_t *) lexbor_dobject_free(dobj, token);
}

lxb_inline const lxb_char_t *
lxb_css_syntax_token_type_name(const lxb_css_syntax_token_t *token)
{
    return lxb_css_syntax_token_type_name_by_id(token->type);
}

lxb_inline lxb_css_syntax_token_type_t
lxb_css_syntax_token_type(const lxb_css_syntax_token_t *token)
{
    return token->type;
}

lxb_inline lxb_css_syntax_token_t *
lxb_css_syntax_token_wo_ws(lxb_css_syntax_tokenizer_t *tkz)
{
    lxb_css_syntax_token_t *token;

    token = lxb_css_syntax_token(tkz);
    if (token == NULL) {
        return NULL;
    }

    if (token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {
        lxb_css_syntax_token_consume(tkz);
        token = lxb_css_syntax_token(tkz);
    }

    return token;
}

/*
 * No inline functions for ABI.
 */
LXB_API lxb_css_syntax_token_t *
lxb_css_syntax_token_create_noi(lexbor_dobject_t *dobj);

LXB_API void
lxb_css_syntax_token_clean_noi(lxb_css_syntax_token_t *token);

LXB_API lxb_css_syntax_token_t *
lxb_css_syntax_token_destroy_noi(lxb_css_syntax_token_t *token,
                                 lexbor_dobject_t *dobj);

LXB_API const lxb_char_t *
lxb_css_syntax_token_type_name_noi(lxb_css_syntax_token_t *token);

LXB_API lxb_css_syntax_token_type_t
lxb_css_syntax_token_type_noi(lxb_css_syntax_token_t *token);

/* Header: source/lexbor/css/syntax/tokenizer.h */

typedef const lxb_char_t *
(*lxb_css_syntax_tokenizer_state_f)(lxb_css_syntax_tokenizer_t *tkz,
                                 lxb_css_syntax_token_t *token,
                                 const lxb_char_t *data, const lxb_char_t *end);

enum lxb_css_syntax_tokenizer_opt {
    LXB_CSS_SYNTAX_TOKENIZER_OPT_UNDEF = 0x00,
};

struct lxb_css_syntax_tokenizer {
    lexbor_dobject_t                   *tokens;
    lexbor_array_obj_t                 *parse_errors;
    lexbor_mraw_t                      *mraw;

    lxb_css_syntax_token_t             *first;
    lxb_css_syntax_token_t             *last;

    const lxb_char_t                   *in_begin;
    const lxb_char_t                   *in_end;
    const lxb_char_t                   *in_p;

    /* Temp */
    lxb_char_t                         *start;
    lxb_char_t                         *pos;
    const lxb_char_t                   *end;

    size_t                             offset;

    /* Process */
    unsigned int                       opt;             /* bitmap */
    lxb_status_t                       status;
    bool                               with_comment;
    bool                               with_unicode_range;
};


LXB_API lxb_css_syntax_tokenizer_t *
lxb_css_syntax_tokenizer_create(void);

LXB_API lxb_status_t
lxb_css_syntax_tokenizer_init(lxb_css_syntax_tokenizer_t *tkz);

LXB_API lxb_status_t
lxb_css_syntax_tokenizer_clean(lxb_css_syntax_tokenizer_t *tkz);

LXB_API lxb_css_syntax_tokenizer_t *
lxb_css_syntax_tokenizer_destroy(lxb_css_syntax_tokenizer_t *tkz);

LXB_API lxb_status_t
lxb_css_syntax_tokenizer_next_chunk(lxb_css_syntax_tokenizer_t *tkz,
                                    const lxb_char_t **data, const lxb_char_t **end);

LXB_API bool
lxb_css_syntax_tokenizer_lookup_colon(lxb_css_syntax_tokenizer_t *tkz);

LXB_API bool
lxb_css_syntax_tokenizer_lookup_important(lxb_css_syntax_tokenizer_t *tkz,
                                          lxb_css_syntax_token_type_t stop,
                                          const lxb_char_t stop_ch);

LXB_API bool
lxb_css_syntax_tokenizer_lookup_declaration_ws_end(lxb_css_syntax_tokenizer_t *tkz,
                                                   lxb_css_syntax_token_type_t stop,
                                                   const lxb_char_t stop_ch);

/*
 * Inline functions
 */
lxb_inline lxb_status_t
lxb_css_syntax_tokenizer_status(lxb_css_syntax_tokenizer_t *tkz)
{
    return tkz->status;
}

lxb_inline void
lxb_css_syntax_tokenizer_buffer_set(lxb_css_syntax_tokenizer_t *tkz,
                                    const lxb_char_t *data, size_t size)
{
    tkz->in_begin = data;
    tkz->in_p = data;
    tkz->in_end = data + size;
}

lxb_inline void
lxb_css_syntax_tokenizer_with_unicode_range(lxb_css_syntax_tokenizer_t *tkz,
                                            bool with_range)
{
    tkz->with_unicode_range = with_range;
}


/*
 * No inline functions for ABI.
 */
LXB_API lxb_status_t
lxb_css_syntax_tokenizer_status_noi(lxb_css_syntax_tokenizer_t *tkz);

/* Header: source/lexbor/css/syntax/syntax.h */

typedef struct lxb_css_syntax_rule lxb_css_syntax_rule_t;

typedef const lxb_css_syntax_token_t *
(*lxb_css_syntax_state_f)(lxb_css_parser_t *parser,
                          const lxb_css_syntax_token_t *token,
                          lxb_css_syntax_rule_t *rule);


typedef struct lxb_css_syntax_cb_base lxb_css_syntax_cb_base_t;
typedef struct lxb_css_syntax_cb_list_rules lxb_css_syntax_cb_list_rules_t;
typedef struct lxb_css_syntax_cb_at_rule lxb_css_syntax_cb_at_rule_t;
typedef struct lxb_css_syntax_cb_qualified_rule lxb_css_syntax_cb_qualified_rule_t;
typedef struct lxb_css_syntax_cb_block lxb_css_syntax_cb_block_t;
typedef struct lxb_css_syntax_cb_declarations lxb_css_syntax_cb_declarations_t;
typedef struct lxb_css_syntax_cb_function lxb_css_syntax_cb_function_t;
typedef struct lxb_css_syntax_cb_components lxb_css_syntax_cb_components_t;
typedef struct lxb_css_syntax_cb_pipe lxb_css_syntax_cb_pipe_t;

typedef struct lxb_css_syntax_declaration_offset lxb_css_syntax_declaration_offset_t;

typedef lxb_status_t
(*lxb_css_syntax_cb_done_f)(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token,
                            void *ctx, bool failed);

typedef const lxb_css_syntax_cb_at_rule_t *
(*lxb_css_syntax_begin_at_rule_f)(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  void *ctx, void **out_rule);

typedef const lxb_css_syntax_cb_qualified_rule_t *
(*lxb_css_syntax_begin_qualified_rule_f)(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx, void **out_rule);

typedef const lxb_css_syntax_cb_block_t *
(*lxb_css_syntax_begin_block_f)(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token,
                                void *ctx, void **out_rule);

typedef const lxb_css_syntax_cb_declarations_t *
(*lxb_css_syntax_begin_declarations_f)(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token,
                                       void *ctx, void **out_rule);
typedef lxb_css_parser_state_f
(*lxb_css_syntax_declaration_name_f)(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx, void **out_rule);
typedef lxb_status_t
(*lxb_css_syntax_declaration_end_f)(lxb_css_parser_t *parser,
                                    void *declaration, void *ctx,
                                    const lxb_css_syntax_token_t *token,
                                    lxb_css_syntax_declaration_offset_t *offset,
                                    bool important, bool failed);

struct lxb_css_syntax_cb_base {
    lxb_css_parser_state_f   failed;
    lxb_css_syntax_cb_done_f end;
};

struct lxb_css_syntax_cb_list_rules {
    lxb_css_syntax_cb_base_t              cb;
    lxb_css_parser_state_f                next;
    lxb_css_syntax_begin_at_rule_f        at_rule;
    lxb_css_syntax_begin_qualified_rule_f qualified_rule;
};

struct lxb_css_syntax_cb_at_rule {
    lxb_css_syntax_cb_base_t     cb;
    lxb_css_parser_state_f       prelude;
    lxb_css_syntax_cb_done_f     prelude_end;
    lxb_css_syntax_begin_block_f block;
};

struct lxb_css_syntax_cb_qualified_rule {
    lxb_css_syntax_cb_base_t     cb;
    lxb_css_parser_state_f       prelude;
    lxb_css_syntax_cb_done_f     prelude_end;
    lxb_css_syntax_begin_block_f block;
};

struct lxb_css_syntax_cb_block {
    lxb_css_syntax_cb_base_t              cb;
    lxb_css_parser_state_f                next;
    lxb_css_syntax_begin_at_rule_f        at_rule;
    lxb_css_syntax_begin_declarations_f   declarations;
    lxb_css_syntax_begin_qualified_rule_f qualified_rule;
};

struct lxb_css_syntax_cb_declarations {
    lxb_css_syntax_cb_base_t          cb;
    lxb_css_syntax_declaration_name_f name;
    lxb_css_syntax_declaration_end_f  end;
};

struct lxb_css_syntax_cb_function {
    lxb_css_syntax_cb_base_t cb;
    lxb_css_parser_state_f   value;
};

struct lxb_css_syntax_cb_components {
    lxb_css_syntax_cb_base_t cb;
    lxb_css_parser_state_f   prelude;
};

struct lxb_css_syntax_cb_pipe {
    lxb_css_syntax_cb_base_t cb;
    lxb_css_parser_state_f   prelude;
};

struct lxb_css_syntax_declaration_offset {
    size_t value_begin;
    size_t value_end;
    size_t important_begin;
    size_t important_end;
    size_t end;
};

struct lxb_css_syntax_rule {
    lxb_css_syntax_state_f       phase;
    lxb_css_parser_state_f       state;

    /*
     * This callback will be called before rule->state is called.
     * Exclusively from the lxb_css_parser_run(...).
     */
    lxb_css_syntax_state_f       back;
    lxb_css_parser_state_f       back_state;
    void                         *context;
    void                         *context_old;
    void                         *returned;

    union {
        const lxb_css_syntax_cb_base_t           *cb;
        const lxb_css_syntax_cb_list_rules_t     *list_rules;
        const lxb_css_syntax_cb_at_rule_t        *at_rule;
        const lxb_css_syntax_cb_qualified_rule_t *qualified_rule;
        const lxb_css_syntax_cb_components_t     *components;
        const lxb_css_syntax_cb_declarations_t   *declarations;
        const lxb_css_syntax_cb_function_t       *func;
        const lxb_css_syntax_cb_block_t          *block;
        const lxb_css_syntax_cb_pipe_t           *pipe;
        void                                     *user;
    } cbx;

    size_t                       offset;
    size_t                       deep;
    size_t                       begin;
    lxb_css_syntax_token_type_t  block_end;
    bool                         nested;
    bool                         skip_consume;
    bool                         important;
    bool                         failed;
};


LXB_API lxb_css_rule_list_t *
lxb_css_syntax_parse_list_rules(lxb_css_parser_t *parser,
                                const lxb_css_syntax_cb_list_rules_t *cb,
                                const lxb_char_t *data, size_t length);

LXB_API lxb_css_rule_declaration_list_t *
lxb_css_syntax_parse_declarations(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_cb_declarations_t *cb,
                                  const lxb_char_t *data, size_t length);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_consume_list_rules(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_cb_list_rules_t *list_rules,
                                  lxb_css_parser_state_f back,
                                  void *ctx, lxb_css_syntax_token_type_t stop);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_consume_at_rule(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               const lxb_css_syntax_cb_at_rule_t *at_rule,
                               lxb_css_parser_state_f back,
                               void *ctx, lxb_css_syntax_token_type_t stop);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_consume_qualified_rule(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      const lxb_css_syntax_cb_qualified_rule_t *qualified,
                                      lxb_css_parser_state_f back,
                                      void *ctx, lxb_css_syntax_token_type_t stop);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_consume_block(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token,
                             const lxb_css_syntax_cb_block_t *block,
                             lxb_css_parser_state_f back, void *ctx);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_consume_declarations(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token,
                                    const lxb_css_syntax_cb_declarations_t *declr,
                                    lxb_css_parser_state_f back, void *ctx,
                                    lxb_css_syntax_token_type_t stop);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_consume_components(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  const lxb_css_syntax_cb_components_t *comp,
                                  lxb_css_parser_state_f back,
                                  void *ctx, lxb_css_syntax_token_type_t stop);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_consume_function(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token,
                                const lxb_css_syntax_cb_function_t *func,
                                lxb_css_parser_state_f back, void *ctx);


LXB_API lxb_status_t
lxb_css_syntax_stack_expand(lxb_css_parser_t *parser, size_t count);

LXB_API void
lxb_css_syntax_codepoint_to_ascii(lxb_css_syntax_tokenizer_t *tkz,
                                  lxb_codepoint_t cp);

LXB_API lxb_status_t
lxb_css_syntax_ident_serialize(const lxb_char_t *data, size_t length,
                               lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_syntax_string_serialize(const lxb_char_t *data, size_t length,
                                lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_syntax_ident_or_string_serialize(const lxb_char_t *data, size_t length,
                                         lexbor_serialize_cb_f cb, void *ctx);

/* Header: source/lexbor/css/at_rule.h */

#ifndef LXB_CSS_AT_RULE_H
#define LXB_CSS_AT_RULE_H


typedef struct {
    lxb_css_at_rule_type_t type;
    lexbor_str_t           prelude;
    lxb_css_rule_list_t    *block;
}
lxb_css_at_rule__undef_t;

typedef struct {
    lexbor_str_t        name;
    lexbor_str_t        prelude;
    lxb_css_rule_list_t *block;
}
lxb_css_at_rule__custom_t;

typedef struct {
    lxb_css_rule_list_t *block;
}
lxb_css_at_rule_media_t;

typedef struct {
    uintptr_t reserved;
}
lxb_css_at_rule_namespace_t;

typedef struct {
    lxb_css_rule_list_t *block;
}
lxb_css_at_rule_font_face_t;


LXB_API const lxb_css_entry_at_rule_data_t *
lxb_css_at_rule_by_name(const lxb_char_t *name, size_t length);

LXB_API const lxb_css_entry_at_rule_data_t *
lxb_css_at_rule_by_id(uintptr_t id);

LXB_API lxb_css_rule_at_t *
lxb_css_at_rule_create(lxb_css_parser_t *parser,
                       const lxb_char_t *name, size_t length,
                       const lxb_css_entry_at_rule_data_t **out_entry);

LXB_API void *
lxb_css_at_rule_destroy(lxb_css_memory_t *memory, void *value,
                        lxb_css_at_rule_type_t type, bool self_destroy);

LXB_API lxb_status_t
lxb_css_at_rule_convert_to_undef(lxb_css_parser_t *parser,
                                 lxb_css_rule_at_t *at);

LXB_API lxb_status_t
lxb_css_at_rule_serialize(const void *style, lxb_css_at_rule_type_t type,
                          lexbor_serialize_cb_f cb, void *ctx);
LXB_API lxb_status_t
lxb_css_at_rule_serialize_str(const void *style, lxb_css_at_rule_type_t type,
                              lexbor_mraw_t *mraw, lexbor_str_t *str);
LXB_API lxb_status_t
lxb_css_at_rule_serialize_name(const void *style, lxb_css_at_rule_type_t type,
                               lexbor_serialize_cb_f cb, void *ctx);
LXB_API lxb_status_t
lxb_css_at_rule_serialize_name_str(const void *style, lxb_css_at_rule_type_t type,
                                   lexbor_mraw_t *mraw, lexbor_str_t *str);

/* _undef. */

LXB_API void *
lxb_css_at_rule__undef_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_at_rule__undef_destroy(lxb_css_memory_t *memory,
                               void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_at_rule__undef_serialize(const void *style, lexbor_serialize_cb_f cb,
                                 void *ctx);
LXB_API lxb_status_t
lxb_css_at_rule__undef_serialize_name(const void *at, lexbor_serialize_cb_f cb,
                                      void *ctx);

/* _custom. */

LXB_API void *
lxb_css_at_rule__custom_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_at_rule__custom_destroy(lxb_css_memory_t *memory,
                                void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_at_rule__custom_serialize(const void *style, lexbor_serialize_cb_f cb,
                                  void *ctx);
LXB_API lxb_status_t
lxb_css_at_rule__custom_serialize_name(const void *at, lexbor_serialize_cb_f cb,
                                       void *ctx);

/* Media. */

LXB_API void *
lxb_css_at_rule_media_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_at_rule_media_destroy(lxb_css_memory_t *memory,
                              void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_at_rule_media_serialize(const void *style, lexbor_serialize_cb_f cb,
                                void *ctx);

/* Namespace. */

LXB_API void *
lxb_css_at_rule_namespace_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_at_rule_namespace_destroy(lxb_css_memory_t *memory,
                                  void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_at_rule_namespace_serialize(const void *style, lexbor_serialize_cb_f cb,
                                    void *ctx);

/* Font-face. */

LXB_API void *
lxb_css_at_rule_font_face_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_at_rule_font_face_destroy(lxb_css_memory_t *memory,
                                  void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_at_rule_font_face_serialize(const void *style, lexbor_serialize_cb_f cb,
                                    void *ctx);

#ifdef __cplusplus
} /* extern "C" */
#endif

#endif /* LXB_CSS_AT_RULE_H */

/* Header: source/lexbor/css/at_rule/state.h */

#ifndef LXB_CSS_AT_RULE_STATE_H
#define LXB_CSS_AT_RULE_STATE_H


LXB_API bool
lxb_css_at_rule__undef_prelude(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx);
LXB_API lxb_status_t
lxb_css_at_rule__undef_prelude_end(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token,
                                   void *ctx, bool failed);

LXB_API const lxb_css_syntax_cb_block_t *
lxb_css_at_rule__undef_block(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token,
                             void *ctx, void **out_rule);
LXB_API bool
lxb_css_at_rule__undef_prelude_failed(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      void *ctx);
LXB_API lxb_status_t
lxb_css_at_rule__undef_end(lxb_css_parser_t *parser,
                           const lxb_css_syntax_token_t *token,
                           void *ctx, bool failed);

LXB_API bool
lxb_css_at_rule__custom_prelude(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx);
LXB_API lxb_status_t
lxb_css_at_rule__custom_prelude_end(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token,
                                    void *ctx, bool failed);

LXB_API const lxb_css_syntax_cb_block_t *
lxb_css_at_rule__custom_block(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token,
                              void *ctx, void **out_rule);
LXB_API bool
lxb_css_at_rule__custom_prelude_failed(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token,
                                       void *ctx);
LXB_API lxb_status_t
lxb_css_at_rule__custom_end(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token,
                            void *ctx, bool failed);

LXB_API bool
lxb_css_at_rule_namespace_prelude(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API lxb_status_t
lxb_css_at_rule_namespace_prelude_end(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      void *ctx, bool failed);

LXB_API const lxb_css_syntax_cb_block_t *
lxb_css_at_rule_namespace_block(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token,
                                void *ctx, void **out_rule);
LXB_API bool
lxb_css_at_rule_namespace_prelude_failed(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx);
LXB_API lxb_status_t
lxb_css_at_rule_namespace_end(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token,
                              void *ctx, bool failed);

LXB_API bool
lxb_css_at_rule_media_prelude(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx);
LXB_API lxb_status_t
lxb_css_at_rule_media_prelude_end(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  void *ctx, bool failed);

LXB_API const lxb_css_syntax_cb_block_t *
lxb_css_at_rule_media_block(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token,
                            void *ctx, void **out_rule);
LXB_API bool
lxb_css_at_rule_media_prelude_failed(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx);
LXB_API lxb_status_t
lxb_css_at_rule_media_end(lxb_css_parser_t *parser,
                          const lxb_css_syntax_token_t *token,
                          void *ctx, bool failed);

LXB_API bool
lxb_css_at_rule_font_face_prelude(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  void *ctx);
LXB_API lxb_status_t
lxb_css_at_rule_font_face_prelude_end(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      void *ctx, bool failed);

LXB_API const lxb_css_syntax_cb_block_t *
lxb_css_at_rule_font_face_block(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token,
                                void *ctx, void **out_rule);
LXB_API bool
lxb_css_at_rule_font_face_prelude_failed(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx);
LXB_API lxb_status_t
lxb_css_at_rule_font_face_end(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token,
                              void *ctx, bool failed);


#ifdef __cplusplus
} /* extern "C" */
#endif
#endif /* LXB_CSS_AT_RULE_STATE_H */

/* Header: source/lexbor/css/at_rule/types.h */

#ifndef LXB_CSS_AT_RULE_TYPES_H
#define LXB_CSS_AT_RULE_TYPES_H


static const lxb_css_syntax_cb_at_rule_t lxb_css_at_rule__undef_cb = {
    .prelude = lxb_css_at_rule__undef_prelude,
    .prelude_end = lxb_css_at_rule__undef_prelude_end,
    .block = lxb_css_at_rule__undef_block,
    .cb.failed = lxb_css_at_rule__undef_prelude_failed,
    .cb.end = lxb_css_at_rule__undef_end
};

static const lxb_css_syntax_cb_at_rule_t lxb_css_at_rule__custom_cb = {
    .prelude = lxb_css_at_rule__custom_prelude,
    .prelude_end = lxb_css_at_rule__custom_prelude_end,
    .block = lxb_css_at_rule__custom_block,
    .cb.failed = lxb_css_at_rule__custom_prelude_failed,
    .cb.end = lxb_css_at_rule__custom_end
};

static const lxb_css_syntax_cb_at_rule_t lxb_css_at_rule_font_face_cb = {
    .prelude = lxb_css_at_rule_font_face_prelude,
    .prelude_end = lxb_css_at_rule_font_face_prelude_end,
    .block = lxb_css_at_rule_font_face_block,
    .cb.failed = lxb_css_at_rule_font_face_prelude_failed,
    .cb.end = lxb_css_at_rule_font_face_end
};

static const lxb_css_syntax_cb_at_rule_t lxb_css_at_rule_media_cb = {
    .prelude = lxb_css_at_rule_media_prelude,
    .prelude_end = lxb_css_at_rule_media_prelude_end,
    .block = lxb_css_at_rule_media_block,
    .cb.failed = lxb_css_at_rule_media_prelude_failed,
    .cb.end = lxb_css_at_rule_media_end
};

static const lxb_css_syntax_cb_at_rule_t lxb_css_at_rule_namespace_cb = {
    .prelude = lxb_css_at_rule_namespace_prelude,
    .prelude_end = lxb_css_at_rule_namespace_prelude_end,
    .block = lxb_css_at_rule_namespace_block,
    .cb.failed = lxb_css_at_rule_namespace_prelude_failed,
    .cb.end = lxb_css_at_rule_namespace_end
};


#endif /* LXB_CSS_AT_RULE_TYPES_H */

/* Header: source/lexbor/css/blank.h */

#ifndef LXB_CSS_BLANK_H
#define LXB_CSS_BLANK_H


LXB_API const lxb_css_syntax_cb_list_rules_t *
lxb_css_blank_cb_list_rules(void);

LXB_API const lxb_css_syntax_cb_at_rule_t *
lxb_css_blank_cb_at_rule(void);

LXB_API const lxb_css_syntax_cb_qualified_rule_t *
lxb_css_blank_cb_qualified_rule(void);

LXB_API const lxb_css_syntax_cb_block_t *
lxb_css_blank_cb_block(void);

LXB_API const lxb_css_syntax_cb_declarations_t *
lxb_css_blank_cb_declarations(void);


#ifdef __cplusplus
} /* extern "C" */
#endif
#endif /* LXB_CSS_BLANK_H */

/* Header: source/lexbor/css/declaration.h */

#ifndef LXB_CSS_DECLARATION_H
#define LXB_CSS_DECLARATION_H


LXB_API lxb_css_rule_declaration_t *
lxb_css_declaration_create(lxb_css_parser_t *parser,
                           const lxb_char_t *name, size_t length,
                           const lxb_css_entry_data_t **out_entry);


LXB_API lxb_css_rule_declaration_list_t *
lxb_css_declaration_list_parse(lxb_css_parser_t *parser,
                               const lxb_char_t *data, size_t length);


#ifdef __cplusplus
} /* extern "C" */
#endif
#endif /* LXB_CSS_DECLARATION_H */

/* Header: source/lexbor/css/selectors/base.h */

#define LXB_CSS_SELECTORS_VERSION_MAJOR 1
#define LXB_CSS_SELECTORS_VERSION_MINOR 3
#define LXB_CSS_SELECTORS_VERSION_PATCH 0

#define LXB_CSS_SELECTORS_VERSION_STRING                                       \
    LEXBOR_STRINGIZE(LXB_CSS_SELECTORS_VERSION_MAJOR) "."                      \
    LEXBOR_STRINGIZE(LXB_CSS_SELECTORS_VERSION_MINOR) "."                      \
    LEXBOR_STRINGIZE(LXB_CSS_SELECTORS_VERSION_PATCH)


#define lxb_css_selector_serialize_write(data, length)                        \
    do {                                                                      \
        (status) = cb((lxb_char_t *) (data), (length), (ctx));                \
        if ((status) != LXB_STATUS_OK) {                                      \
            return (status);                                                  \
        }                                                                     \
    }                                                                         \
    while (false)


typedef struct lxb_css_selectors lxb_css_selectors_t;
typedef struct lxb_css_selector lxb_css_selector_t;
typedef struct lxb_css_selector_list lxb_css_selector_list_t;

/* Header: source/lexbor/css/selectors/pseudo_const.h */

#ifndef LXB_CSS_SELECTOS_PSEUDO_CONST_H
#define LXB_CSS_SELECTOS_PSEUDO_CONST_H


typedef enum {
    LXB_CSS_SELECTOR_PSEUDO_CLASS__UNDEF            = 0x0000,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_ACTIVE            = 0x0001,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_ANY_LINK          = 0x0002,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_BLANK             = 0x0003,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_CHECKED           = 0x0004,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_CURRENT           = 0x0005,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_DEFAULT           = 0x0006,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_DISABLED          = 0x0007,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_EMPTY             = 0x0008,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_ENABLED           = 0x0009,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FIRST_CHILD       = 0x000a,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FIRST_OF_TYPE     = 0x000b,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FOCUS             = 0x000c,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FOCUS_VISIBLE     = 0x000d,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FOCUS_WITHIN      = 0x000e,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FULLSCREEN        = 0x000f,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUTURE            = 0x0010,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_HOVER             = 0x0011,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_IN_RANGE          = 0x0012,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_INDETERMINATE     = 0x0013,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_INVALID           = 0x0014,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_LAST_CHILD        = 0x0015,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_LAST_OF_TYPE      = 0x0016,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_LINK              = 0x0017,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_LOCAL_LINK        = 0x0018,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_ONLY_CHILD        = 0x0019,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_ONLY_OF_TYPE      = 0x001a,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_OPTIONAL          = 0x001b,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_OUT_OF_RANGE      = 0x001c,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_PAST              = 0x001d,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_PLACEHOLDER_SHOWN = 0x001e,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_READ_ONLY         = 0x001f,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_READ_WRITE        = 0x0020,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_REQUIRED          = 0x0021,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_ROOT              = 0x0022,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_SCOPE             = 0x0023,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_TARGET            = 0x0024,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_TARGET_WITHIN     = 0x0025,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_USER_INVALID      = 0x0026,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_VALID             = 0x0027,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_VISITED           = 0x0028,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_WARNING           = 0x0029,
    LXB_CSS_SELECTOR_PSEUDO_CLASS__LAST_ENTRY       = 0x002a
}
lxb_css_selector_pseudo_class_id_t;

typedef enum {
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION__UNDEF           = 0x0000,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_CURRENT          = 0x0001,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_DIR              = 0x0002,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_HAS              = 0x0003,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_IS               = 0x0004,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_LANG             = 0x0005,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_LEXBOR_CONTAINS  = 0x0006,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NOT              = 0x0007,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_CHILD        = 0x0008,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_COL          = 0x0009,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_CHILD   = 0x000a,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_COL     = 0x000b,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_OF_TYPE = 0x000c,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_OF_TYPE      = 0x000d,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_WHERE            = 0x000e,
    LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION__LAST_ENTRY      = 0x000f
}
lxb_css_selector_pseudo_class_function_id_t;

typedef enum {
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT__UNDEF             = 0x0000,
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT_AFTER              = 0x0001,
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT_BACKDROP           = 0x0002,
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT_BEFORE             = 0x0003,
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT_FIRST_LETTER       = 0x0004,
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT_FIRST_LINE         = 0x0005,
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT_GRAMMAR_ERROR      = 0x0006,
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT_INACTIVE_SELECTION = 0x0007,
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT_MARKER             = 0x0008,
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT_PLACEHOLDER        = 0x0009,
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT_SELECTION          = 0x000a,
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT_SPELLING_ERROR     = 0x000b,
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT_TARGET_TEXT        = 0x000c,
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT__LAST_ENTRY        = 0x000d
}
lxb_css_selector_pseudo_element_id_t;

typedef enum {
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT_FUNCTION__UNDEF      = 0x0000,
    LXB_CSS_SELECTOR_PSEUDO_ELEMENT_FUNCTION__LAST_ENTRY = 0x0001
}
lxb_css_selector_pseudo_element_function_id_t;


#endif /* LXB_CSS_SELECTOS_PSEUDO_CONST_H */

/* Header: source/lexbor/css/syntax/anb.h */

typedef struct {
    long a;
    long b;
}
lxb_css_syntax_anb_t;


LXB_API lxb_css_syntax_anb_t
lxb_css_syntax_anb_parse(lxb_css_parser_t *parser,
                         const lxb_char_t *data, size_t length);

LXB_API lxb_status_t
lxb_css_syntax_anb_handler(lxb_css_parser_t *parser,
                           const lxb_css_syntax_token_t *token,
                           lxb_css_syntax_anb_t *anb);

LXB_API lxb_status_t
lxb_css_syntax_anb_serialize(lxb_css_syntax_anb_t *anb,
                             lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_char_t *
lxb_css_syntax_anb_serialize_char(lxb_css_syntax_anb_t *anb,
                                  size_t *out_length);

/* Header: source/lexbor/css/selectors/selector.h */

typedef enum {
    LXB_CSS_SELECTOR_TYPE__UNDEF = 0x00,
    LXB_CSS_SELECTOR_TYPE_ANY,
    LXB_CSS_SELECTOR_TYPE_ELEMENT,                 /* div, tag name <div> */
    LXB_CSS_SELECTOR_TYPE_ID,                      /* #hash */
    LXB_CSS_SELECTOR_TYPE_CLASS,                   /* .class */
    LXB_CSS_SELECTOR_TYPE_ATTRIBUTE,               /* [key=val], <... key="val"> */
    LXB_CSS_SELECTOR_TYPE_PSEUDO_CLASS,            /* :pseudo */
    LXB_CSS_SELECTOR_TYPE_PSEUDO_CLASS_FUNCTION,   /* :function(...) */
    LXB_CSS_SELECTOR_TYPE_PSEUDO_ELEMENT,          /* ::pseudo */
    LXB_CSS_SELECTOR_TYPE_PSEUDO_ELEMENT_FUNCTION, /* ::function(...) */
    LXB_CSS_SELECTOR_TYPE__LAST_ENTRY
}
lxb_css_selector_type_t;

typedef enum {
    LXB_CSS_SELECTOR_COMBINATOR_DESCENDANT = 0x00, /* WHITESPACE */
    LXB_CSS_SELECTOR_COMBINATOR_CLOSE,             /* two compound selectors [key=val].foo */
    LXB_CSS_SELECTOR_COMBINATOR_CHILD,             /* '>' */
    LXB_CSS_SELECTOR_COMBINATOR_SIBLING,           /* '+' */
    LXB_CSS_SELECTOR_COMBINATOR_FOLLOWING,         /* '~' */
    LXB_CSS_SELECTOR_COMBINATOR_CELL,              /* '||' */
    LXB_CSS_SELECTOR_COMBINATOR__LAST_ENTRY
}
lxb_css_selector_combinator_t;

typedef enum {
    LXB_CSS_SELECTOR_MATCH_EQUAL = 0x00,  /*  = */
    LXB_CSS_SELECTOR_MATCH_INCLUDE,       /* ~= */
    LXB_CSS_SELECTOR_MATCH_DASH,          /* |= */
    LXB_CSS_SELECTOR_MATCH_PREFIX,        /* ^= */
    LXB_CSS_SELECTOR_MATCH_SUFFIX,        /* $= */
    LXB_CSS_SELECTOR_MATCH_SUBSTRING,     /* *= */
    LXB_CSS_SELECTOR_MATCH__LAST_ENTRY
}
lxb_css_selector_match_t;

typedef enum {
    LXB_CSS_SELECTOR_MODIFIER_UNSET = 0x00,
    LXB_CSS_SELECTOR_MODIFIER_I,
    LXB_CSS_SELECTOR_MODIFIER_S,
    LXB_CSS_SELECTOR_MODIFIER__LAST_ENTRY
}
lxb_css_selector_modifier_t;

typedef struct {
    lxb_css_selector_match_t    match;
    lxb_css_selector_modifier_t modifier;
    lexbor_str_t                value;
}
lxb_css_selector_attribute_t;

typedef struct {
    unsigned type;
    void     *data;
}
lxb_css_selector_pseudo_t;

typedef struct {
    lxb_css_syntax_anb_t          anb;
    lxb_css_selector_list_t       *of;
}
lxb_css_selector_anb_of_t;

typedef struct {
    lexbor_str_t str;
    bool         insensitive;
}
lxb_css_selector_contains_t;

struct lxb_css_selector {
    lxb_css_selector_type_t       type;
    lxb_css_selector_combinator_t combinator;

    lexbor_str_t                  name;
    lexbor_str_t                  ns;

    union lxb_css_selector_u {
        lxb_css_selector_attribute_t attribute;
        lxb_css_selector_pseudo_t    pseudo;
    }
    u;

    lxb_css_selector_t            *next;
    lxb_css_selector_t            *prev;

    lxb_css_selector_list_t       *list;
};


/*
 *   I       S       A       B       C
 * 1 bit | 1 bit | 9 bit | 9 bit | 9 bit
 */
typedef uint32_t lxb_css_selector_specificity_t;

#define LXB_CSS_SELECTOR_SPECIFICITY_MASK_N(sp, n)                            \
    ((sp) & ~((((uint32_t) 1 << 9) - 1) << (n)))

#define LXB_CSS_SELECTOR_SPECIFICITY_MASK                                     \
    ((((uint32_t) 1 << (32 - 9)) - 1) << (9))

#define lxb_css_selector_sp_i(sp)  ((sp) >> 28)

#define lxb_css_selector_sp_s(sp)                                             \
    (((sp) >> 27) & ~((((uint32_t) 1 << 31) - 1) << (1)))

#define lxb_css_selector_sp_a(sp)                                             \
    (((sp) >> 18) & ~LXB_CSS_SELECTOR_SPECIFICITY_MASK)

#define lxb_css_selector_sp_b(sp)                                             \
    (((sp) >> 9) & ~LXB_CSS_SELECTOR_SPECIFICITY_MASK)

#define lxb_css_selector_sp_c(sp)                                             \
    ((sp) & ~LXB_CSS_SELECTOR_SPECIFICITY_MASK)

#define lxb_css_selector_sp_set_i(sp, num)                                    \
    sp = (LXB_CSS_SELECTOR_SPECIFICITY_MASK_N((sp), 28) | ((num) << 28))

#define lxb_css_selector_sp_set_s(sp, num)                                    \
    sp = (LXB_CSS_SELECTOR_SPECIFICITY_MASK_N((sp), 27) | ((num) << 27))

#define lxb_css_selector_sp_set_a(sp, num)                                    \
    sp = (LXB_CSS_SELECTOR_SPECIFICITY_MASK_N((sp), 18) | ((num) << 18))

#define lxb_css_selector_sp_set_b(sp, num)                                    \
    sp = (LXB_CSS_SELECTOR_SPECIFICITY_MASK_N((sp), 9) | ((num) << 9))

#define lxb_css_selector_sp_set_c(sp, num)                                    \
    sp = (LXB_CSS_SELECTOR_SPECIFICITY_MASK_N((sp), 0) | (num))

#define lxb_css_selector_sp_add_s(sp, num)                                   \
    (lxb_css_selector_sp_set_s((sp), lxb_css_selector_sp_s(sp) + num))

#define lxb_css_selector_sp_add_a(sp, num)                                   \
    (lxb_css_selector_sp_set_a((sp), lxb_css_selector_sp_a(sp) + num))

#define lxb_css_selector_sp_add_b(sp, num)                                   \
    (lxb_css_selector_sp_set_b((sp), lxb_css_selector_sp_b(sp) + num))

#define lxb_css_selector_sp_add_c(sp, num)                                   \
    (lxb_css_selector_sp_set_c((sp), lxb_css_selector_sp_c(sp) + num))

#define lxb_css_selector_sp_up_i(num)  (num | (1 << 28))
#define lxb_css_selector_sp_up_s(num)  (num | (1 << 27))

#define LXB_CSS_SELECTOR_SP_S_MAX  ((1 << 28) - 1)
#define LXB_CSS_SELECTOR_SP_A_MAX  ((1 << 27) - 1)
#define LXB_CSS_SELECTOR_SP_B_MAX  ((1 << 18) - 1)
#define LXB_CSS_SELECTOR_SP_C_MAX  ((1 <<  9) - 1)


struct lxb_css_selector_list {
    lxb_css_selector_t             *first;
    lxb_css_selector_t             *last;

    lxb_css_selector_t             *parent;

    lxb_css_selector_list_t        *next;
    lxb_css_selector_list_t        *prev;

    lxb_css_memory_t               *memory;

    lxb_css_selector_specificity_t specificity;
};


LXB_API lxb_css_selector_t *
lxb_css_selector_create(lxb_css_selector_list_t *list);

LXB_API void
lxb_css_selector_destroy(lxb_css_selector_t *selector);

LXB_API void
lxb_css_selector_destroy_chain(lxb_css_selector_t *selector);

LXB_API void
lxb_css_selector_remove(lxb_css_selector_t *selector);

LXB_API lxb_css_selector_list_t *
lxb_css_selector_list_create(lxb_css_memory_t *mem);

LXB_API void
lxb_css_selector_list_remove(lxb_css_selector_list_t *list);

LXB_API void
lxb_css_selector_list_selectors_remove(lxb_css_selectors_t *selectors,
                                       lxb_css_selector_list_t *list);

LXB_API void
lxb_css_selector_list_destroy(lxb_css_selector_list_t *list);

LXB_API void
lxb_css_selector_list_destroy_chain(lxb_css_selector_list_t *list);

LXB_API void
lxb_css_selector_list_destroy_memory(lxb_css_selector_list_t *list);

LXB_API lxb_status_t
lxb_css_selector_serialize(lxb_css_selector_t *selector,
                           lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_selector_serialize_chain(lxb_css_selector_t *selector,
                                 lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_char_t *
lxb_css_selector_serialize_chain_char(lxb_css_selector_t *selector,
                                      size_t *out_length);

LXB_API lxb_status_t
lxb_css_selector_serialize_list(lxb_css_selector_list_t *list,
                                    lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_selector_serialize_list_chain(lxb_css_selector_list_t *list,
                                      lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_char_t *
lxb_css_selector_serialize_list_chain_char(lxb_css_selector_list_t *list,
                                           size_t *out_length);

LXB_API lxb_status_t
lxb_css_selector_serialize_anb_of(lxb_css_selector_anb_of_t *anbof,
                                  lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_char_t *
lxb_css_selector_combinator(lxb_css_selector_t *selector, size_t *out_length);

LXB_API void
lxb_css_selector_list_append(lxb_css_selector_list_t *list,
                             lxb_css_selector_t *selector);

LXB_API void
lxb_css_selector_list_append_next(lxb_css_selector_list_t *dist,
                                  lxb_css_selector_list_t *src);

LXB_API void
lxb_css_selector_append_next(lxb_css_selector_t *dist, lxb_css_selector_t *src);

/* Header: source/lexbor/css/syntax/parser.h */

LXB_API lxb_status_t
lxb_css_syntax_parser_run(lxb_css_parser_t *parser);

LXB_API const lxb_css_syntax_token_t *
lxb_css_syntax_parser_token(lxb_css_parser_t *parser);

LXB_API const lxb_css_syntax_token_t *
lxb_css_syntax_parser_token_wo_ws(lxb_css_parser_t *parser);

LXB_API void
lxb_css_syntax_parser_consume(lxb_css_parser_t *parser);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_parser_list_rules_push(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_cb_list_rules_t *list_rules,
                                      lxb_css_parser_state_f back,
                                      void *ctx, lxb_css_syntax_token_type_t stop);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_parser_at_rule_push(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_cb_at_rule_t *at_rule,
                                   lxb_css_parser_state_f back,
                                   void *ctx, lxb_css_syntax_token_type_t stop,
                                   bool nested);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_parser_qualified_push(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_cb_qualified_rule_t *qualified,
                                     lxb_css_parser_state_f back,
                                     void *ctx, lxb_css_syntax_token_type_t stop,
                                     bool nested);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_parser_block_push(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_cb_block_t *block,
                                 lxb_css_parser_state_f back, void *ctx);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_parser_declarations_push(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_cb_declarations_t *declr,
                                        lxb_css_parser_state_f back, void *ctx,
                                        lxb_css_syntax_token_type_t stop,
                                        bool name_validate, bool nested);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_parser_components_push(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_cb_components_t *comp,
                                      lxb_css_parser_state_f back,
                                      void *ctx, lxb_css_syntax_token_type_t stop);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_parser_function_push(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_cb_function_t *func,
                                    lxb_css_parser_state_f back, void *ctx);

LXB_API lxb_css_syntax_rule_t *
lxb_css_syntax_parser_pipe_push(lxb_css_parser_t *parser,
                                const lxb_css_syntax_cb_pipe_t *pipe,
                                lxb_css_parser_state_f back, void *ctx,
                                lxb_css_syntax_token_type_t stop);

LXB_API const lxb_css_syntax_token_t *
lxb_css_syntax_parser_end(lxb_css_parser_t *parser,
                          const lxb_css_syntax_token_t *token,
                          lxb_css_syntax_rule_t *rule);

LXB_API const lxb_css_syntax_token_t *
lxb_css_syntax_parser_end_consume_token(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        lxb_css_syntax_rule_t *rule);

/* Header: source/lexbor/css/selectors/selectors.h */

struct lxb_css_selectors {
    lxb_css_selector_list_t       *list;
    lxb_css_selector_list_t       *list_last;

    lxb_css_selector_t            *parent;

    lxb_css_selector_combinator_t combinator;
    lxb_css_selector_combinator_t comb_default;

    uintptr_t                     error;
    bool                          status;
    bool                          err_in_function;
    bool                          failed;
};


LXB_API lxb_css_selectors_t *
lxb_css_selectors_create(void);

LXB_API lxb_status_t
lxb_css_selectors_init(lxb_css_selectors_t *selectors);

LXB_API void
lxb_css_selectors_clean(lxb_css_selectors_t *selectors);

LXB_API lxb_css_selectors_t *
lxb_css_selectors_destroy(lxb_css_selectors_t *selectors, bool self_destroy);

LXB_API lxb_css_selector_list_t *
lxb_css_selectors_parse(lxb_css_parser_t *parser,
                        const lxb_char_t *data, size_t length);

LXB_API lxb_css_selector_list_t *
lxb_css_selectors_parse_complex_list(lxb_css_parser_t *parser,
                                     const lxb_char_t *data, size_t length);

LXB_API lxb_css_selector_list_t *
lxb_css_selectors_parse_compound_list(lxb_css_parser_t *parser,
                                      const lxb_char_t *data, size_t length);

LXB_API lxb_css_selector_list_t *
lxb_css_selectors_parse_simple_list(lxb_css_parser_t *parser,
                                    const lxb_char_t *data, size_t length);

LXB_API lxb_css_selector_list_t *
lxb_css_selectors_parse_relative_list(lxb_css_parser_t *parser,
                                      const lxb_char_t *data, size_t length);

LXB_API lxb_css_selector_list_t *
lxb_css_selectors_parse_complex(lxb_css_parser_t *parser,
                                const lxb_char_t *data, size_t length);

LXB_API lxb_css_selector_list_t *
lxb_css_selectors_parse_compound(lxb_css_parser_t *parser,
                                 const lxb_char_t *data, size_t length);

LXB_API lxb_css_selector_list_t *
lxb_css_selectors_parse_simple(lxb_css_parser_t *parser,
                               const lxb_char_t *data, size_t length);

LXB_API lxb_css_selector_list_t *
lxb_css_selectors_parse_relative(lxb_css_parser_t *parser,
                                 const lxb_char_t *data, size_t length);

/*
 * Inline functions
 */
lxb_inline void
lxb_css_selectors_append_next(lxb_css_selectors_t *selectors,
                              lxb_css_selector_t *selector)
{
    if (selectors->list_last->last != NULL) {
        lxb_css_selector_append_next(selectors->list_last->last, selector);
    }
    else {
        selectors->list_last->first = selector;
    }

    selectors->list_last->last = selector;
}

lxb_inline void
lxb_css_selectors_list_append_next(lxb_css_selectors_t *selectors,
                                   lxb_css_selector_list_t *list)
{
    if (selectors->list_last != NULL) {
        lxb_css_selector_list_append_next(selectors->list_last, list);
    }
    else {
        selectors->list = list;
    }

    selectors->list_last = list;
}

/* Header: source/lexbor/css/property/const.h */

#ifndef LXB_CSS_PROPERTY_CONST_H
#define LXB_CSS_PROPERTY_CONST_H


enum {
    LXB_CSS_PROPERTY__UNDEF                = 0x0000,
    LXB_CSS_PROPERTY__CUSTOM               = 0x0001,
    LXB_CSS_PROPERTY_ALIGN_CONTENT         = 0x0002,
    LXB_CSS_PROPERTY_ALIGN_ITEMS           = 0x0003,
    LXB_CSS_PROPERTY_ALIGN_SELF            = 0x0004,
    LXB_CSS_PROPERTY_ALIGNMENT_BASELINE    = 0x0005,
    LXB_CSS_PROPERTY_BACKGROUND_COLOR      = 0x0006,
    LXB_CSS_PROPERTY_BASELINE_SHIFT        = 0x0007,
    LXB_CSS_PROPERTY_BASELINE_SOURCE       = 0x0008,
    LXB_CSS_PROPERTY_BORDER                = 0x0009,
    LXB_CSS_PROPERTY_BORDER_BOTTOM         = 0x000a,
    LXB_CSS_PROPERTY_BORDER_BOTTOM_COLOR   = 0x000b,
    LXB_CSS_PROPERTY_BORDER_LEFT           = 0x000c,
    LXB_CSS_PROPERTY_BORDER_LEFT_COLOR     = 0x000d,
    LXB_CSS_PROPERTY_BORDER_RIGHT          = 0x000e,
    LXB_CSS_PROPERTY_BORDER_RIGHT_COLOR    = 0x000f,
    LXB_CSS_PROPERTY_BORDER_TOP            = 0x0010,
    LXB_CSS_PROPERTY_BORDER_TOP_COLOR      = 0x0011,
    LXB_CSS_PROPERTY_BOTTOM                = 0x0012,
    LXB_CSS_PROPERTY_BOX_SIZING            = 0x0013,
    LXB_CSS_PROPERTY_CLEAR                 = 0x0014,
    LXB_CSS_PROPERTY_COLOR                 = 0x0015,
    LXB_CSS_PROPERTY_DIRECTION             = 0x0016,
    LXB_CSS_PROPERTY_DISPLAY               = 0x0017,
    LXB_CSS_PROPERTY_DOMINANT_BASELINE     = 0x0018,
    LXB_CSS_PROPERTY_FLEX                  = 0x0019,
    LXB_CSS_PROPERTY_FLEX_BASIS            = 0x001a,
    LXB_CSS_PROPERTY_FLEX_DIRECTION        = 0x001b,
    LXB_CSS_PROPERTY_FLEX_FLOW             = 0x001c,
    LXB_CSS_PROPERTY_FLEX_GROW             = 0x001d,
    LXB_CSS_PROPERTY_FLEX_SHRINK           = 0x001e,
    LXB_CSS_PROPERTY_FLEX_WRAP             = 0x001f,
    LXB_CSS_PROPERTY_FLOAT                 = 0x0020,
    LXB_CSS_PROPERTY_FLOAT_DEFER           = 0x0021,
    LXB_CSS_PROPERTY_FLOAT_OFFSET          = 0x0022,
    LXB_CSS_PROPERTY_FLOAT_REFERENCE       = 0x0023,
    LXB_CSS_PROPERTY_FONT_FAMILY           = 0x0024,
    LXB_CSS_PROPERTY_FONT_SIZE             = 0x0025,
    LXB_CSS_PROPERTY_FONT_STRETCH          = 0x0026,
    LXB_CSS_PROPERTY_FONT_STYLE            = 0x0027,
    LXB_CSS_PROPERTY_FONT_WEIGHT           = 0x0028,
    LXB_CSS_PROPERTY_HANGING_PUNCTUATION   = 0x0029,
    LXB_CSS_PROPERTY_HEIGHT                = 0x002a,
    LXB_CSS_PROPERTY_HYPHENS               = 0x002b,
    LXB_CSS_PROPERTY_INSET_BLOCK_END       = 0x002c,
    LXB_CSS_PROPERTY_INSET_BLOCK_START     = 0x002d,
    LXB_CSS_PROPERTY_INSET_INLINE_END      = 0x002e,
    LXB_CSS_PROPERTY_INSET_INLINE_START    = 0x002f,
    LXB_CSS_PROPERTY_JUSTIFY_CONTENT       = 0x0030,
    LXB_CSS_PROPERTY_LEFT                  = 0x0031,
    LXB_CSS_PROPERTY_LETTER_SPACING        = 0x0032,
    LXB_CSS_PROPERTY_LINE_BREAK            = 0x0033,
    LXB_CSS_PROPERTY_LINE_HEIGHT           = 0x0034,
    LXB_CSS_PROPERTY_MARGIN                = 0x0035,
    LXB_CSS_PROPERTY_MARGIN_BOTTOM         = 0x0036,
    LXB_CSS_PROPERTY_MARGIN_LEFT           = 0x0037,
    LXB_CSS_PROPERTY_MARGIN_RIGHT          = 0x0038,
    LXB_CSS_PROPERTY_MARGIN_TOP            = 0x0039,
    LXB_CSS_PROPERTY_MAX_HEIGHT            = 0x003a,
    LXB_CSS_PROPERTY_MAX_WIDTH             = 0x003b,
    LXB_CSS_PROPERTY_MIN_HEIGHT            = 0x003c,
    LXB_CSS_PROPERTY_MIN_WIDTH             = 0x003d,
    LXB_CSS_PROPERTY_OPACITY               = 0x003e,
    LXB_CSS_PROPERTY_ORDER                 = 0x003f,
    LXB_CSS_PROPERTY_OVERFLOW_BLOCK        = 0x0040,
    LXB_CSS_PROPERTY_OVERFLOW_INLINE       = 0x0041,
    LXB_CSS_PROPERTY_OVERFLOW_WRAP         = 0x0042,
    LXB_CSS_PROPERTY_OVERFLOW_X            = 0x0043,
    LXB_CSS_PROPERTY_OVERFLOW_Y            = 0x0044,
    LXB_CSS_PROPERTY_PADDING               = 0x0045,
    LXB_CSS_PROPERTY_PADDING_BOTTOM        = 0x0046,
    LXB_CSS_PROPERTY_PADDING_LEFT          = 0x0047,
    LXB_CSS_PROPERTY_PADDING_RIGHT         = 0x0048,
    LXB_CSS_PROPERTY_PADDING_TOP           = 0x0049,
    LXB_CSS_PROPERTY_POSITION              = 0x004a,
    LXB_CSS_PROPERTY_RIGHT                 = 0x004b,
    LXB_CSS_PROPERTY_TAB_SIZE              = 0x004c,
    LXB_CSS_PROPERTY_TEXT_ALIGN            = 0x004d,
    LXB_CSS_PROPERTY_TEXT_ALIGN_ALL        = 0x004e,
    LXB_CSS_PROPERTY_TEXT_ALIGN_LAST       = 0x004f,
    LXB_CSS_PROPERTY_TEXT_COMBINE_UPRIGHT  = 0x0050,
    LXB_CSS_PROPERTY_TEXT_DECORATION       = 0x0051,
    LXB_CSS_PROPERTY_TEXT_DECORATION_COLOR = 0x0052,
    LXB_CSS_PROPERTY_TEXT_DECORATION_LINE  = 0x0053,
    LXB_CSS_PROPERTY_TEXT_DECORATION_STYLE = 0x0054,
    LXB_CSS_PROPERTY_TEXT_INDENT           = 0x0055,
    LXB_CSS_PROPERTY_TEXT_JUSTIFY          = 0x0056,
    LXB_CSS_PROPERTY_TEXT_ORIENTATION      = 0x0057,
    LXB_CSS_PROPERTY_TEXT_OVERFLOW         = 0x0058,
    LXB_CSS_PROPERTY_TEXT_TRANSFORM        = 0x0059,
    LXB_CSS_PROPERTY_TOP                   = 0x005a,
    LXB_CSS_PROPERTY_UNICODE_BIDI          = 0x005b,
    LXB_CSS_PROPERTY_VERTICAL_ALIGN        = 0x005c,
    LXB_CSS_PROPERTY_VISIBILITY            = 0x005d,
    LXB_CSS_PROPERTY_WHITE_SPACE           = 0x005e,
    LXB_CSS_PROPERTY_WIDTH                 = 0x005f,
    LXB_CSS_PROPERTY_WORD_BREAK            = 0x0060,
    LXB_CSS_PROPERTY_WORD_SPACING          = 0x0061,
    LXB_CSS_PROPERTY_WORD_WRAP             = 0x0062,
    LXB_CSS_PROPERTY_WRAP_FLOW             = 0x0063,
    LXB_CSS_PROPERTY_WRAP_THROUGH          = 0x0064,
    LXB_CSS_PROPERTY_WRITING_MODE          = 0x0065,
    LXB_CSS_PROPERTY_Z_INDEX               = 0x0066,
    LXB_CSS_PROPERTY__LAST_ENTRY           = 0x0067
};
typedef uintptr_t lxb_css_property_type_t;

enum {
    LXB_CSS_ALIGN_CONTENT_FLEX_START    = LXB_CSS_VALUE_FLEX_START,
    LXB_CSS_ALIGN_CONTENT_FLEX_END      = LXB_CSS_VALUE_FLEX_END,
    LXB_CSS_ALIGN_CONTENT_CENTER        = LXB_CSS_VALUE_CENTER,
    LXB_CSS_ALIGN_CONTENT_SPACE_BETWEEN = LXB_CSS_VALUE_SPACE_BETWEEN,
    LXB_CSS_ALIGN_CONTENT_SPACE_AROUND  = LXB_CSS_VALUE_SPACE_AROUND,
    LXB_CSS_ALIGN_CONTENT_STRETCH       = LXB_CSS_VALUE_STRETCH
};
typedef unsigned int lxb_css_align_content_type_t;

enum {
    LXB_CSS_ALIGN_ITEMS_FLEX_START = LXB_CSS_VALUE_FLEX_START,
    LXB_CSS_ALIGN_ITEMS_FLEX_END   = LXB_CSS_VALUE_FLEX_END,
    LXB_CSS_ALIGN_ITEMS_CENTER     = LXB_CSS_VALUE_CENTER,
    LXB_CSS_ALIGN_ITEMS_BASELINE   = LXB_CSS_VALUE_BASELINE,
    LXB_CSS_ALIGN_ITEMS_STRETCH    = LXB_CSS_VALUE_STRETCH
};
typedef unsigned int lxb_css_align_items_type_t;

enum {
    LXB_CSS_ALIGN_SELF_AUTO       = LXB_CSS_VALUE_AUTO,
    LXB_CSS_ALIGN_SELF_FLEX_START = LXB_CSS_VALUE_FLEX_START,
    LXB_CSS_ALIGN_SELF_FLEX_END   = LXB_CSS_VALUE_FLEX_END,
    LXB_CSS_ALIGN_SELF_CENTER     = LXB_CSS_VALUE_CENTER,
    LXB_CSS_ALIGN_SELF_BASELINE   = LXB_CSS_VALUE_BASELINE,
    LXB_CSS_ALIGN_SELF_STRETCH    = LXB_CSS_VALUE_STRETCH
};
typedef unsigned int lxb_css_align_self_type_t;

enum {
    LXB_CSS_ALIGNMENT_BASELINE_BASELINE     = LXB_CSS_VALUE_BASELINE,
    LXB_CSS_ALIGNMENT_BASELINE_TEXT_BOTTOM  = LXB_CSS_VALUE_TEXT_BOTTOM,
    LXB_CSS_ALIGNMENT_BASELINE_ALPHABETIC   = LXB_CSS_VALUE_ALPHABETIC,
    LXB_CSS_ALIGNMENT_BASELINE_IDEOGRAPHIC  = LXB_CSS_VALUE_IDEOGRAPHIC,
    LXB_CSS_ALIGNMENT_BASELINE_MIDDLE       = LXB_CSS_VALUE_MIDDLE,
    LXB_CSS_ALIGNMENT_BASELINE_CENTRAL      = LXB_CSS_VALUE_CENTRAL,
    LXB_CSS_ALIGNMENT_BASELINE_MATHEMATICAL = LXB_CSS_VALUE_MATHEMATICAL,
    LXB_CSS_ALIGNMENT_BASELINE_TEXT_TOP     = LXB_CSS_VALUE_TEXT_TOP
};
typedef unsigned int lxb_css_alignment_baseline_type_t;


enum {
    LXB_CSS_BASELINE_SHIFT__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_BASELINE_SHIFT__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE,
    LXB_CSS_BASELINE_SHIFT_SUB         = LXB_CSS_VALUE_SUB,
    LXB_CSS_BASELINE_SHIFT_SUPER       = LXB_CSS_VALUE_SUPER,
    LXB_CSS_BASELINE_SHIFT_TOP         = LXB_CSS_VALUE_TOP,
    LXB_CSS_BASELINE_SHIFT_CENTER      = LXB_CSS_VALUE_CENTER,
    LXB_CSS_BASELINE_SHIFT_BOTTOM      = LXB_CSS_VALUE_BOTTOM
};
typedef unsigned int lxb_css_baseline_shift_type_t;

enum {
    LXB_CSS_BASELINE_SOURCE_AUTO  = LXB_CSS_VALUE_AUTO,
    LXB_CSS_BASELINE_SOURCE_FIRST = LXB_CSS_VALUE_FIRST,
    LXB_CSS_BASELINE_SOURCE_LAST  = LXB_CSS_VALUE_LAST
};
typedef unsigned int lxb_css_baseline_source_type_t;

enum {
    LXB_CSS_BORDER_THIN    = LXB_CSS_VALUE_THIN,
    LXB_CSS_BORDER_MEDIUM  = LXB_CSS_VALUE_MEDIUM,
    LXB_CSS_BORDER_THICK   = LXB_CSS_VALUE_THICK,
    LXB_CSS_BORDER_NONE    = LXB_CSS_VALUE_NONE,
    LXB_CSS_BORDER_HIDDEN  = LXB_CSS_VALUE_HIDDEN,
    LXB_CSS_BORDER_DOTTED  = LXB_CSS_VALUE_DOTTED,
    LXB_CSS_BORDER_DASHED  = LXB_CSS_VALUE_DASHED,
    LXB_CSS_BORDER_SOLID   = LXB_CSS_VALUE_SOLID,
    LXB_CSS_BORDER_DOUBLE  = LXB_CSS_VALUE_DOUBLE,
    LXB_CSS_BORDER_GROOVE  = LXB_CSS_VALUE_GROOVE,
    LXB_CSS_BORDER_RIDGE   = LXB_CSS_VALUE_RIDGE,
    LXB_CSS_BORDER_INSET   = LXB_CSS_VALUE_INSET,
    LXB_CSS_BORDER_OUTSET  = LXB_CSS_VALUE_OUTSET,
    LXB_CSS_BORDER__LENGTH = LXB_CSS_VALUE__LENGTH
};
typedef unsigned int lxb_css_border_type_t;

enum {
    LXB_CSS_BORDER_BOTTOM_THIN    = LXB_CSS_VALUE_THIN,
    LXB_CSS_BORDER_BOTTOM_MEDIUM  = LXB_CSS_VALUE_MEDIUM,
    LXB_CSS_BORDER_BOTTOM_THICK   = LXB_CSS_VALUE_THICK,
    LXB_CSS_BORDER_BOTTOM_NONE    = LXB_CSS_VALUE_NONE,
    LXB_CSS_BORDER_BOTTOM_HIDDEN  = LXB_CSS_VALUE_HIDDEN,
    LXB_CSS_BORDER_BOTTOM_DOTTED  = LXB_CSS_VALUE_DOTTED,
    LXB_CSS_BORDER_BOTTOM_DASHED  = LXB_CSS_VALUE_DASHED,
    LXB_CSS_BORDER_BOTTOM_SOLID   = LXB_CSS_VALUE_SOLID,
    LXB_CSS_BORDER_BOTTOM_DOUBLE  = LXB_CSS_VALUE_DOUBLE,
    LXB_CSS_BORDER_BOTTOM_GROOVE  = LXB_CSS_VALUE_GROOVE,
    LXB_CSS_BORDER_BOTTOM_RIDGE   = LXB_CSS_VALUE_RIDGE,
    LXB_CSS_BORDER_BOTTOM_INSET   = LXB_CSS_VALUE_INSET,
    LXB_CSS_BORDER_BOTTOM_OUTSET  = LXB_CSS_VALUE_OUTSET,
    LXB_CSS_BORDER_BOTTOM__LENGTH = LXB_CSS_VALUE__LENGTH
};
typedef unsigned int lxb_css_border_bottom_type_t;


enum {
    LXB_CSS_BORDER_LEFT_THIN    = LXB_CSS_VALUE_THIN,
    LXB_CSS_BORDER_LEFT_MEDIUM  = LXB_CSS_VALUE_MEDIUM,
    LXB_CSS_BORDER_LEFT_THICK   = LXB_CSS_VALUE_THICK,
    LXB_CSS_BORDER_LEFT_NONE    = LXB_CSS_VALUE_NONE,
    LXB_CSS_BORDER_LEFT_HIDDEN  = LXB_CSS_VALUE_HIDDEN,
    LXB_CSS_BORDER_LEFT_DOTTED  = LXB_CSS_VALUE_DOTTED,
    LXB_CSS_BORDER_LEFT_DASHED  = LXB_CSS_VALUE_DASHED,
    LXB_CSS_BORDER_LEFT_SOLID   = LXB_CSS_VALUE_SOLID,
    LXB_CSS_BORDER_LEFT_DOUBLE  = LXB_CSS_VALUE_DOUBLE,
    LXB_CSS_BORDER_LEFT_GROOVE  = LXB_CSS_VALUE_GROOVE,
    LXB_CSS_BORDER_LEFT_RIDGE   = LXB_CSS_VALUE_RIDGE,
    LXB_CSS_BORDER_LEFT_INSET   = LXB_CSS_VALUE_INSET,
    LXB_CSS_BORDER_LEFT_OUTSET  = LXB_CSS_VALUE_OUTSET,
    LXB_CSS_BORDER_LEFT__LENGTH = LXB_CSS_VALUE__LENGTH
};
typedef unsigned int lxb_css_border_left_type_t;


enum {
    LXB_CSS_BORDER_RIGHT_THIN    = LXB_CSS_VALUE_THIN,
    LXB_CSS_BORDER_RIGHT_MEDIUM  = LXB_CSS_VALUE_MEDIUM,
    LXB_CSS_BORDER_RIGHT_THICK   = LXB_CSS_VALUE_THICK,
    LXB_CSS_BORDER_RIGHT_NONE    = LXB_CSS_VALUE_NONE,
    LXB_CSS_BORDER_RIGHT_HIDDEN  = LXB_CSS_VALUE_HIDDEN,
    LXB_CSS_BORDER_RIGHT_DOTTED  = LXB_CSS_VALUE_DOTTED,
    LXB_CSS_BORDER_RIGHT_DASHED  = LXB_CSS_VALUE_DASHED,
    LXB_CSS_BORDER_RIGHT_SOLID   = LXB_CSS_VALUE_SOLID,
    LXB_CSS_BORDER_RIGHT_DOUBLE  = LXB_CSS_VALUE_DOUBLE,
    LXB_CSS_BORDER_RIGHT_GROOVE  = LXB_CSS_VALUE_GROOVE,
    LXB_CSS_BORDER_RIGHT_RIDGE   = LXB_CSS_VALUE_RIDGE,
    LXB_CSS_BORDER_RIGHT_INSET   = LXB_CSS_VALUE_INSET,
    LXB_CSS_BORDER_RIGHT_OUTSET  = LXB_CSS_VALUE_OUTSET,
    LXB_CSS_BORDER_RIGHT__LENGTH = LXB_CSS_VALUE__LENGTH
};
typedef unsigned int lxb_css_border_right_type_t;


enum {
    LXB_CSS_BORDER_TOP_THIN    = LXB_CSS_VALUE_THIN,
    LXB_CSS_BORDER_TOP_MEDIUM  = LXB_CSS_VALUE_MEDIUM,
    LXB_CSS_BORDER_TOP_THICK   = LXB_CSS_VALUE_THICK,
    LXB_CSS_BORDER_TOP_NONE    = LXB_CSS_VALUE_NONE,
    LXB_CSS_BORDER_TOP_HIDDEN  = LXB_CSS_VALUE_HIDDEN,
    LXB_CSS_BORDER_TOP_DOTTED  = LXB_CSS_VALUE_DOTTED,
    LXB_CSS_BORDER_TOP_DASHED  = LXB_CSS_VALUE_DASHED,
    LXB_CSS_BORDER_TOP_SOLID   = LXB_CSS_VALUE_SOLID,
    LXB_CSS_BORDER_TOP_DOUBLE  = LXB_CSS_VALUE_DOUBLE,
    LXB_CSS_BORDER_TOP_GROOVE  = LXB_CSS_VALUE_GROOVE,
    LXB_CSS_BORDER_TOP_RIDGE   = LXB_CSS_VALUE_RIDGE,
    LXB_CSS_BORDER_TOP_INSET   = LXB_CSS_VALUE_INSET,
    LXB_CSS_BORDER_TOP_OUTSET  = LXB_CSS_VALUE_OUTSET,
    LXB_CSS_BORDER_TOP__LENGTH = LXB_CSS_VALUE__LENGTH
};
typedef unsigned int lxb_css_border_top_type_t;


enum {
    LXB_CSS_BOTTOM_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_BOTTOM__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_BOTTOM__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_bottom_type_t;

enum {
    LXB_CSS_BOX_SIZING_CONTENT_BOX = LXB_CSS_VALUE_CONTENT_BOX,
    LXB_CSS_BOX_SIZING_BORDER_BOX  = LXB_CSS_VALUE_BORDER_BOX
};
typedef unsigned int lxb_css_box_sizing_type_t;

enum {
    LXB_CSS_CLEAR_INLINE_START = LXB_CSS_VALUE_INLINE_START,
    LXB_CSS_CLEAR_INLINE_END   = LXB_CSS_VALUE_INLINE_END,
    LXB_CSS_CLEAR_BLOCK_START  = LXB_CSS_VALUE_BLOCK_START,
    LXB_CSS_CLEAR_BLOCK_END    = LXB_CSS_VALUE_BLOCK_END,
    LXB_CSS_CLEAR_LEFT         = LXB_CSS_VALUE_LEFT,
    LXB_CSS_CLEAR_RIGHT        = LXB_CSS_VALUE_RIGHT,
    LXB_CSS_CLEAR_TOP          = LXB_CSS_VALUE_TOP,
    LXB_CSS_CLEAR_BOTTOM       = LXB_CSS_VALUE_BOTTOM,
    LXB_CSS_CLEAR_NONE         = LXB_CSS_VALUE_NONE
};
typedef unsigned int lxb_css_clear_type_t;

enum {
    LXB_CSS_COLOR_CURRENTCOLOR         = LXB_CSS_VALUE_CURRENTCOLOR,
    LXB_CSS_COLOR_TRANSPARENT          = LXB_CSS_VALUE_TRANSPARENT,
    LXB_CSS_COLOR_HEX                  = LXB_CSS_VALUE_HEX,
    LXB_CSS_COLOR_ALICEBLUE            = LXB_CSS_VALUE_ALICEBLUE,
    LXB_CSS_COLOR_ANTIQUEWHITE         = LXB_CSS_VALUE_ANTIQUEWHITE,
    LXB_CSS_COLOR_AQUA                 = LXB_CSS_VALUE_AQUA,
    LXB_CSS_COLOR_AQUAMARINE           = LXB_CSS_VALUE_AQUAMARINE,
    LXB_CSS_COLOR_AZURE                = LXB_CSS_VALUE_AZURE,
    LXB_CSS_COLOR_BEIGE                = LXB_CSS_VALUE_BEIGE,
    LXB_CSS_COLOR_BISQUE               = LXB_CSS_VALUE_BISQUE,
    LXB_CSS_COLOR_BLACK                = LXB_CSS_VALUE_BLACK,
    LXB_CSS_COLOR_BLANCHEDALMOND       = LXB_CSS_VALUE_BLANCHEDALMOND,
    LXB_CSS_COLOR_BLUE                 = LXB_CSS_VALUE_BLUE,
    LXB_CSS_COLOR_BLUEVIOLET           = LXB_CSS_VALUE_BLUEVIOLET,
    LXB_CSS_COLOR_BROWN                = LXB_CSS_VALUE_BROWN,
    LXB_CSS_COLOR_BURLYWOOD            = LXB_CSS_VALUE_BURLYWOOD,
    LXB_CSS_COLOR_CADETBLUE            = LXB_CSS_VALUE_CADETBLUE,
    LXB_CSS_COLOR_CHARTREUSE           = LXB_CSS_VALUE_CHARTREUSE,
    LXB_CSS_COLOR_CHOCOLATE            = LXB_CSS_VALUE_CHOCOLATE,
    LXB_CSS_COLOR_CORAL                = LXB_CSS_VALUE_CORAL,
    LXB_CSS_COLOR_CORNFLOWERBLUE       = LXB_CSS_VALUE_CORNFLOWERBLUE,
    LXB_CSS_COLOR_CORNSILK             = LXB_CSS_VALUE_CORNSILK,
    LXB_CSS_COLOR_CRIMSON              = LXB_CSS_VALUE_CRIMSON,
    LXB_CSS_COLOR_CYAN                 = LXB_CSS_VALUE_CYAN,
    LXB_CSS_COLOR_DARKBLUE             = LXB_CSS_VALUE_DARKBLUE,
    LXB_CSS_COLOR_DARKCYAN             = LXB_CSS_VALUE_DARKCYAN,
    LXB_CSS_COLOR_DARKGOLDENROD        = LXB_CSS_VALUE_DARKGOLDENROD,
    LXB_CSS_COLOR_DARKGRAY             = LXB_CSS_VALUE_DARKGRAY,
    LXB_CSS_COLOR_DARKGREEN            = LXB_CSS_VALUE_DARKGREEN,
    LXB_CSS_COLOR_DARKGREY             = LXB_CSS_VALUE_DARKGREY,
    LXB_CSS_COLOR_DARKKHAKI            = LXB_CSS_VALUE_DARKKHAKI,
    LXB_CSS_COLOR_DARKMAGENTA          = LXB_CSS_VALUE_DARKMAGENTA,
    LXB_CSS_COLOR_DARKOLIVEGREEN       = LXB_CSS_VALUE_DARKOLIVEGREEN,
    LXB_CSS_COLOR_DARKORANGE           = LXB_CSS_VALUE_DARKORANGE,
    LXB_CSS_COLOR_DARKORCHID           = LXB_CSS_VALUE_DARKORCHID,
    LXB_CSS_COLOR_DARKRED              = LXB_CSS_VALUE_DARKRED,
    LXB_CSS_COLOR_DARKSALMON           = LXB_CSS_VALUE_DARKSALMON,
    LXB_CSS_COLOR_DARKSEAGREEN         = LXB_CSS_VALUE_DARKSEAGREEN,
    LXB_CSS_COLOR_DARKSLATEBLUE        = LXB_CSS_VALUE_DARKSLATEBLUE,
    LXB_CSS_COLOR_DARKSLATEGRAY        = LXB_CSS_VALUE_DARKSLATEGRAY,
    LXB_CSS_COLOR_DARKSLATEGREY        = LXB_CSS_VALUE_DARKSLATEGREY,
    LXB_CSS_COLOR_DARKTURQUOISE        = LXB_CSS_VALUE_DARKTURQUOISE,
    LXB_CSS_COLOR_DARKVIOLET           = LXB_CSS_VALUE_DARKVIOLET,
    LXB_CSS_COLOR_DEEPPINK             = LXB_CSS_VALUE_DEEPPINK,
    LXB_CSS_COLOR_DEEPSKYBLUE          = LXB_CSS_VALUE_DEEPSKYBLUE,
    LXB_CSS_COLOR_DIMGRAY              = LXB_CSS_VALUE_DIMGRAY,
    LXB_CSS_COLOR_DIMGREY              = LXB_CSS_VALUE_DIMGREY,
    LXB_CSS_COLOR_DODGERBLUE           = LXB_CSS_VALUE_DODGERBLUE,
    LXB_CSS_COLOR_FIREBRICK            = LXB_CSS_VALUE_FIREBRICK,
    LXB_CSS_COLOR_FLORALWHITE          = LXB_CSS_VALUE_FLORALWHITE,
    LXB_CSS_COLOR_FORESTGREEN          = LXB_CSS_VALUE_FORESTGREEN,
    LXB_CSS_COLOR_FUCHSIA              = LXB_CSS_VALUE_FUCHSIA,
    LXB_CSS_COLOR_GAINSBORO            = LXB_CSS_VALUE_GAINSBORO,
    LXB_CSS_COLOR_GHOSTWHITE           = LXB_CSS_VALUE_GHOSTWHITE,
    LXB_CSS_COLOR_GOLD                 = LXB_CSS_VALUE_GOLD,
    LXB_CSS_COLOR_GOLDENROD            = LXB_CSS_VALUE_GOLDENROD,
    LXB_CSS_COLOR_GRAY                 = LXB_CSS_VALUE_GRAY,
    LXB_CSS_COLOR_GREEN                = LXB_CSS_VALUE_GREEN,
    LXB_CSS_COLOR_GREENYELLOW          = LXB_CSS_VALUE_GREENYELLOW,
    LXB_CSS_COLOR_GREY                 = LXB_CSS_VALUE_GREY,
    LXB_CSS_COLOR_HONEYDEW             = LXB_CSS_VALUE_HONEYDEW,
    LXB_CSS_COLOR_HOTPINK              = LXB_CSS_VALUE_HOTPINK,
    LXB_CSS_COLOR_INDIANRED            = LXB_CSS_VALUE_INDIANRED,
    LXB_CSS_COLOR_INDIGO               = LXB_CSS_VALUE_INDIGO,
    LXB_CSS_COLOR_IVORY                = LXB_CSS_VALUE_IVORY,
    LXB_CSS_COLOR_KHAKI                = LXB_CSS_VALUE_KHAKI,
    LXB_CSS_COLOR_LAVENDER             = LXB_CSS_VALUE_LAVENDER,
    LXB_CSS_COLOR_LAVENDERBLUSH        = LXB_CSS_VALUE_LAVENDERBLUSH,
    LXB_CSS_COLOR_LAWNGREEN            = LXB_CSS_VALUE_LAWNGREEN,
    LXB_CSS_COLOR_LEMONCHIFFON         = LXB_CSS_VALUE_LEMONCHIFFON,
    LXB_CSS_COLOR_LIGHTBLUE            = LXB_CSS_VALUE_LIGHTBLUE,
    LXB_CSS_COLOR_LIGHTCORAL           = LXB_CSS_VALUE_LIGHTCORAL,
    LXB_CSS_COLOR_LIGHTCYAN            = LXB_CSS_VALUE_LIGHTCYAN,
    LXB_CSS_COLOR_LIGHTGOLDENRODYELLOW = LXB_CSS_VALUE_LIGHTGOLDENRODYELLOW,
    LXB_CSS_COLOR_LIGHTGRAY            = LXB_CSS_VALUE_LIGHTGRAY,
    LXB_CSS_COLOR_LIGHTGREEN           = LXB_CSS_VALUE_LIGHTGREEN,
    LXB_CSS_COLOR_LIGHTGREY            = LXB_CSS_VALUE_LIGHTGREY,
    LXB_CSS_COLOR_LIGHTPINK            = LXB_CSS_VALUE_LIGHTPINK,
    LXB_CSS_COLOR_LIGHTSALMON          = LXB_CSS_VALUE_LIGHTSALMON,
    LXB_CSS_COLOR_LIGHTSEAGREEN        = LXB_CSS_VALUE_LIGHTSEAGREEN,
    LXB_CSS_COLOR_LIGHTSKYBLUE         = LXB_CSS_VALUE_LIGHTSKYBLUE,
    LXB_CSS_COLOR_LIGHTSLATEGRAY       = LXB_CSS_VALUE_LIGHTSLATEGRAY,
    LXB_CSS_COLOR_LIGHTSLATEGREY       = LXB_CSS_VALUE_LIGHTSLATEGREY,
    LXB_CSS_COLOR_LIGHTSTEELBLUE       = LXB_CSS_VALUE_LIGHTSTEELBLUE,
    LXB_CSS_COLOR_LIGHTYELLOW          = LXB_CSS_VALUE_LIGHTYELLOW,
    LXB_CSS_COLOR_LIME                 = LXB_CSS_VALUE_LIME,
    LXB_CSS_COLOR_LIMEGREEN            = LXB_CSS_VALUE_LIMEGREEN,
    LXB_CSS_COLOR_LINEN                = LXB_CSS_VALUE_LINEN,
    LXB_CSS_COLOR_MAGENTA              = LXB_CSS_VALUE_MAGENTA,
    LXB_CSS_COLOR_MAROON               = LXB_CSS_VALUE_MAROON,
    LXB_CSS_COLOR_MEDIUMAQUAMARINE     = LXB_CSS_VALUE_MEDIUMAQUAMARINE,
    LXB_CSS_COLOR_MEDIUMBLUE           = LXB_CSS_VALUE_MEDIUMBLUE,
    LXB_CSS_COLOR_MEDIUMORCHID         = LXB_CSS_VALUE_MEDIUMORCHID,
    LXB_CSS_COLOR_MEDIUMPURPLE         = LXB_CSS_VALUE_MEDIUMPURPLE,
    LXB_CSS_COLOR_MEDIUMSEAGREEN       = LXB_CSS_VALUE_MEDIUMSEAGREEN,
    LXB_CSS_COLOR_MEDIUMSLATEBLUE      = LXB_CSS_VALUE_MEDIUMSLATEBLUE,
    LXB_CSS_COLOR_MEDIUMSPRINGGREEN    = LXB_CSS_VALUE_MEDIUMSPRINGGREEN,
    LXB_CSS_COLOR_MEDIUMTURQUOISE      = LXB_CSS_VALUE_MEDIUMTURQUOISE,
    LXB_CSS_COLOR_MEDIUMVIOLETRED      = LXB_CSS_VALUE_MEDIUMVIOLETRED,
    LXB_CSS_COLOR_MIDNIGHTBLUE         = LXB_CSS_VALUE_MIDNIGHTBLUE,
    LXB_CSS_COLOR_MINTCREAM            = LXB_CSS_VALUE_MINTCREAM,
    LXB_CSS_COLOR_MISTYROSE            = LXB_CSS_VALUE_MISTYROSE,
    LXB_CSS_COLOR_MOCCASIN             = LXB_CSS_VALUE_MOCCASIN,
    LXB_CSS_COLOR_NAVAJOWHITE          = LXB_CSS_VALUE_NAVAJOWHITE,
    LXB_CSS_COLOR_NAVY                 = LXB_CSS_VALUE_NAVY,
    LXB_CSS_COLOR_OLDLACE              = LXB_CSS_VALUE_OLDLACE,
    LXB_CSS_COLOR_OLIVE                = LXB_CSS_VALUE_OLIVE,
    LXB_CSS_COLOR_OLIVEDRAB            = LXB_CSS_VALUE_OLIVEDRAB,
    LXB_CSS_COLOR_ORANGE               = LXB_CSS_VALUE_ORANGE,
    LXB_CSS_COLOR_ORANGERED            = LXB_CSS_VALUE_ORANGERED,
    LXB_CSS_COLOR_ORCHID               = LXB_CSS_VALUE_ORCHID,
    LXB_CSS_COLOR_PALEGOLDENROD        = LXB_CSS_VALUE_PALEGOLDENROD,
    LXB_CSS_COLOR_PALEGREEN            = LXB_CSS_VALUE_PALEGREEN,
    LXB_CSS_COLOR_PALETURQUOISE        = LXB_CSS_VALUE_PALETURQUOISE,
    LXB_CSS_COLOR_PALEVIOLETRED        = LXB_CSS_VALUE_PALEVIOLETRED,
    LXB_CSS_COLOR_PAPAYAWHIP           = LXB_CSS_VALUE_PAPAYAWHIP,
    LXB_CSS_COLOR_PEACHPUFF            = LXB_CSS_VALUE_PEACHPUFF,
    LXB_CSS_COLOR_PERU                 = LXB_CSS_VALUE_PERU,
    LXB_CSS_COLOR_PINK                 = LXB_CSS_VALUE_PINK,
    LXB_CSS_COLOR_PLUM                 = LXB_CSS_VALUE_PLUM,
    LXB_CSS_COLOR_POWDERBLUE           = LXB_CSS_VALUE_POWDERBLUE,
    LXB_CSS_COLOR_PURPLE               = LXB_CSS_VALUE_PURPLE,
    LXB_CSS_COLOR_REBECCAPURPLE        = LXB_CSS_VALUE_REBECCAPURPLE,
    LXB_CSS_COLOR_RED                  = LXB_CSS_VALUE_RED,
    LXB_CSS_COLOR_ROSYBROWN            = LXB_CSS_VALUE_ROSYBROWN,
    LXB_CSS_COLOR_ROYALBLUE            = LXB_CSS_VALUE_ROYALBLUE,
    LXB_CSS_COLOR_SADDLEBROWN          = LXB_CSS_VALUE_SADDLEBROWN,
    LXB_CSS_COLOR_SALMON               = LXB_CSS_VALUE_SALMON,
    LXB_CSS_COLOR_SANDYBROWN           = LXB_CSS_VALUE_SANDYBROWN,
    LXB_CSS_COLOR_SEAGREEN             = LXB_CSS_VALUE_SEAGREEN,
    LXB_CSS_COLOR_SEASHELL             = LXB_CSS_VALUE_SEASHELL,
    LXB_CSS_COLOR_SIENNA               = LXB_CSS_VALUE_SIENNA,
    LXB_CSS_COLOR_SILVER               = LXB_CSS_VALUE_SILVER,
    LXB_CSS_COLOR_SKYBLUE              = LXB_CSS_VALUE_SKYBLUE,
    LXB_CSS_COLOR_SLATEBLUE            = LXB_CSS_VALUE_SLATEBLUE,
    LXB_CSS_COLOR_SLATEGRAY            = LXB_CSS_VALUE_SLATEGRAY,
    LXB_CSS_COLOR_SLATEGREY            = LXB_CSS_VALUE_SLATEGREY,
    LXB_CSS_COLOR_SNOW                 = LXB_CSS_VALUE_SNOW,
    LXB_CSS_COLOR_SPRINGGREEN          = LXB_CSS_VALUE_SPRINGGREEN,
    LXB_CSS_COLOR_STEELBLUE            = LXB_CSS_VALUE_STEELBLUE,
    LXB_CSS_COLOR_TAN                  = LXB_CSS_VALUE_TAN,
    LXB_CSS_COLOR_TEAL                 = LXB_CSS_VALUE_TEAL,
    LXB_CSS_COLOR_THISTLE              = LXB_CSS_VALUE_THISTLE,
    LXB_CSS_COLOR_TOMATO               = LXB_CSS_VALUE_TOMATO,
    LXB_CSS_COLOR_TURQUOISE            = LXB_CSS_VALUE_TURQUOISE,
    LXB_CSS_COLOR_VIOLET               = LXB_CSS_VALUE_VIOLET,
    LXB_CSS_COLOR_WHEAT                = LXB_CSS_VALUE_WHEAT,
    LXB_CSS_COLOR_WHITE                = LXB_CSS_VALUE_WHITE,
    LXB_CSS_COLOR_WHITESMOKE           = LXB_CSS_VALUE_WHITESMOKE,
    LXB_CSS_COLOR_YELLOW               = LXB_CSS_VALUE_YELLOW,
    LXB_CSS_COLOR_YELLOWGREEN          = LXB_CSS_VALUE_YELLOWGREEN,
    LXB_CSS_COLOR_CANVAS               = LXB_CSS_VALUE_CANVAS,
    LXB_CSS_COLOR_CANVASTEXT           = LXB_CSS_VALUE_CANVASTEXT,
    LXB_CSS_COLOR_LINKTEXT             = LXB_CSS_VALUE_LINKTEXT,
    LXB_CSS_COLOR_VISITEDTEXT          = LXB_CSS_VALUE_VISITEDTEXT,
    LXB_CSS_COLOR_ACTIVETEXT           = LXB_CSS_VALUE_ACTIVETEXT,
    LXB_CSS_COLOR_BUTTONFACE           = LXB_CSS_VALUE_BUTTONFACE,
    LXB_CSS_COLOR_BUTTONTEXT           = LXB_CSS_VALUE_BUTTONTEXT,
    LXB_CSS_COLOR_BUTTONBORDER         = LXB_CSS_VALUE_BUTTONBORDER,
    LXB_CSS_COLOR_FIELD                = LXB_CSS_VALUE_FIELD,
    LXB_CSS_COLOR_FIELDTEXT            = LXB_CSS_VALUE_FIELDTEXT,
    LXB_CSS_COLOR_HIGHLIGHT            = LXB_CSS_VALUE_HIGHLIGHT,
    LXB_CSS_COLOR_HIGHLIGHTTEXT        = LXB_CSS_VALUE_HIGHLIGHTTEXT,
    LXB_CSS_COLOR_SELECTEDITEM         = LXB_CSS_VALUE_SELECTEDITEM,
    LXB_CSS_COLOR_SELECTEDITEMTEXT     = LXB_CSS_VALUE_SELECTEDITEMTEXT,
    LXB_CSS_COLOR_MARK                 = LXB_CSS_VALUE_MARK,
    LXB_CSS_COLOR_MARKTEXT             = LXB_CSS_VALUE_MARKTEXT,
    LXB_CSS_COLOR_GRAYTEXT             = LXB_CSS_VALUE_GRAYTEXT,
    LXB_CSS_COLOR_ACCENTCOLOR          = LXB_CSS_VALUE_ACCENTCOLOR,
    LXB_CSS_COLOR_ACCENTCOLORTEXT      = LXB_CSS_VALUE_ACCENTCOLORTEXT,
    LXB_CSS_COLOR_RGB                  = LXB_CSS_VALUE_RGB,
    LXB_CSS_COLOR_RGBA                 = LXB_CSS_VALUE_RGBA,
    LXB_CSS_COLOR_HSL                  = LXB_CSS_VALUE_HSL,
    LXB_CSS_COLOR_HSLA                 = LXB_CSS_VALUE_HSLA,
    LXB_CSS_COLOR_HWB                  = LXB_CSS_VALUE_HWB,
    LXB_CSS_COLOR_LAB                  = LXB_CSS_VALUE_LAB,
    LXB_CSS_COLOR_LCH                  = LXB_CSS_VALUE_LCH,
    LXB_CSS_COLOR_OKLAB                = LXB_CSS_VALUE_OKLAB,
    LXB_CSS_COLOR_OKLCH                = LXB_CSS_VALUE_OKLCH,
    LXB_CSS_COLOR_COLOR                = LXB_CSS_VALUE_COLOR
};
typedef unsigned int lxb_css_color_type_t;

enum {
    LXB_CSS_DIRECTION_LTR = LXB_CSS_VALUE_LTR,
    LXB_CSS_DIRECTION_RTL = LXB_CSS_VALUE_RTL
};
typedef unsigned int lxb_css_direction_type_t;

enum {
    LXB_CSS_DISPLAY_BLOCK               = LXB_CSS_VALUE_BLOCK,
    LXB_CSS_DISPLAY_INLINE              = LXB_CSS_VALUE_INLINE,
    LXB_CSS_DISPLAY_RUN_IN              = LXB_CSS_VALUE_RUN_IN,
    LXB_CSS_DISPLAY_FLOW                = LXB_CSS_VALUE_FLOW,
    LXB_CSS_DISPLAY_FLOW_ROOT           = LXB_CSS_VALUE_FLOW_ROOT,
    LXB_CSS_DISPLAY_TABLE               = LXB_CSS_VALUE_TABLE,
    LXB_CSS_DISPLAY_FLEX                = LXB_CSS_VALUE_FLEX,
    LXB_CSS_DISPLAY_GRID                = LXB_CSS_VALUE_GRID,
    LXB_CSS_DISPLAY_RUBY                = LXB_CSS_VALUE_RUBY,
    LXB_CSS_DISPLAY_LIST_ITEM           = LXB_CSS_VALUE_LIST_ITEM,
    LXB_CSS_DISPLAY_TABLE_ROW_GROUP     = LXB_CSS_VALUE_TABLE_ROW_GROUP,
    LXB_CSS_DISPLAY_TABLE_HEADER_GROUP  = LXB_CSS_VALUE_TABLE_HEADER_GROUP,
    LXB_CSS_DISPLAY_TABLE_FOOTER_GROUP  = LXB_CSS_VALUE_TABLE_FOOTER_GROUP,
    LXB_CSS_DISPLAY_TABLE_ROW           = LXB_CSS_VALUE_TABLE_ROW,
    LXB_CSS_DISPLAY_TABLE_CELL          = LXB_CSS_VALUE_TABLE_CELL,
    LXB_CSS_DISPLAY_TABLE_COLUMN_GROUP  = LXB_CSS_VALUE_TABLE_COLUMN_GROUP,
    LXB_CSS_DISPLAY_TABLE_COLUMN        = LXB_CSS_VALUE_TABLE_COLUMN,
    LXB_CSS_DISPLAY_TABLE_CAPTION       = LXB_CSS_VALUE_TABLE_CAPTION,
    LXB_CSS_DISPLAY_RUBY_BASE           = LXB_CSS_VALUE_RUBY_BASE,
    LXB_CSS_DISPLAY_RUBY_TEXT           = LXB_CSS_VALUE_RUBY_TEXT,
    LXB_CSS_DISPLAY_RUBY_BASE_CONTAINER = LXB_CSS_VALUE_RUBY_BASE_CONTAINER,
    LXB_CSS_DISPLAY_RUBY_TEXT_CONTAINER = LXB_CSS_VALUE_RUBY_TEXT_CONTAINER,
    LXB_CSS_DISPLAY_CONTENTS            = LXB_CSS_VALUE_CONTENTS,
    LXB_CSS_DISPLAY_NONE                = LXB_CSS_VALUE_NONE,
    LXB_CSS_DISPLAY_INLINE_BLOCK        = LXB_CSS_VALUE_INLINE_BLOCK,
    LXB_CSS_DISPLAY_INLINE_TABLE        = LXB_CSS_VALUE_INLINE_TABLE,
    LXB_CSS_DISPLAY_INLINE_FLEX         = LXB_CSS_VALUE_INLINE_FLEX,
    LXB_CSS_DISPLAY_INLINE_GRID         = LXB_CSS_VALUE_INLINE_GRID
};
typedef unsigned int lxb_css_display_type_t;

enum {
    LXB_CSS_DOMINANT_BASELINE_AUTO         = LXB_CSS_VALUE_AUTO,
    LXB_CSS_DOMINANT_BASELINE_TEXT_BOTTOM  = LXB_CSS_VALUE_TEXT_BOTTOM,
    LXB_CSS_DOMINANT_BASELINE_ALPHABETIC   = LXB_CSS_VALUE_ALPHABETIC,
    LXB_CSS_DOMINANT_BASELINE_IDEOGRAPHIC  = LXB_CSS_VALUE_IDEOGRAPHIC,
    LXB_CSS_DOMINANT_BASELINE_MIDDLE       = LXB_CSS_VALUE_MIDDLE,
    LXB_CSS_DOMINANT_BASELINE_CENTRAL      = LXB_CSS_VALUE_CENTRAL,
    LXB_CSS_DOMINANT_BASELINE_MATHEMATICAL = LXB_CSS_VALUE_MATHEMATICAL,
    LXB_CSS_DOMINANT_BASELINE_HANGING      = LXB_CSS_VALUE_HANGING,
    LXB_CSS_DOMINANT_BASELINE_TEXT_TOP     = LXB_CSS_VALUE_TEXT_TOP
};
typedef unsigned int lxb_css_dominant_baseline_type_t;

enum {
    LXB_CSS_FLEX_NONE = LXB_CSS_VALUE_NONE
};
typedef unsigned int lxb_css_flex_type_t;

enum {
    LXB_CSS_FLEX_BASIS_CONTENT = LXB_CSS_VALUE_CONTENT
};
typedef unsigned int lxb_css_flex_basis_type_t;

enum {
    LXB_CSS_FLEX_DIRECTION_ROW            = LXB_CSS_VALUE_ROW,
    LXB_CSS_FLEX_DIRECTION_ROW_REVERSE    = LXB_CSS_VALUE_ROW_REVERSE,
    LXB_CSS_FLEX_DIRECTION_COLUMN         = LXB_CSS_VALUE_COLUMN,
    LXB_CSS_FLEX_DIRECTION_COLUMN_REVERSE = LXB_CSS_VALUE_COLUMN_REVERSE
};
typedef unsigned int lxb_css_flex_direction_type_t;


enum {
    LXB_CSS_FLEX_GROW__NUMBER = LXB_CSS_VALUE__NUMBER
};
typedef unsigned int lxb_css_flex_grow_type_t;

enum {
    LXB_CSS_FLEX_SHRINK__NUMBER = LXB_CSS_VALUE__NUMBER
};
typedef unsigned int lxb_css_flex_shrink_type_t;

enum {
    LXB_CSS_FLEX_WRAP_NOWRAP       = LXB_CSS_VALUE_NOWRAP,
    LXB_CSS_FLEX_WRAP_WRAP         = LXB_CSS_VALUE_WRAP,
    LXB_CSS_FLEX_WRAP_WRAP_REVERSE = LXB_CSS_VALUE_WRAP_REVERSE
};
typedef unsigned int lxb_css_flex_wrap_type_t;

enum {
    LXB_CSS_FLOAT_BLOCK_START  = LXB_CSS_VALUE_BLOCK_START,
    LXB_CSS_FLOAT_BLOCK_END    = LXB_CSS_VALUE_BLOCK_END,
    LXB_CSS_FLOAT_INLINE_START = LXB_CSS_VALUE_INLINE_START,
    LXB_CSS_FLOAT_INLINE_END   = LXB_CSS_VALUE_INLINE_END,
    LXB_CSS_FLOAT_SNAP_BLOCK   = LXB_CSS_VALUE_SNAP_BLOCK,
    LXB_CSS_FLOAT_START        = LXB_CSS_VALUE_START,
    LXB_CSS_FLOAT_END          = LXB_CSS_VALUE_END,
    LXB_CSS_FLOAT_NEAR         = LXB_CSS_VALUE_NEAR,
    LXB_CSS_FLOAT_SNAP_INLINE  = LXB_CSS_VALUE_SNAP_INLINE,
    LXB_CSS_FLOAT_LEFT         = LXB_CSS_VALUE_LEFT,
    LXB_CSS_FLOAT_RIGHT        = LXB_CSS_VALUE_RIGHT,
    LXB_CSS_FLOAT_TOP          = LXB_CSS_VALUE_TOP,
    LXB_CSS_FLOAT_BOTTOM       = LXB_CSS_VALUE_BOTTOM,
    LXB_CSS_FLOAT_NONE         = LXB_CSS_VALUE_NONE
};
typedef unsigned int lxb_css_float_type_t;

enum {
    LXB_CSS_FLOAT_DEFER__INTEGER = LXB_CSS_VALUE__INTEGER,
    LXB_CSS_FLOAT_DEFER_LAST     = LXB_CSS_VALUE_LAST,
    LXB_CSS_FLOAT_DEFER_NONE     = LXB_CSS_VALUE_NONE
};
typedef unsigned int lxb_css_float_defer_type_t;

enum {
    LXB_CSS_FLOAT_OFFSET__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_FLOAT_OFFSET__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_float_offset_type_t;

enum {
    LXB_CSS_FLOAT_REFERENCE_INLINE = LXB_CSS_VALUE_INLINE,
    LXB_CSS_FLOAT_REFERENCE_COLUMN = LXB_CSS_VALUE_COLUMN,
    LXB_CSS_FLOAT_REFERENCE_REGION = LXB_CSS_VALUE_REGION,
    LXB_CSS_FLOAT_REFERENCE_PAGE   = LXB_CSS_VALUE_PAGE
};
typedef unsigned int lxb_css_float_reference_type_t;

enum {
    LXB_CSS_FONT_FAMILY_SERIF         = LXB_CSS_VALUE_SERIF,
    LXB_CSS_FONT_FAMILY_SANS_SERIF    = LXB_CSS_VALUE_SANS_SERIF,
    LXB_CSS_FONT_FAMILY_CURSIVE       = LXB_CSS_VALUE_CURSIVE,
    LXB_CSS_FONT_FAMILY_FANTASY       = LXB_CSS_VALUE_FANTASY,
    LXB_CSS_FONT_FAMILY_MONOSPACE     = LXB_CSS_VALUE_MONOSPACE,
    LXB_CSS_FONT_FAMILY_SYSTEM_UI     = LXB_CSS_VALUE_SYSTEM_UI,
    LXB_CSS_FONT_FAMILY_EMOJI         = LXB_CSS_VALUE_EMOJI,
    LXB_CSS_FONT_FAMILY_MATH          = LXB_CSS_VALUE_MATH,
    LXB_CSS_FONT_FAMILY_FANGSONG      = LXB_CSS_VALUE_FANGSONG,
    LXB_CSS_FONT_FAMILY_UI_SERIF      = LXB_CSS_VALUE_UI_SERIF,
    LXB_CSS_FONT_FAMILY_UI_SANS_SERIF = LXB_CSS_VALUE_UI_SANS_SERIF,
    LXB_CSS_FONT_FAMILY_UI_MONOSPACE  = LXB_CSS_VALUE_UI_MONOSPACE,
    LXB_CSS_FONT_FAMILY_UI_ROUNDED    = LXB_CSS_VALUE_UI_ROUNDED
};
typedef unsigned int lxb_css_font_family_type_t;

enum {
    LXB_CSS_FONT_SIZE_XX_SMALL  = LXB_CSS_VALUE_XX_SMALL,
    LXB_CSS_FONT_SIZE_X_SMALL   = LXB_CSS_VALUE_X_SMALL,
    LXB_CSS_FONT_SIZE_SMALL     = LXB_CSS_VALUE_SMALL,
    LXB_CSS_FONT_SIZE_MEDIUM    = LXB_CSS_VALUE_MEDIUM,
    LXB_CSS_FONT_SIZE_LARGE     = LXB_CSS_VALUE_LARGE,
    LXB_CSS_FONT_SIZE_X_LARGE   = LXB_CSS_VALUE_X_LARGE,
    LXB_CSS_FONT_SIZE_XX_LARGE  = LXB_CSS_VALUE_XX_LARGE,
    LXB_CSS_FONT_SIZE_XXX_LARGE = LXB_CSS_VALUE_XXX_LARGE,
    LXB_CSS_FONT_SIZE_LARGER    = LXB_CSS_VALUE_LARGER,
    LXB_CSS_FONT_SIZE_SMALLER   = LXB_CSS_VALUE_SMALLER,
    LXB_CSS_FONT_SIZE_MATH      = LXB_CSS_VALUE_MATH,
    LXB_CSS_FONT_SIZE__LENGTH   = LXB_CSS_VALUE__LENGTH
};
typedef unsigned int lxb_css_font_size_type_t;

enum {
    LXB_CSS_FONT_STRETCH_NORMAL          = LXB_CSS_VALUE_NORMAL,
    LXB_CSS_FONT_STRETCH__PERCENTAGE     = LXB_CSS_VALUE__PERCENTAGE,
    LXB_CSS_FONT_STRETCH_ULTRA_CONDENSED = LXB_CSS_VALUE_ULTRA_CONDENSED,
    LXB_CSS_FONT_STRETCH_EXTRA_CONDENSED = LXB_CSS_VALUE_EXTRA_CONDENSED,
    LXB_CSS_FONT_STRETCH_CONDENSED       = LXB_CSS_VALUE_CONDENSED,
    LXB_CSS_FONT_STRETCH_SEMI_CONDENSED  = LXB_CSS_VALUE_SEMI_CONDENSED,
    LXB_CSS_FONT_STRETCH_SEMI_EXPANDED   = LXB_CSS_VALUE_SEMI_EXPANDED,
    LXB_CSS_FONT_STRETCH_EXPANDED        = LXB_CSS_VALUE_EXPANDED,
    LXB_CSS_FONT_STRETCH_EXTRA_EXPANDED  = LXB_CSS_VALUE_EXTRA_EXPANDED,
    LXB_CSS_FONT_STRETCH_ULTRA_EXPANDED  = LXB_CSS_VALUE_ULTRA_EXPANDED
};
typedef unsigned int lxb_css_font_stretch_type_t;

enum {
    LXB_CSS_FONT_STYLE_NORMAL  = LXB_CSS_VALUE_NORMAL,
    LXB_CSS_FONT_STYLE_ITALIC  = LXB_CSS_VALUE_ITALIC,
    LXB_CSS_FONT_STYLE_OBLIQUE = LXB_CSS_VALUE_OBLIQUE
};
typedef unsigned int lxb_css_font_style_type_t;

enum {
    LXB_CSS_FONT_WEIGHT_NORMAL  = LXB_CSS_VALUE_NORMAL,
    LXB_CSS_FONT_WEIGHT_BOLD    = LXB_CSS_VALUE_BOLD,
    LXB_CSS_FONT_WEIGHT__NUMBER = LXB_CSS_VALUE__NUMBER,
    LXB_CSS_FONT_WEIGHT_BOLDER  = LXB_CSS_VALUE_BOLDER,
    LXB_CSS_FONT_WEIGHT_LIGHTER = LXB_CSS_VALUE_LIGHTER
};
typedef unsigned int lxb_css_font_weight_type_t;

enum {
    LXB_CSS_HANGING_PUNCTUATION_NONE      = LXB_CSS_VALUE_NONE,
    LXB_CSS_HANGING_PUNCTUATION_FIRST     = LXB_CSS_VALUE_FIRST,
    LXB_CSS_HANGING_PUNCTUATION_FORCE_END = LXB_CSS_VALUE_FORCE_END,
    LXB_CSS_HANGING_PUNCTUATION_ALLOW_END = LXB_CSS_VALUE_ALLOW_END,
    LXB_CSS_HANGING_PUNCTUATION_LAST      = LXB_CSS_VALUE_LAST
};
typedef unsigned int lxb_css_hanging_punctuation_type_t;

enum {
    LXB_CSS_HEIGHT_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_HEIGHT_MIN_CONTENT = LXB_CSS_VALUE_MIN_CONTENT,
    LXB_CSS_HEIGHT_MAX_CONTENT = LXB_CSS_VALUE_MAX_CONTENT,
    LXB_CSS_HEIGHT__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_HEIGHT__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE,
    LXB_CSS_HEIGHT__NUMBER     = LXB_CSS_VALUE__NUMBER,
    LXB_CSS_HEIGHT__ANGLE      = LXB_CSS_VALUE__ANGLE
};
typedef unsigned int lxb_css_height_type_t;

enum {
    LXB_CSS_HYPHENS_NONE   = LXB_CSS_VALUE_NONE,
    LXB_CSS_HYPHENS_MANUAL = LXB_CSS_VALUE_MANUAL,
    LXB_CSS_HYPHENS_AUTO   = LXB_CSS_VALUE_AUTO
};
typedef unsigned int lxb_css_hyphens_type_t;

enum {
    LXB_CSS_INSET_BLOCK_END_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_INSET_BLOCK_END__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_INSET_BLOCK_END__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_inset_block_end_type_t;

enum {
    LXB_CSS_INSET_BLOCK_START_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_INSET_BLOCK_START__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_INSET_BLOCK_START__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_inset_block_start_type_t;

enum {
    LXB_CSS_INSET_INLINE_END_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_INSET_INLINE_END__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_INSET_INLINE_END__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_inset_inline_end_type_t;

enum {
    LXB_CSS_INSET_INLINE_START_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_INSET_INLINE_START__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_INSET_INLINE_START__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_inset_inline_start_type_t;

enum {
    LXB_CSS_JUSTIFY_CONTENT_FLEX_START    = LXB_CSS_VALUE_FLEX_START,
    LXB_CSS_JUSTIFY_CONTENT_FLEX_END      = LXB_CSS_VALUE_FLEX_END,
    LXB_CSS_JUSTIFY_CONTENT_CENTER        = LXB_CSS_VALUE_CENTER,
    LXB_CSS_JUSTIFY_CONTENT_SPACE_BETWEEN = LXB_CSS_VALUE_SPACE_BETWEEN,
    LXB_CSS_JUSTIFY_CONTENT_SPACE_AROUND  = LXB_CSS_VALUE_SPACE_AROUND
};
typedef unsigned int lxb_css_justify_content_type_t;

enum {
    LXB_CSS_LEFT_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_LEFT__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_LEFT__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_left_type_t;

enum {
    LXB_CSS_LETTER_SPACING_NORMAL  = LXB_CSS_VALUE_NORMAL,
    LXB_CSS_LETTER_SPACING__LENGTH = LXB_CSS_VALUE__LENGTH
};
typedef unsigned int lxb_css_letter_spacing_type_t;

enum {
    LXB_CSS_LINE_BREAK_AUTO     = LXB_CSS_VALUE_AUTO,
    LXB_CSS_LINE_BREAK_LOOSE    = LXB_CSS_VALUE_LOOSE,
    LXB_CSS_LINE_BREAK_NORMAL   = LXB_CSS_VALUE_NORMAL,
    LXB_CSS_LINE_BREAK_STRICT   = LXB_CSS_VALUE_STRICT,
    LXB_CSS_LINE_BREAK_ANYWHERE = LXB_CSS_VALUE_ANYWHERE
};
typedef unsigned int lxb_css_line_break_type_t;

enum {
    LXB_CSS_LINE_HEIGHT_NORMAL      = LXB_CSS_VALUE_NORMAL,
    LXB_CSS_LINE_HEIGHT__NUMBER     = LXB_CSS_VALUE__NUMBER,
    LXB_CSS_LINE_HEIGHT__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_LINE_HEIGHT__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_line_height_type_t;

enum {
    LXB_CSS_MARGIN_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_MARGIN__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_MARGIN__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_margin_type_t;

enum {
    LXB_CSS_MARGIN_BOTTOM_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_MARGIN_BOTTOM__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_MARGIN_BOTTOM__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_margin_bottom_type_t;

enum {
    LXB_CSS_MARGIN_LEFT_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_MARGIN_LEFT__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_MARGIN_LEFT__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_margin_left_type_t;

enum {
    LXB_CSS_MARGIN_RIGHT_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_MARGIN_RIGHT__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_MARGIN_RIGHT__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_margin_right_type_t;

enum {
    LXB_CSS_MARGIN_TOP_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_MARGIN_TOP__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_MARGIN_TOP__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_margin_top_type_t;

enum {
    LXB_CSS_MAX_HEIGHT_NONE        = LXB_CSS_VALUE_NONE,
    LXB_CSS_MAX_HEIGHT_MIN_CONTENT = LXB_CSS_VALUE_MIN_CONTENT,
    LXB_CSS_MAX_HEIGHT_MAX_CONTENT = LXB_CSS_VALUE_MAX_CONTENT,
    LXB_CSS_MAX_HEIGHT__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_MAX_HEIGHT__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE,
    LXB_CSS_MAX_HEIGHT__NUMBER     = LXB_CSS_VALUE__NUMBER,
    LXB_CSS_MAX_HEIGHT__ANGLE      = LXB_CSS_VALUE__ANGLE
};
typedef unsigned int lxb_css_max_height_type_t;

enum {
    LXB_CSS_MAX_WIDTH_NONE        = LXB_CSS_VALUE_NONE,
    LXB_CSS_MAX_WIDTH_MIN_CONTENT = LXB_CSS_VALUE_MIN_CONTENT,
    LXB_CSS_MAX_WIDTH_MAX_CONTENT = LXB_CSS_VALUE_MAX_CONTENT,
    LXB_CSS_MAX_WIDTH__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_MAX_WIDTH__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE,
    LXB_CSS_MAX_WIDTH__NUMBER     = LXB_CSS_VALUE__NUMBER,
    LXB_CSS_MAX_WIDTH__ANGLE      = LXB_CSS_VALUE__ANGLE
};
typedef unsigned int lxb_css_max_width_type_t;

enum {
    LXB_CSS_MIN_HEIGHT_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_MIN_HEIGHT_MIN_CONTENT = LXB_CSS_VALUE_MIN_CONTENT,
    LXB_CSS_MIN_HEIGHT_MAX_CONTENT = LXB_CSS_VALUE_MAX_CONTENT,
    LXB_CSS_MIN_HEIGHT__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_MIN_HEIGHT__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE,
    LXB_CSS_MIN_HEIGHT__NUMBER     = LXB_CSS_VALUE__NUMBER,
    LXB_CSS_MIN_HEIGHT__ANGLE      = LXB_CSS_VALUE__ANGLE
};
typedef unsigned int lxb_css_min_height_type_t;

enum {
    LXB_CSS_MIN_WIDTH_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_MIN_WIDTH_MIN_CONTENT = LXB_CSS_VALUE_MIN_CONTENT,
    LXB_CSS_MIN_WIDTH_MAX_CONTENT = LXB_CSS_VALUE_MAX_CONTENT,
    LXB_CSS_MIN_WIDTH__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_MIN_WIDTH__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE,
    LXB_CSS_MIN_WIDTH__NUMBER     = LXB_CSS_VALUE__NUMBER,
    LXB_CSS_MIN_WIDTH__ANGLE      = LXB_CSS_VALUE__ANGLE
};
typedef unsigned int lxb_css_min_width_type_t;

enum {
    LXB_CSS_OPACITY__NUMBER     = LXB_CSS_VALUE__NUMBER,
    LXB_CSS_OPACITY__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_opacity_type_t;

enum {
    LXB_CSS_ORDER__INTEGER = LXB_CSS_VALUE__INTEGER
};
typedef unsigned int lxb_css_order_type_t;

enum {
    LXB_CSS_OVERFLOW_BLOCK_VISIBLE = LXB_CSS_VALUE_VISIBLE,
    LXB_CSS_OVERFLOW_BLOCK_HIDDEN  = LXB_CSS_VALUE_HIDDEN,
    LXB_CSS_OVERFLOW_BLOCK_CLIP    = LXB_CSS_VALUE_CLIP,
    LXB_CSS_OVERFLOW_BLOCK_SCROLL  = LXB_CSS_VALUE_SCROLL,
    LXB_CSS_OVERFLOW_BLOCK_AUTO    = LXB_CSS_VALUE_AUTO
};
typedef unsigned int lxb_css_overflow_block_type_t;

enum {
    LXB_CSS_OVERFLOW_INLINE_VISIBLE = LXB_CSS_VALUE_VISIBLE,
    LXB_CSS_OVERFLOW_INLINE_HIDDEN  = LXB_CSS_VALUE_HIDDEN,
    LXB_CSS_OVERFLOW_INLINE_CLIP    = LXB_CSS_VALUE_CLIP,
    LXB_CSS_OVERFLOW_INLINE_SCROLL  = LXB_CSS_VALUE_SCROLL,
    LXB_CSS_OVERFLOW_INLINE_AUTO    = LXB_CSS_VALUE_AUTO
};
typedef unsigned int lxb_css_overflow_inline_type_t;

enum {
    LXB_CSS_OVERFLOW_WRAP_NORMAL     = LXB_CSS_VALUE_NORMAL,
    LXB_CSS_OVERFLOW_WRAP_BREAK_WORD = LXB_CSS_VALUE_BREAK_WORD,
    LXB_CSS_OVERFLOW_WRAP_ANYWHERE   = LXB_CSS_VALUE_ANYWHERE
};
typedef unsigned int lxb_css_overflow_wrap_type_t;

enum {
    LXB_CSS_OVERFLOW_X_VISIBLE = LXB_CSS_VALUE_VISIBLE,
    LXB_CSS_OVERFLOW_X_HIDDEN  = LXB_CSS_VALUE_HIDDEN,
    LXB_CSS_OVERFLOW_X_CLIP    = LXB_CSS_VALUE_CLIP,
    LXB_CSS_OVERFLOW_X_SCROLL  = LXB_CSS_VALUE_SCROLL,
    LXB_CSS_OVERFLOW_X_AUTO    = LXB_CSS_VALUE_AUTO
};
typedef unsigned int lxb_css_overflow_x_type_t;

enum {
    LXB_CSS_OVERFLOW_Y_VISIBLE = LXB_CSS_VALUE_VISIBLE,
    LXB_CSS_OVERFLOW_Y_HIDDEN  = LXB_CSS_VALUE_HIDDEN,
    LXB_CSS_OVERFLOW_Y_CLIP    = LXB_CSS_VALUE_CLIP,
    LXB_CSS_OVERFLOW_Y_SCROLL  = LXB_CSS_VALUE_SCROLL,
    LXB_CSS_OVERFLOW_Y_AUTO    = LXB_CSS_VALUE_AUTO
};
typedef unsigned int lxb_css_overflow_y_type_t;

enum {
    LXB_CSS_PADDING_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_PADDING__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_PADDING__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_padding_type_t;

enum {
    LXB_CSS_PADDING_BOTTOM_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_PADDING_BOTTOM__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_PADDING_BOTTOM__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_padding_bottom_type_t;

enum {
    LXB_CSS_PADDING_LEFT_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_PADDING_LEFT__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_PADDING_LEFT__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_padding_left_type_t;

enum {
    LXB_CSS_PADDING_RIGHT_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_PADDING_RIGHT__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_PADDING_RIGHT__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_padding_right_type_t;

enum {
    LXB_CSS_PADDING_TOP_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_PADDING_TOP__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_PADDING_TOP__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_padding_top_type_t;

enum {
    LXB_CSS_POSITION_STATIC   = LXB_CSS_VALUE_STATIC,
    LXB_CSS_POSITION_RELATIVE = LXB_CSS_VALUE_RELATIVE,
    LXB_CSS_POSITION_ABSOLUTE = LXB_CSS_VALUE_ABSOLUTE,
    LXB_CSS_POSITION_STICKY   = LXB_CSS_VALUE_STICKY,
    LXB_CSS_POSITION_FIXED    = LXB_CSS_VALUE_FIXED
};
typedef unsigned int lxb_css_position_type_t;

enum {
    LXB_CSS_RIGHT_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_RIGHT__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_RIGHT__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_right_type_t;

enum {
    LXB_CSS_TAB_SIZE__NUMBER = LXB_CSS_VALUE__NUMBER,
    LXB_CSS_TAB_SIZE__LENGTH = LXB_CSS_VALUE__LENGTH
};
typedef unsigned int lxb_css_tab_size_type_t;

enum {
    LXB_CSS_TEXT_ALIGN_START        = LXB_CSS_VALUE_START,
    LXB_CSS_TEXT_ALIGN_END          = LXB_CSS_VALUE_END,
    LXB_CSS_TEXT_ALIGN_LEFT         = LXB_CSS_VALUE_LEFT,
    LXB_CSS_TEXT_ALIGN_RIGHT        = LXB_CSS_VALUE_RIGHT,
    LXB_CSS_TEXT_ALIGN_CENTER       = LXB_CSS_VALUE_CENTER,
    LXB_CSS_TEXT_ALIGN_JUSTIFY      = LXB_CSS_VALUE_JUSTIFY,
    LXB_CSS_TEXT_ALIGN_MATCH_PARENT = LXB_CSS_VALUE_MATCH_PARENT,
    LXB_CSS_TEXT_ALIGN_JUSTIFY_ALL  = LXB_CSS_VALUE_JUSTIFY_ALL
};
typedef unsigned int lxb_css_text_align_type_t;

enum {
    LXB_CSS_TEXT_ALIGN_ALL_START        = LXB_CSS_VALUE_START,
    LXB_CSS_TEXT_ALIGN_ALL_END          = LXB_CSS_VALUE_END,
    LXB_CSS_TEXT_ALIGN_ALL_LEFT         = LXB_CSS_VALUE_LEFT,
    LXB_CSS_TEXT_ALIGN_ALL_RIGHT        = LXB_CSS_VALUE_RIGHT,
    LXB_CSS_TEXT_ALIGN_ALL_CENTER       = LXB_CSS_VALUE_CENTER,
    LXB_CSS_TEXT_ALIGN_ALL_JUSTIFY      = LXB_CSS_VALUE_JUSTIFY,
    LXB_CSS_TEXT_ALIGN_ALL_MATCH_PARENT = LXB_CSS_VALUE_MATCH_PARENT
};
typedef unsigned int lxb_css_text_align_all_type_t;

enum {
    LXB_CSS_TEXT_ALIGN_LAST_AUTO         = LXB_CSS_VALUE_AUTO,
    LXB_CSS_TEXT_ALIGN_LAST_START        = LXB_CSS_VALUE_START,
    LXB_CSS_TEXT_ALIGN_LAST_END          = LXB_CSS_VALUE_END,
    LXB_CSS_TEXT_ALIGN_LAST_LEFT         = LXB_CSS_VALUE_LEFT,
    LXB_CSS_TEXT_ALIGN_LAST_RIGHT        = LXB_CSS_VALUE_RIGHT,
    LXB_CSS_TEXT_ALIGN_LAST_CENTER       = LXB_CSS_VALUE_CENTER,
    LXB_CSS_TEXT_ALIGN_LAST_JUSTIFY      = LXB_CSS_VALUE_JUSTIFY,
    LXB_CSS_TEXT_ALIGN_LAST_MATCH_PARENT = LXB_CSS_VALUE_MATCH_PARENT
};
typedef unsigned int lxb_css_text_align_last_type_t;

enum {
    LXB_CSS_TEXT_COMBINE_UPRIGHT_NONE   = LXB_CSS_VALUE_NONE,
    LXB_CSS_TEXT_COMBINE_UPRIGHT_ALL    = LXB_CSS_VALUE_ALL,
    LXB_CSS_TEXT_COMBINE_UPRIGHT_DIGITS = LXB_CSS_VALUE_DIGITS
};
typedef unsigned int lxb_css_text_combine_upright_type_t;


enum {
    LXB_CSS_TEXT_DECORATION_LINE_NONE         = LXB_CSS_VALUE_NONE,
    LXB_CSS_TEXT_DECORATION_LINE_UNDERLINE    = LXB_CSS_VALUE_UNDERLINE,
    LXB_CSS_TEXT_DECORATION_LINE_OVERLINE     = LXB_CSS_VALUE_OVERLINE,
    LXB_CSS_TEXT_DECORATION_LINE_LINE_THROUGH = LXB_CSS_VALUE_LINE_THROUGH,
    LXB_CSS_TEXT_DECORATION_LINE_BLINK        = LXB_CSS_VALUE_BLINK
};
typedef unsigned int lxb_css_text_decoration_line_type_t;

enum {
    LXB_CSS_TEXT_DECORATION_STYLE_SOLID  = LXB_CSS_VALUE_SOLID,
    LXB_CSS_TEXT_DECORATION_STYLE_DOUBLE = LXB_CSS_VALUE_DOUBLE,
    LXB_CSS_TEXT_DECORATION_STYLE_DOTTED = LXB_CSS_VALUE_DOTTED,
    LXB_CSS_TEXT_DECORATION_STYLE_DASHED = LXB_CSS_VALUE_DASHED,
    LXB_CSS_TEXT_DECORATION_STYLE_WAVY   = LXB_CSS_VALUE_WAVY
};
typedef unsigned int lxb_css_text_decoration_style_type_t;

enum {
    LXB_CSS_TEXT_INDENT__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_TEXT_INDENT__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE,
    LXB_CSS_TEXT_INDENT_HANGING     = LXB_CSS_VALUE_HANGING,
    LXB_CSS_TEXT_INDENT_EACH_LINE   = LXB_CSS_VALUE_EACH_LINE
};
typedef unsigned int lxb_css_text_indent_type_t;

enum {
    LXB_CSS_TEXT_JUSTIFY_AUTO            = LXB_CSS_VALUE_AUTO,
    LXB_CSS_TEXT_JUSTIFY_NONE            = LXB_CSS_VALUE_NONE,
    LXB_CSS_TEXT_JUSTIFY_INTER_WORD      = LXB_CSS_VALUE_INTER_WORD,
    LXB_CSS_TEXT_JUSTIFY_INTER_CHARACTER = LXB_CSS_VALUE_INTER_CHARACTER
};
typedef unsigned int lxb_css_text_justify_type_t;

enum {
    LXB_CSS_TEXT_ORIENTATION_MIXED    = LXB_CSS_VALUE_MIXED,
    LXB_CSS_TEXT_ORIENTATION_UPRIGHT  = LXB_CSS_VALUE_UPRIGHT,
    LXB_CSS_TEXT_ORIENTATION_SIDEWAYS = LXB_CSS_VALUE_SIDEWAYS
};
typedef unsigned int lxb_css_text_orientation_type_t;

enum {
    LXB_CSS_TEXT_OVERFLOW_CLIP     = LXB_CSS_VALUE_CLIP,
    LXB_CSS_TEXT_OVERFLOW_ELLIPSIS = LXB_CSS_VALUE_ELLIPSIS
};
typedef unsigned int lxb_css_text_overflow_type_t;

enum {
    LXB_CSS_TEXT_TRANSFORM_NONE           = LXB_CSS_VALUE_NONE,
    LXB_CSS_TEXT_TRANSFORM_CAPITALIZE     = LXB_CSS_VALUE_CAPITALIZE,
    LXB_CSS_TEXT_TRANSFORM_UPPERCASE      = LXB_CSS_VALUE_UPPERCASE,
    LXB_CSS_TEXT_TRANSFORM_LOWERCASE      = LXB_CSS_VALUE_LOWERCASE,
    LXB_CSS_TEXT_TRANSFORM_FULL_WIDTH     = LXB_CSS_VALUE_FULL_WIDTH,
    LXB_CSS_TEXT_TRANSFORM_FULL_SIZE_KANA = LXB_CSS_VALUE_FULL_SIZE_KANA
};
typedef unsigned int lxb_css_text_transform_type_t;

enum {
    LXB_CSS_TOP_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_TOP__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_TOP__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE
};
typedef unsigned int lxb_css_top_type_t;

enum {
    LXB_CSS_UNICODE_BIDI_NORMAL           = LXB_CSS_VALUE_NORMAL,
    LXB_CSS_UNICODE_BIDI_EMBED            = LXB_CSS_VALUE_EMBED,
    LXB_CSS_UNICODE_BIDI_ISOLATE          = LXB_CSS_VALUE_ISOLATE,
    LXB_CSS_UNICODE_BIDI_BIDI_OVERRIDE    = LXB_CSS_VALUE_BIDI_OVERRIDE,
    LXB_CSS_UNICODE_BIDI_ISOLATE_OVERRIDE = LXB_CSS_VALUE_ISOLATE_OVERRIDE,
    LXB_CSS_UNICODE_BIDI_PLAINTEXT        = LXB_CSS_VALUE_PLAINTEXT
};
typedef unsigned int lxb_css_unicode_bidi_type_t;

enum {
    LXB_CSS_VERTICAL_ALIGN_FIRST = LXB_CSS_VALUE_FIRST,
    LXB_CSS_VERTICAL_ALIGN_LAST  = LXB_CSS_VALUE_LAST
};
typedef unsigned int lxb_css_vertical_align_type_t;

enum {
    LXB_CSS_VISIBILITY_VISIBLE  = LXB_CSS_VALUE_VISIBLE,
    LXB_CSS_VISIBILITY_HIDDEN   = LXB_CSS_VALUE_HIDDEN,
    LXB_CSS_VISIBILITY_COLLAPSE = LXB_CSS_VALUE_COLLAPSE
};
typedef unsigned int lxb_css_visibility_type_t;

enum {
    LXB_CSS_WHITE_SPACE_NORMAL       = LXB_CSS_VALUE_NORMAL,
    LXB_CSS_WHITE_SPACE_PRE          = LXB_CSS_VALUE_PRE,
    LXB_CSS_WHITE_SPACE_NOWRAP       = LXB_CSS_VALUE_NOWRAP,
    LXB_CSS_WHITE_SPACE_PRE_WRAP     = LXB_CSS_VALUE_PRE_WRAP,
    LXB_CSS_WHITE_SPACE_BREAK_SPACES = LXB_CSS_VALUE_BREAK_SPACES,
    LXB_CSS_WHITE_SPACE_PRE_LINE     = LXB_CSS_VALUE_PRE_LINE
};
typedef unsigned int lxb_css_white_space_type_t;

enum {
    LXB_CSS_WIDTH_AUTO        = LXB_CSS_VALUE_AUTO,
    LXB_CSS_WIDTH_MIN_CONTENT = LXB_CSS_VALUE_MIN_CONTENT,
    LXB_CSS_WIDTH_MAX_CONTENT = LXB_CSS_VALUE_MAX_CONTENT,
    LXB_CSS_WIDTH__LENGTH     = LXB_CSS_VALUE__LENGTH,
    LXB_CSS_WIDTH__PERCENTAGE = LXB_CSS_VALUE__PERCENTAGE,
    LXB_CSS_WIDTH__NUMBER     = LXB_CSS_VALUE__NUMBER,
    LXB_CSS_WIDTH__ANGLE      = LXB_CSS_VALUE__ANGLE
};
typedef unsigned int lxb_css_width_type_t;

enum {
    LXB_CSS_WORD_BREAK_NORMAL     = LXB_CSS_VALUE_NORMAL,
    LXB_CSS_WORD_BREAK_KEEP_ALL   = LXB_CSS_VALUE_KEEP_ALL,
    LXB_CSS_WORD_BREAK_BREAK_ALL  = LXB_CSS_VALUE_BREAK_ALL,
    LXB_CSS_WORD_BREAK_BREAK_WORD = LXB_CSS_VALUE_BREAK_WORD
};
typedef unsigned int lxb_css_word_break_type_t;

enum {
    LXB_CSS_WORD_SPACING_NORMAL  = LXB_CSS_VALUE_NORMAL,
    LXB_CSS_WORD_SPACING__LENGTH = LXB_CSS_VALUE__LENGTH
};
typedef unsigned int lxb_css_word_spacing_type_t;

enum {
    LXB_CSS_WORD_WRAP_NORMAL     = LXB_CSS_VALUE_NORMAL,
    LXB_CSS_WORD_WRAP_BREAK_WORD = LXB_CSS_VALUE_BREAK_WORD,
    LXB_CSS_WORD_WRAP_ANYWHERE   = LXB_CSS_VALUE_ANYWHERE
};
typedef unsigned int lxb_css_word_wrap_type_t;

enum {
    LXB_CSS_WRAP_FLOW_AUTO    = LXB_CSS_VALUE_AUTO,
    LXB_CSS_WRAP_FLOW_BOTH    = LXB_CSS_VALUE_BOTH,
    LXB_CSS_WRAP_FLOW_START   = LXB_CSS_VALUE_START,
    LXB_CSS_WRAP_FLOW_END     = LXB_CSS_VALUE_END,
    LXB_CSS_WRAP_FLOW_MINIMUM = LXB_CSS_VALUE_MINIMUM,
    LXB_CSS_WRAP_FLOW_MAXIMUM = LXB_CSS_VALUE_MAXIMUM,
    LXB_CSS_WRAP_FLOW_CLEAR   = LXB_CSS_VALUE_CLEAR
};
typedef unsigned int lxb_css_wrap_flow_type_t;

enum {
    LXB_CSS_WRAP_THROUGH_WRAP = LXB_CSS_VALUE_WRAP,
    LXB_CSS_WRAP_THROUGH_NONE = LXB_CSS_VALUE_NONE
};
typedef unsigned int lxb_css_wrap_through_type_t;

enum {
    LXB_CSS_WRITING_MODE_HORIZONTAL_TB = LXB_CSS_VALUE_HORIZONTAL_TB,
    LXB_CSS_WRITING_MODE_VERTICAL_RL   = LXB_CSS_VALUE_VERTICAL_RL,
    LXB_CSS_WRITING_MODE_VERTICAL_LR   = LXB_CSS_VALUE_VERTICAL_LR,
    LXB_CSS_WRITING_MODE_SIDEWAYS_RL   = LXB_CSS_VALUE_SIDEWAYS_RL,
    LXB_CSS_WRITING_MODE_SIDEWAYS_LR   = LXB_CSS_VALUE_SIDEWAYS_LR
};
typedef unsigned int lxb_css_writing_mode_type_t;

enum {
    LXB_CSS_Z_INDEX_AUTO     = LXB_CSS_VALUE_AUTO,
    LXB_CSS_Z_INDEX__INTEGER = LXB_CSS_VALUE__INTEGER
};
typedef unsigned int lxb_css_z_index_type_t;


#endif /* LXB_CSS_PROPERTY_CONST_H */

/* Header: source/lexbor/css/unit/const.h */

#ifndef LXB_CSS_UNIT_CONST_H
#define LXB_CSS_UNIT_CONST_H


typedef enum {
    LXB_CSS_UNIT__UNDEF      = 0x0000,
    LXB_CSS_UNIT__LAST_ENTRY = 0x0022
}
lxb_css_unit_t;

typedef enum {
    LXB_CSS_UNIT_ABSOLUTE__BEGIN      = 0x0001,
    LXB_CSS_UNIT_Q                    = 0x0001,
    LXB_CSS_UNIT_CM                   = 0x0002,
    LXB_CSS_UNIT_IN                   = 0x0003,
    LXB_CSS_UNIT_MM                   = 0x0004,
    LXB_CSS_UNIT_PC                   = 0x0005,
    LXB_CSS_UNIT_PT                   = 0x0006,
    LXB_CSS_UNIT_PX                   = 0x0007,
    LXB_CSS_UNIT_ABSOLUTE__LAST_ENTRY = 0x0008
}
lxb_css_unit_absolute_t;

typedef enum {
    LXB_CSS_UNIT_RELATIVE__BEGIN      = 0x0008,
    LXB_CSS_UNIT_CAP                  = 0x0008,
    LXB_CSS_UNIT_CH                   = 0x0009,
    LXB_CSS_UNIT_EM                   = 0x000a,
    LXB_CSS_UNIT_EX                   = 0x000b,
    LXB_CSS_UNIT_IC                   = 0x000c,
    LXB_CSS_UNIT_LH                   = 0x000d,
    LXB_CSS_UNIT_REM                  = 0x000e,
    LXB_CSS_UNIT_RLH                  = 0x000f,
    LXB_CSS_UNIT_VB                   = 0x0010,
    LXB_CSS_UNIT_VH                   = 0x0011,
    LXB_CSS_UNIT_VI                   = 0x0012,
    LXB_CSS_UNIT_VMAX                 = 0x0013,
    LXB_CSS_UNIT_VMIN                 = 0x0014,
    LXB_CSS_UNIT_VW                   = 0x0015,
    LXB_CSS_UNIT_RELATIVE__LAST_ENTRY = 0x0016
}
lxb_css_unit_relative_t;

typedef enum {
    LXB_CSS_UNIT_ANGLE__BEGIN      = 0x0016,
    LXB_CSS_UNIT_DEG               = 0x0016,
    LXB_CSS_UNIT_GRAD              = 0x0017,
    LXB_CSS_UNIT_RAD               = 0x0018,
    LXB_CSS_UNIT_TURN              = 0x0019,
    LXB_CSS_UNIT_ANGLE__LAST_ENTRY = 0x001a
}
lxb_css_unit_angle_t;

typedef enum {
    LXB_CSS_UNIT_FREQUENCY__BEGIN      = 0x001a,
    LXB_CSS_UNIT_HZ                    = 0x001a,
    LXB_CSS_UNIT_KHZ                   = 0x001b,
    LXB_CSS_UNIT_FREQUENCY__LAST_ENTRY = 0x001c
}
lxb_css_unit_frequency_t;

typedef enum {
    LXB_CSS_UNIT_RESOLUTION__BEGIN      = 0x001c,
    LXB_CSS_UNIT_DPCM                   = 0x001c,
    LXB_CSS_UNIT_DPI                    = 0x001d,
    LXB_CSS_UNIT_DPPX                   = 0x001e,
    LXB_CSS_UNIT_X                      = 0x001f,
    LXB_CSS_UNIT_RESOLUTION__LAST_ENTRY = 0x0020
}
lxb_css_unit_resolution_t;

typedef enum {
    LXB_CSS_UNIT_DURATION__BEGIN      = 0x0020,
    LXB_CSS_UNIT_MS                   = 0x0020,
    LXB_CSS_UNIT_S                    = 0x0021,
    LXB_CSS_UNIT_DURATION__LAST_ENTRY = 0x0022
}
lxb_css_unit_duration_t;


#endif /* LXB_CSS_UNIT_CONST_H */

/* Header: source/lexbor/css/value.h */

#ifndef LXB_CSS_VALUE_H
#define LXB_CSS_VALUE_H


typedef struct {
    double              num;
    bool                is_float;
}
lxb_css_value_number_t;

typedef struct {
    long num;
}
lxb_css_value_integer_t;

typedef lxb_css_value_number_t lxb_css_value_percentage_t;

typedef struct {
    double              num;
    bool                is_float;
    lxb_css_unit_t      unit;
}
lxb_css_value_length_t;

typedef struct {
    lxb_css_value_type_t type;

    union {
        lxb_css_value_length_t     length;
        lxb_css_value_percentage_t percentage;
    } u;
}
lxb_css_value_length_percentage_t;

typedef struct {
    lxb_css_value_type_t type;

    union {
        lxb_css_value_number_t     number;
        lxb_css_value_length_t     length;
        lxb_css_value_percentage_t percentage;
    } u;
}
lxb_css_value_number_length_percentage_t;

typedef struct {
    lxb_css_value_type_t type;

    union {
        lxb_css_value_number_t number;
        lxb_css_value_length_t length;
    } u;
}
lxb_css_value_number_length_t;

typedef struct {
    lxb_css_value_type_t type;

    union {
        lxb_css_value_number_t     number;
        lxb_css_value_percentage_t percentage;
    } u;
}
lxb_css_value_number_percentage_t;

typedef struct {
    lxb_css_value_type_t   type;
    lxb_css_value_number_t number;
}
lxb_css_value_number_type_t;

typedef struct {
    lxb_css_value_type_t    type;
    lxb_css_value_integer_t integer;
}
lxb_css_value_integer_type_t;

typedef struct {
    lxb_css_value_type_t       type;
    lxb_css_value_percentage_t percentage;
}
lxb_css_value_percentage_type_t;

typedef struct {
    lxb_css_value_type_t   type;
    lxb_css_value_length_t length;
}
lxb_css_value_length_type_t;

typedef struct {
    lxb_css_value_type_t              type;
    lxb_css_value_length_percentage_t length;
}
lxb_css_value_length_percentage_type_t;

typedef struct {
    double               num;
    bool                 is_float;
    lxb_css_unit_angle_t unit;
}
lxb_css_value_angle_t;

typedef struct {
    lxb_css_value_type_t  type;
    lxb_css_value_angle_t angle;
}
lxb_css_value_angle_type_t;

typedef struct {
    lxb_css_value_type_t type;

    union {
        lxb_css_value_number_t number;
        lxb_css_value_angle_t  angle;
    } u;
}
lxb_css_value_hue_t;

typedef struct {
    uint8_t r;
    uint8_t g;
    uint8_t b;
    uint8_t a;
}
lxb_css_value_color_hex_rgba_t;

typedef enum {
    LXB_CSS_PROPERTY_COLOR_HEX_TYPE_3 = 0x00,
    LXB_CSS_PROPERTY_COLOR_HEX_TYPE_4,
    LXB_CSS_PROPERTY_COLOR_HEX_TYPE_6,
    LXB_CSS_PROPERTY_COLOR_HEX_TYPE_8
}
lxb_css_value_color_hex_type_t;

typedef struct {
    lxb_css_value_color_hex_rgba_t rgba;
    lxb_css_value_color_hex_type_t type;
}
lxb_css_value_color_hex_t;

typedef struct {
    /*
     * If R is <percent> when G and B should be <percent> to.
     * If R is <number> when G and B should be <number> to.
     * R, G, B can be NONE regardless of neighboring values.
     * 'A' can be <percentage> or <number> or NONE.
     */

    lxb_css_value_number_percentage_t r;
    lxb_css_value_number_percentage_t g;
    lxb_css_value_number_percentage_t b;
    lxb_css_value_number_percentage_t a;

    bool                              old;
}
lxb_css_value_color_rgba_t;

typedef struct {
    lxb_css_value_hue_t               h;
    lxb_css_value_percentage_type_t   s;
    lxb_css_value_percentage_type_t   l;
    lxb_css_value_number_percentage_t a;

    bool                              old;
}
lxb_css_value_color_hsla_t;

typedef struct {
    lxb_css_value_number_percentage_t l;
    lxb_css_value_number_percentage_t a;
    lxb_css_value_number_percentage_t b;
    lxb_css_value_number_percentage_t alpha;
}
lxb_css_value_color_lab_t;

typedef struct {
    lxb_css_value_number_percentage_t l;
    lxb_css_value_number_percentage_t c;
    lxb_css_value_hue_t               h;
    lxb_css_value_number_percentage_t a;
}
lxb_css_value_color_lch_t;

typedef struct {
    lxb_css_value_type_t type;

    union {
        lxb_css_value_color_hex_t  hex;
        lxb_css_value_color_rgba_t rgb;
        lxb_css_value_color_hsla_t hsl;
        lxb_css_value_color_hsla_t hwb;
        lxb_css_value_color_lab_t  lab;
        lxb_css_value_color_lch_t  lch;
    } u;
}
lxb_css_value_color_t;


LXB_API const lxb_css_data_t *
lxb_css_value_by_id(uintptr_t id);

LXB_API lxb_css_value_type_t
lxb_css_value_by_name(const lxb_char_t *name, size_t length);

LXB_API lxb_status_t
lxb_css_value_serialize(lxb_css_value_type_t type,
                        lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_percentage_sr(const lxb_css_value_percentage_t *percent,
                            lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_length_sr(const lxb_css_value_length_t *len,
                        lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_number_sr(const lxb_css_value_number_t *number,
                        lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_integer_sr(const lxb_css_value_integer_t *integer,
                         lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_length_percentage_sr(const lxb_css_value_length_percentage_t *lp,
                                   lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_number_length_sr(const lxb_css_value_number_length_t *nl,
                               lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_number_percentage_sr(const lxb_css_value_number_percentage_t *np,
                                   lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_length_type_sr(const lxb_css_value_length_type_t *lt,
                             lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_percentage_type_sr(const lxb_css_value_percentage_type_t *pt,
                                 lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_number_type_sr(const lxb_css_value_number_type_t *num,
                             lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_integer_type_sr(const lxb_css_value_integer_type_t *num,
                              lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_length_percentage_type_sr(const lxb_css_value_length_percentage_type_t *lpt,
                                        lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_number_length_percentage_type_sr(const lxb_css_value_number_length_percentage_t *nlp,
                                               lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_angle_sr(const lxb_css_value_angle_t *angle,
                       lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_hue_sr(const lxb_css_value_hue_t *hue,
                     lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_value_color_serialize(const lxb_css_value_color_t *color,
                              lexbor_serialize_cb_f cb, void *ctx);

#ifdef __cplusplus
} /* extern "C" */
#endif

#endif /* LXB_CSS_VALUE_H */

/* Header: source/lexbor/css/property.h */

#ifndef LXB_CSS_PROPERTY_H
#define LXB_CSS_PROPERTY_H


typedef struct {
    lxb_css_property_type_t type;
    lexbor_str_t            value;
}
lxb_css_property__undef_t;

typedef struct {
    lexbor_str_t name;
    lexbor_str_t value;
}
lxb_css_property__custom_t;

typedef struct {
    lxb_css_display_type_t a;
    lxb_css_display_type_t b;
    lxb_css_display_type_t c;
}
lxb_css_property_display_t;

typedef lxb_css_value_integer_type_t lxb_css_property_order_t;

typedef struct {
    lxb_css_visibility_type_t type;
}
lxb_css_property_visibility_t;

typedef lxb_css_value_length_percentage_t lxb_css_property_width_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_height_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_min_width_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_min_height_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_max_width_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_max_height_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_margin_top_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_margin_right_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_margin_bottom_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_margin_left_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_padding_top_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_padding_right_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_padding_bottom_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_padding_left_t;

typedef struct {
    lxb_css_box_sizing_type_t type;
}
lxb_css_property_box_sizing_t;

typedef struct {
    lxb_css_property_margin_top_t    top;
    lxb_css_property_margin_right_t  right;
    lxb_css_property_margin_bottom_t bottom;
    lxb_css_property_margin_left_t   left;
}
lxb_css_property_margin_t;

typedef struct {
    lxb_css_property_padding_top_t    top;
    lxb_css_property_padding_right_t  right;
    lxb_css_property_padding_bottom_t bottom;
    lxb_css_property_padding_left_t   left;
}
lxb_css_property_padding_t;

typedef struct {
    lxb_css_value_type_t        style;
    lxb_css_value_length_type_t width;
    lxb_css_value_color_t       color;
}
lxb_css_property_border_t;

typedef lxb_css_property_border_t lxb_css_property_border_top_t;
typedef lxb_css_property_border_t lxb_css_property_border_right_t;
typedef lxb_css_property_border_t lxb_css_property_border_bottom_t;
typedef lxb_css_property_border_t lxb_css_property_border_left_t;

typedef lxb_css_value_color_t lxb_css_property_border_top_color_t;
typedef lxb_css_value_color_t lxb_css_property_border_right_color_t;
typedef lxb_css_value_color_t lxb_css_property_border_bottom_color_t;
typedef lxb_css_value_color_t lxb_css_property_border_left_color_t;

typedef lxb_css_value_color_t lxb_css_property_background_color_t;

typedef lxb_css_value_color_t lxb_css_property_color_t;
typedef lxb_css_value_number_percentage_t lxb_css_property_opacity_t;

typedef struct {
    lxb_css_position_type_t type;
}
lxb_css_property_position_t;

typedef lxb_css_value_length_percentage_t lxb_css_property_top_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_right_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_bottom_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_left_t;

typedef lxb_css_value_length_percentage_t lxb_css_property_inset_block_start_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_inset_inline_start_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_inset_block_end_t;
typedef lxb_css_value_length_percentage_t lxb_css_property_inset_inline_end_t;

typedef struct {
    lxb_css_text_transform_type_t type_case;
    lxb_css_text_transform_type_t full_width;
    lxb_css_text_transform_type_t full_size_kana;
}
lxb_css_property_text_transform_t;

typedef struct {
    lxb_css_text_align_type_t type;
}
lxb_css_property_text_align_t;

typedef struct {
    lxb_css_text_align_all_type_t type;
}
lxb_css_property_text_align_all_t;

typedef struct {
    lxb_css_text_align_last_type_t type;
}
lxb_css_property_text_align_last_t;

typedef struct {
    lxb_css_text_justify_type_t type;
}
lxb_css_property_text_justify_t;

typedef struct {
    lxb_css_value_length_percentage_t length;
    lxb_css_text_indent_type_t        type;
    lxb_css_text_indent_type_t        hanging;
    lxb_css_text_indent_type_t        each_line;
}
lxb_css_property_text_indent_t;

typedef struct {
    lxb_css_white_space_type_t type;
}
lxb_css_property_white_space_t;

typedef lxb_css_value_number_length_t lxb_css_property_tab_size_t;

typedef struct {
    lxb_css_word_break_type_t type;
}
lxb_css_property_word_break_t;

typedef struct {
    lxb_css_line_break_type_t type;
}
lxb_css_property_line_break_t;

typedef struct {
    lxb_css_hyphens_type_t type;
}
lxb_css_property_hyphens_t;

typedef struct {
    lxb_css_overflow_wrap_type_t type;
}
lxb_css_property_overflow_wrap_t;

typedef struct {
    lxb_css_word_wrap_type_t type;
}
lxb_css_property_word_wrap_t;

typedef lxb_css_value_length_type_t lxb_css_property_word_spacing_t;
typedef lxb_css_value_length_type_t lxb_css_property_letter_spacing_t;

typedef struct {
    lxb_css_hanging_punctuation_type_t type_first;
    lxb_css_hanging_punctuation_type_t force_allow;
    lxb_css_hanging_punctuation_type_t last;
}
lxb_css_property_hanging_punctuation_t;

typedef struct lxb_css_property_family_name lxb_css_property_family_name_t;

struct lxb_css_property_family_name {
    bool generic;

    union {
        lxb_css_font_family_type_t type;
        lexbor_str_t               str;
    } u;

    lxb_css_property_family_name_t *next;
    lxb_css_property_family_name_t *prev;
};

typedef struct {
    lxb_css_property_family_name_t *first;
    lxb_css_property_family_name_t *last;

    size_t                         count;
}
lxb_css_property_font_family_t;

typedef lxb_css_value_number_type_t lxb_css_property_font_weight_t;
typedef lxb_css_value_percentage_type_t lxb_css_property_font_stretch_t;
typedef lxb_css_value_angle_type_t lxb_css_property_font_style_t;
typedef lxb_css_value_length_percentage_type_t lxb_css_property_font_size_t;

typedef struct {
    lxb_css_float_reference_type_t type;
}
lxb_css_property_float_reference_t;

typedef struct {
    lxb_css_float_type_t        type;
    lxb_css_value_length_type_t length;
    lxb_css_float_type_t        snap_type;
}
lxb_css_property_float_t;

typedef struct {
    lxb_css_clear_type_t type;
}
lxb_css_property_clear_t;

typedef lxb_css_value_length_percentage_t lxb_css_property_float_offset_t;
typedef lxb_css_value_integer_type_t lxb_css_property_float_defer_t;

typedef struct {
    lxb_css_wrap_flow_type_t type;
}
lxb_css_property_wrap_flow_t;

typedef struct {
    lxb_css_wrap_through_type_t type;
}
lxb_css_property_wrap_through_t;

typedef struct {
    lxb_css_flex_direction_type_t type;
}
lxb_css_property_flex_direction_t;

typedef struct {
    lxb_css_flex_wrap_type_t type;
}
lxb_css_property_flex_wrap_t;

typedef struct {
    lxb_css_flex_direction_type_t type_direction;
    lxb_css_flex_wrap_type_t      wrap;
}
lxb_css_property_flex_flow_t;

typedef lxb_css_value_number_type_t lxb_css_property_flex_grow_t;
typedef lxb_css_value_number_type_t lxb_css_property_flex_shrink_t;
typedef lxb_css_property_width_t lxb_css_property_flex_basis_t;

typedef struct {
    lxb_css_flex_type_t            type;
    lxb_css_property_flex_grow_t   grow;
    lxb_css_property_flex_shrink_t shrink;
    lxb_css_property_flex_basis_t  basis;
}
lxb_css_property_flex_t;

typedef struct {
    lxb_css_justify_content_type_t type;
}
lxb_css_property_justify_content_t;

typedef struct {
    lxb_css_align_items_type_t type;
}
lxb_css_property_align_items_t;

typedef struct {
    lxb_css_align_self_type_t type;
}
lxb_css_property_align_self_t;

typedef struct {
    lxb_css_align_content_type_t type;
}
lxb_css_property_align_content_t;

typedef struct {
    lxb_css_dominant_baseline_type_t type;
}
lxb_css_property_dominant_baseline_t;

typedef struct {
    lxb_css_baseline_source_type_t type;
}
lxb_css_property_baseline_source_t;

typedef struct {
    lxb_css_alignment_baseline_type_t type;
}
lxb_css_property_alignment_baseline_t;

typedef lxb_css_value_length_percentage_t lxb_css_property_baseline_shift_t;

typedef struct {
    lxb_css_vertical_align_type_t         type;
    lxb_css_property_alignment_baseline_t alignment;
    lxb_css_property_baseline_shift_t     shift;
}
lxb_css_property_vertical_align_t;

typedef lxb_css_value_number_length_percentage_t lxb_css_property_line_height_t;

typedef lxb_css_value_integer_type_t lxb_css_property_z_index_t;

typedef struct {
    lxb_css_direction_type_t type;
}
lxb_css_property_direction_t;

typedef struct {
    lxb_css_unicode_bidi_type_t type;
}
lxb_css_property_unicode_bidi_t;

typedef struct {
    lxb_css_writing_mode_type_t type;
}
lxb_css_property_writing_mode_t;

typedef struct {
    lxb_css_text_orientation_type_t type;
}
lxb_css_property_text_orientation_t;

typedef struct {
    lxb_css_text_combine_upright_type_t type;
     /*
      * If the integer is omitted, it computes to 2.
      * Integers outside the range 2-4 are invalid.
      */
    lxb_css_value_integer_t             digits;
}
lxb_css_property_text_combine_upright_t;

typedef struct {
    lxb_css_overflow_x_type_t type;
}
lxb_css_property_overflow_x_t;

typedef struct {
    lxb_css_overflow_y_type_t type;
}
lxb_css_property_overflow_y_t;

typedef struct {
    lxb_css_overflow_block_type_t type;
}
lxb_css_property_overflow_block_t;

typedef struct {
    lxb_css_overflow_inline_type_t type;
}
lxb_css_property_overflow_inline_t;

typedef struct {
    lxb_css_text_overflow_type_t type;
}
lxb_css_property_text_overflow_t;

typedef struct {
    lxb_css_text_decoration_line_type_t type;
    lxb_css_text_decoration_line_type_t underline;
    lxb_css_text_decoration_line_type_t overline;
    lxb_css_text_decoration_line_type_t line_through;
    lxb_css_text_decoration_line_type_t blink;
}
lxb_css_property_text_decoration_line_t;

typedef struct {
    lxb_css_text_decoration_style_type_t type;
}
lxb_css_property_text_decoration_style_t;

typedef lxb_css_value_color_t lxb_css_property_text_decoration_color_t;

typedef struct {
    lxb_css_property_text_decoration_line_t  line;
    lxb_css_property_text_decoration_style_t style;
    lxb_css_property_text_decoration_color_t color;
}
lxb_css_property_text_decoration_t;


LXB_API const lxb_css_entry_data_t *
lxb_css_property_by_name(const lxb_char_t *name, size_t length);

LXB_API const lxb_css_entry_data_t *
lxb_css_property_by_id(uintptr_t id);

LXB_API const void *
lxb_css_property_initial_by_id(uintptr_t id);

LXB_API void *
lxb_css_property_destroy(lxb_css_memory_t *memory, void *style,
                         lxb_css_property_type_t type, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_serialize(const void *style, lxb_css_property_type_t type,
                           lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_property_serialize_str(const void *style, lxb_css_property_type_t type,
                               lexbor_mraw_t *mraw, lexbor_str_t *str);

LXB_API lxb_status_t
lxb_css_property_serialize_name(const void *style, lxb_css_property_type_t type,
                                lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_property_serialize_name_str(const void *style, lxb_css_property_type_t type,
                                    lexbor_mraw_t *mraw, lexbor_str_t *str);

/* _undef. */

LXB_API void *
lxb_css_property__undef_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property__undef_destroy(lxb_css_memory_t *memory,
                                void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property__undef_serialize(const void *style,
                                  lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_property__undef_serialize_name(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_property__undef_serialize_value(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx);

/* _custom. */

LXB_API void *
lxb_css_property__custom_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property__custom_destroy(lxb_css_memory_t *memory,
                                 void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property__custom_serialize(const void *style,
                                   lexbor_serialize_cb_f cb, void *ctx);
LXB_API lxb_status_t
lxb_css_property__custom_serialize_name(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx);
LXB_API lxb_status_t
lxb_css_property__custom_serialize_value(const void *style,
                                         lexbor_serialize_cb_f cb, void *ctx);

/* Display. */

LXB_API void *
lxb_css_property_display_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_display_destroy(lxb_css_memory_t *memory,
                                 void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_display_serialize(const void *style,
                                   lexbor_serialize_cb_f cb, void *ctx);

/* Order. */

LXB_API void *
lxb_css_property_order_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_order_destroy(lxb_css_memory_t *memory,
                               void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_order_serialize(const void *style,
                                 lexbor_serialize_cb_f cb, void *ctx);

/* Visibility. */

LXB_API void *
lxb_css_property_visibility_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_visibility_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_visibility_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx);

/* Width. */

LXB_API void *
lxb_css_property_width_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_width_destroy(lxb_css_memory_t *memory,
                               void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_width_serialize(const void *style,
                                 lexbor_serialize_cb_f cb, void *ctx);

/* Height. */

LXB_API void *
lxb_css_property_height_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_height_destroy(lxb_css_memory_t *memory,
                                void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_height_serialize(const void *style,
                                  lexbor_serialize_cb_f cb, void *ctx);

/* Box-sizing. */

LXB_API void *
lxb_css_property_box_sizing_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_box_sizing_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_box_sizing_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx);

/* Min-width. */

LXB_API void *
lxb_css_property_min_width_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_min_width_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_min_width_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx);

/* Min-height. */

LXB_API void *
lxb_css_property_min_height_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_min_height_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_min_height_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx);

/* Max-width. */

LXB_API void *
lxb_css_property_max_width_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_max_width_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_max_width_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx);

/* Max-height. */

LXB_API void *
lxb_css_property_max_height_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_max_height_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_max_height_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx);

/* Margin. */

LXB_API void *
lxb_css_property_margin_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_margin_destroy(lxb_css_memory_t *memory,
                                void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_margin_serialize(const void *style,
                                  lexbor_serialize_cb_f cb, void *ctx);

/* Margin-top. */

LXB_API void *
lxb_css_property_margin_top_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_margin_top_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_margin_top_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx);

/* Margin-right. */

LXB_API void *
lxb_css_property_margin_right_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_margin_right_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_margin_right_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx);

/* Margin-bottom. */

LXB_API void *
lxb_css_property_margin_bottom_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_margin_bottom_destroy(lxb_css_memory_t *memory,
                                       void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_margin_bottom_serialize(const void *style,
                                         lexbor_serialize_cb_f cb, void *ctx);

/* Margin-left. */

LXB_API void *
lxb_css_property_margin_left_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_margin_left_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_margin_left_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx);

/* Padding. */

LXB_API void *
lxb_css_property_padding_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_padding_destroy(lxb_css_memory_t *memory,
                                 void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_padding_serialize(const void *style,
                                   lexbor_serialize_cb_f cb, void *ctx);

/* Padding-top. */

LXB_API void *
lxb_css_property_padding_top_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_padding_top_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_padding_top_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx);

/* Padding-right. */

LXB_API void *
lxb_css_property_padding_right_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_padding_right_destroy(lxb_css_memory_t *memory,
                                       void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_padding_right_serialize(const void *style,
                                         lexbor_serialize_cb_f cb, void *ctx);

/* Padding-bottom. */

LXB_API void *
lxb_css_property_padding_bottom_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_padding_bottom_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_padding_bottom_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx);

/* Padding-left. */

LXB_API void *
lxb_css_property_padding_left_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_padding_left_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_padding_left_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx);

/* Border. */

LXB_API void *
lxb_css_property_border_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_border_destroy(lxb_css_memory_t *memory,
                                void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_border_serialize(const void *style,
                                  lexbor_serialize_cb_f cb, void *ctx);

/* Border-top. */

LXB_API void *
lxb_css_property_border_top_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_border_top_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_border_top_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx);

/* Border-right. */

LXB_API void *
lxb_css_property_border_right_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_border_right_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_border_right_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx);

/* Border-bottom. */

LXB_API void *
lxb_css_property_border_bottom_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_border_bottom_destroy(lxb_css_memory_t *memory,
                                       void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_border_bottom_serialize(const void *style,
                                         lexbor_serialize_cb_f cb, void *ctx);

/* Border-left. */

LXB_API void *
lxb_css_property_border_left_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_border_left_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_border_left_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx);

/* Border-top-color. */

LXB_API void *
lxb_css_property_border_top_color_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_border_top_color_destroy(lxb_css_memory_t *memory,
                                          void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_border_top_color_serialize(const void *style,
                                            lexbor_serialize_cb_f cb, void *ctx);

/* Border-right-color. */

LXB_API void *
lxb_css_property_border_right_color_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_border_right_color_destroy(lxb_css_memory_t *memory,
                                            void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_border_right_color_serialize(const void *style,
                                              lexbor_serialize_cb_f cb, void *ctx);

/* Border-bottom-color. */

LXB_API void *
lxb_css_property_border_bottom_color_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_border_bottom_color_destroy(lxb_css_memory_t *memory,
                                             void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_border_bottom_color_serialize(const void *style,
                                               lexbor_serialize_cb_f cb, void *ctx);

/* Border-left-color. */

LXB_API void *
lxb_css_property_border_left_color_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_border_left_color_destroy(lxb_css_memory_t *memory,
                                           void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_border_left_color_serialize(const void *style,
                                             lexbor_serialize_cb_f cb, void *ctx);

/* Background-color. */

LXB_API void *
lxb_css_property_background_color_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_background_color_destroy(lxb_css_memory_t *memory,
                                          void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_background_color_serialize(const void *style,
                                            lexbor_serialize_cb_f cb, void *ctx);

/* Color. */

LXB_API void *
lxb_css_property_color_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_color_destroy(lxb_css_memory_t *memory,
                               void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_color_serialize(const void *style,
                                 lexbor_serialize_cb_f cb, void *ctx);

/* Opacity. */

LXB_API void *
lxb_css_property_opacity_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_opacity_destroy(lxb_css_memory_t *memory,
                                 void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_opacity_serialize(const void *style,
                                   lexbor_serialize_cb_f cb, void *ctx);

/* Position. */

LXB_API void *
lxb_css_property_position_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_position_destroy(lxb_css_memory_t *memory,
                                  void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_position_serialize(const void *style,
                                    lexbor_serialize_cb_f cb, void *ctx);

/* Top. */

LXB_API void *
lxb_css_property_top_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_top_destroy(lxb_css_memory_t *memory,
                             void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_top_serialize(const void *style,
                               lexbor_serialize_cb_f cb, void *ctx);

/* Right. */

LXB_API void *
lxb_css_property_right_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_right_destroy(lxb_css_memory_t *memory,
                               void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_right_serialize(const void *style,
                                 lexbor_serialize_cb_f cb, void *ctx);

/* Bottom. */

LXB_API void *
lxb_css_property_bottom_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_bottom_destroy(lxb_css_memory_t *memory,
                                void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_bottom_serialize(const void *style,
                                  lexbor_serialize_cb_f cb, void *ctx);

/* Left. */

LXB_API void *
lxb_css_property_left_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_left_destroy(lxb_css_memory_t *memory,
                              void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_left_serialize(const void *style,
                                lexbor_serialize_cb_f cb, void *ctx);

/* Inset-block-start. */

LXB_API void *
lxb_css_property_inset_block_start_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_inset_block_start_destroy(lxb_css_memory_t *memory,
                                           void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_inset_block_start_serialize(const void *style,
                                             lexbor_serialize_cb_f cb, void *ctx);

/* Inset-inline-start. */

LXB_API void *
lxb_css_property_inset_inline_start_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_inset_inline_start_destroy(lxb_css_memory_t *memory,
                                            void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_inset_inline_start_serialize(const void *style,
                                              lexbor_serialize_cb_f cb, void *ctx);

/* Inset-block-end. */

LXB_API void *
lxb_css_property_inset_block_end_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_inset_block_end_destroy(lxb_css_memory_t *memory,
                                         void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_inset_block_end_serialize(const void *style,
                                           lexbor_serialize_cb_f cb, void *ctx);

/* Inset-inline-end. */

LXB_API void *
lxb_css_property_inset_inline_end_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_inset_inline_end_destroy(lxb_css_memory_t *memory,
                                          void *style, bool self_destroy);
LXB_API lxb_status_t
lxb_css_property_inset_inline_end_serialize(const void *style,
                                            lexbor_serialize_cb_f cb, void *ctx);

/* Text-transform. */

LXB_API void *
lxb_css_property_text_transform_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_text_transform_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_text_transform_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx);

/* Text-align. */

LXB_API void *
lxb_css_property_text_align_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_text_align_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_text_align_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx);

/* Text-align-all. */

LXB_API void *
lxb_css_property_text_align_all_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_text_align_all_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_text_align_all_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx);

/* Text-align-last. */

LXB_API void *
lxb_css_property_text_align_last_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_text_align_last_destroy(lxb_css_memory_t *memory,
                                         void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_text_align_last_serialize(const void *style,
                                           lexbor_serialize_cb_f cb, void *ctx);

/* Text-justify. */

LXB_API void *
lxb_css_property_text_justify_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_text_justify_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_text_justify_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx);

/* Text-indent. */

LXB_API void *
lxb_css_property_text_indent_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_text_indent_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_text_indent_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx);

/* White-space. */

LXB_API void *
lxb_css_property_white_space_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_white_space_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_white_space_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx);

/* Tab-size. */

LXB_API void *
lxb_css_property_tab_size_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_tab_size_destroy(lxb_css_memory_t *memory,
                                  void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_tab_size_serialize(const void *style,
                                    lexbor_serialize_cb_f cb, void *ctx);

/* Word-break. */

LXB_API void *
lxb_css_property_word_break_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_word_break_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_word_break_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx);

/* Line-break. */

LXB_API void *
lxb_css_property_line_break_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_line_break_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_line_break_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx);

/* Hyphens. */

LXB_API void *
lxb_css_property_hyphens_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_hyphens_destroy(lxb_css_memory_t *memory,
                                 void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_hyphens_serialize(const void *style,
                                   lexbor_serialize_cb_f cb, void *ctx);

/* Overflow-wrap. */

LXB_API void *
lxb_css_property_overflow_wrap_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_overflow_wrap_destroy(lxb_css_memory_t *memory,
                                       void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_overflow_wrap_serialize(const void *style,
                                         lexbor_serialize_cb_f cb, void *ctx);

/* Word-wrap. */

LXB_API void *
lxb_css_property_word_wrap_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_word_wrap_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_word_wrap_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx);

/* Word-spacing. */

LXB_API void *
lxb_css_property_word_spacing_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_word_spacing_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_word_spacing_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx);

/* Letter-spacing. */

LXB_API void *
lxb_css_property_letter_spacing_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_letter_spacing_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_letter_spacing_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx);

/* Hanging-punctuation. */

LXB_API void *
lxb_css_property_hanging_punctuation_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_hanging_punctuation_destroy(lxb_css_memory_t *memory,
                                             void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_hanging_punctuation_serialize(const void *style,
                                               lexbor_serialize_cb_f cb, void *ctx);

/* Font-family. */

LXB_API void *
lxb_css_property_font_family_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_font_family_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_font_family_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx);

/* Font-weight. */

LXB_API void *
lxb_css_property_font_weight_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_font_weight_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_font_weight_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx);

/* Font-stretch. */

LXB_API void *
lxb_css_property_font_stretch_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_font_stretch_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_font_stretch_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx);

/* Font-style. */

LXB_API void *
lxb_css_property_font_style_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_font_style_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_font_style_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx);

/* Font-size. */

LXB_API void *
lxb_css_property_font_size_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_font_size_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_font_size_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx);

/* Float-reference. */

LXB_API void *
lxb_css_property_float_reference_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_float_reference_destroy(lxb_css_memory_t *memory,
                                         void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_float_reference_serialize(const void *style,
                                           lexbor_serialize_cb_f cb, void *ctx);

/* Float. */

LXB_API void *
lxb_css_property_float_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_float_destroy(lxb_css_memory_t *memory,
                               void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_float_serialize(const void *style,
                                 lexbor_serialize_cb_f cb, void *ctx);

/* Clear. */

LXB_API void *
lxb_css_property_clear_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_clear_destroy(lxb_css_memory_t *memory,
                               void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_clear_serialize(const void *style,
                                 lexbor_serialize_cb_f cb, void *ctx);

/* Float-defer. */

LXB_API void *
lxb_css_property_float_defer_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_float_defer_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_float_defer_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx);

/* Float-offset. */

LXB_API void *
lxb_css_property_float_offset_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_float_offset_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_float_offset_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx);

/* Wrap-flow. */

LXB_API void *
lxb_css_property_wrap_flow_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_wrap_flow_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_wrap_flow_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx);

/* Wrap-through. */

LXB_API void *
lxb_css_property_wrap_through_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_wrap_through_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_wrap_through_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx);

/* Flex-direction. */

LXB_API void *
lxb_css_property_flex_direction_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_flex_direction_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_flex_direction_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx);

/* Flex-wrap. */

LXB_API void *
lxb_css_property_flex_wrap_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_flex_wrap_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_flex_wrap_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx);

/* Flex-flow. */

LXB_API void *
lxb_css_property_flex_flow_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_flex_flow_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_flex_flow_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx);

/* Flex. */

LXB_API void *
lxb_css_property_flex_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_flex_destroy(lxb_css_memory_t *memory,
                              void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_flex_serialize(const void *style,
                                lexbor_serialize_cb_f cb, void *ctx);

/* Flex-grow. */

LXB_API void *
lxb_css_property_flex_grow_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_flex_grow_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_flex_grow_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx);

/* Flex-shrink. */

LXB_API void *
lxb_css_property_flex_shrink_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_flex_shrink_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_flex_shrink_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx);

/* Flex-basis. */

LXB_API void *
lxb_css_property_flex_basis_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_flex_basis_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_flex_basis_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx);

/* Justify-content. */

LXB_API void *
lxb_css_property_justify_content_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_justify_content_destroy(lxb_css_memory_t *memory,
                                         void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_justify_content_serialize(const void *style,
                                           lexbor_serialize_cb_f cb, void *ctx);

/* Align-items. */

LXB_API void *
lxb_css_property_align_items_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_align_items_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_align_items_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx);

/* Align-self. */

LXB_API void *
lxb_css_property_align_self_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_align_self_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_align_self_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx);

/* Align-content. */

LXB_API void *
lxb_css_property_align_content_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_align_content_destroy(lxb_css_memory_t *memory,
                                       void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_align_content_serialize(const void *style,
                                         lexbor_serialize_cb_f cb, void *ctx);

/* Dominant-baseline. */

LXB_API void *
lxb_css_property_dominant_baseline_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_dominant_baseline_destroy(lxb_css_memory_t *memory,
                                           void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_dominant_baseline_serialize(const void *style,
                                             lexbor_serialize_cb_f cb, void *ctx);

/* Vertical-align. */

LXB_API void *
lxb_css_property_vertical_align_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_vertical_align_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_vertical_align_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx);

/* Baseline-source. */

LXB_API void *
lxb_css_property_baseline_source_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_baseline_source_destroy(lxb_css_memory_t *memory,
                                         void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_baseline_source_serialize(const void *style,
                                           lexbor_serialize_cb_f cb, void *ctx);

/* Alignment-baseline. */

LXB_API void *
lxb_css_property_alignment_baseline_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_alignment_baseline_destroy(lxb_css_memory_t *memory,
                                            void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_alignment_baseline_serialize(const void *style,
                                              lexbor_serialize_cb_f cb, void *ctx);

/* Baseline-shift. */

LXB_API void *
lxb_css_property_baseline_shift_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_baseline_shift_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_baseline_shift_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx);

/* Line-height. */

LXB_API void *
lxb_css_property_line_height_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_line_height_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_line_height_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx);

/* Z-index. */

LXB_API void *
lxb_css_property_z_index_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_z_index_destroy(lxb_css_memory_t *memory,
                                 void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_z_index_serialize(const void *style,
                                   lexbor_serialize_cb_f cb, void *ctx);

/* Direction. */

LXB_API void *
lxb_css_property_direction_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_direction_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_direction_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx);

/* Unicode-bidi. */

LXB_API void *
lxb_css_property_unicode_bidi_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_unicode_bidi_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_unicode_bidi_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx);

/* Writing-mode. */

LXB_API void *
lxb_css_property_writing_mode_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_writing_mode_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_writing_mode_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx);

/* Text-orientation. */

LXB_API void *
lxb_css_property_text_orientation_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_text_orientation_destroy(lxb_css_memory_t *memory,
                                          void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_text_orientation_serialize(const void *style,
                                            lexbor_serialize_cb_f cb, void *ctx);

/* Text-combine-upright. */

LXB_API void *
lxb_css_property_text_combine_upright_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_text_combine_upright_destroy(lxb_css_memory_t *memory,
                                              void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_text_combine_upright_serialize(const void *style,
                                                lexbor_serialize_cb_f cb, void *ctx);

/* Overflow-x. */

LXB_API void *
lxb_css_property_overflow_x_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_overflow_x_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_overflow_x_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx);

/* Overflow-y. */

LXB_API void *
lxb_css_property_overflow_y_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_overflow_y_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_overflow_y_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx);

/* Overflow-block. */

LXB_API void *
lxb_css_property_overflow_block_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_overflow_block_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_overflow_block_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx);

/* Overflow-inline. */

LXB_API void *
lxb_css_property_overflow_inline_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_overflow_inline_destroy(lxb_css_memory_t *memory,
                                         void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_overflow_inline_serialize(const void *style,
                                           lexbor_serialize_cb_f cb, void *ctx);

/* Text-overflow. */

LXB_API void *
lxb_css_property_text_overflow_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_text_overflow_destroy(lxb_css_memory_t *memory,
                                       void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_text_overflow_serialize(const void *style,
                                         lexbor_serialize_cb_f cb, void *ctx);

/* Text-decoration-line. */

LXB_API void *
lxb_css_property_text_decoration_line_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_text_decoration_line_destroy(lxb_css_memory_t *memory,
                                              void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_text_decoration_line_serialize(const void *style,
                                                lexbor_serialize_cb_f cb, void *ctx);

/* Text-decoration-style. */

LXB_API void *
lxb_css_property_text_decoration_style_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_text_decoration_style_destroy(lxb_css_memory_t *memory,
                                               void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_text_decoration_style_serialize(const void *style,
                                                 lexbor_serialize_cb_f cb, void *ctx);

/* Text-decoration-color. */

LXB_API void *
lxb_css_property_text_decoration_color_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_text_decoration_color_destroy(lxb_css_memory_t *memory,
                                               void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_text_decoration_color_serialize(const void *style,
                                                 lexbor_serialize_cb_f cb, void *ctx);

/* Text-decoration. */

LXB_API void *
lxb_css_property_text_decoration_create(lxb_css_memory_t *memory);

LXB_API void *
lxb_css_property_text_decoration_destroy(lxb_css_memory_t *memory,
                                         void *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_property_text_decoration_serialize(const void *style,
                                           lexbor_serialize_cb_f cb, void *ctx);


#ifdef __cplusplus
} /* extern "C" */
#endif
#endif /* LXB_CSS_PROPERTY_H */

/* Header: source/lexbor/css/rule.h */

#ifndef LXB_CSS_RULE_H
#define LXB_CSS_RULE_H


#define lxb_css_rule(rule)                  ((lxb_css_rule_t *) (rule))
#define lxb_css_rule_list(rule)             ((lxb_css_rule_list_t *) (rule))
#define lxb_css_rule_at(rule)               ((lxb_css_rule_at_t *) (rule))
#define lxb_css_rule_style(rule)            ((lxb_css_rule_style_t *) (rule))
#define lxb_css_rule_bad_style(rule)        ((lxb_css_rule_bad_style_t *) (rule))
#define lxb_css_rule_declaration_list(rule) ((lxb_css_rule_declaration_list_t *) (rule))
#define lxb_css_rule_declaration(rule)      ((lxb_css_rule_declaration_t *) (rule))


typedef enum {
    LXB_CSS_RULE_UNDEF = 0,
    LXB_CSS_RULE_STYLESHEET,
    LXB_CSS_RULE_LIST,
    LXB_CSS_RULE_AT_RULE,
    LXB_CSS_RULE_STYLE,
    LXB_CSS_RULE_BAD_STYLE,
    LXB_CSS_RULE_DECLARATION_LIST,
    LXB_CSS_RULE_DECLARATION
}
lxb_css_rule_type_t;

typedef struct lxb_css_rule lxb_css_rule_t;

struct lxb_css_rule {
    lxb_css_rule_type_t type;
    lxb_css_rule_t      *next;
    lxb_css_rule_t      *prev;
    lxb_css_rule_t      *parent;

    lxb_css_memory_t    *memory;
    size_t              ref_count;
};

struct lxb_css_rule_list {
    lxb_css_rule_t rule;

    lxb_css_rule_t *first;
    lxb_css_rule_t *last;
};

struct lxb_css_rule_at {
    lxb_css_rule_t rule;

    uintptr_t      type;

    union {
        lxb_css_at_rule__undef_t    *undef;
        lxb_css_at_rule__custom_t   *custom;
        lxb_css_at_rule_font_face_t *font_face;
        lxb_css_at_rule_media_t     *media;
        lxb_css_at_rule_namespace_t *ns;
        void                        *user;
    } u;

    size_t         name_begin;
    size_t         prelude_begin;
    size_t         prelude_end;
};

struct lxb_css_rule_style {
    lxb_css_rule_t                  rule;

    lxb_css_selector_list_t         *selector;
    lxb_css_rule_declaration_list_t *declarations;
    lxb_css_rule_list_t             *child;

    size_t                          prelude_begin;
    size_t                          prelude_end;
};

struct lxb_css_rule_bad_style {
    lxb_css_rule_t                  rule;

    lexbor_str_t                    selectors;
    lxb_css_rule_declaration_list_t *declarations;
    lxb_css_rule_list_t             *child;

    size_t                          prelude_begin;
    size_t                          prelude_end;
};

struct lxb_css_rule_declaration_list {
    lxb_css_rule_t rule;

    lxb_css_rule_t *first;
    lxb_css_rule_t *last;

    size_t         count;
};

typedef struct {
    size_t name_begin;
    size_t name_end;
    size_t value_begin;
    size_t value_end;
    size_t important_begin;
    size_t important_end;
}
lxb_css_rule_declaration_offset_t;

struct lxb_css_rule_declaration {
    lxb_css_rule_t rule;
    uintptr_t      type;

    union {
        lxb_css_property__undef_t                *undef;
        lxb_css_property__custom_t               *custom;
        lxb_css_property_display_t               *display;
        lxb_css_property_order_t                 *order;
        lxb_css_property_visibility_t            *visibility;
        lxb_css_property_width_t                 *width;
        lxb_css_property_height_t                *height;
        lxb_css_property_box_sizing_t            *box_sizing;
        lxb_css_property_margin_t                *margin;
        lxb_css_property_margin_top_t            *margin_top;
        lxb_css_property_margin_right_t          *margin_right;
        lxb_css_property_margin_bottom_t         *margin_bottom;
        lxb_css_property_margin_left_t           *margin_left;
        lxb_css_property_padding_t               *padding;
        lxb_css_property_padding_top_t           *padding_top;
        lxb_css_property_padding_right_t         *padding_right;
        lxb_css_property_padding_bottom_t        *padding_bottom;
        lxb_css_property_padding_left_t          *padding_left;
        lxb_css_property_border_t                *border;
        lxb_css_property_border_top_t            *border_top;
        lxb_css_property_border_right_t          *border_right;
        lxb_css_property_border_bottom_t         *border_bottom;
        lxb_css_property_border_left_t           *border_left;
        lxb_css_property_border_top_color_t      *border_top_color;
        lxb_css_property_border_right_color_t    *border_right_color;
        lxb_css_property_border_bottom_color_t   *border_bottom_color;
        lxb_css_property_border_left_color_t     *border_left_color;
        lxb_css_property_background_color_t      *background_color;
        lxb_css_property_color_t                 *color;
        lxb_css_property_opacity_t               *opacity;
        lxb_css_property_position_t              *position;
        lxb_css_property_top_t                   *top;
        lxb_css_property_right_t                 *right;
        lxb_css_property_bottom_t                *bottom;
        lxb_css_property_left_t                  *left;
        lxb_css_property_inset_block_start_t     *inset_block_start;
        lxb_css_property_inset_inline_start_t    *inset_inline_start;
        lxb_css_property_inset_block_end_t       *inset_block_end;
        lxb_css_property_inset_inline_end_t      *inset_inline_end;
        lxb_css_property_text_transform_t        *text_transform;
        lxb_css_property_text_align_t            *text_align;
        lxb_css_property_text_align_all_t        *text_align_all;
        lxb_css_property_text_align_last_t       *text_align_last;
        lxb_css_property_text_justify_t          *text_justify;
        lxb_css_property_text_indent_t           *text_indent;
        lxb_css_property_white_space_t           *white_space;
        lxb_css_property_tab_size_t              *tab_size;
        lxb_css_property_word_break_t            *word_break;
        lxb_css_property_line_break_t            *line_break;
        lxb_css_property_hyphens_t               *hyphens;
        lxb_css_property_overflow_wrap_t         *overflow_wrap;
        lxb_css_property_word_wrap_t             *word_wrap;
        lxb_css_property_word_spacing_t          *word_spacing;
        lxb_css_property_letter_spacing_t        *letter_spacing;
        lxb_css_property_hanging_punctuation_t   *hanging_punctuation;
        lxb_css_property_font_family_t           *font_family;
        lxb_css_property_font_weight_t           *font_weight;
        lxb_css_property_font_stretch_t          *font_stretch;
        lxb_css_property_font_style_t            *font_style;
        lxb_css_property_font_size_t             *font_size;
        lxb_css_property_float_reference_t       *float_reference;
        lxb_css_property_float_t                 *floatp;
        lxb_css_property_clear_t                 *clear;
        lxb_css_property_float_defer_t           *float_defer;
        lxb_css_property_float_offset_t          *float_offset;
        lxb_css_property_wrap_flow_t             *wrap_flow;
        lxb_css_property_wrap_through_t          *wrap_through;
        lxb_css_property_flex_direction_t        *flex_direction;
        lxb_css_property_flex_wrap_t             *flex_wrap;
        lxb_css_property_flex_flow_t             *flex_flow;
        lxb_css_property_flex_t                  *flex;
        lxb_css_property_flex_grow_t             *flex_grow;
        lxb_css_property_flex_shrink_t           *flex_shrink;
        lxb_css_property_flex_basis_t            *flex_basis;
        lxb_css_property_justify_content_t       *justify_content;
        lxb_css_property_align_items_t           *align_items;
        lxb_css_property_align_self_t            *align_self;
        lxb_css_property_align_content_t         *align_content;
        lxb_css_property_dominant_baseline_t     *dominant_baseline;
        lxb_css_property_vertical_align_t        *vertical_align;
        lxb_css_property_baseline_source_t       *baseline_source;
        lxb_css_property_alignment_baseline_t    *alignment_baseline;
        lxb_css_property_baseline_shift_t        *baseline_shift;
        lxb_css_property_line_height_t           *line_height;
        lxb_css_property_z_index_t               *z_index;
        lxb_css_property_direction_t             *direction;
        lxb_css_property_unicode_bidi_t          *unicode_bidi;
        lxb_css_property_writing_mode_t          *writing_mode;
        lxb_css_property_text_orientation_t      *text_orientation;
        lxb_css_property_text_combine_upright_t  *text_combine_upright;
        lxb_css_property_overflow_x_t            *overflow_x;
        lxb_css_property_overflow_y_t            *overflow_y;
        lxb_css_property_overflow_block_t        *overflow_block;
        lxb_css_property_overflow_inline_t       *overflow_inline;
        lxb_css_property_text_overflow_t         *text_overflow;
        lxb_css_property_text_decoration_line_t  *text_decoration_line;
        lxb_css_property_text_decoration_style_t *text_decoration_style;
        lxb_css_property_text_decoration_color_t *text_decoration_color;
        lxb_css_property_text_decoration_t       *text_decoration;
        void                                     *user;
    } u;

    lxb_css_rule_declaration_offset_t offset;

    bool                              important;
};


LXB_API void *
lxb_css_rule_destroy(lxb_css_rule_t *node, bool self_destroy);

LXB_API lxb_status_t
lxb_css_rule_serialize(const lxb_css_rule_t *rule,
                       lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_rule_serialize_chain(const lxb_css_rule_t *rule,
                             lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_css_rule_list_t *
lxb_css_rule_list_destroy(lxb_css_rule_list_t *list, bool self_destroy);

LXB_API lxb_status_t
lxb_css_rule_list_serialize(const lxb_css_rule_list_t *list,
                            lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_css_rule_at_t *
lxb_css_rule_at_destroy(lxb_css_rule_at_t *at, bool self_destroy);

LXB_API lxb_status_t
lxb_css_rule_at_serialize(const lxb_css_rule_at_t *at, lexbor_serialize_cb_f cb,
                          void *ctx);

LXB_API lxb_status_t
lxb_css_rule_at_serialize_name(const lxb_css_rule_at_t *at, lexbor_serialize_cb_f cb,
                               void *ctx);

LXB_API lxb_css_rule_style_t *
lxb_css_rule_style_destroy(lxb_css_rule_style_t *style, bool self_destroy);

LXB_API lxb_status_t
lxb_css_rule_style_serialize(const lxb_css_rule_style_t *style,
                             lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_css_rule_bad_style_t *
lxb_css_rule_bad_style_destroy(lxb_css_rule_bad_style_t *bad, bool self_destroy);

LXB_API lxb_status_t
lxb_css_rule_bad_style_serialize(const lxb_css_rule_bad_style_t *bad,
                                 lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_css_rule_declaration_list_t *
lxb_css_rule_declaration_list_destroy(lxb_css_rule_declaration_list_t *list,
                                      bool self_destroy);

LXB_API lxb_status_t
lxb_css_rule_declaration_list_serialize(const lxb_css_rule_declaration_list_t *list,
                                        lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_css_rule_declaration_t *
lxb_css_rule_declaration_destroy(lxb_css_rule_declaration_t *declr,
                                 bool self_destroy);

LXB_API lxb_status_t
lxb_css_rule_declaration_serialize(const lxb_css_rule_declaration_t *declaration,
                                   lexbor_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_css_rule_declaration_serialize_name(const lxb_css_rule_declaration_t *declr,
                                        lexbor_serialize_cb_f cb, void *ctx);

/*
 * Inline functions
 */
lxb_inline void
lxb_css_rule_insert_next(lxb_css_rule_t *root, lxb_css_rule_t *rule)
{
    if (root->next != NULL) {
        rule->next = root->next;
    }

    root->next = rule;
    rule->prev = root;
}

lxb_inline lxb_css_rule_t *
lxb_css_rule_create(lxb_css_memory_t *memory, size_t size,
                    lxb_css_rule_type_t type)
{
    lxb_css_rule_t *rule;

    rule = (lxb_css_rule_t *) lexbor_mraw_calloc(memory->tree, size);
    if (rule== NULL) {
        return NULL;
    }

    rule->type = type;
    rule->memory = memory;

    return rule;
}

lxb_inline lxb_css_rule_list_t *
lxb_css_rule_list_create(lxb_css_memory_t *memory)
{
    return (lxb_css_rule_list_t *) lxb_css_rule_create(memory,
                                                       sizeof(lxb_css_rule_list_t),
                                                       LXB_CSS_RULE_LIST);
}

lxb_inline size_t
lxb_css_rule_ref_count(lxb_css_rule_t *rule)
{
    return rule->ref_count;
}

lxb_inline lxb_status_t
lxb_css_rule_ref_inc(lxb_css_rule_t *rule)
{
    if (SIZE_MAX - rule->ref_count == 0) {
        return LXB_STATUS_ERROR_OVERFLOW;
    }

    rule->ref_count++;

    return LXB_STATUS_OK;
}

lxb_inline void
lxb_css_rule_ref_dec(lxb_css_rule_t *rule)
{
    if (rule->ref_count > 0) {
        rule->ref_count--;
    }
}

lxb_inline void
lxb_css_rule_ref_dec_destroy(lxb_css_rule_t *rule)
{
    if (rule->ref_count > 0) {
        rule->ref_count--;
    }

    if (rule->ref_count == 0) {
        (void) lxb_css_rule_destroy(rule, true);
    }
}

lxb_inline void
lxb_css_rule_list_append(lxb_css_rule_list_t *list, lxb_css_rule_t *rule)
{
    if (list->first == NULL) {
        list->first = rule;
    }
    else {
        lxb_css_rule_insert_next(list->last, rule);
    }

    list->last = rule;
    rule->parent = lxb_css_rule(list);

    (void) lxb_css_rule_ref_inc(rule);
}

lxb_inline lxb_css_rule_at_t *
lxb_css_rule_at_create(lxb_css_memory_t *memory)
{
    return (lxb_css_rule_at_t *)
        lxb_css_rule_create(memory, sizeof(lxb_css_rule_at_t),
                            LXB_CSS_RULE_AT_RULE);
}

lxb_inline lxb_css_rule_style_t *
lxb_css_rule_style_create(lxb_css_memory_t *memory)
{
    return (lxb_css_rule_style_t *)
        lxb_css_rule_create(memory, sizeof(lxb_css_rule_style_t),
                            LXB_CSS_RULE_STYLE);
}

lxb_inline lxb_css_rule_bad_style_t *
lxb_css_rule_bad_style_create(lxb_css_memory_t *memory)
{
    return (lxb_css_rule_bad_style_t *)
        lxb_css_rule_create(memory, sizeof(lxb_css_rule_bad_style_t),
                            LXB_CSS_RULE_BAD_STYLE);
}

lxb_inline lxb_css_rule_declaration_list_t *
lxb_css_rule_declaration_list_create(lxb_css_memory_t *memory)
{
    return (lxb_css_rule_declaration_list_t *)
        lxb_css_rule_create(memory, sizeof(lxb_css_rule_declaration_list_t),
                            LXB_CSS_RULE_DECLARATION_LIST);
}

lxb_inline void
lxb_css_rule_declaration_list_append(lxb_css_rule_declaration_list_t *list,
                                     lxb_css_rule_t *rule)
{
    if (list->first == NULL) {
        list->first = rule;
    }
    else {
        lxb_css_rule_insert_next(list->last, rule);
    }

    list->last = rule;
    rule->parent = lxb_css_rule(list);

    (void) lxb_css_rule_ref_inc(rule);

    list->count++;
}

lxb_inline lxb_css_rule_declaration_t *
lxb_css_rule_declaration_create(lxb_css_memory_t *memory)
{
    return (lxb_css_rule_declaration_t *)
        lxb_css_rule_create(memory, sizeof(lxb_css_rule_declaration_t),
                            LXB_CSS_RULE_DECLARATION);
}


#ifdef __cplusplus
} /* extern "C" */
#endif
#endif /* LXB_CSS_RULE_H */

/* Header: source/lexbor/css/stylesheet.h */

#ifndef LXB_CSS_STYLESHEET_H
#define LXB_CSS_STYLESHEET_H


struct lxb_css_stylesheet {
    lxb_css_rule_t           *root;
    lxb_css_memory_t         *memory;

    void                     *element; /* lxb_html_style_element_t * */
};

/*
 * Create a new CSS stylesheet object.
 *
 * This function creates a stylesheet object which holds the parsed CSS rules.
 *
 * @param[in] memory  Optional. A memory pool to use for allocations.
 *                    If NULL, a new internal memory pool is created/managed
 *                    by the stylesheet.
 *
 * @return A new lxb_css_stylesheet_t * or NULL on failure.
 */
LXB_API lxb_css_stylesheet_t *
lxb_css_stylesheet_create(lxb_css_memory_t *memory);

/*
 * Destroy a CSS stylesheet object.
 *
 * @param[in] sst             Optional. The stylesheet object to destroy.
 *                            If NULL, the function returns NULL.
 * @param[in] destroy_memory  If true, the memory pool attached to
 *                            the stylesheet is also destroyed.
 *
 * @return Always NULL.
 */
LXB_API lxb_css_stylesheet_t *
lxb_css_stylesheet_destroy(lxb_css_stylesheet_t *sst, bool destroy_memory);

/*
 * Parse CSS content into the stylesheet.
 *
 * This function takes CSS text and builds the rule tree in the stylesheet.
 *
 * The function returns an error only in extremely unforeseen circumstances,
 * such as the inability to allocate memory for objects. Any broken CSS will
 * not cause an error.
 *
 * Selectors note:
 *   If the provided parser does not have an initialized selectors module, one
 *   will be created temporarily for this call. For better performance when
 *   parsing multiple stylesheets, initialize the selectors module in
 *   the parser once:
 *
 *     lxb_css_parser_t *parser = lxb_css_parser_create();
 *     lxb_css_parser_init(parser, NULL);
 *     lxb_css_parser_selectors_init(parser);
 *
 * @param[in] sst     Required. The target stylesheet.
 * @param[in] parser  Required. An initialized CSS parser.
 * @param[in] data    Optional. The CSS text data.
 * @param[in] length  Required. Length of the data in bytes.
 *
 * @return LXB_STATUS_OK on success, or an error code on failure.
 */
LXB_API lxb_status_t
lxb_css_stylesheet_parse(lxb_css_stylesheet_t *sst, lxb_css_parser_t *parser,
                         const lxb_char_t *data, size_t length);


#ifdef __cplusplus
} /* extern "C" */
#endif
#endif /* LXB_CSS_STYLESHEET_H */

/* Header: source/lexbor/css/parser.h */

#define lxb_css_parser_token_m(parser, token)                                  \
    do {                                                                       \
        token = lxb_css_syntax_parser_token(parser);                           \
        if (token == NULL) {                                                   \
            return lxb_css_parser_fail((parser), (parser)->tkz->status);       \
        }                                                                      \
    }                                                                          \
    while (false)

#define lxb_css_parser_token_next_m(parser, token)                             \
    do {                                                                       \
        token = lxb_css_syntax_token_next((parser)->tkz);                      \
        if (token == NULL) {                                                   \
            return lxb_css_parser_fail((parser), (parser)->tkz->status);       \
        }                                                                      \
    }                                                                          \
    while (false)

#define lxb_css_parser_token_wo_ws_m(parser, token)                            \
    do {                                                                       \
        token = lxb_css_syntax_parser_token(parser);                           \
        if (token == NULL) {                                                   \
            return lxb_css_parser_fail((parser), (parser)->tkz->status);       \
        }                                                                      \
                                                                               \
        if (token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {                  \
            lxb_css_syntax_parser_consume(parser);                             \
            token = lxb_css_syntax_parser_token(parser);                       \
            if (token == NULL) {                                               \
                return lxb_css_parser_fail((parser), (parser)->tkz->status);   \
            }                                                                  \
        }                                                                      \
    }                                                                          \
    while (false)

#define lxb_css_parser_token_status_m(parser, token)                           \
    do {                                                                       \
        if ((token = lxb_css_syntax_parser_token(parser)) == NULL) {           \
            return parser->tkz->status;                                        \
        }                                                                      \
    }                                                                          \
    while (false)

#define lxb_css_parser_token_status_next_m(parser, token)                      \
    do {                                                                       \
        token = lxb_css_syntax_token_next((parser)->tkz);                      \
        if (token == NULL) {                                                   \
            return parser->tkz->status;                                        \
        }                                                                      \
    }                                                                          \
    while (false)

#define lxb_css_parser_token_status_wo_ws_m(parser, token)                     \
    do {                                                                       \
        if ((token = lxb_css_syntax_parser_token(parser)) == NULL) {           \
            return parser->tkz->status;                                        \
        }                                                                      \
                                                                               \
        if (token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {                  \
            lxb_css_syntax_parser_consume(parser);                             \
            if ((token = lxb_css_syntax_parser_token(parser)) == NULL) {       \
                return parser->tkz->status;                                    \
            }                                                                  \
        }                                                                      \
    }                                                                          \
    while (false)

#define lxb_css_parser_string_dup_m(parser, token, _str, mraw)                 \
    do {                                                                       \
        if (lxb_css_syntax_token_string_dup(lxb_css_syntax_token_string(token),\
                                            (_str), (mraw)) != LXB_STATUS_OK)  \
        {                                                                      \
            return lxb_css_parser_fail((parser),                               \
                                       LXB_STATUS_ERROR_MEMORY_ALLOCATION);    \
        }                                                                      \
    }                                                                          \
    while (false)


enum {
    LXB_CSS_SYNTAX_PARSER_ERROR_UNDEF = 0x0000,
    /* eof-in-at-rule */
    LXB_CSS_SYNTAX_PARSER_ERROR_EOINATRU,
    /* eof-in-qualified-rule */
    LXB_CSS_SYNTAX_PARSER_ERROR_EOINQURU,
    /* eof-in-simple-block */
    LXB_CSS_SYNTAX_PARSER_ERROR_EOINSIBL,
    /* eof-in-function */
    LXB_CSS_SYNTAX_PARSER_ERROR_EOINFU,
    /* eof-before-parse-rule */
    LXB_CSS_SYNTAX_PARSER_ERROR_EOBEPARU,
    /* unexpected-token-after-parse-rule */
    LXB_CSS_SYNTAX_PARSER_ERROR_UNTOAFPARU,
    /* eof-before-parse-component-value */
    LXB_CSS_SYNTAX_PARSER_ERROR_EOBEPACOVA,
    /* unexpected-token-after-parse-component-value */
    LXB_CSS_SYNTAX_PARSER_ERROR_UNTOAFPACOVA,
    /* unexpected-token-in-declaration */
    LXB_CSS_SYNTAX_PARSER_ERROR_UNTOINDE,
};

typedef enum {
    LXB_CSS_PARSER_CLEAN = 0,
    LXB_CSS_PARSER_RUN,
    LXB_CSS_PARSER_STOP,
    LXB_CSS_PARSER_END
}
lxb_css_parser_stage_t;

struct lxb_css_parser {
    /* Modules */
    lxb_css_syntax_tokenizer_t          *tkz;
    lxb_css_selectors_t                 *selectors;

    /* Memory for all structures. */
    lxb_css_memory_t                    *memory;

    /* Syntax parse rules. */
    lxb_css_syntax_rule_t               *rules_begin;
    lxb_css_syntax_rule_t               *rules_end;
    lxb_css_syntax_rule_t               *rules;

    /* States */
    lxb_css_parser_state_t              *states_begin;
    lxb_css_parser_state_t              *states_end;
    lxb_css_parser_state_t              *states;

    /* Types */
    lxb_css_syntax_token_type_t         *types_begin;
    lxb_css_syntax_token_type_t         *types_end;
    lxb_css_syntax_token_type_t         *types_pos;

    lxb_css_syntax_token_t              token_end;

    lexbor_str_t                        str;
    size_t                              str_size;

    lxb_css_log_t                       *log;

    lxb_css_parser_stage_t              stage;

    lxb_css_syntax_declaration_offset_t offset;

    bool                                loop;
    bool                                fake_null;
    bool                                my_tkz;

    lxb_status_t                        status;
};

struct lxb_css_parser_state {
    lxb_css_parser_state_f state;
    void                   *context;
    bool                   root;
};

struct lxb_css_parser_error {
    lexbor_str_t message;
};


/*
 * Create a new CSS parser object.
 *
 * @return lxb_css_parser_t* if successful, otherwise NULL.
 */
LXB_API lxb_css_parser_t *
lxb_css_parser_create(void);

/*
 * Initialize the CSS parser with a tokenizer.
 *
 * @param[in] parser Required. The CSS parser object.
 *                   If NULL, the function returns
 *                   LXB_STATUS_ERROR_OBJECT_IS_NULL.
 * @param[in] tkz    Optional. The tokenizer object.
 *                   If NULL, a new tokenizer will be created and used.
 *                   (In that case the parser manages the tokenizer lifetime.)
 *
 * @return LXB_STATUS_OK if successful, otherwise an error status value.
 */
LXB_API lxb_status_t
lxb_css_parser_init(lxb_css_parser_t *parser, lxb_css_syntax_tokenizer_t *tkz);

/*
 * Initialize the Selectors module in the parser.
 *
 * Note:
 *   Be sure to destroy the Selectors object you created yourself using
 *   the lxb_css_parser_selectors_destroy() function.
 *
 * @param[in] parser Required. The CSS parser object.
 *
 * @return LXB_STATUS_OK if successful, otherwise an error status value.
 */
LXB_API lxb_status_t
lxb_css_parser_selectors_init(lxb_css_parser_t *parser);

/*
 * Destroy the selectors module in the parser.
 *
 * @param[in] parser Required. The CSS parser object.
 */
LXB_API void
lxb_css_parser_selectors_destroy(lxb_css_parser_t *parser);

/*
 * Clean the parser object.
 *
 * This resets internal parser state, but keeps allocated memory so the parser
 * can be reused.
 *
 * @param[in] parser Required. The CSS parser object.
 */
LXB_API void
lxb_css_parser_clean(lxb_css_parser_t *parser);

/*
 * Erase the parser object.
 *
 * This resets internal parser state and releases internal allocations owned by
 * the parser so it can be re-initialized.
 *
 * @param[in] parser Required. The CSS parser object.
 */
LXB_API void
lxb_css_parser_erase(lxb_css_parser_t *parser);

/*
 * Destroy the parser object.
 *
 * @param[in] parser        Optional. The CSS parser object.
 *                          If NULL, the function returns NULL.
 * @param[in] self_destroy  Optional flag.
 *                          If true, also frees the parser object itself.
 *                          If false, only inner resources are freed and the
 *                          parser object remains valid.
 *
 * @return parser if self_destroy is false, otherwise NULL.
 */
LXB_API lxb_css_parser_t *
lxb_css_parser_destroy(lxb_css_parser_t *parser, bool self_destroy);

/*
 * Stop the parser main loop.
 *
 * This is a helper for state callbacks that want to immediately stop parsing
 * without marking the current rule as failed.
 *
 * @param[in] parser Required. The CSS parser object.
 *
 * @return true (convenience return value, useful for state callbacks).
 */
LXB_API bool
lxb_css_parser_stop(lxb_css_parser_t *parser);

/*
 * Fail the parser with a status and stop the main loop.
 *
 * This is used for hard errors (OOM, overflow, etc.). It sets parser->status
 * and stops the parser loop.
 *
 * @param[in] parser  Required. The CSS parser object.
 * @param[in] status  Required. Status code describing the failure.
 *
 * @return true (convenience return value, useful for state callbacks).
 */
LXB_API bool
lxb_css_parser_fail(lxb_css_parser_t *parser, lxb_status_t status);

/*
 * Mark the current token as unexpected.
 *
 * This is a specialized helper for the common "unexpected data" parse error.
 * It sets parser->status to LXB_STATUS_ERROR_UNEXPECTED_DATA and marks the
 * current rule as failed.
 *
 * @param[in] parser Required. The CSS parser object.
 *
 * @return true (convenience return value, useful for state callbacks).
 */
LXB_API bool
lxb_css_parser_unexpected(lxb_css_parser_t *parser);

/*
 * Mark parsing of the current grammar/rule as successful.
 *
 * Why this function exists:
 * - Most callbacks in the CSS parser work as a state machine: each callback
 *   receives the current token and returns bool to decide what to do next.
 * - "Success" is not just a bool. The parser must switch to a special
 *   lxb_css_state_success state to properly handle trailing whitespace and
 *   the end-of-input token.
 * - If you don't consume all tokens up to LXB_CSS_SYNTAX_TOKEN__END in the
 *   current rule and call this function, the parser will switch to "failed"
 *   mode. This is the same as calling the lxb_css_parser_failed() function.
 *   The exception is the LXB_CSS_SYNTAX_TOKEN_WHITESPACE token. If you are
 *   sure that only this token remains, the parser will simply exclude it.
 *
 * What it does:
 * - Sets the current rule state to lxb_css_state_success.
 * - Does not stop the parser loop by itself.
 *
 * Typical usage:
 * - In css/property/state.c, after you have parsed and consumed the last token
 *   of a property value, you do:
 *   return lxb_css_parser_success(parser);
 * - That transfers control to lxb_css_state_success, which consumes any
 *   whitespace and completes on LXB_CSS_SYNTAX_TOKEN__END.
 *
 * @param[in] parser Required. The CSS parser object.
 *
 * @return true (convenience return value, useful for state callbacks).
 */
LXB_API bool
lxb_css_parser_success(lxb_css_parser_t *parser);

/*
 * Mark parsing of the current grammar/rule as failed.
 *
 * Why this function exists:
 * - In the state machine, failure is also not "just return false". The parser
 *   needs to switch to a rule-specific recovery state so it can safely skip
 *   input until it is allowed to stop (usually until end-of-input or a known
 *   synchronisation point).
 *
 * What it does:
 * - Sets the current rule state to the rule-specific "failed" handler
 *   (rule->cbx.cb->failed).
 * - Sets rule->failed = true.
 * - Does not directly change parser->status. Use lxb_css_parser_fail() or
 *   lxb_css_parser_unexpected() when you need a concrete status code.
 *
 * Typical usage:
 * - In css/property/state.c, if a token doesn't match the expected grammar,
 *   you do:
 *   return lxb_css_parser_failed(parser);
 * - That switches the parser into the failed handler. For properties this lets
 *   the parser consume/skip tokens until it reaches LXB_CSS_SYNTAX_TOKEN__END.
 *   (See lxb_css_state_failed(): it consumes tokens until end, then calls
 *   lxb_css_parser_success() to finish.)
 *
 * Important!
 *   The user sets the callback to "failed" and must decide what to do in this
 *   situation. If the user does not consume all tokens before
 *   LXB_CSS_SYNTAX_TOKEN__END, there will be an infinite loop.
 *
 * @param[in] parser Required. The CSS parser object.
 *
 * @return true (convenience return value, useful for state callbacks).
 */

LXB_API bool
lxb_css_parser_failed(lxb_css_parser_t *parser);

LXB_API lxb_status_t
lxb_css_parser_unexpected_status(lxb_css_parser_t *parser);

LXB_API bool
lxb_css_parser_unexpected_data(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token);

LXB_API lxb_status_t
lxb_css_parser_unexpected_data_status(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token);

LXB_API void *
lxb_css_parser_memory_fail_null(lxb_css_parser_t *parser);

LXB_API bool
lxb_css_parser_memory_fail(lxb_css_parser_t *parser);

LXB_API lxb_status_t
lxb_css_parser_memory_fail_status(lxb_css_parser_t *parser);

/*
 * Push a new state to the parser.
 *
 * @param[in] parser   Required. The CSS parser object.
 * @param[in] state    Required. State callback to execute.
 * @param[in] context  Optional user pointer associated with this state.
 *                     Stored as-is; the parser doesn't own it.
 * @param[in] stop     If true, the pushed state is marked as a "stop point".
 *                     This is used by the parser to stop/return control when
 *                     this state is reached.
 *
 * @return lxb_css_parser_state_t* if successful, otherwise NULL.
 */
LXB_API lxb_css_parser_state_t *
lxb_css_parser_states_push(lxb_css_parser_t *parser,
                           lxb_css_parser_state_f state,
                           void *context, bool stop);

/*
 * Go to the next state in the parser.
 *
 * @param[in] parser  Required. The CSS parser object.
 * @param[in] next    Required. Next state callback.
 * @param[in] back    Required. State callback to return to.
 * @param[in] ctx     Optional user pointer for the next state.
 *                    Stored as-is; the parser doesn't own it.
 * @param[in] root    If true, marks this state as a "root" state. Root states
 *                    are used by helper functions (e.g. to rewind to root).
 *
 * @return lxb_css_parser_state_t* if successful, otherwise NULL.
 */
LXB_API lxb_css_parser_state_t *
lxb_css_parser_states_next(lxb_css_parser_t *parser,
                           lxb_css_parser_state_f next,
                           lxb_css_parser_state_f back, void *ctx, bool root);

/*
 * Push a token type to the parser.
 *
 * @param[in] parser Required. The CSS parser object.
 * @param[in] type   Required. Token type to push.
 *
 * @return LXB_STATUS_OK if successful, otherwise an error status value.
 */
LXB_API lxb_status_t
lxb_css_parser_types_push(lxb_css_parser_t *parser,
                          lxb_css_syntax_token_type_t type);


/*
 * Inline functions
 */
lxb_inline lxb_status_t
lxb_css_parser_status(lxb_css_parser_t *parser)
{
    return parser->status;
}

lxb_inline lxb_css_memory_t *
lxb_css_parser_memory(lxb_css_parser_t *parser)
{
    return parser->memory;
}

lxb_inline void
lxb_css_parser_memory_set(lxb_css_parser_t *parser, lxb_css_memory_t *memory)
{
    parser->memory = memory;
}

lxb_inline lxb_css_selectors_t *
lxb_css_parser_selectors(lxb_css_parser_t *parser)
{
    return parser->selectors;
}

lxb_inline void
lxb_css_parser_selectors_set(lxb_css_parser_t *parser,
                             lxb_css_selectors_t *selectors)
{
    parser->selectors = selectors;
}

lxb_inline bool
lxb_css_parser_is_running(lxb_css_parser_t *parser)
{
    return parser->stage == LXB_CSS_PARSER_RUN;
}

lxb_inline bool
lxb_css_parser_status_is_unexpected_data(lxb_css_parser_t *parser)
{
    return parser->status == LXB_STATUS_ERROR_UNEXPECTED_DATA;
}

lxb_inline void
lxb_css_parser_failed_set(lxb_css_parser_t *parser, bool is)
{
    parser->rules->failed = is;
}

lxb_inline void
lxb_css_parser_failed_set_by_id(lxb_css_parser_t *parser, int idx, bool is)
{
    lxb_css_syntax_rule_t *rules = parser->rules + idx;

    if (rules > parser->rules_begin && rules < parser->rules_end) {
        rules->failed = is;
    }
}

lxb_inline bool
lxb_css_parser_is_failed(lxb_css_parser_t *parser)
{
    return parser->rules->failed;
}

lxb_inline void
lxb_css_parser_set_ok(lxb_css_parser_t *parser)
{
    parser->rules->failed = false;
    parser->status = LXB_STATUS_OK;
}

lxb_inline const lxb_char_t *
lxb_css_parser_buffer(lxb_css_parser_t *parser, size_t *length)
{
    if (length != NULL) {
        *length = parser->tkz->in_end - parser->tkz->in_begin;
    }

    return parser->tkz->in_begin;
}

lxb_inline void
lxb_css_parser_buffer_set(lxb_css_parser_t *parser,
                          const lxb_char_t *data, size_t length)
{
    lxb_css_syntax_tokenizer_buffer_set(parser->tkz, data, length);
}

lxb_inline lxb_css_parser_state_f
lxb_css_parser_state(lxb_css_parser_t *parser)
{
    return parser->rules->state;
}

lxb_inline void
lxb_css_parser_state_set(lxb_css_parser_t *parser, lxb_css_parser_state_f state)
{
    parser->rules->state = state;
}

lxb_inline lxb_css_syntax_rule_t *
lxb_css_parser_current_rule(lxb_css_parser_t *parser)
{
    return parser->rules;
}

lxb_inline size_t
lxb_css_parser_rule_deep(lxb_css_parser_t *parser)
{
    return parser->rules->deep;
}

lxb_inline lxb_css_parser_state_t *
lxb_css_parser_states_pop(lxb_css_parser_t *parser)
{
    return parser->states--;
}

lxb_inline lxb_css_parser_state_t *
lxb_css_parser_states_to_root(lxb_css_parser_t *parser)
{
    lxb_css_parser_state_t *entry = parser->states;

    while (!entry->root) {
        entry--;
    }

    parser->states = entry;

    return entry;
}

lxb_inline bool
lxb_css_parser_states_set_back(lxb_css_parser_t *parser)
{
    const lxb_css_parser_state_t *entry = parser->states;
    lxb_css_syntax_rule_t *rules = parser->rules;

    rules->state = entry->state;
    rules->context = entry->context;

    return true;
}

lxb_inline void
lxb_css_parser_states_clean(lxb_css_parser_t *parser)
{
    parser->states = parser->states_begin;
}

lxb_inline lxb_css_parser_state_t *
lxb_css_parser_states_current(lxb_css_parser_t *parser)
{
    return parser->states;
}

lxb_inline void
lxb_css_parser_states_set(lxb_css_parser_state_t *states,
                          lxb_css_parser_state_f state, void *context)
{
    states->state = state;
    states->context = context;
}

lxb_inline void
lxb_css_parser_states_up(lxb_css_parser_t *parser)
{
    parser->states++;
}

lxb_inline void
lxb_css_parser_states_down(lxb_css_parser_t *parser)
{
    parser->states--;
}

lxb_inline lxb_css_log_t *
lxb_css_parser_log(lxb_css_parser_t *parser)
{
    return parser->log;
}

lxb_inline const lxb_css_syntax_token_t *
lxb_css_parser_token_end(lxb_css_parser_t *parser, size_t offset)
{
    parser->token_end.offset = offset;
    return &parser->token_end;
}

lxb_inline void
lxb_css_parser_set_context(lxb_css_parser_t *parser, void *ctx)
{
    parser->rules->context = ctx;
}

lxb_inline void
lxb_css_syntax_set_return(lxb_css_parser_t *parser, void *value)
{
    parser->rules[-1].returned = value;
}

lxb_inline void *
lxb_css_syntax_returned(lxb_css_parser_t *parser)
{
    return parser->rules->returned;
}

/*
 * No-inline functions for ABI.
 */
LXB_API lxb_status_t
lxb_css_parser_status_noi(lxb_css_parser_t *parser);

LXB_API lxb_css_memory_t *
lxb_css_parser_memory_noi(lxb_css_parser_t *parser);

LXB_API void
lxb_css_parser_memory_set_noi(lxb_css_parser_t *parser, lxb_css_memory_t *memory);

LXB_API lxb_css_selectors_t *
lxb_css_parser_selectors_noi(lxb_css_parser_t *parser);

LXB_API void
lxb_css_parser_selectors_set_noi(lxb_css_parser_t *parser,
                                 lxb_css_selectors_t *selectors);

LXB_API bool
lxb_css_parser_is_running_noi(lxb_css_parser_t *parser);

LXB_API bool
lxb_css_parser_status_is_unexpected_data_noi(lxb_css_parser_t *parser);

LXB_API void
lxb_css_parser_failed_set_noi(lxb_css_parser_t *parser, bool is);

LXB_API void
lxb_css_parser_failed_set_by_id_noi(lxb_css_parser_t *parser, int idx, bool is);

LXB_API bool
lxb_css_parser_is_failed_noi(lxb_css_parser_t *parser);

LXB_API void
lxb_css_parser_set_ok_noi(lxb_css_parser_t *parser);

LXB_API const lxb_char_t *
lxb_css_parser_buffer_noi(lxb_css_parser_t *parser, size_t *length);

LXB_API void
lxb_css_parser_buffer_set_noi(lxb_css_parser_t *parser,
                              const lxb_char_t *data, size_t length);

LXB_API lxb_css_parser_state_f
lxb_css_parser_state_noi(lxb_css_parser_t *parser);

LXB_API void
lxb_css_parser_state_set_noi(lxb_css_parser_t *parser,
                             lxb_css_parser_state_f state);

LXB_API lxb_css_syntax_rule_t *
lxb_css_parser_current_rule_noi(lxb_css_parser_t *parser);

LXB_API size_t
lxb_css_parser_rule_deep_noi(lxb_css_parser_t *parser);

LXB_API lxb_css_parser_state_t *
lxb_css_parser_states_pop_noi(lxb_css_parser_t *parser);

LXB_API lxb_css_parser_state_t *
lxb_css_parser_states_to_root_noi(lxb_css_parser_t *parser);

LXB_API bool
lxb_css_parser_states_set_back_noi(lxb_css_parser_t *parser);

LXB_API void
lxb_css_parser_states_clean_noi(lxb_css_parser_t *parser);

LXB_API lxb_css_parser_state_t *
lxb_css_parser_states_current_noi(lxb_css_parser_t *parser);

LXB_API void
lxb_css_parser_states_set_noi(lxb_css_parser_state_t *states,
                              lxb_css_parser_state_f state, void *context);

LXB_API void
lxb_css_parser_states_up_noi(lxb_css_parser_t *parser);

LXB_API void
lxb_css_parser_states_down_noi(lxb_css_parser_t *parser);

LXB_API lxb_css_log_t *
lxb_css_parser_log_noi(lxb_css_parser_t *parser);

LXB_API const lxb_css_syntax_token_t *
lxb_css_parser_token_end_noi(lxb_css_parser_t *parser, size_t offset);

LXB_API void
lxb_css_parser_set_context_noi(lxb_css_parser_t *parser, void *ctx);

LXB_API void
lxb_css_syntax_set_return_noi(lxb_css_parser_t *parser, void *value);

LXB_API void *
lxb_css_syntax_returned_noi(lxb_css_parser_t *parser);

/* Header: source/lexbor/css/selectors/pseudo.h */

typedef struct {
    lxb_char_t                          *name;
    size_t                              length;
    unsigned                            id;
    bool                                empty;
    lxb_css_selector_combinator_t       combinator;
    const lxb_css_syntax_cb_function_t  cb;
    bool                                forgiving;
    bool                                comma;
}
lxb_css_selectors_pseudo_data_func_t;

typedef struct {
    lxb_char_t *name;
    size_t     length;
    unsigned   id;
}
lxb_css_selectors_pseudo_data_t;


LXB_API const lxb_css_selectors_pseudo_data_t *
lxb_css_selector_pseudo_class_by_name(const lxb_char_t *name, size_t length);

LXB_API const lxb_css_selectors_pseudo_data_func_t *
lxb_css_selector_pseudo_class_function_by_name(const lxb_char_t *name,
                                               size_t length);

LXB_API const lxb_css_selectors_pseudo_data_func_t *
lxb_css_selector_pseudo_class_function_by_id(unsigned id);

LXB_API const lxb_css_selectors_pseudo_data_t *
lxb_css_selector_pseudo_element_by_name(const lxb_char_t *name, size_t length);

LXB_API const lxb_css_selectors_pseudo_data_func_t *
lxb_css_selector_pseudo_element_function_by_name(const lxb_char_t *name,
                                                 size_t length);

LXB_API const lxb_css_selectors_pseudo_data_func_t *
lxb_css_selector_pseudo_element_function_by_id(unsigned id);

LXB_API const lxb_css_selectors_pseudo_data_func_t *
lxb_css_selector_pseudo_function_by_id(unsigned id, bool is_class);

LXB_API bool
lxb_css_selector_pseudo_function_can_empty(unsigned id, bool is_class);

/* Header: source/lexbor/css/selectors/state.h */

LXB_API bool
lxb_css_selectors_state_complex_list(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx);

LXB_API bool
lxb_css_selectors_state_compound_list(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      void *ctx);

LXB_API bool
lxb_css_selectors_state_simple_list(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token,
                                    void *ctx);

LXB_API bool
lxb_css_selectors_state_relative_list(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      void *ctx);

LXB_API bool
lxb_css_selectors_state_relative(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 void *ctx);

LXB_API bool
lxb_css_selectors_state_complex(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_compound(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_simple(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx);


LXB_API lxb_status_t
lxb_css_selectors_state_function_end(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx, bool failed);

LXB_API lxb_status_t
lxb_css_selectors_state_function_forgiving(lxb_css_parser_t *parser,
                                           const lxb_css_syntax_token_t *token,
                                           void *ctx, bool failed);

LXB_API lxb_status_t
lxb_css_selectors_state_function_forgiving_relative(lxb_css_parser_t *parser,
                                                    const lxb_css_syntax_token_t *token,
                                                    void *ctx, bool failed);

lxb_inline bool
lxb_css_selectors_state_fail(lxb_css_parser_t *parser)
{
    parser->status = LXB_STATUS_ERROR_UNEXPECTED_DATA;

    (void) lxb_css_parser_states_pop(parser);

    return false;
}

/* Header: source/lexbor/css/state.h */

#ifndef LXB_CSS_STATE_H
#define LXB_CSS_STATE_H


LXB_API bool
lxb_css_state_success(lxb_css_parser_t *parser,
                      const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_state_failed(lxb_css_parser_t *parser,
                     const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_state_stop(lxb_css_parser_t *parser,
                   const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_state_blank(lxb_css_parser_t *parser,
                    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API const lxb_css_syntax_cb_list_rules_t *
lxb_css_state_cb_list_rules(void);

LXB_API const lxb_css_syntax_cb_at_rule_t *
lxb_css_state_cb_at_rule(void);

LXB_API const lxb_css_syntax_cb_qualified_rule_t *
lxb_css_state_cb_qualified_rule(void);

LXB_API const lxb_css_syntax_cb_block_t *
lxb_css_state_cb_block(void);

LXB_API const lxb_css_syntax_cb_declarations_t *
lxb_css_state_cb_declarations(void);

const lxb_css_syntax_cb_block_t *
lxb_css_state_at_rule_block_begin(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  void *ctx, void **out_rule);


#ifdef __cplusplus
} /* extern "C" */
#endif
#endif /* LXB_CSS_STATE_H */

/* Header: source/lexbor/css/syntax/tokenizer/error.h */

typedef enum {
    /* unexpected-eof */
    LXB_CSS_SYNTAX_TOKENIZER_ERROR_UNEOF = 0x0000,
    /* eof-in-comment */
    LXB_CSS_SYNTAX_TOKENIZER_ERROR_EOINCO,
    /* eof-in-string */
    LXB_CSS_SYNTAX_TOKENIZER_ERROR_EOINST,
    /* eof-in-url */
    LXB_CSS_SYNTAX_TOKENIZER_ERROR_EOINUR,
    /* eof-in-escaped */
    LXB_CSS_SYNTAX_TOKENIZER_ERROR_EOINES,
    /* qo-in-url */
    LXB_CSS_SYNTAX_TOKENIZER_ERROR_QOINUR,
    /* wrong-escape-in-url */
    LXB_CSS_SYNTAX_TOKENIZER_ERROR_WRESINUR,
    /* newline-in-string */
    LXB_CSS_SYNTAX_TOKENIZER_ERROR_NEINST,
    /* bad-char */
    LXB_CSS_SYNTAX_TOKENIZER_ERROR_BACH,
    /* bad-code-point */
    LXB_CSS_SYNTAX_TOKENIZER_ERROR_BACOPO,
}
lxb_css_syntax_tokenizer_error_id_t;

typedef struct {
    const lxb_char_t                    *pos;
    lxb_css_syntax_tokenizer_error_id_t id;
}
lxb_css_syntax_tokenizer_error_t;


LXB_API lxb_css_syntax_tokenizer_error_t *
lxb_css_syntax_tokenizer_error_add(lexbor_array_obj_t *parse_errors,
                                   const lxb_char_t *pos,
                                   lxb_css_syntax_tokenizer_error_id_t id);

/* Header: source/lexbor/css/unit.h */

#ifndef LXB_CSS_UNIT_H
#define LXB_CSS_UNIT_H


LXB_API const lxb_css_data_t *
lxb_css_unit_absolute_relative_by_name(const lxb_char_t *name, size_t length);

LXB_API const lxb_css_data_t *
lxb_css_unit_absolute_by_name(const lxb_char_t *name, size_t length);

LXB_API const lxb_css_data_t *
lxb_css_unit_relative_by_name(const lxb_char_t *name, size_t length);

LXB_API const lxb_css_data_t *
lxb_css_unit_angle_by_name(const lxb_char_t *name, size_t length);

LXB_API const lxb_css_data_t *
lxb_css_unit_frequency_by_name(const lxb_char_t *name, size_t length);

LXB_API const lxb_css_data_t *
lxb_css_unit_resolution_by_name(const lxb_char_t *name, size_t length);

LXB_API const lxb_css_data_t *
lxb_css_unit_duration_by_name(const lxb_char_t *name, size_t length);

LXB_API const lxb_css_data_t *
lxb_css_unit_by_id(lxb_css_type_t id);


#ifdef __cplusplus
} /* extern "C" */
#endif
#endif /* LXB_CSS_UNIT_H */

/* Header: source/lexbor/css/css.h */

#ifndef LXB_CSS_H
#define LXB_CSS_H


LXB_API lxb_status_t
lxb_css_make_data(lxb_css_parser_t *parser, lexbor_str_t *str,
                  size_t begin, size_t end);

LXB_API lxb_char_t *
lxb_css_serialize_char_handler(const void *style, lxb_css_style_serialize_f cb,
                               size_t *out_length);
LXB_API lxb_status_t
lxb_css_serialize_str_handler(const void *style, lexbor_str_t *str,
                              lexbor_mraw_t *mraw, lxb_css_style_serialize_f cb);


#ifdef __cplusplus
} /* extern "C" */
#endif
#endif /* LXB_CSS_H */

/* Header: source/lexbor/css/property/state.h */

#ifndef LXB_CSS_PROPERTY_STATE_H
#define LXB_CSS_PROPERTY_STATE_H


LXB_API bool
lxb_css_property_state__undef(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state__custom(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_display(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_order(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_visibility(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_width(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_height(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_box_sizing(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_min_width(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_min_height(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_max_width(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_max_height(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_margin(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_margin_top(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_margin_right(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_margin_bottom(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_margin_left(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_padding(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_padding_top(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_padding_right(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_padding_bottom(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_padding_left(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_border(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_border_top(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_border_right(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_border_bottom(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_border_left(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_border_top_color(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_border_right_color(lxb_css_parser_t *parser,
                                          const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_border_bottom_color(lxb_css_parser_t *parser,
                                           const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_border_left_color(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_background_color(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_color(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_opacity(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_position(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_top(lxb_css_parser_t *parser,
                           const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_right(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_bottom(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_left(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_inset_block_start(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_inset_inline_start(lxb_css_parser_t *parser,
                                          const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_inset_block_end(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_inset_inline_end(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_text_transform(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_text_align(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_text_align_all(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_text_align_last(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_text_justify(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_text_indent(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_white_space(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_tab_size(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_word_break(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_line_break(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_hyphens(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_overflow_wrap(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_word_wrap(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_word_spacing(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_letter_spacing(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_hanging_punctuation(lxb_css_parser_t *parser,
                                           const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_font_family(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_font_weight(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_font_stretch(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_font_style(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_font_size(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_float_reference(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_float(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_clear(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_float_defer(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_float_offset(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_wrap_flow(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_wrap_through(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_flex_direction(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_flex_wrap(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_flex_flow(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_flex(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_flex_grow(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_flex_shrink(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_flex_basis(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_justify_content(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_align_items(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_align_self(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_align_content(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_z_index(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_direction(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_unicode_bidi(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_writing_mode(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_text_orientation(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_text_combine_upright(lxb_css_parser_t *parser,
                                            const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_overflow_x(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_overflow_y(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_overflow_block(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_overflow_inline(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_text_overflow(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_text_decoration_line(lxb_css_parser_t *parser,
                                            const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_text_decoration_style(lxb_css_parser_t *parser,
                                             const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_text_decoration_color(lxb_css_parser_t *parser,
                                             const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_text_decoration(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_dominant_baseline(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_vertical_align(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_baseline_source(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_alignment_baseline(lxb_css_parser_t *parser,
                                          const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_baseline_shift(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx);
LXB_API bool
lxb_css_property_state_line_height(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx);
#ifdef __cplusplus
} /* extern "C" */
#endif

#endif /* LXB_CSS_PROPERTY_STATE_H */

/* Header: source/lexbor/css/selectors/pseudo_state.h */

LXB_API bool
lxb_css_selectors_state_pseudo_class_function__undef(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_class_function_current(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_class_function_dir(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_class_function_has(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_class_function_is(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_class_function_lang(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_class_function_not(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_class_function_nth_child(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_class_function_nth_col(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_class_function_nth_last_child(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_class_function_nth_last_col(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_class_function_nth_last_of_type(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_class_function_nth_of_type(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_class_function_where(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_element_function__undef(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

LXB_API bool
lxb_css_selectors_state_pseudo_class_function_lexbor_contains(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

/* Header: source/lexbor/css/syntax/state.h */

const lxb_char_t *
lxb_css_syntax_state_delim(lxb_css_syntax_tokenizer_t *tkz,
                           lxb_css_syntax_token_t *token,
                           const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_comment(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                             const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_whitespace(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                                const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_string(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                            const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_hash(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                          const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_lparenthesis(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                                  const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_rparenthesis(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                                  const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_plus(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                          const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_comma(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                           const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_minus(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                           const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_full_stop(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                               const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_colon(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                           const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_semicolon(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                               const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_less_sign(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                               const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_at(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                        const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_ls_bracket(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                                const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_rsolidus(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                              const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_rs_bracket(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                                const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_lc_bracket(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                                const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_rc_bracket(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                                const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_consume_before_numeric(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                                            const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_ident_like(lxb_css_syntax_tokenizer_t *tkz,
                                lxb_css_syntax_token_t *token,
                                const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_ident_like_not_url_start(lxb_css_syntax_tokenizer_t *tkz,
                                              lxb_css_syntax_token_t *token,
                                              const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_ident_like_not_url(lxb_css_syntax_tokenizer_t *tkz,
                                        lxb_css_syntax_token_t *token,
                                        const lxb_char_t *data, const lxb_char_t *end);

const lxb_char_t *
lxb_css_syntax_state_ident_like_not_url_surrogate(lxb_css_syntax_tokenizer_t *tkz,
                                                  lxb_css_syntax_token_t *token,
                                                  const lxb_char_t *data, const lxb_char_t *end);

/* Header: source/lexbor/dom/base.h */

#define LXB_DOM_VERSION_MAJOR 2
#define LXB_DOM_VERSION_MINOR 0
#define LXB_DOM_VERSION_PATCH 0

#define LXB_DOM_VERSION_STRING                                                 \
    LEXBOR_STRINGIZE(LXB_DOM_VERSION_MAJOR) "."                                \
    LEXBOR_STRINGIZE(LXB_DOM_VERSION_MINOR) "."                                \
    LEXBOR_STRINGIZE(LXB_DOM_VERSION_PATCH)

/* Header: source/lexbor/ns/const.h */

#ifndef LXB_NS_CONST_H
#define LXB_NS_CONST_H

#define LXB_NS_CONST_VERSION "253D4AFDA959234B48A478B956C3C777"
#define LXB_NS_CONST_VERSION_253D4AFDA959234B48A478B956C3C777

typedef uintptr_t lxb_ns_id_t;
typedef uintptr_t lxb_ns_prefix_id_t;

typedef enum {
    LXB_NS__UNDEF      = 0x00,
    LXB_NS__ANY        = 0x01,
    LXB_NS_HTML        = 0x02,
    LXB_NS_MATH        = 0x03,
    LXB_NS_SVG         = 0x04,
    LXB_NS_XLINK       = 0x05,
    LXB_NS_XML         = 0x06,
    LXB_NS_XMLNS       = 0x07,
    LXB_NS__LAST_ENTRY = 0x08
}
lxb_ns_id_enum_t;


#endif /* LXB_NS_CONST_H */

/* Header: source/lexbor/tag/const.h */

#ifndef LXB_TAG_CONST_H
#define LXB_TAG_CONST_H

#define LXB_TAG_CONST_VERSION "A53A182A4948BBFD2F227CE07EF1977D"
#define LXB_TAG_CONST_VERSION_A53A182A4948BBFD2F227CE07EF1977D


typedef uintptr_t lxb_tag_id_t;

typedef enum {
    LXB_TAG__UNDEF              = 0x0000,
    LXB_TAG__END_OF_FILE        = 0x0001,
    LXB_TAG__TEXT               = 0x0002,
    LXB_TAG__DOCUMENT           = 0x0003,
    LXB_TAG__EM_COMMENT         = 0x0004,
    LXB_TAG__EM_DOCTYPE         = 0x0005,
    LXB_TAG_A                   = 0x0006,
    LXB_TAG_ABBR                = 0x0007,
    LXB_TAG_ACRONYM             = 0x0008,
    LXB_TAG_ADDRESS             = 0x0009,
    LXB_TAG_ALTGLYPH            = 0x000a,
    LXB_TAG_ALTGLYPHDEF         = 0x000b,
    LXB_TAG_ALTGLYPHITEM        = 0x000c,
    LXB_TAG_ANIMATECOLOR        = 0x000d,
    LXB_TAG_ANIMATEMOTION       = 0x000e,
    LXB_TAG_ANIMATETRANSFORM    = 0x000f,
    LXB_TAG_ANNOTATION_XML      = 0x0010,
    LXB_TAG_APPLET              = 0x0011,
    LXB_TAG_AREA                = 0x0012,
    LXB_TAG_ARTICLE             = 0x0013,
    LXB_TAG_ASIDE               = 0x0014,
    LXB_TAG_AUDIO               = 0x0015,
    LXB_TAG_B                   = 0x0016,
    LXB_TAG_BASE                = 0x0017,
    LXB_TAG_BASEFONT            = 0x0018,
    LXB_TAG_BDI                 = 0x0019,
    LXB_TAG_BDO                 = 0x001a,
    LXB_TAG_BGSOUND             = 0x001b,
    LXB_TAG_BIG                 = 0x001c,
    LXB_TAG_BLINK               = 0x001d,
    LXB_TAG_BLOCKQUOTE          = 0x001e,
    LXB_TAG_BODY                = 0x001f,
    LXB_TAG_BR                  = 0x0020,
    LXB_TAG_BUTTON              = 0x0021,
    LXB_TAG_CANVAS              = 0x0022,
    LXB_TAG_CAPTION             = 0x0023,
    LXB_TAG_CENTER              = 0x0024,
    LXB_TAG_CITE                = 0x0025,
    LXB_TAG_CLIPPATH            = 0x0026,
    LXB_TAG_CODE                = 0x0027,
    LXB_TAG_COL                 = 0x0028,
    LXB_TAG_COLGROUP            = 0x0029,
    LXB_TAG_DATA                = 0x002a,
    LXB_TAG_DATALIST            = 0x002b,
    LXB_TAG_DD                  = 0x002c,
    LXB_TAG_DEL                 = 0x002d,
    LXB_TAG_DESC                = 0x002e,
    LXB_TAG_DETAILS             = 0x002f,
    LXB_TAG_DFN                 = 0x0030,
    LXB_TAG_DIALOG              = 0x0031,
    LXB_TAG_DIR                 = 0x0032,
    LXB_TAG_DIV                 = 0x0033,
    LXB_TAG_DL                  = 0x0034,
    LXB_TAG_DT                  = 0x0035,
    LXB_TAG_EM                  = 0x0036,
    LXB_TAG_EMBED               = 0x0037,
    LXB_TAG_FEBLEND             = 0x0038,
    LXB_TAG_FECOLORMATRIX       = 0x0039,
    LXB_TAG_FECOMPONENTTRANSFER = 0x003a,
    LXB_TAG_FECOMPOSITE         = 0x003b,
    LXB_TAG_FECONVOLVEMATRIX    = 0x003c,
    LXB_TAG_FEDIFFUSELIGHTING   = 0x003d,
    LXB_TAG_FEDISPLACEMENTMAP   = 0x003e,
    LXB_TAG_FEDISTANTLIGHT      = 0x003f,
    LXB_TAG_FEDROPSHADOW        = 0x0040,
    LXB_TAG_FEFLOOD             = 0x0041,
    LXB_TAG_FEFUNCA             = 0x0042,
    LXB_TAG_FEFUNCB             = 0x0043,
    LXB_TAG_FEFUNCG             = 0x0044,
    LXB_TAG_FEFUNCR             = 0x0045,
    LXB_TAG_FEGAUSSIANBLUR      = 0x0046,
    LXB_TAG_FEIMAGE             = 0x0047,
    LXB_TAG_FEMERGE             = 0x0048,
    LXB_TAG_FEMERGENODE         = 0x0049,
    LXB_TAG_FEMORPHOLOGY        = 0x004a,
    LXB_TAG_FEOFFSET            = 0x004b,
    LXB_TAG_FEPOINTLIGHT        = 0x004c,
    LXB_TAG_FESPECULARLIGHTING  = 0x004d,
    LXB_TAG_FESPOTLIGHT         = 0x004e,
    LXB_TAG_FETILE              = 0x004f,
    LXB_TAG_FETURBULENCE        = 0x0050,
    LXB_TAG_FIELDSET            = 0x0051,
    LXB_TAG_FIGCAPTION          = 0x0052,
    LXB_TAG_FIGURE              = 0x0053,
    LXB_TAG_FONT                = 0x0054,
    LXB_TAG_FOOTER              = 0x0055,
    LXB_TAG_FOREIGNOBJECT       = 0x0056,
    LXB_TAG_FORM                = 0x0057,
    LXB_TAG_FRAME               = 0x0058,
    LXB_TAG_FRAMESET            = 0x0059,
    LXB_TAG_GLYPHREF            = 0x005a,
    LXB_TAG_H1                  = 0x005b,
    LXB_TAG_H2                  = 0x005c,
    LXB_TAG_H3                  = 0x005d,
    LXB_TAG_H4                  = 0x005e,
    LXB_TAG_H5                  = 0x005f,
    LXB_TAG_H6                  = 0x0060,
    LXB_TAG_HEAD                = 0x0061,
    LXB_TAG_HEADER              = 0x0062,
    LXB_TAG_HGROUP              = 0x0063,
    LXB_TAG_HR                  = 0x0064,
    LXB_TAG_HTML                = 0x0065,
    LXB_TAG_I                   = 0x0066,
    LXB_TAG_IFRAME              = 0x0067,
    LXB_TAG_IMAGE               = 0x0068,
    LXB_TAG_IMG                 = 0x0069,
    LXB_TAG_INPUT               = 0x006a,
    LXB_TAG_INS                 = 0x006b,
    LXB_TAG_ISINDEX             = 0x006c,
    LXB_TAG_KBD                 = 0x006d,
    LXB_TAG_KEYGEN              = 0x006e,
    LXB_TAG_LABEL               = 0x006f,
    LXB_TAG_LEGEND              = 0x0070,
    LXB_TAG_LI                  = 0x0071,
    LXB_TAG_LINEARGRADIENT      = 0x0072,
    LXB_TAG_LINK                = 0x0073,
    LXB_TAG_LISTING             = 0x0074,
    LXB_TAG_MAIN                = 0x0075,
    LXB_TAG_MALIGNMARK          = 0x0076,
    LXB_TAG_MAP                 = 0x0077,
    LXB_TAG_MARK                = 0x0078,
    LXB_TAG_MARQUEE             = 0x0079,
    LXB_TAG_MATH                = 0x007a,
    LXB_TAG_MENU                = 0x007b,
    LXB_TAG_META                = 0x007c,
    LXB_TAG_METER               = 0x007d,
    LXB_TAG_MFENCED             = 0x007e,
    LXB_TAG_MGLYPH              = 0x007f,
    LXB_TAG_MI                  = 0x0080,
    LXB_TAG_MN                  = 0x0081,
    LXB_TAG_MO                  = 0x0082,
    LXB_TAG_MS                  = 0x0083,
    LXB_TAG_MTEXT               = 0x0084,
    LXB_TAG_MULTICOL            = 0x0085,
    LXB_TAG_NAV                 = 0x0086,
    LXB_TAG_NEXTID              = 0x0087,
    LXB_TAG_NOBR                = 0x0088,
    LXB_TAG_NOEMBED             = 0x0089,
    LXB_TAG_NOFRAMES            = 0x008a,
    LXB_TAG_NOSCRIPT            = 0x008b,
    LXB_TAG_OBJECT              = 0x008c,
    LXB_TAG_OL                  = 0x008d,
    LXB_TAG_OPTGROUP            = 0x008e,
    LXB_TAG_OPTION              = 0x008f,
    LXB_TAG_OUTPUT              = 0x0090,
    LXB_TAG_P                   = 0x0091,
    LXB_TAG_PARAM               = 0x0092,
    LXB_TAG_PATH                = 0x0093,
    LXB_TAG_PICTURE             = 0x0094,
    LXB_TAG_PLAINTEXT           = 0x0095,
    LXB_TAG_PRE                 = 0x0096,
    LXB_TAG_PROGRESS            = 0x0097,
    LXB_TAG_Q                   = 0x0098,
    LXB_TAG_RADIALGRADIENT      = 0x0099,
    LXB_TAG_RB                  = 0x009a,
    LXB_TAG_RP                  = 0x009b,
    LXB_TAG_RT                  = 0x009c,
    LXB_TAG_RTC                 = 0x009d,
    LXB_TAG_RUBY                = 0x009e,
    LXB_TAG_S                   = 0x009f,
    LXB_TAG_SAMP                = 0x00a0,
    LXB_TAG_SCRIPT              = 0x00a1,
    LXB_TAG_SEARCH              = 0x00a2,
    LXB_TAG_SECTION             = 0x00a3,
    LXB_TAG_SELECT              = 0x00a4,
    LXB_TAG_SELECTEDCONTENT     = 0x00a5,
    LXB_TAG_SLOT                = 0x00a6,
    LXB_TAG_SMALL               = 0x00a7,
    LXB_TAG_SOURCE              = 0x00a8,
    LXB_TAG_SPACER              = 0x00a9,
    LXB_TAG_SPAN                = 0x00aa,
    LXB_TAG_STRIKE              = 0x00ab,
    LXB_TAG_STRONG              = 0x00ac,
    LXB_TAG_STYLE               = 0x00ad,
    LXB_TAG_SUB                 = 0x00ae,
    LXB_TAG_SUMMARY             = 0x00af,
    LXB_TAG_SUP                 = 0x00b0,
    LXB_TAG_SVG                 = 0x00b1,
    LXB_TAG_TABLE               = 0x00b2,
    LXB_TAG_TBODY               = 0x00b3,
    LXB_TAG_TD                  = 0x00b4,
    LXB_TAG_TEMPLATE            = 0x00b5,
    LXB_TAG_TEXTAREA            = 0x00b6,
    LXB_TAG_TEXTPATH            = 0x00b7,
    LXB_TAG_TFOOT               = 0x00b8,
    LXB_TAG_TH                  = 0x00b9,
    LXB_TAG_THEAD               = 0x00ba,
    LXB_TAG_TIME                = 0x00bb,
    LXB_TAG_TITLE               = 0x00bc,
    LXB_TAG_TR                  = 0x00bd,
    LXB_TAG_TRACK               = 0x00be,
    LXB_TAG_TT                  = 0x00bf,
    LXB_TAG_U                   = 0x00c0,
    LXB_TAG_UL                  = 0x00c1,
    LXB_TAG_VAR                 = 0x00c2,
    LXB_TAG_VIDEO               = 0x00c3,
    LXB_TAG_WBR                 = 0x00c4,
    LXB_TAG_XMP                 = 0x00c5,
    LXB_TAG__LAST_ENTRY         = 0x00c6
}
lxb_tag_id_enum_t;


#endif /* LXB_TAG_CONST_H */

/* Header: source/lexbor/dom/interface.h */

#define lxb_dom_interface_cdata_section(obj) ((lxb_dom_cdata_section_t *) (obj))
#define lxb_dom_interface_character_data(obj) ((lxb_dom_character_data_t *) (obj))
#define lxb_dom_interface_comment(obj) ((lxb_dom_comment_t *) (obj))
#define lxb_dom_interface_document(obj) ((lxb_dom_document_t *) (obj))
#define lxb_dom_interface_document_fragment(obj) ((lxb_dom_document_fragment_t *) (obj))
#define lxb_dom_interface_document_type(obj) ((lxb_dom_document_type_t *) (obj))
#define lxb_dom_interface_element(obj) ((lxb_dom_element_t *) (obj))
#define lxb_dom_interface_attr(obj) ((lxb_dom_attr_t *) (obj))
#define lxb_dom_interface_event_target(obj) ((lxb_dom_event_target_t *) (obj))
#define lxb_dom_interface_node(obj) ((lxb_dom_node_t *) (obj))
#define lxb_dom_interface_processing_instruction(obj) ((lxb_dom_processing_instruction_t *) (obj))
#define lxb_dom_interface_shadow_root(obj) ((lxb_dom_shadow_root_t *) (obj))
#define lxb_dom_interface_text(obj) ((lxb_dom_text_t *) (obj))


typedef struct lxb_dom_event_target lxb_dom_event_target_t;
typedef struct lxb_dom_node lxb_dom_node_t;
typedef struct lxb_dom_element lxb_dom_element_t;
typedef struct lxb_dom_attr lxb_dom_attr_t;
typedef struct lxb_dom_document lxb_dom_document_t;
typedef struct lxb_dom_document_type lxb_dom_document_type_t;
typedef struct lxb_dom_document_fragment lxb_dom_document_fragment_t;
typedef struct lxb_dom_shadow_root lxb_dom_shadow_root_t;
typedef struct lxb_dom_character_data lxb_dom_character_data_t;
typedef struct lxb_dom_text lxb_dom_text_t;
typedef struct lxb_dom_cdata_section lxb_dom_cdata_section_t;
typedef struct lxb_dom_processing_instruction lxb_dom_processing_instruction_t;
typedef struct lxb_dom_comment lxb_dom_comment_t;

typedef void lxb_dom_interface_t;

typedef void *
(*lxb_dom_interface_constructor_f)(void *document);

typedef void *
(*lxb_dom_interface_destructor_f)(void *intrfc);


typedef lxb_dom_interface_t *
(*lxb_dom_interface_create_f)(lxb_dom_document_t *document, lxb_tag_id_t tag_id,
                              lxb_ns_id_t ns);

typedef lxb_dom_interface_t *
(*lxb_dom_interface_clone_f)(lxb_dom_document_t *document,
                             const lxb_dom_interface_t *intrfc);

typedef lxb_dom_interface_t *
(*lxb_dom_interface_destroy_f)(lxb_dom_interface_t *intrfc);


LXB_API lxb_dom_interface_t *
lxb_dom_interface_create(lxb_dom_document_t *document, lxb_tag_id_t tag_id,
                         lxb_ns_id_t ns);

LXB_API lxb_dom_interface_t *
lxb_dom_interface_clone(lxb_dom_document_t *document,
                        const lxb_dom_interface_t *intrfc);

LXB_API lxb_dom_interface_t *
lxb_dom_interface_destroy(lxb_dom_interface_t *intrfc);

/* Header: source/lexbor/dom/collection.h */

typedef struct {
    lexbor_array_t     array;
    lxb_dom_document_t *document;
}
lxb_dom_collection_t;


LXB_API lxb_dom_collection_t *
lxb_dom_collection_create(lxb_dom_document_t *document);

LXB_API lxb_status_t
lxb_dom_collection_init(lxb_dom_collection_t *col, size_t start_list_size);

LXB_API lxb_dom_collection_t *
lxb_dom_collection_destroy(lxb_dom_collection_t *col, bool self_destroy);


/*
 * Inline functions
 */
lxb_inline lxb_dom_collection_t *
lxb_dom_collection_make(lxb_dom_document_t *document, size_t start_list_size)
{
    lxb_status_t status;
    lxb_dom_collection_t *col;

    col = lxb_dom_collection_create(document);
    status = lxb_dom_collection_init(col, start_list_size);

    if(status != LXB_STATUS_OK) {
        return lxb_dom_collection_destroy(col, true);
    }

    return col;
}

lxb_inline void
lxb_dom_collection_clean(lxb_dom_collection_t *col)
{
    lexbor_array_clean(&col->array);
}

lxb_inline lxb_status_t
lxb_dom_collection_append(lxb_dom_collection_t *col, void *value)
{
    return lexbor_array_push(&col->array, value);
}

lxb_inline lxb_dom_element_t *
lxb_dom_collection_element(lxb_dom_collection_t *col, size_t idx)
{
    return (lxb_dom_element_t *) lexbor_array_get(&col->array, idx);
}

lxb_inline lxb_dom_node_t *
lxb_dom_collection_node(lxb_dom_collection_t *col, size_t idx)
{
    return (lxb_dom_node_t *) lexbor_array_get(&col->array, idx);
}

lxb_inline size_t
lxb_dom_collection_length(lxb_dom_collection_t *col)
{
    return lexbor_array_length(&col->array);
}

/*
 * No inline functions for ABI.
 */
LXB_API lxb_dom_collection_t *
lxb_dom_collection_make_noi(lxb_dom_document_t *document, size_t start_list_size);

LXB_API void
lxb_dom_collection_clean_noi(lxb_dom_collection_t *col);

LXB_API lxb_status_t
lxb_dom_collection_append_noi(lxb_dom_collection_t *col, void *value);

LXB_API lxb_dom_element_t *
lxb_dom_collection_element_noi(lxb_dom_collection_t *col, size_t idx);

LXB_API lxb_dom_node_t *
lxb_dom_collection_node_noi(lxb_dom_collection_t *col, size_t idx);

LXB_API size_t
lxb_dom_collection_length_noi(lxb_dom_collection_t *col);

/* Header: source/lexbor/dom/exception.h */

typedef enum {
    LXB_DOM_EXCEPTION_OK = -1,
    LXB_DOM_EXCEPTION_ERR = 0,
    LXB_DOM_EXCEPTION_INDEX_SIZE_ERR = 1, /* Deprecated. */
    LXB_DOM_EXCEPTION_DOMSTRING_SIZE_ERR,
    LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR,
    LXB_DOM_EXCEPTION_WRONG_DOCUMENT_ERR,
    LXB_DOM_EXCEPTION_INVALID_CHARACTER_ERR,
    LXB_DOM_EXCEPTION_NO_DATA_ALLOWED_ERR,
    LXB_DOM_EXCEPTION_NO_MODIFICATION_ALLOWED_ERR,
    LXB_DOM_EXCEPTION_NOT_FOUND_ERR,
    LXB_DOM_EXCEPTION_NOT_SUPPORTED_ERR,
    LXB_DOM_EXCEPTION_INUSE_ATTRIBUTE_ERR,
    LXB_DOM_EXCEPTION_INVALID_STATE_ERR,
    LXB_DOM_EXCEPTION_SYNTAX_ERR,
    LXB_DOM_EXCEPTION_INVALID_MODIFICATION_ERR,
    LXB_DOM_EXCEPTION_NAMESPACE_ERR,
    LXB_DOM_EXCEPTION_INVALID_ACCESS_ERR, /* Deprecated. */
    LXB_DOM_EXCEPTION_VALIDATION_ERR,
    LXB_DOM_EXCEPTION_TYPE_MISMATCH_ERR, /* Deprecated. */
    LXB_DOM_EXCEPTION_SECURITY_ERR,
    LXB_DOM_EXCEPTION_NETWORK_ERR,
    LXB_DOM_EXCEPTION_ABORT_ERR,
    LXB_DOM_EXCEPTION_URL_MISMATCH_ERR, /* Deprecated. */
    LXB_DOM_EXCEPTION_QUOTA_EXCEEDED_ERR, /* Deprecated. */
    LXB_DOM_EXCEPTION_TIMEOUT_ERR,
    LXB_DOM_EXCEPTION_INVALID_NODE_TYPE_ERR,
    LXB_DOM_EXCEPTION_DATA_CLONE_ERR,
    LXB_DOM_EXCEPTION_ENCODING_ERR,
    LXB_DOM_EXCEPTION_NOT_READABLE_ERR,
    LXB_DOM_EXCEPTION_UNKNOWN_ERR,
    LXB_DOM_EXCEPTION_CONSTRAINT_ERR,
    LXB_DOM_EXCEPTION_DATA_ERR,
    LXB_DOM_EXCEPTION_TRANSACTION_INACTIVE_ERR,
    LXB_DOM_EXCEPTION_READ_ONLY_ERR,
    LXB_DOM_EXCEPTION_VERSION_ERR,
    LXB_DOM_EXCEPTION_OPERATION_ERR,
    LXB_DOM_EXCEPTION_NOT_ALLOWED_ERR,
    LXB_DOM_EXCEPTION_OPT_OUT_ERR,
    LXB_DOM_EXCEPTION__LAST_ENTRY
}
lxb_dom_exception_code_t;

typedef struct {
    lexbor_str_t             name;
    lexbor_str_t             message;
    lxb_dom_exception_code_t code;
    lxb_dom_document_t       *document;
}
lxb_dom_exception_t;


LXB_API lxb_dom_exception_t *
lxb_dom_exception_create(lxb_dom_document_t *document,
                         const lxb_char_t *message, size_t message_length,
                         const lxb_char_t *name, size_t name_length);

LXB_API lxb_dom_exception_t *
lxb_dom_exception_create_by_code(lxb_dom_document_t *document,
                                 const lxb_char_t *message, size_t length,
                                 lxb_dom_exception_code_t code);

LXB_API lxb_dom_exception_t *
lxb_dom_exception_destroy(lxb_dom_exception_t *exception);


LXB_API const lexbor_str_t *
lxb_dom_exception_message_by_code(lxb_dom_exception_code_t code);

LXB_API const lexbor_str_t *
lxb_dom_exception_name_by_code(lxb_dom_exception_code_t code);

LXB_API lxb_dom_exception_code_t
lxb_dom_exception_code_by_name(const lxb_char_t *name, size_t length);

/* Header: source/lexbor/dom/interfaces/attr_const.h */

#ifndef LXB_DOM_ATTR_CONST_H
#define LXB_DOM_ATTR_CONST_H


typedef uintptr_t lxb_dom_attr_id_t;

typedef enum {
    LXB_DOM_ATTR__UNDEF      = 0x0000,
    LXB_DOM_ATTR_ACTIVE      = 0x0001,
    LXB_DOM_ATTR_ALT         = 0x0002,
    LXB_DOM_ATTR_CHARSET     = 0x0003,
    LXB_DOM_ATTR_CHECKED     = 0x0004,
    LXB_DOM_ATTR_CLASS       = 0x0005,
    LXB_DOM_ATTR_COLOR       = 0x0006,
    LXB_DOM_ATTR_CONTENT     = 0x0007,
    LXB_DOM_ATTR_DIR         = 0x0008,
    LXB_DOM_ATTR_DISABLED    = 0x0009,
    LXB_DOM_ATTR_FACE        = 0x000a,
    LXB_DOM_ATTR_FOCUS       = 0x000b,
    LXB_DOM_ATTR_FOR         = 0x000c,
    LXB_DOM_ATTR_HEIGHT      = 0x000d,
    LXB_DOM_ATTR_HOVER       = 0x000e,
    LXB_DOM_ATTR_HREF        = 0x000f,
    LXB_DOM_ATTR_HTML        = 0x0010,
    LXB_DOM_ATTR_HTTP_EQUIV  = 0x0011,
    LXB_DOM_ATTR_ID          = 0x0012,
    LXB_DOM_ATTR_IS          = 0x0013,
    LXB_DOM_ATTR_MAXLENGTH   = 0x0014,
    LXB_DOM_ATTR_MULTIPLE    = 0x0015,
    LXB_DOM_ATTR_PLACEHOLDER = 0x0016,
    LXB_DOM_ATTR_POOL        = 0x0017,
    LXB_DOM_ATTR_PUBLIC      = 0x0018,
    LXB_DOM_ATTR_READONLY    = 0x0019,
    LXB_DOM_ATTR_REQUIRED    = 0x001a,
    LXB_DOM_ATTR_SCHEME      = 0x001b,
    LXB_DOM_ATTR_SELECTED    = 0x001c,
    LXB_DOM_ATTR_SIZE        = 0x001d,
    LXB_DOM_ATTR_SLOT        = 0x001e,
    LXB_DOM_ATTR_SRC         = 0x001f,
    LXB_DOM_ATTR_STYLE       = 0x0020,
    LXB_DOM_ATTR_SYSTEM      = 0x0021,
    LXB_DOM_ATTR_TITLE       = 0x0022,
    LXB_DOM_ATTR_TYPE        = 0x0023,
    LXB_DOM_ATTR_WIDTH       = 0x0024,
    LXB_DOM_ATTR__LAST_ENTRY = 0x0025
}
lxb_dom_attr_id_enum_t;


#endif /* LXB_DOM_ATTR_CONST_H */

/* Header: source/lexbor/dom/interfaces/event_target.h */

struct lxb_dom_event_target {
    void *events;
};


LXB_API lxb_dom_event_target_t *
lxb_dom_event_target_create(lxb_dom_document_t *document);

LXB_API lxb_dom_event_target_t *
lxb_dom_event_target_destroy(lxb_dom_event_target_t *event_target,
                             lxb_dom_document_t *document);

/* Header: source/lexbor/dom/interfaces/node.h */

typedef lexbor_action_t
(*lxb_dom_node_simple_walker_f)(lxb_dom_node_t *node, void *ctx);

/*
 * Callbacks for node events.
 */

/*
 * insert, remove, destroy:
 *     Can be called for any node. When inserting an element, attribute,
 *     comment and so on.
 *
 * set_value:
 *     Can be called only when the attribute value is changed.
 */
typedef lxb_status_t
(*lxb_dom_node_cb_insert_f)(lxb_dom_node_t *node);

typedef lxb_status_t
(*lxb_dom_node_cb_remove_f)(lxb_dom_node_t *node);

typedef lxb_status_t
(*lxb_dom_node_cb_destroy_f)(lxb_dom_node_t *node);

typedef lxb_status_t
(*lxb_dom_node_cb_set_value_f)(lxb_dom_node_t *node,
                               const lxb_char_t *value, size_t length);


typedef enum {
    LXB_DOM_NODE_TYPE_UNDEF                  = 0x00,
    LXB_DOM_NODE_TYPE_ELEMENT                = 0x01,
    LXB_DOM_NODE_TYPE_ATTRIBUTE              = 0x02,
    LXB_DOM_NODE_TYPE_TEXT                   = 0x03,
    LXB_DOM_NODE_TYPE_CDATA_SECTION          = 0x04,
    LXB_DOM_NODE_TYPE_ENTITY_REFERENCE       = 0x05, // historical
    LXB_DOM_NODE_TYPE_ENTITY                 = 0x06, // historical
    LXB_DOM_NODE_TYPE_PROCESSING_INSTRUCTION = 0x07,
    LXB_DOM_NODE_TYPE_COMMENT                = 0x08,
    LXB_DOM_NODE_TYPE_DOCUMENT               = 0x09,
    LXB_DOM_NODE_TYPE_DOCUMENT_TYPE          = 0x0A,
    LXB_DOM_NODE_TYPE_DOCUMENT_FRAGMENT      = 0x0B,
    LXB_DOM_NODE_TYPE_NOTATION               = 0x0C, // historical
    LXB_DOM_NODE_TYPE_CHARACTER_DATA,
    LXB_DOM_NODE_TYPE_SHADOW_ROOT,
    LXB_DOM_NODE_TYPE_LAST_ENTRY
}
lxb_dom_node_type_t;

struct lxb_dom_node {
    lxb_dom_event_target_t event_target;

    /* For example: <LalAla:DiV Fix:Me="value"> */

    uintptr_t              local_name; /* , lowercase, without prefix: div */
    uintptr_t              prefix;     /* lowercase: lalala */
    uintptr_t              ns;         /* namespace */

    lxb_dom_document_t     *owner_document;

    lxb_dom_node_t         *next;
    lxb_dom_node_t         *prev;
    lxb_dom_node_t         *parent;
    lxb_dom_node_t         *first_child;
    lxb_dom_node_t         *last_child;
    void                   *user;

    lxb_dom_node_type_t    type;

#ifdef LXB_DOM_NODE_USER_VARIABLES
    LXB_DOM_NODE_USER_VARIABLES
#endif /* LXB_DOM_NODE_USER_VARIABLES */
};


LXB_API lxb_dom_node_t *
lxb_dom_node_interface_create(lxb_dom_document_t *document);

LXB_API lxb_dom_node_t *
lxb_dom_node_interface_clone(lxb_dom_document_t *document,
                             const lxb_dom_node_t *node, bool is_attr);

LXB_API lxb_dom_node_t *
lxb_dom_node_interface_destroy(lxb_dom_node_t *node);

LXB_API lxb_status_t
lxb_dom_node_interface_copy(lxb_dom_node_t *dst,
                            const lxb_dom_node_t *src, bool is_attr);

LXB_API lxb_dom_node_t *
lxb_dom_node_destroy(lxb_dom_node_t *node);

LXB_API lxb_dom_node_t *
lxb_dom_node_destroy_deep(lxb_dom_node_t *root);

LXB_API lxb_dom_node_t *
lxb_dom_node_clone(lxb_dom_node_t *node, bool deep);

LXB_API const lxb_char_t *
lxb_dom_node_name(lxb_dom_node_t *node, size_t *len);

LXB_API void
lxb_dom_node_insert_child_wo_events(lxb_dom_node_t *to, lxb_dom_node_t *node);

LXB_API void
lxb_dom_node_insert_child(lxb_dom_node_t *to, lxb_dom_node_t *node);

LXB_API void
lxb_dom_node_insert_before_wo_events(lxb_dom_node_t *to, lxb_dom_node_t *node);

LXB_API void
lxb_dom_node_insert_before(lxb_dom_node_t *to, lxb_dom_node_t *node);

LXB_API void
lxb_dom_node_insert_after_wo_events(lxb_dom_node_t *to, lxb_dom_node_t *node);

LXB_API void
lxb_dom_node_insert_after(lxb_dom_node_t *to, lxb_dom_node_t *node);

LXB_API lxb_dom_exception_code_t
lxb_dom_node_pre_insert_validity(lxb_dom_node_t *parent, lxb_dom_node_t *node,
                                 lxb_dom_node_t *child);

LXB_API lxb_dom_exception_code_t
lxb_dom_node_pre_insert(lxb_dom_node_t *parent, lxb_dom_node_t *node,
                        lxb_dom_node_t *child);

LXB_API lxb_dom_exception_code_t
lxb_dom_node_insert(lxb_dom_node_t *parent, lxb_dom_node_t *node,
                    lxb_dom_node_t *child, bool suppress_observers);

/*
 * Add a node as a child.
 *
 * Function according to specification. Node.appendChild(node).
 *
 * The function not only adds a node as a child, but also validates
 * the possibility of adding it.
 * For example, the lxb_dom_node_insert_child() function does not perform
 * any validation.
 *
 * @param[in] lxb_dom_node_t *. Where to add. Not NULL.
 * @param[in] lxb_dom_node_t *. Who to add. Not NULL.
 *
 * @return LXB_DOM_EXCEPTION_OK if successful, otherwise an error exception code.
 */
LXB_API lxb_dom_exception_code_t
lxb_dom_node_append_child(lxb_dom_node_t *parent, lxb_dom_node_t *node);

/*
 * Insert before child.
 *
 * Function according to specification. Node.insertBefore(node, child).
 *
 * The function not only insert a node as a child, but also validates
 * the possibility of adding it.
 * For example, the lxb_dom_node_insert_before() function does not perform
 * any validation.
 *
 * @param[in] lxb_dom_node_t *. Where to add. Not NULL.
 * @param[in] lxb_dom_node_t *. Who to add. Not NULL.
 * @param[in] lxb_dom_node_t *. The child before need to insert. Not NULL.
 *
 * @return LXB_DOM_EXCEPTION_OK if successful, otherwise an error exception code.
 */
LXB_API lxb_dom_exception_code_t
lxb_dom_node_insert_before_spec(lxb_dom_node_t *dst, lxb_dom_node_t *node,
                                lxb_dom_node_t *child);

LXB_API lxb_dom_exception_code_t
lxb_dom_node_remove_spec(lxb_dom_node_t *node, bool suppress_observers);

LXB_API void
lxb_dom_node_remove_wo_events(lxb_dom_node_t *node);

LXB_API void
lxb_dom_node_remove(lxb_dom_node_t *node);

/*
 * Removing a node.
 *
 * Function according to specification. Node.removeChild(node).
 *
 * The function not only removing a node, but also validates the possibility
 * of adding it.
 * For example, the lxb_dom_node_remove() function does not perform
 * any validation.
 *
 * @param[in] lxb_dom_node_t *. Where remove. Not NULL.
 * @param[in] lxb_dom_node_t *. Who remove. Not NULL.
 *
 * @return LXB_DOM_EXCEPTION_OK if successful, otherwise an error exception code.
 */
LXB_API lxb_dom_exception_code_t
lxb_dom_node_remove_child(lxb_dom_node_t *parent, lxb_dom_node_t *child);

/*
 * The function replaces the child with a node.
 *
 * Function according to specification. Node.replaceChild(node, child).
 *
 * The function not only replace a node, but also validates the possibility
 * of adding it.
 * For example, the lxb_dom_node_replace_all() function does not perform
 * any validation.
 *
 * @param[in] lxb_dom_node_t *. Where replace. Not NULL.
 * @param[in] lxb_dom_node_t *. Who replace. Not NULL.
 * @param[in] lxb_dom_node_t *. Replaceable child. Not NULL.
 *
 * @return LXB_DOM_EXCEPTION_OK if successful, otherwise an error exception code.
 */
LXB_API lxb_dom_exception_code_t
lxb_dom_node_replace_child(lxb_dom_node_t *parent, lxb_dom_node_t *node,
                           lxb_dom_node_t *child);

LXB_API lxb_dom_exception_code_t
lxb_dom_node_replace_all_spec(lxb_dom_node_t *parent, lxb_dom_node_t *node);

LXB_API lxb_status_t
lxb_dom_node_replace_all(lxb_dom_node_t *parent, lxb_dom_node_t *node);

LXB_API void
lxb_dom_node_simple_walk(lxb_dom_node_t *root,
                         lxb_dom_node_simple_walker_f walker_cb, void *ctx);

LXB_API lxb_dom_node_t *
lxb_dom_node_by_id(lxb_dom_node_t *root,
                   const lxb_char_t *qualified_name, size_t len);

LXB_API lxb_status_t
lxb_dom_node_by_tag_name(lxb_dom_node_t *root, lxb_dom_collection_t *collection,
                         const lxb_char_t *qualified_name, size_t len);
LXB_API lxb_status_t
lxb_dom_node_by_class_name(lxb_dom_node_t *root,
                           lxb_dom_collection_t *collection,
                           const lxb_char_t *class_name, size_t len);
LXB_API lxb_status_t
lxb_dom_node_by_attr(lxb_dom_node_t *root, lxb_dom_collection_t *collection,
                     const lxb_char_t *qualified_name, size_t qname_len,
                     const lxb_char_t *value, size_t value_len,
                     bool case_insensitive);
LXB_API lxb_status_t
lxb_dom_node_by_attr_begin(lxb_dom_node_t *root,
                           lxb_dom_collection_t *collection,
                           const lxb_char_t *qualified_name, size_t qname_len,
                           const lxb_char_t *value, size_t value_len,
                           bool case_insensitive);
LXB_API lxb_status_t
lxb_dom_node_by_attr_end(lxb_dom_node_t *root, lxb_dom_collection_t *collection,
                         const lxb_char_t *qualified_name, size_t qname_len,
                         const lxb_char_t *value, size_t value_len,
                         bool case_insensitive);
LXB_API lxb_status_t
lxb_dom_node_by_attr_contain(lxb_dom_node_t *root,
                             lxb_dom_collection_t *collection,
                             const lxb_char_t *qualified_name, size_t qname_len,
                             const lxb_char_t *value, size_t value_len,
                             bool case_insensitive);

/*
 * Memory of returns value will be freed in document destroy moment.
 * If you need to release returned resource after use, then call the
 * lxb_dom_document_destroy_text(node->owner_document, text) function.
 */
LXB_API lxb_char_t *
lxb_dom_node_text_content(lxb_dom_node_t *node, size_t *len);

LXB_API lxb_status_t
lxb_dom_node_text_content_set(lxb_dom_node_t *node,
                              const lxb_char_t *content, size_t len);

LXB_API bool
lxb_dom_node_is_empty(const lxb_dom_node_t *root);

LXB_API bool
lxb_dom_node_host_including_inclusive_ancestor(const lxb_dom_node_t *node,
                                               const lxb_dom_node_t *parent);

LXB_API lxb_dom_exception_code_t
lxb_dom_node_adopt(lxb_dom_node_t *node);

/*
 * Inline functions
 */
lxb_inline lxb_tag_id_t
lxb_dom_node_tag_id(lxb_dom_node_t *node)
{
    return node->local_name;
}

lxb_inline lxb_dom_node_t *
lxb_dom_node_next(lxb_dom_node_t *node)
{
    return node->next;
}

lxb_inline lxb_dom_node_t *
lxb_dom_node_prev(lxb_dom_node_t *node)
{
    return node->prev;
}

lxb_inline lxb_dom_node_t *
lxb_dom_node_parent(lxb_dom_node_t *node)
{
    return node->parent;
}

lxb_inline lxb_dom_node_t *
lxb_dom_node_first_child(lxb_dom_node_t *node)
{
    return node->first_child;
}

lxb_inline lxb_dom_node_t *
lxb_dom_node_last_child(lxb_dom_node_t *node)
{
    return node->last_child;
}

lxb_inline lxb_dom_node_type_t
lxb_dom_node_type(lxb_dom_node_t *node)
{
    return node->type;
}

/*
 * No inline functions for ABI.
 */
LXB_API lxb_tag_id_t
lxb_dom_node_tag_id_noi(lxb_dom_node_t *node);

LXB_API lxb_dom_node_t *
lxb_dom_node_next_noi(lxb_dom_node_t *node);

LXB_API lxb_dom_node_t *
lxb_dom_node_prev_noi(lxb_dom_node_t *node);

LXB_API lxb_dom_node_t *
lxb_dom_node_parent_noi(lxb_dom_node_t *node);

LXB_API lxb_dom_node_t *
lxb_dom_node_first_child_noi(lxb_dom_node_t *node);

LXB_API lxb_dom_node_t *
lxb_dom_node_last_child_noi(lxb_dom_node_t *node);

LXB_API lxb_dom_node_type_t
lxb_dom_node_type_noi(lxb_dom_node_t *node);

/* Header: source/lexbor/dom/interfaces/document.h */

typedef enum {
    LXB_DOM_DOCUMENT_CMODE_NO_QUIRKS       = 0x00,
    LXB_DOM_DOCUMENT_CMODE_QUIRKS          = 0x01,
    LXB_DOM_DOCUMENT_CMODE_LIMITED_QUIRKS  = 0x02
}
lxb_dom_document_cmode_t;

typedef enum {
    LXB_DOM_DOCUMENT_DTYPE_UNDEF = 0x00,
    LXB_DOM_DOCUMENT_DTYPE_HTML  = 0x01,
    LXB_DOM_DOCUMENT_DTYPE_XML   = 0x02
}
lxb_dom_document_dtype_t;

typedef struct lxb_dom_document_css lxb_dom_document_css_t;

typedef struct {
    lxb_dom_node_cb_insert_f    insert;
    lxb_dom_node_cb_remove_f    remove;
    lxb_dom_node_cb_destroy_f   destroy;
    lxb_dom_node_cb_set_value_f set_value;
}
lxb_dom_document_node_cb_t;

struct lxb_dom_document {
    lxb_dom_node_t                    node;

    lxb_dom_document_cmode_t          compat_mode;
    lxb_dom_document_dtype_t          type;

    lxb_dom_document_type_t           *doctype;
    lxb_dom_element_t                 *element;

    lxb_dom_interface_create_f        create_interface;
    lxb_dom_interface_clone_f         clone_interface;
    lxb_dom_interface_destroy_f       destroy_interface;

    const lxb_dom_document_node_cb_t  *node_cb;

    lexbor_mraw_t                     *mraw;
    lexbor_mraw_t                     *text;
    lexbor_hash_t                     *tags;
    lexbor_hash_t                     *attrs;
    lexbor_hash_t                     *prefix;
    lexbor_hash_t                     *ns;
    void                              *parser;
    void                              *user;

    lxb_dom_document_css_t            *css;

    bool                              tags_inherited;
    bool                              ns_inherited;

    bool                              scripting;
};


LXB_API lxb_dom_document_t *
lxb_dom_document_interface_create(lxb_dom_document_t *document);

LXB_API lxb_dom_document_t *
lxb_dom_document_interface_clone(lxb_dom_document_t *document,
                                 const lxb_dom_document_t *doc);

LXB_API lxb_dom_document_t *
lxb_dom_document_interface_destroy(lxb_dom_document_t *document);

/*
 * Creating a document.
 *
 * The function creates and returns a zeroed document.
 * If another document is passed as an argument, its memory pool will be used
 * to conscious the new one.
 *
 * @param[in] lxb_dom_document_t *. Owner document, can be NULL.
 *
 * @return lxb_dom_document_t *. if successful, otherwise returns a NULL value.
 */
LXB_API lxb_dom_document_t *
lxb_dom_document_create(lxb_dom_document_t *owner);

/*
 * Document Initialization.
 *
 * The function expects the document to be zeroed.
 *
 * @param[in] lxb_dom_document_t *. If NULL, LXB_STATUS_ERROR_OBJECT_IS_NULL is returned.
 * @param[in] lxb_dom_document_t *. Owner document, can be NULL.
 * @param[in] lxb_dom_interface_create_f. Required. Callback for creating interfaces.
 * @param[in] lxb_dom_interface_clone_f. Required. Callback for cloning interfaces.
 * @param[in] lxb_dom_interface_destroy_f. Required. Callback for destroying interfaces.
 * @param[in] lxb_dom_document_dtype_t. Document Type. Currently HTML or XML.
 * @param[in] unsigned int. Document Namespace. See lexbor/ns.
 *
 * @return LXB_STATUS_OK if successful, otherwise an error status value.
 */
LXB_API lxb_status_t
lxb_dom_document_init(lxb_dom_document_t *document, lxb_dom_document_t *owner,
                      lxb_dom_interface_create_f create_interface,
                      lxb_dom_interface_clone_f clone_interface,
                      lxb_dom_interface_destroy_f destroy_interface,
                      lxb_dom_document_dtype_t type, unsigned int ns);

LXB_API lxb_status_t
lxb_dom_document_clean(lxb_dom_document_t *document);

LXB_API lxb_dom_document_t *
lxb_dom_document_destroy(lxb_dom_document_t *document);

LXB_API void
lxb_dom_document_attach_doctype(lxb_dom_document_t *document,
                                lxb_dom_document_type_t *doctype);

LXB_API void
lxb_dom_document_attach_element(lxb_dom_document_t *document,
                                lxb_dom_element_t *element);

LXB_API lxb_dom_element_t *
lxb_dom_document_create_element(lxb_dom_document_t *document,
                                const lxb_char_t *local_name, size_t lname_len,
                                void *reserved_for_opt);

LXB_API lxb_dom_element_t *
lxb_dom_document_destroy_element(lxb_dom_element_t *element);

LXB_API lxb_dom_document_fragment_t *
lxb_dom_document_create_document_fragment(lxb_dom_document_t *document);

LXB_API lxb_dom_text_t *
lxb_dom_document_create_text_node(lxb_dom_document_t *document,
                                  const lxb_char_t *data, size_t len);

LXB_API lxb_dom_cdata_section_t *
lxb_dom_document_create_cdata_section(lxb_dom_document_t *document,
                                      const lxb_char_t *data, size_t len);

LXB_API lxb_dom_processing_instruction_t *
lxb_dom_document_create_processing_instruction(lxb_dom_document_t *document,
                                               const lxb_char_t *target, size_t target_len,
                                               const lxb_char_t *data, size_t data_len);

LXB_API lxb_dom_comment_t *
lxb_dom_document_create_comment(lxb_dom_document_t *document,
                                const lxb_char_t *data, size_t len);

LXB_API lxb_dom_node_t *
lxb_dom_document_root(lxb_dom_document_t *document);

LXB_API lxb_dom_node_t *
lxb_dom_document_import_node(lxb_dom_document_t *doc, lxb_dom_node_t *node,
                             bool deep);

LXB_API void
lxb_dom_document_set_default_node_cb(lxb_dom_document_t *document);


/*
 * Inline functions
 */
lxb_inline lxb_dom_interface_t *
lxb_dom_document_create_interface(lxb_dom_document_t *document,
                                  lxb_tag_id_t tag_id, lxb_ns_id_t ns)
{
    return document->create_interface(document, tag_id, ns);
}

lxb_inline lxb_dom_interface_t *
lxb_dom_document_destroy_interface(lxb_dom_interface_t *intrfc)
{
    return lxb_dom_interface_node(intrfc)->owner_document->destroy_interface(intrfc);
}

lxb_inline void *
lxb_dom_document_create_struct(lxb_dom_document_t *document, size_t struct_size)
{
    return lexbor_mraw_calloc(document->mraw, struct_size);
}

lxb_inline void *
lxb_dom_document_destroy_struct(lxb_dom_document_t *document, void *structure)
{
    return lexbor_mraw_free(document->mraw, structure);
}

lxb_inline lxb_char_t *
lxb_dom_document_create_text(lxb_dom_document_t *document, size_t len)
{
    return (lxb_char_t *) lexbor_mraw_alloc(document->text,
                                            sizeof(lxb_char_t) * len);
}

lxb_inline void *
lxb_dom_document_destroy_text(lxb_dom_document_t *document, lxb_char_t *text)
{
    return lexbor_mraw_free(document->text, text);
}

lxb_inline lxb_dom_element_t *
lxb_dom_document_element(lxb_dom_document_t *document)
{
    return document->element;
}

lxb_inline bool
lxb_dom_document_scripting(lxb_dom_document_t *document)
{
    return document->scripting;
}

lxb_inline void
lxb_dom_document_scripting_set(lxb_dom_document_t *document, bool scripting)
{
    document->scripting = scripting;
}

lxb_inline lxb_dom_document_t *
lxb_dom_document_owner(lxb_dom_document_t *document)
{
    return lxb_dom_interface_node(document)->owner_document;
}

lxb_inline bool
lxb_dom_document_is_original(lxb_dom_document_t *document)
{
    return lxb_dom_interface_node(document)->owner_document == document;
}

/*
 * No inline functions for ABI.
 */
LXB_API lxb_dom_interface_t *
lxb_dom_document_create_interface_noi(lxb_dom_document_t *document,
                                      lxb_tag_id_t tag_id, lxb_ns_id_t ns);

LXB_API lxb_dom_interface_t *
lxb_dom_document_destroy_interface_noi(lxb_dom_interface_t *intrfc);

LXB_API void *
lxb_dom_document_create_struct_noi(lxb_dom_document_t *document,
                                   size_t struct_size);

LXB_API void *
lxb_dom_document_destroy_struct_noi(lxb_dom_document_t *document,
                                    void *structure);

LXB_API lxb_char_t *
lxb_dom_document_create_text_noi(lxb_dom_document_t *document, size_t len);

LXB_API void *
lxb_dom_document_destroy_text_noi(lxb_dom_document_t *document,
                                  lxb_char_t *text);

LXB_API lxb_dom_element_t *
lxb_dom_document_element_noi(lxb_dom_document_t *document);

LXB_API bool
lxb_dom_document_scripting_noi(lxb_dom_document_t *document);

LXB_API void
lxb_dom_document_scripting_set_noi(lxb_dom_document_t *document,
                                   bool scripting);

/* Header: source/lexbor/ns/ns.h */

typedef struct {
    lexbor_hash_entry_t  entry;

    lxb_ns_id_t          ns_id;
    size_t               ref_count;
    bool                 read_only;
}
lxb_ns_data_t;

typedef struct {
    lexbor_hash_entry_t  entry;

    lxb_ns_prefix_id_t   prefix_id;
    size_t               ref_count;
    bool                 read_only;
}
lxb_ns_prefix_data_t;


/* Link */
LXB_API const lxb_char_t *
lxb_ns_by_id(lexbor_hash_t *hash, lxb_ns_id_t ns_id, size_t *length);

LXB_API const lxb_ns_data_t *
lxb_ns_data_by_id(lexbor_hash_t *hash, lxb_ns_id_t ns_id);

LXB_API const lxb_ns_data_t *
lxb_ns_data_by_link(lexbor_hash_t *hash, const lxb_char_t *name, size_t length);

/* Prefix */
LXB_API const lxb_ns_prefix_data_t *
lxb_ns_prefix_append(lexbor_hash_t *hash,
                     const lxb_char_t *prefix, size_t length);

LXB_API const lxb_ns_prefix_data_t *
lxb_ns_prefix_data_by_id(lexbor_hash_t *hash, lxb_ns_prefix_id_t prefix_id);

LXB_API const lxb_ns_prefix_data_t *
lxb_ns_prefix_data_by_name(lexbor_hash_t *hash,
                           const lxb_char_t *name, size_t length);

/* Header: source/lexbor/dom/interfaces/attr.h */

typedef struct {
    lexbor_hash_entry_t  entry;
    lxb_dom_attr_id_t    attr_id;
    size_t               ref_count;
    bool                 read_only;
}
lxb_dom_attr_data_t;

/* More memory to God of memory! */
struct lxb_dom_attr {
    lxb_dom_node_t     node;

    /* For example: <LalAla:DiV Fix:Me="value"> */

    lxb_dom_attr_id_t  upper_name;     /* uppercase, with prefix: FIX:ME */
    lxb_dom_attr_id_t  qualified_name; /* original, with prefix: Fix:Me */

    lexbor_str_t       *value;

    lxb_dom_element_t  *owner;

    lxb_dom_attr_t     *next;
    lxb_dom_attr_t     *prev;
};


LXB_API lxb_dom_attr_t *
lxb_dom_attr_interface_create(lxb_dom_document_t *document);

LXB_API lxb_dom_attr_t *
lxb_dom_attr_interface_clone(lxb_dom_document_t *document,
                             const lxb_dom_attr_t *attr);

LXB_API lxb_dom_attr_t *
lxb_dom_attr_interface_destroy(lxb_dom_attr_t *attr);

LXB_API lxb_status_t
lxb_dom_attr_set_name(lxb_dom_attr_t *attr, const lxb_char_t *local_name,
                      size_t local_name_len, bool to_lowercase);

LXB_API lxb_status_t
lxb_dom_attr_set_value(lxb_dom_attr_t *attr,
                       const lxb_char_t *value, size_t value_len);

LXB_API lxb_status_t
lxb_dom_attr_set_value_wo_copy(lxb_dom_attr_t *attr,
                               lxb_char_t *value, size_t value_len);

LXB_API lxb_status_t
lxb_dom_attr_set_existing_value(lxb_dom_attr_t *attr,
                                const lxb_char_t *value, size_t value_len);

LXB_API lxb_status_t
lxb_dom_attr_clone_name_value(lxb_dom_attr_t *attr_from,
                              lxb_dom_attr_t *attr_to);

LXB_API bool
lxb_dom_attr_compare(lxb_dom_attr_t *first, lxb_dom_attr_t *second);

LXB_API void
lxb_dom_attr_remove(lxb_dom_attr_t *attr);

LXB_API const lxb_dom_attr_data_t *
lxb_dom_attr_data_undef(void);

LXB_API const lxb_dom_attr_data_t *
lxb_dom_attr_data_by_id(lexbor_hash_t *hash, lxb_dom_attr_id_t attr_id);

LXB_API const lxb_dom_attr_data_t *
lxb_dom_attr_data_by_local_name(lexbor_hash_t *hash,
                                const lxb_char_t *name, size_t length);

LXB_API const lxb_dom_attr_data_t *
lxb_dom_attr_data_by_qualified_name(lexbor_hash_t *hash,
                                    const lxb_char_t *name, size_t length);

LXB_API const lxb_char_t *
lxb_dom_attr_qualified_name(lxb_dom_attr_t *attr, size_t *len);


/*
 * Inline functions
 */
lxb_inline const lxb_char_t *
lxb_dom_attr_local_name(lxb_dom_attr_t *attr, size_t *len)
{
    const lxb_dom_attr_data_t *data;

    data = lxb_dom_attr_data_by_id(attr->node.owner_document->attrs,
                                   attr->node.local_name);

    if (len != NULL) {
        *len = data->entry.length;
    }

    return lexbor_hash_entry_str(&data->entry);
}

lxb_inline const lxb_char_t *
lxb_dom_attr_value(lxb_dom_attr_t *attr, size_t *len)
{
    if (attr->value == NULL) {
        if (len != NULL) {
            *len = 0;
        }

        return NULL;
    }

    if (len != NULL) {
        *len = attr->value->length;
    }

    return attr->value->data;
}

/*
 * No inline functions for ABI.
 */
LXB_API const lxb_char_t *
lxb_dom_attr_local_name_noi(lxb_dom_attr_t *attr, size_t *len);

LXB_API const lxb_char_t *
lxb_dom_attr_value_noi(lxb_dom_attr_t *attr, size_t *len);

/* Header: source/lexbor/dom/interfaces/character_data.h */

struct lxb_dom_character_data {
    lxb_dom_node_t node;

    lexbor_str_t   data;
};


LXB_API lxb_dom_character_data_t *
lxb_dom_character_data_interface_create(lxb_dom_document_t *document);

LXB_API lxb_dom_character_data_t *
lxb_dom_character_data_interface_clone(lxb_dom_document_t *document,
                                       const lxb_dom_character_data_t *ch_data);

LXB_API lxb_dom_character_data_t *
lxb_dom_character_data_interface_destroy(lxb_dom_character_data_t *character_data);

LXB_API lxb_status_t
lxb_dom_character_data_interface_copy(lxb_dom_character_data_t *dst,
                                      const lxb_dom_character_data_t *src);

LXB_API lxb_status_t
lxb_dom_character_data_replace(lxb_dom_character_data_t *ch_data,
                               const lxb_char_t *data, size_t len,
                               size_t offset, size_t count);

/* Header: source/lexbor/dom/interfaces/text.h */

struct lxb_dom_text {
    lxb_dom_character_data_t char_data;
};


LXB_API lxb_dom_text_t *
lxb_dom_text_interface_create(lxb_dom_document_t *document);

LXB_API lxb_dom_text_t *
lxb_dom_text_interface_clone(lxb_dom_document_t *document,
                             const lxb_dom_text_t *text);

LXB_API lxb_dom_text_t *
lxb_dom_text_interface_destroy(lxb_dom_text_t *text);


LXB_API lxb_status_t
lxb_dom_text_interface_copy(lxb_dom_text_t *dst, const lxb_dom_text_t *src);

/* Header: source/lexbor/dom/interfaces/cdata_section.h */

struct lxb_dom_cdata_section {
    lxb_dom_text_t text;
};


LXB_API lxb_dom_cdata_section_t *
lxb_dom_cdata_section_interface_create(lxb_dom_document_t *document);

LXB_API lxb_dom_cdata_section_t *
lxb_dom_cdata_section_interface_clone(lxb_dom_document_t *document,
                                      const lxb_dom_cdata_section_t *cdata);

LXB_API lxb_dom_cdata_section_t *
lxb_dom_cdata_section_interface_destroy(lxb_dom_cdata_section_t *cdata_section);

/* Header: source/lexbor/dom/interfaces/comment.h */

struct lxb_dom_comment {
    lxb_dom_character_data_t char_data;
};


LXB_API lxb_dom_comment_t *
lxb_dom_comment_interface_create(lxb_dom_document_t *document);

LXB_API lxb_dom_comment_t *
lxb_dom_comment_interface_clone(lxb_dom_document_t *document,
                                const lxb_dom_comment_t *text);
LXB_API lxb_dom_comment_t *
lxb_dom_comment_interface_destroy(lxb_dom_comment_t *comment);


LXB_API lxb_status_t
lxb_dom_comment_interface_copy(lxb_dom_comment_t *dst,
                               const lxb_dom_comment_t *src);

/* Header: source/lexbor/dom/interfaces/document_fragment.h */

struct lxb_dom_document_fragment {
    lxb_dom_node_t    node;

    lxb_dom_element_t *host;
};


LXB_API lxb_dom_document_fragment_t *
lxb_dom_document_fragment_interface_create(lxb_dom_document_t *document);

LXB_API lxb_dom_document_fragment_t *
lxb_dom_document_fragment_interface_destroy(lxb_dom_document_fragment_t *document_fragment);

/* Header: source/lexbor/dom/interfaces/document_type.h */

struct lxb_dom_document_type {
    lxb_dom_node_t    node;

    lxb_dom_attr_id_t name;
    lexbor_str_t      public_id;
    lexbor_str_t      system_id;
};


LXB_API lxb_dom_document_type_t *
lxb_dom_document_type_interface_create(lxb_dom_document_t *document);

LXB_API lxb_dom_document_type_t *
lxb_dom_document_type_interface_clone(lxb_dom_document_t *document,
                                      const lxb_dom_document_type_t *dtype);

LXB_API lxb_dom_document_type_t *
lxb_dom_document_type_interface_destroy(lxb_dom_document_type_t *document_type);

/*
 * Create DocumentType by specification.
 *
 * https://dom.spec.whatwg.org/#dom-domimplementation-createdocumenttype
 *
 * @param[in] lxb_dom_document_t *. Not NULL.
 * @param[in] const lxb_char_t *. Name. May be NULL, but then the return value
 *            will be NULL and an exception code will be recorded.
 * @param[in] size_t. Length of name. May be 0, but then the return value
 *            will be NULL and an exception code will be recorded.
 * @param[in] const lxb_char_t *. PublicID. Can be NULL.
 * @param[in] size_t. Length of PublicID. Can be 0.
 * @param[in] const lxb_char_t *. SystemID. Can be NULL.
 * @param[in] size_t. Length of SystemID. Can be 0.
 * @param[out] lxb_dom_exception_code_t. Can be NULL. If the variable is passed,
 *             the code will definitely be assigned. LXB_DOM_EXCEPTION_OK
 *             if successful.
 *
 * @return lxb_dom_document_type_t * if successful, otherwise NULL.
 */
LXB_API lxb_dom_document_type_t *
lxb_dom_document_type_create(lxb_dom_document_t *document,
                             const lxb_char_t *name, size_t name_len,
                             const lxb_char_t *pub, size_t pub_len,
                             const lxb_char_t *sys, size_t sys_len,
                             lxb_dom_exception_code_t *code);
LXB_API bool
lxb_dom_document_type_valid_name(const lxb_char_t *ame, size_t name_len);

/*
 * Inline functions
 */
lxb_inline const lxb_char_t *
lxb_dom_document_type_name(lxb_dom_document_type_t *doc_type, size_t *len)
{
    const lxb_dom_attr_data_t *data;

    static const lxb_char_t lxb_empty[] = "";

    data = lxb_dom_attr_data_by_id(doc_type->node.owner_document->attrs,
                                   doc_type->name);
    if (data == NULL || doc_type->name == LXB_DOM_ATTR__UNDEF) {
        if (len != NULL) {
            *len = 0;
        }

        return lxb_empty;
    }

    if (len != NULL) {
        *len = data->entry.length;
    }

    return lexbor_hash_entry_str(&data->entry);
}

lxb_inline const lxb_char_t *
lxb_dom_document_type_public_id(lxb_dom_document_type_t *doc_type, size_t *len)
{
    if (len != NULL) {
        *len = doc_type->public_id.length;
    }

    return doc_type->public_id.data;
}

lxb_inline const lxb_char_t *
lxb_dom_document_type_system_id(lxb_dom_document_type_t *doc_type, size_t *len)
{
    if (len != NULL) {
        *len = doc_type->system_id.length;
    }

    return doc_type->system_id.data;
}

/*
 * No inline functions for ABI.
 */
LXB_API const lxb_char_t *
lxb_dom_document_type_name_noi(lxb_dom_document_type_t *doc_type, size_t *len);

LXB_API const lxb_char_t *
lxb_dom_document_type_public_id_noi(lxb_dom_document_type_t *doc_type,
                                    size_t *len);

LXB_API const lxb_char_t *
lxb_dom_document_type_system_id_noi(lxb_dom_document_type_t *doc_type,
                                    size_t *len);

/* Header: source/lexbor/tag/tag.h */

typedef struct {
    lexbor_hash_entry_t entry;
    lxb_tag_id_t        tag_id;
    size_t              ref_count;
    bool                read_only;
}
lxb_tag_data_t;


LXB_API const lxb_tag_data_t *
lxb_tag_data_by_id(lxb_tag_id_t tag_id);

LXB_API const lxb_tag_data_t *
lxb_tag_data_by_name(lexbor_hash_t *hash, const lxb_char_t *name, size_t len);

LXB_API const lxb_tag_data_t *
lxb_tag_data_by_name_upper(lexbor_hash_t *hash,
                           const lxb_char_t *name, size_t len);

/*
 * Inline functions
 */
lxb_inline const lxb_char_t *
lxb_tag_name_by_id(lxb_tag_id_t tag_id, size_t *len)
{
    const lxb_tag_data_t *data = lxb_tag_data_by_id(tag_id);
    if (data == NULL) {
        if (len != NULL) {
            *len = 0;
        }

        return NULL;
    }

    if (len != NULL) {
        *len = data->entry.length;
    }

    return lexbor_hash_entry_str(&data->entry);
}

lxb_inline const lxb_char_t *
lxb_tag_name_upper_by_id(lxb_tag_id_t tag_id, size_t *len)
{
    const lxb_tag_data_t *data = lxb_tag_data_by_id(tag_id);
    if (data == NULL) {
        if (len != NULL) {
            *len = 0;
        }

        return NULL;
    }

    if (len != NULL) {
        *len = data->entry.length;
    }

    return lexbor_hash_entry_str(&data->entry);
}

lxb_inline lxb_tag_id_t
lxb_tag_id_by_name(lexbor_hash_t *hash, const lxb_char_t *name, size_t len)
{
    const lxb_tag_data_t *data = lxb_tag_data_by_name(hash, name, len);
    if (data == NULL) {
        return LXB_TAG__UNDEF;
    }

    return data->tag_id;
}

lxb_inline lexbor_mraw_t *
lxb_tag_mraw(lexbor_hash_t *hash)
{
    return lexbor_hash_mraw(hash);
}


/*
 * No inline functions for ABI.
 */
LXB_API const lxb_char_t *
lxb_tag_name_by_id_noi(lxb_tag_id_t tag_id, size_t *len);

LXB_API const lxb_char_t *
lxb_tag_name_upper_by_id_noi(lxb_tag_id_t tag_id, size_t *len);

LXB_API lxb_tag_id_t
lxb_tag_id_by_name_noi(lexbor_hash_t *hash,
                       const lxb_char_t *name, size_t len);

LXB_API lexbor_mraw_t *
lxb_tag_mraw_noi(lexbor_hash_t *hash);

/* Header: source/lexbor/dom/interfaces/element.h */

typedef enum {
    LXB_DOM_ELEMENT_CUSTOM_STATE_UNDEFINED      = 0x00,
    LXB_DOM_ELEMENT_CUSTOM_STATE_FAILED         = 0x01,
    LXB_DOM_ELEMENT_CUSTOM_STATE_UNCUSTOMIZED   = 0x02,
    LXB_DOM_ELEMENT_CUSTOM_STATE_CUSTOM         = 0x03
}
lxb_dom_element_custom_state_t;

struct lxb_dom_element {
    lxb_dom_node_t                 node;

    /* For example: <LalAla:DiV Fix:Me="value"> */

    /* uppercase, with prefix: LALALA:DIV */
    lxb_dom_attr_id_t              upper_name;

    /* original, with prefix: LalAla:DiV */
    lxb_dom_attr_id_t              qualified_name;

    lexbor_str_t                   *is_value;

    lxb_dom_attr_t                 *first_attr;
    lxb_dom_attr_t                 *last_attr;

    lxb_dom_attr_t                 *attr_id;
    lxb_dom_attr_t                 *attr_class;

    lexbor_avl_node_t              *style;
    void                           *list;  /* lxb_css_rule_declaration_list_t */

    lxb_dom_element_custom_state_t custom_state;
};


LXB_API lxb_dom_element_t *
lxb_dom_element_interface_create(lxb_dom_document_t *document);

LXB_API lxb_dom_element_t *
lxb_dom_element_interface_clone(lxb_dom_document_t *document,
                                const lxb_dom_element_t *element);

LXB_API lxb_dom_element_t *
lxb_dom_element_interface_destroy(lxb_dom_element_t *element);

LXB_API lxb_status_t
lxb_dom_element_interface_copy(lxb_dom_element_t *dst,
                               const lxb_dom_element_t *src);

LXB_API lxb_dom_element_t *
lxb_dom_element_create(lxb_dom_document_t *document,
                       const lxb_char_t *local_name, size_t lname_len,
                       const lxb_char_t *ns_name, size_t ns_len,
                       const lxb_char_t *prefix, size_t prefix_len,
                       const lxb_char_t *is, size_t is_len,
                       bool sync_custom);

LXB_API lxb_dom_element_t *
lxb_dom_element_destroy(lxb_dom_element_t *element);

LXB_API bool
lxb_dom_element_has_attributes(lxb_dom_element_t *element);

LXB_API lxb_dom_attr_t *
lxb_dom_element_set_attribute(lxb_dom_element_t *element,
                              const lxb_char_t *qualified_name, size_t qn_len,
                              const lxb_char_t *value, size_t value_len);

LXB_API const lxb_char_t *
lxb_dom_element_get_attribute(lxb_dom_element_t *element,
                              const lxb_char_t *qualified_name, size_t qn_len,
                              size_t *value_len);

LXB_API lxb_status_t
lxb_dom_element_remove_attribute(lxb_dom_element_t *element,
                                 const lxb_char_t *qualified_name, size_t qn_len);

LXB_API bool
lxb_dom_element_has_attribute(lxb_dom_element_t *element,
                              const lxb_char_t *qualified_name, size_t qn_len);

LXB_API lxb_status_t
lxb_dom_element_attr_append(lxb_dom_element_t *element, lxb_dom_attr_t *attr);

LXB_API lxb_status_t
lxb_dom_element_attr_remove(lxb_dom_element_t *element, lxb_dom_attr_t *attr);

LXB_API lxb_dom_attr_t *
lxb_dom_element_attr_by_name(lxb_dom_element_t *element,
                             const lxb_char_t *qualified_name, size_t length);

LXB_API lxb_dom_attr_t *
lxb_dom_element_attr_by_local_name_data(lxb_dom_element_t *element,
                                        const lxb_dom_attr_data_t *data);

LXB_API lxb_dom_attr_t *
lxb_dom_element_attr_by_id(lxb_dom_element_t *element,
                           lxb_dom_attr_id_t attr_id);

LXB_API lxb_dom_attr_t *
lxb_dom_element_attr_by_data(lxb_dom_element_t *element,
                             const lxb_dom_attr_data_t *data);

LXB_API bool
lxb_dom_element_compare(lxb_dom_element_t *first, lxb_dom_element_t *second);

LXB_API lxb_dom_attr_t *
lxb_dom_element_attr_is_exist(lxb_dom_element_t *element,
                              const lxb_char_t *qualified_name, size_t length);

LXB_API lxb_status_t
lxb_dom_element_is_set(lxb_dom_element_t *element,
                       const lxb_char_t *is, size_t is_len);

LXB_API lxb_dom_element_t *
lxb_dom_element_by_id(lxb_dom_element_t *root,
                      const lxb_char_t *qualified_name, size_t len);

LXB_API lxb_status_t
lxb_dom_elements_by_tag_name(lxb_dom_element_t *root,
                             lxb_dom_collection_t *collection,
                             const lxb_char_t *qualified_name, size_t len);

LXB_API lxb_status_t
lxb_dom_elements_by_class_name(lxb_dom_element_t *root,
                               lxb_dom_collection_t *collection,
                               const lxb_char_t *class_name, size_t len);

LXB_API lxb_status_t
lxb_dom_elements_by_attr(lxb_dom_element_t *root,
                         lxb_dom_collection_t *collection,
                         const lxb_char_t *qualified_name, size_t qname_len,
                         const lxb_char_t *value, size_t value_len,
                         bool case_insensitive);

LXB_API lxb_status_t
lxb_dom_elements_by_attr_begin(lxb_dom_element_t *root,
                               lxb_dom_collection_t *collection,
                               const lxb_char_t *qualified_name, size_t qname_len,
                               const lxb_char_t *value, size_t value_len,
                               bool case_insensitive);

LXB_API lxb_status_t
lxb_dom_elements_by_attr_end(lxb_dom_element_t *root,
                             lxb_dom_collection_t *collection,
                             const lxb_char_t *qualified_name, size_t qname_len,
                             const lxb_char_t *value, size_t value_len,
                             bool case_insensitive);

LXB_API lxb_status_t
lxb_dom_elements_by_attr_contain(lxb_dom_element_t *root,
                                 lxb_dom_collection_t *collection,
                                 const lxb_char_t *qualified_name, size_t qname_len,
                                 const lxb_char_t *value, size_t value_len,
                                 bool case_insensitive);

LXB_API const lxb_char_t *
lxb_dom_element_qualified_name(lxb_dom_element_t *element, size_t *len);

LXB_API const lxb_char_t *
lxb_dom_element_qualified_name_upper(lxb_dom_element_t *element, size_t *len);

LXB_API const lxb_char_t *
lxb_dom_element_local_name(lxb_dom_element_t *element, size_t *len);

LXB_API const lxb_char_t *
lxb_dom_element_prefix(lxb_dom_element_t *element, size_t *len);

LXB_API const lxb_char_t *
lxb_dom_element_tag_name(lxb_dom_element_t *element, size_t *len);


/*
 * Inline functions
 */
lxb_inline const lxb_char_t *
lxb_dom_element_id(lxb_dom_element_t *element, size_t *len)
{
    if (element->attr_id == NULL) {
        if (len != NULL) {
            *len = 0;
        }

        return NULL;
    }

    return lxb_dom_attr_value(element->attr_id, len);
}

lxb_inline const lxb_char_t *
lxb_dom_element_class(lxb_dom_element_t *element, size_t *len)
{
    if (element->attr_class == NULL) {
        if (len != NULL) {
            *len = 0;
        }

        return NULL;
    }

    return lxb_dom_attr_value(element->attr_class, len);
}

lxb_inline bool
lxb_dom_element_is_custom(lxb_dom_element_t *element)
{
    return element->custom_state & LXB_DOM_ELEMENT_CUSTOM_STATE_CUSTOM;
}

lxb_inline bool
lxb_dom_element_custom_is_defined(lxb_dom_element_t *element)
{
    return element->custom_state & LXB_DOM_ELEMENT_CUSTOM_STATE_CUSTOM
        || element->custom_state & LXB_DOM_ELEMENT_CUSTOM_STATE_UNCUSTOMIZED;
}

lxb_inline lxb_dom_attr_t *
lxb_dom_element_first_attribute(lxb_dom_element_t *element)
{
    return element->first_attr;
}

lxb_inline lxb_dom_attr_t *
lxb_dom_element_next_attribute(lxb_dom_attr_t *attr)
{
    return attr->next;
}

lxb_inline lxb_dom_attr_t *
lxb_dom_element_prev_attribute(lxb_dom_attr_t *attr)
{
    return attr->prev;
}

lxb_inline lxb_dom_attr_t *
lxb_dom_element_last_attribute(lxb_dom_element_t *element)
{
    return element->last_attr;
}

lxb_inline lxb_dom_attr_t *
lxb_dom_element_id_attribute(lxb_dom_element_t *element)
{
    return element->attr_id;
}

lxb_inline lxb_dom_attr_t *
lxb_dom_element_class_attribute(lxb_dom_element_t *element)
{
    return element->attr_class;
}

lxb_inline lxb_tag_id_t
lxb_dom_element_tag_id(lxb_dom_element_t *element)
{
    return lxb_dom_interface_node(element)->local_name;
}

lxb_inline lxb_ns_id_t
lxb_dom_element_ns_id(lxb_dom_element_t *element)
{
    return lxb_dom_interface_node(element)->ns;
}

lxb_inline lxb_dom_document_t *
lxb_dom_element_document(const lxb_dom_element_t *element)
{
    return lxb_dom_interface_node(element)->owner_document;
}

/*
 * No inline functions for ABI.
 */
LXB_API const lxb_char_t *
lxb_dom_element_id_noi(lxb_dom_element_t *element, size_t *len);

LXB_API const lxb_char_t *
lxb_dom_element_class_noi(lxb_dom_element_t *element, size_t *len);

LXB_API bool
lxb_dom_element_is_custom_noi(lxb_dom_element_t *element);

LXB_API bool
lxb_dom_element_custom_is_defined_noi(lxb_dom_element_t *element);

LXB_API lxb_dom_attr_t *
lxb_dom_element_first_attribute_noi(lxb_dom_element_t *element);

LXB_API lxb_dom_attr_t *
lxb_dom_element_next_attribute_noi(lxb_dom_attr_t *attr);

LXB_API lxb_dom_attr_t *
lxb_dom_element_prev_attribute_noi(lxb_dom_attr_t *attr);

LXB_API lxb_dom_attr_t *
lxb_dom_element_last_attribute_noi(lxb_dom_element_t *element);

LXB_API lxb_dom_attr_t *
lxb_dom_element_id_attribute_noi(lxb_dom_element_t *element);

LXB_API lxb_dom_attr_t *
lxb_dom_element_class_attribute_noi(lxb_dom_element_t *element);

/* Header: source/lexbor/dom/interfaces/processing_instruction.h */

struct lxb_dom_processing_instruction {
    lxb_dom_character_data_t char_data;

    lexbor_str_t             target;
};


LXB_API lxb_dom_processing_instruction_t *
lxb_dom_processing_instruction_interface_create(lxb_dom_document_t *document);

LXB_API lxb_dom_processing_instruction_t *
lxb_dom_processing_instruction_interface_clone(lxb_dom_document_t *document,
                                               const lxb_dom_processing_instruction_t *processing_instruction);

LXB_API lxb_dom_processing_instruction_t *
lxb_dom_processing_instruction_interface_destroy(lxb_dom_processing_instruction_t *processing_instruction);


LXB_API lxb_status_t
lxb_dom_processing_instruction_copy(lxb_dom_processing_instruction_t *dst,
                                    const lxb_dom_processing_instruction_t *src);

/*
 * Inline functions
 */
lxb_inline const lxb_char_t *
lxb_dom_processing_instruction_target(lxb_dom_processing_instruction_t *pi,
                                      size_t *len)
{
    if (len != NULL) {
        *len = pi->target.length;
    }

    return pi->target.data;
}

/*
 * No inline functions for ABI.
 */
LXB_API const lxb_char_t *
lxb_dom_processing_instruction_target_noi(lxb_dom_processing_instruction_t *pi,
                                          size_t *len);

/* Header: source/lexbor/dom/interfaces/shadow_root.h */

typedef enum {
    LXB_DOM_SHADOW_ROOT_MODE_OPEN   = 0x00,
    LXB_DOM_SHADOW_ROOT_MODE_CLOSED = 0x01
}
lxb_dom_shadow_root_mode_t;

struct lxb_dom_shadow_root {
    lxb_dom_document_fragment_t document_fragment;

    lxb_dom_shadow_root_mode_t  mode;
    lxb_dom_element_t           *host;
};


LXB_API lxb_dom_shadow_root_t *
lxb_dom_shadow_root_interface_create(lxb_dom_document_t *document);

LXB_API lxb_dom_shadow_root_t *
lxb_dom_shadow_root_interface_destroy(lxb_dom_shadow_root_t *shadow_root);

/* Header: source/lexbor/dom/dom.h */

#ifndef LXB_DOM_H
#define LXB_DOM_H


#endif /* LXB_DOM_H */

/* Header: source/lexbor/html/base.h */

#define LXB_HTML_VERSION_MAJOR 2
#define LXB_HTML_VERSION_MINOR 8
#define LXB_HTML_VERSION_PATCH 0

#define LXB_HTML_VERSION_STRING LEXBOR_STRINGIZE(LXB_HTML_VERSION_MAJOR) "."   \
                                LEXBOR_STRINGIZE(LXB_HTML_VERSION_MINOR) "."   \
                                LEXBOR_STRINGIZE(LXB_HTML_VERSION_PATCH)


typedef struct lxb_html_tokenizer lxb_html_tokenizer_t;
typedef unsigned int lxb_html_tokenizer_opt_t;
typedef struct lxb_html_tree lxb_html_tree_t;

/*
 * Please, see lexbor/base.h lexbor_status_t
 */
typedef enum {
    LXB_HTML_STATUS_OK = 0x0000,
}
lxb_html_status_t;

/* Header: source/lexbor/html/encoding.h */

typedef struct {
    const lxb_char_t *name;
    const lxb_char_t *end;
}
lxb_html_encoding_entry_t;

typedef struct {
    lexbor_array_obj_t cache;
    lexbor_array_obj_t result;
}
lxb_html_encoding_t;


LXB_API lxb_status_t
lxb_html_encoding_init(lxb_html_encoding_t *em);

LXB_API lxb_html_encoding_t *
lxb_html_encoding_destroy(lxb_html_encoding_t *em, bool self_destroy);


LXB_API lxb_status_t
lxb_html_encoding_determine(lxb_html_encoding_t *em,
                            const lxb_char_t *data, const lxb_char_t *end);

LXB_API const lxb_char_t *
lxb_html_encoding_content(const lxb_char_t *data, const lxb_char_t *end,
                          const lxb_char_t **name_end);


/*
 * Inline functions
 */
lxb_inline lxb_html_encoding_t *
lxb_html_encoding_create(void)
{
    return (lxb_html_encoding_t *) lexbor_calloc(1,
                                                 sizeof(lxb_html_encoding_t));
}

lxb_inline void
lxb_html_encoding_clean(lxb_html_encoding_t *em)
{
    lexbor_array_obj_clean(&em->cache);
    lexbor_array_obj_clean(&em->result);
}

lxb_inline lxb_html_encoding_entry_t *
lxb_html_encoding_meta_entry(lxb_html_encoding_t *em, size_t idx)
{
    return (lxb_html_encoding_entry_t *) lexbor_array_obj_get(&em->result, idx);
}

lxb_inline size_t
lxb_html_encoding_meta_length(lxb_html_encoding_t *em)
{
    return lexbor_array_obj_length(&em->result);
}

lxb_inline lexbor_array_obj_t *
lxb_html_encoding_meta_result(lxb_html_encoding_t *em)
{
    return &em->result;
}

/*
 * No inline functions for ABI.
 */
LXB_API lxb_html_encoding_t *
lxb_html_encoding_create_noi(void);

LXB_API void
lxb_html_encoding_clean_noi(lxb_html_encoding_t *em);

LXB_API lxb_html_encoding_entry_t *
lxb_html_encoding_meta_entry_noi(lxb_html_encoding_t *em, size_t idx);

LXB_API size_t
lxb_html_encoding_meta_length_noi(lxb_html_encoding_t *em);

LXB_API lexbor_array_obj_t *
lxb_html_encoding_meta_result_noi(lxb_html_encoding_t *em);

/* Header: source/lexbor/html/interface.h */

#define lxb_html_interface_document(obj) ((lxb_html_document_t *) (obj))
#define lxb_html_interface_anchor(obj) ((lxb_html_anchor_element_t *) (obj))
#define lxb_html_interface_area(obj) ((lxb_html_area_element_t *) (obj))
#define lxb_html_interface_audio(obj) ((lxb_html_audio_element_t *) (obj))
#define lxb_html_interface_br(obj) ((lxb_html_br_element_t *) (obj))
#define lxb_html_interface_base(obj) ((lxb_html_base_element_t *) (obj))
#define lxb_html_interface_body(obj) ((lxb_html_body_element_t *) (obj))
#define lxb_html_interface_button(obj) ((lxb_html_button_element_t *) (obj))
#define lxb_html_interface_canvas(obj) ((lxb_html_canvas_element_t *) (obj))
#define lxb_html_interface_d_list(obj) ((lxb_html_d_list_element_t *) (obj))
#define lxb_html_interface_data(obj) ((lxb_html_data_element_t *) (obj))
#define lxb_html_interface_data_list(obj) ((lxb_html_data_list_element_t *) (obj))
#define lxb_html_interface_details(obj) ((lxb_html_details_element_t *) (obj))
#define lxb_html_interface_dialog(obj) ((lxb_html_dialog_element_t *) (obj))
#define lxb_html_interface_directory(obj) ((lxb_html_directory_element_t *) (obj))
#define lxb_html_interface_div(obj) ((lxb_html_div_element_t *) (obj))
#define lxb_html_interface_element(obj) ((lxb_html_element_t *) (obj))
#define lxb_html_interface_embed(obj) ((lxb_html_embed_element_t *) (obj))
#define lxb_html_interface_field_set(obj) ((lxb_html_field_set_element_t *) (obj))
#define lxb_html_interface_font(obj) ((lxb_html_font_element_t *) (obj))
#define lxb_html_interface_form(obj) ((lxb_html_form_element_t *) (obj))
#define lxb_html_interface_frame(obj) ((lxb_html_frame_element_t *) (obj))
#define lxb_html_interface_frame_set(obj) ((lxb_html_frame_set_element_t *) (obj))
#define lxb_html_interface_hr(obj) ((lxb_html_hr_element_t *) (obj))
#define lxb_html_interface_head(obj) ((lxb_html_head_element_t *) (obj))
#define lxb_html_interface_heading(obj) ((lxb_html_heading_element_t *) (obj))
#define lxb_html_interface_html(obj) ((lxb_html_html_element_t *) (obj))
#define lxb_html_interface_iframe(obj) ((lxb_html_iframe_element_t *) (obj))
#define lxb_html_interface_image(obj) ((lxb_html_image_element_t *) (obj))
#define lxb_html_interface_input(obj) ((lxb_html_input_element_t *) (obj))
#define lxb_html_interface_li(obj) ((lxb_html_li_element_t *) (obj))
#define lxb_html_interface_label(obj) ((lxb_html_label_element_t *) (obj))
#define lxb_html_interface_legend(obj) ((lxb_html_legend_element_t *) (obj))
#define lxb_html_interface_link(obj) ((lxb_html_link_element_t *) (obj))
#define lxb_html_interface_map(obj) ((lxb_html_map_element_t *) (obj))
#define lxb_html_interface_marquee(obj) ((lxb_html_marquee_element_t *) (obj))
#define lxb_html_interface_media(obj) ((lxb_html_media_element_t *) (obj))
#define lxb_html_interface_menu(obj) ((lxb_html_menu_element_t *) (obj))
#define lxb_html_interface_meta(obj) ((lxb_html_meta_element_t *) (obj))
#define lxb_html_interface_meter(obj) ((lxb_html_meter_element_t *) (obj))
#define lxb_html_interface_mod(obj) ((lxb_html_mod_element_t *) (obj))
#define lxb_html_interface_o_list(obj) ((lxb_html_o_list_element_t *) (obj))
#define lxb_html_interface_object(obj) ((lxb_html_object_element_t *) (obj))
#define lxb_html_interface_opt_group(obj) ((lxb_html_opt_group_element_t *) (obj))
#define lxb_html_interface_option(obj) ((lxb_html_option_element_t *) (obj))
#define lxb_html_interface_output(obj) ((lxb_html_output_element_t *) (obj))
#define lxb_html_interface_paragraph(obj) ((lxb_html_paragraph_element_t *) (obj))
#define lxb_html_interface_param(obj) ((lxb_html_param_element_t *) (obj))
#define lxb_html_interface_picture(obj) ((lxb_html_picture_element_t *) (obj))
#define lxb_html_interface_pre(obj) ((lxb_html_pre_element_t *) (obj))
#define lxb_html_interface_progress(obj) ((lxb_html_progress_element_t *) (obj))
#define lxb_html_interface_quote(obj) ((lxb_html_quote_element_t *) (obj))
#define lxb_html_interface_script(obj) ((lxb_html_script_element_t *) (obj))
#define lxb_html_interface_select(obj) ((lxb_html_select_element_t *) (obj))
#define lxb_html_interface_selectedcontent(obj) ((lxb_html_selectedcontent_element_t *) obj)
#define lxb_html_interface_slot(obj) ((lxb_html_slot_element_t *) (obj))
#define lxb_html_interface_source(obj) ((lxb_html_source_element_t *) (obj))
#define lxb_html_interface_span(obj) ((lxb_html_span_element_t *) (obj))
#define lxb_html_interface_style(obj) ((lxb_html_style_element_t *) (obj))
#define lxb_html_interface_table_caption(obj) ((lxb_html_table_caption_element_t *) (obj))
#define lxb_html_interface_table_cell(obj) ((lxb_html_table_cell_element_t *) (obj))
#define lxb_html_interface_table_col(obj) ((lxb_html_table_col_element_t *) (obj))
#define lxb_html_interface_table(obj) ((lxb_html_table_element_t *) (obj))
#define lxb_html_interface_table_row(obj) ((lxb_html_table_row_element_t *) (obj))
#define lxb_html_interface_table_section(obj) ((lxb_html_table_section_element_t *) (obj))
#define lxb_html_interface_template(obj) ((lxb_html_template_element_t *) (obj))
#define lxb_html_interface_text_area(obj) ((lxb_html_text_area_element_t *) (obj))
#define lxb_html_interface_time(obj) ((lxb_html_time_element_t *) (obj))
#define lxb_html_interface_title(obj) ((lxb_html_title_element_t *) (obj))
#define lxb_html_interface_track(obj) ((lxb_html_track_element_t *) (obj))
#define lxb_html_interface_u_list(obj) ((lxb_html_u_list_element_t *) (obj))
#define lxb_html_interface_unknown(obj) ((lxb_html_unknown_element_t *) (obj))
#define lxb_html_interface_video(obj) ((lxb_html_video_element_t *) (obj))
#define lxb_html_interface_window(obj) ((lxb_html_window_t *) (obj))


typedef struct lxb_html_document lxb_html_document_t;
typedef struct lxb_html_anchor_element lxb_html_anchor_element_t;
typedef struct lxb_html_area_element lxb_html_area_element_t;
typedef struct lxb_html_audio_element lxb_html_audio_element_t;
typedef struct lxb_html_br_element lxb_html_br_element_t;
typedef struct lxb_html_base_element lxb_html_base_element_t;
typedef struct lxb_html_body_element lxb_html_body_element_t;
typedef struct lxb_html_button_element lxb_html_button_element_t;
typedef struct lxb_html_canvas_element lxb_html_canvas_element_t;
typedef struct lxb_html_d_list_element lxb_html_d_list_element_t;
typedef struct lxb_html_data_element lxb_html_data_element_t;
typedef struct lxb_html_data_list_element lxb_html_data_list_element_t;
typedef struct lxb_html_details_element lxb_html_details_element_t;
typedef struct lxb_html_dialog_element lxb_html_dialog_element_t;
typedef struct lxb_html_directory_element lxb_html_directory_element_t;
typedef struct lxb_html_div_element lxb_html_div_element_t;
typedef struct lxb_html_element lxb_html_element_t;
typedef struct lxb_html_embed_element lxb_html_embed_element_t;
typedef struct lxb_html_field_set_element lxb_html_field_set_element_t;
typedef struct lxb_html_font_element lxb_html_font_element_t;
typedef struct lxb_html_form_element lxb_html_form_element_t;
typedef struct lxb_html_frame_element lxb_html_frame_element_t;
typedef struct lxb_html_frame_set_element lxb_html_frame_set_element_t;
typedef struct lxb_html_hr_element lxb_html_hr_element_t;
typedef struct lxb_html_head_element lxb_html_head_element_t;
typedef struct lxb_html_heading_element lxb_html_heading_element_t;
typedef struct lxb_html_html_element lxb_html_html_element_t;
typedef struct lxb_html_iframe_element lxb_html_iframe_element_t;
typedef struct lxb_html_image_element lxb_html_image_element_t;
typedef struct lxb_html_input_element lxb_html_input_element_t;
typedef struct lxb_html_li_element lxb_html_li_element_t;
typedef struct lxb_html_label_element lxb_html_label_element_t;
typedef struct lxb_html_legend_element lxb_html_legend_element_t;
typedef struct lxb_html_link_element lxb_html_link_element_t;
typedef struct lxb_html_map_element lxb_html_map_element_t;
typedef struct lxb_html_marquee_element lxb_html_marquee_element_t;
typedef struct lxb_html_media_element lxb_html_media_element_t;
typedef struct lxb_html_menu_element lxb_html_menu_element_t;
typedef struct lxb_html_meta_element lxb_html_meta_element_t;
typedef struct lxb_html_meter_element lxb_html_meter_element_t;
typedef struct lxb_html_mod_element lxb_html_mod_element_t;
typedef struct lxb_html_o_list_element lxb_html_o_list_element_t;
typedef struct lxb_html_object_element lxb_html_object_element_t;
typedef struct lxb_html_opt_group_element lxb_html_opt_group_element_t;
typedef struct lxb_html_option_element lxb_html_option_element_t;
typedef struct lxb_html_output_element lxb_html_output_element_t;
typedef struct lxb_html_paragraph_element lxb_html_paragraph_element_t;
typedef struct lxb_html_param_element lxb_html_param_element_t;
typedef struct lxb_html_picture_element lxb_html_picture_element_t;
typedef struct lxb_html_pre_element lxb_html_pre_element_t;
typedef struct lxb_html_progress_element lxb_html_progress_element_t;
typedef struct lxb_html_quote_element lxb_html_quote_element_t;
typedef struct lxb_html_script_element lxb_html_script_element_t;
typedef struct lxb_html_select_element lxb_html_select_element_t;
typedef struct lxb_html_selectedcontent_element lxb_html_selectedcontent_element_t;
typedef struct lxb_html_search_element lxb_html_search_element_t;
typedef struct lxb_html_slot_element lxb_html_slot_element_t;
typedef struct lxb_html_source_element lxb_html_source_element_t;
typedef struct lxb_html_span_element lxb_html_span_element_t;
typedef struct lxb_html_style_element lxb_html_style_element_t;
typedef struct lxb_html_table_caption_element lxb_html_table_caption_element_t;
typedef struct lxb_html_table_cell_element lxb_html_table_cell_element_t;
typedef struct lxb_html_table_col_element lxb_html_table_col_element_t;
typedef struct lxb_html_table_element lxb_html_table_element_t;
typedef struct lxb_html_table_row_element lxb_html_table_row_element_t;
typedef struct lxb_html_table_section_element lxb_html_table_section_element_t;
typedef struct lxb_html_template_element lxb_html_template_element_t;
typedef struct lxb_html_text_area_element lxb_html_text_area_element_t;
typedef struct lxb_html_time_element lxb_html_time_element_t;
typedef struct lxb_html_title_element lxb_html_title_element_t;
typedef struct lxb_html_track_element lxb_html_track_element_t;
typedef struct lxb_html_u_list_element lxb_html_u_list_element_t;
typedef struct lxb_html_unknown_element lxb_html_unknown_element_t;
typedef struct lxb_html_video_element lxb_html_video_element_t;
typedef struct lxb_html_window lxb_html_window_t;


LXB_API lxb_dom_interface_t *
lxb_html_interface_create(lxb_html_document_t *document, lxb_tag_id_t tag_id,
                          lxb_ns_id_t ns);

LXB_API lxb_dom_interface_t *
lxb_html_interface_clone(lxb_dom_document_t *document,
                         const lxb_dom_interface_t *intrfc);

LXB_API lxb_dom_interface_t *
lxb_html_interface_destroy(lxb_dom_interface_t *intrfc);

/* Header: source/lexbor/html/interfaces/element.h */

struct lxb_html_element {
    lxb_dom_element_t element;
};


LXB_API lxb_html_element_t *
lxb_html_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_element_t *
lxb_html_element_interface_destroy(lxb_html_element_t *element);


LXB_API lxb_html_element_t *
lxb_html_element_inner_html_set(lxb_html_element_t *element,
                                const lxb_char_t *html, size_t size);

/*
 * Inline functions
 */
lxb_inline lxb_tag_id_t
lxb_html_element_tag_id(lxb_html_element_t *element)
{
    return lxb_dom_interface_node(element)->local_name;
}

lxb_inline lxb_ns_id_t
lxb_html_element_ns_id(lxb_html_element_t *element)
{
    return lxb_dom_interface_node(element)->ns;
}

lxb_inline void
lxb_html_element_insert_before(lxb_html_element_t *dst, lxb_html_element_t *src)
{
    lxb_dom_node_insert_before(lxb_dom_interface_node(dst),
                               lxb_dom_interface_node(src));
}

lxb_inline void
lxb_html_element_insert_after(lxb_html_element_t *dst, lxb_html_element_t *src)
{
    lxb_dom_node_insert_after(lxb_dom_interface_node(dst),
                              lxb_dom_interface_node(src));
}

lxb_inline void
lxb_html_element_insert_child(lxb_html_element_t *dst, lxb_html_element_t *src)
{
    lxb_dom_node_insert_child(lxb_dom_interface_node(dst),
                              lxb_dom_interface_node(src));
}

lxb_inline void
lxb_html_element_remove(lxb_html_element_t *element)
{
    lxb_dom_node_remove(lxb_dom_interface_node(element));
}

lxb_inline lxb_html_document_t *
lxb_html_element_document(lxb_html_element_t *element)
{
    return lxb_html_interface_document(lxb_dom_interface_node(element)->owner_document);
}

/* Header: source/lexbor/html/interfaces/anchor_element.h */

struct lxb_html_anchor_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_anchor_element_t *
lxb_html_anchor_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_anchor_element_t *
lxb_html_anchor_element_interface_destroy(lxb_html_anchor_element_t *anchor_element);

/* Header: source/lexbor/html/interfaces/area_element.h */

struct lxb_html_area_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_area_element_t *
lxb_html_area_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_area_element_t *
lxb_html_area_element_interface_destroy(lxb_html_area_element_t *area_element);

/* Header: source/lexbor/html/interfaces/media_element.h */

struct lxb_html_media_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_media_element_t *
lxb_html_media_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_media_element_t *
lxb_html_media_element_interface_destroy(lxb_html_media_element_t *media_element);

/* Header: source/lexbor/html/interfaces/audio_element.h */

struct lxb_html_audio_element {
    lxb_html_media_element_t media_element;
};


LXB_API lxb_html_audio_element_t *
lxb_html_audio_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_audio_element_t *
lxb_html_audio_element_interface_destroy(lxb_html_audio_element_t *audio_element);

/* Header: source/lexbor/html/interfaces/base_element.h */

struct lxb_html_base_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_base_element_t *
lxb_html_base_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_base_element_t *
lxb_html_base_element_interface_destroy(lxb_html_base_element_t *base_element);

/* Header: source/lexbor/html/interfaces/body_element.h */

struct lxb_html_body_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_body_element_t *
lxb_html_body_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_body_element_t *
lxb_html_body_element_interface_destroy(lxb_html_body_element_t *body_element);

/* Header: source/lexbor/html/interfaces/br_element.h */

struct lxb_html_br_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_br_element_t *
lxb_html_br_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_br_element_t *
lxb_html_br_element_interface_destroy(lxb_html_br_element_t *br_element);

/* Header: source/lexbor/html/interfaces/button_element.h */

struct lxb_html_button_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_button_element_t *
lxb_html_button_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_button_element_t *
lxb_html_button_element_interface_destroy(lxb_html_button_element_t *button_element);

/* Header: source/lexbor/html/interfaces/canvas_element.h */

struct lxb_html_canvas_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_canvas_element_t *
lxb_html_canvas_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_canvas_element_t *
lxb_html_canvas_element_interface_destroy(lxb_html_canvas_element_t *canvas_element);

/* Header: source/lexbor/html/interfaces/d_list_element.h */

struct lxb_html_d_list_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_d_list_element_t *
lxb_html_d_list_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_d_list_element_t *
lxb_html_d_list_element_interface_destroy(lxb_html_d_list_element_t *d_list_element);

/* Header: source/lexbor/html/interfaces/data_element.h */

struct lxb_html_data_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_data_element_t *
lxb_html_data_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_data_element_t *
lxb_html_data_element_interface_destroy(lxb_html_data_element_t *data_element);

/* Header: source/lexbor/html/interfaces/data_list_element.h */

struct lxb_html_data_list_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_data_list_element_t *
lxb_html_data_list_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_data_list_element_t *
lxb_html_data_list_element_interface_destroy(lxb_html_data_list_element_t *data_list_element);

/* Header: source/lexbor/html/interfaces/details_element.h */

struct lxb_html_details_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_details_element_t *
lxb_html_details_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_details_element_t *
lxb_html_details_element_interface_destroy(lxb_html_details_element_t *details_element);

/* Header: source/lexbor/html/interfaces/dialog_element.h */

struct lxb_html_dialog_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_dialog_element_t *
lxb_html_dialog_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_dialog_element_t *
lxb_html_dialog_element_interface_destroy(lxb_html_dialog_element_t *dialog_element);

/* Header: source/lexbor/html/interfaces/directory_element.h */

struct lxb_html_directory_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_directory_element_t *
lxb_html_directory_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_directory_element_t *
lxb_html_directory_element_interface_destroy(lxb_html_directory_element_t *directory_element);

/* Header: source/lexbor/html/interfaces/div_element.h */

struct lxb_html_div_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_div_element_t *
lxb_html_div_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_div_element_t *
lxb_html_div_element_interface_destroy(lxb_html_div_element_t *div_element);

/* Header: source/lexbor/html/interfaces/document.h */

typedef lxb_status_t
(*lxb_html_document_done_cb_f)(lxb_html_document_t *document);

typedef lxb_status_t
(*lxb_html_document_parse_cb_f)(lxb_html_tree_t *tree, lxb_dom_node_t *node);

typedef unsigned int lxb_html_document_opt_t;

typedef enum {
    LXB_HTML_DOCUMENT_READY_STATE_UNDEF       = 0x00,
    LXB_HTML_DOCUMENT_READY_STATE_LOADING     = 0x01,
    LXB_HTML_DOCUMENT_READY_STATE_INTERACTIVE = 0x02,
    LXB_HTML_DOCUMENT_READY_STATE_COMPLETE    = 0x03,
}
lxb_html_document_ready_state_t;

enum lxb_html_document_opt {
    LXB_HTML_DOCUMENT_OPT_UNDEF     = 0x00,
    LXB_HTML_DOCUMENT_PARSE_WO_COPY = 0x01
};

typedef struct {
    lxb_html_document_parse_cb_f script;
    lxb_html_document_parse_cb_f style;
}
lxb_html_document_parse_cb_t;

struct lxb_html_document {
    lxb_dom_document_t                 dom_document;

    void                               *iframe_srcdoc;

    lxb_html_head_element_t            *head;
    lxb_html_body_element_t            *body;

    const lxb_html_document_parse_cb_t *parse_cb;

    lxb_html_document_done_cb_f        done;
    lxb_html_document_ready_state_t    ready_state;

    lxb_html_document_opt_t            opt;
};


LXB_API lxb_html_document_t *
lxb_html_document_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_document_t *
lxb_html_document_interface_destroy(lxb_html_document_t *document);


LXB_API lxb_html_document_t *
lxb_html_document_create(void);

LXB_API void
lxb_html_document_clean(lxb_html_document_t *document);

LXB_API lxb_html_document_t *
lxb_html_document_destroy(lxb_html_document_t *document);

LXB_API lxb_status_t
lxb_html_document_parse(lxb_html_document_t *document,
                        const lxb_char_t *html, size_t size);

LXB_API lxb_status_t
lxb_html_document_parse_chunk_begin(lxb_html_document_t *document);

LXB_API lxb_status_t
lxb_html_document_parse_chunk(lxb_html_document_t *document,
                              const lxb_char_t *html, size_t size);

LXB_API lxb_status_t
lxb_html_document_parse_chunk_end(lxb_html_document_t *document);

LXB_API lxb_dom_node_t *
lxb_html_document_parse_fragment(lxb_html_document_t *document,
                                 lxb_dom_element_t *element,
                                 const lxb_char_t *html, size_t size);

LXB_API lxb_status_t
lxb_html_document_parse_fragment_chunk_begin(lxb_html_document_t *document,
                                             lxb_dom_element_t *element);

LXB_API lxb_status_t
lxb_html_document_parse_fragment_chunk(lxb_html_document_t *document,
                                       const lxb_char_t *html, size_t size);

LXB_API lxb_dom_node_t *
lxb_html_document_parse_fragment_chunk_end(lxb_html_document_t *document);

LXB_API const lxb_char_t *
lxb_html_document_title(lxb_html_document_t *document, size_t *len);

LXB_API lxb_status_t
lxb_html_document_title_set(lxb_html_document_t *document,
                            const lxb_char_t *title, size_t len);

LXB_API const lxb_char_t *
lxb_html_document_title_raw(lxb_html_document_t *document, size_t *len);

LXB_API lxb_dom_node_t *
lxb_html_document_import_node(lxb_html_document_t *doc, lxb_dom_node_t *node,
                              bool deep);

/*
 * Inline functions
 */
lxb_inline lxb_html_head_element_t *
lxb_html_document_head_element(lxb_html_document_t *document)
{
    return document->head;
}

lxb_inline lxb_html_body_element_t *
lxb_html_document_body_element(lxb_html_document_t *document)
{
    return document->body;
}

lxb_inline lxb_dom_document_t *
lxb_html_document_original_ref(lxb_html_document_t *document)
{
    if (lxb_dom_interface_node(document)->owner_document
        != &document->dom_document)
    {
        return lxb_dom_interface_node(document)->owner_document;
    }

    return lxb_dom_interface_document(document);
}

lxb_inline bool
lxb_html_document_is_original(lxb_html_document_t *document)
{
    return lxb_dom_interface_node(document)->owner_document
        == &document->dom_document;
}

lxb_inline lexbor_mraw_t *
lxb_html_document_mraw(lxb_html_document_t *document)
{
    return (lexbor_mraw_t *) lxb_dom_interface_document(document)->mraw;
}

lxb_inline lexbor_mraw_t *
lxb_html_document_mraw_text(lxb_html_document_t *document)
{
    return (lexbor_mraw_t *) lxb_dom_interface_document(document)->text;
}

lxb_inline void
lxb_html_document_opt_set(lxb_html_document_t *document,
                          lxb_html_document_opt_t opt)
{
    document->opt = opt;
}

lxb_inline lxb_html_document_opt_t
lxb_html_document_opt(lxb_html_document_t *document)
{
    return document->opt;
}

lxb_inline lexbor_hash_t *
lxb_html_document_tags(lxb_html_document_t *document)
{
    return document->dom_document.tags;
}

lxb_inline void *
lxb_html_document_create_struct(lxb_html_document_t *document,
                                size_t struct_size)
{
    return lexbor_mraw_calloc(lxb_dom_interface_document(document)->mraw,
                              struct_size);
}

lxb_inline void *
lxb_html_document_destroy_struct(lxb_html_document_t *document, void *data)
{
    return lexbor_mraw_free(lxb_dom_interface_document(document)->mraw, data);
}

lxb_inline lxb_html_element_t *
lxb_html_document_create_element(lxb_html_document_t *document,
                                 const lxb_char_t *local_name, size_t lname_len,
                                 void *reserved_for_opt)
{
    return (lxb_html_element_t *) lxb_dom_document_create_element(&document->dom_document,
                                                                  local_name, lname_len,
                                                                  reserved_for_opt);
}

lxb_inline lxb_dom_element_t *
lxb_html_document_destroy_element(lxb_dom_element_t *element)
{
    return lxb_dom_document_destroy_element(element);
}

lxb_inline const lxb_html_document_parse_cb_t *
lxb_html_document_parse_cb(lxb_html_document_t *document)
{
    return document->parse_cb;
}

lxb_inline void
lxb_html_document_parse_cb_set(lxb_html_document_t *document,
                               const lxb_html_document_parse_cb_t *parse_cb)
{
    document->parse_cb = parse_cb;
}

lxb_inline lxb_html_document_done_cb_f
lxb_html_document_done(lxb_html_document_t *document)
{
    return document->done;
}

lxb_inline void
lxb_html_document_done_set(lxb_html_document_t *document,
                           lxb_html_document_done_cb_f done_cb)
{
    document->done = done_cb;
}

/*
 * No inline functions for ABI.
 */
LXB_API lxb_html_head_element_t *
lxb_html_document_head_element_noi(lxb_html_document_t *document);

LXB_API lxb_html_body_element_t *
lxb_html_document_body_element_noi(lxb_html_document_t *document);

LXB_API lxb_dom_document_t *
lxb_html_document_original_ref_noi(lxb_html_document_t *document);

LXB_API bool
lxb_html_document_is_original_noi(lxb_html_document_t *document);

LXB_API lexbor_mraw_t *
lxb_html_document_mraw_noi(lxb_html_document_t *document);

LXB_API lexbor_mraw_t *
lxb_html_document_mraw_text_noi(lxb_html_document_t *document);

LXB_API void
lxb_html_document_opt_set_noi(lxb_html_document_t *document,
                              lxb_html_document_opt_t opt);

LXB_API lxb_html_document_opt_t
lxb_html_document_opt_noi(lxb_html_document_t *document);

LXB_API void *
lxb_html_document_create_struct_noi(lxb_html_document_t *document,
                                    size_t struct_size);

LXB_API void *
lxb_html_document_destroy_struct_noi(lxb_html_document_t *document, void *data);

LXB_API lxb_html_element_t *
lxb_html_document_create_element_noi(lxb_html_document_t *document,
                                     const lxb_char_t *local_name,
                                     size_t lname_len, void *reserved_for_opt);

LXB_API lxb_dom_element_t *
lxb_html_document_destroy_element_noi(lxb_dom_element_t *element);

/* Header: source/lexbor/html/interfaces/embed_element.h */

struct lxb_html_embed_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_embed_element_t *
lxb_html_embed_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_embed_element_t *
lxb_html_embed_element_interface_destroy(lxb_html_embed_element_t *embed_element);

/* Header: source/lexbor/html/interfaces/field_set_element.h */

struct lxb_html_field_set_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_field_set_element_t *
lxb_html_field_set_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_field_set_element_t *
lxb_html_field_set_element_interface_destroy(lxb_html_field_set_element_t *field_set_element);

/* Header: source/lexbor/html/interfaces/font_element.h */

struct lxb_html_font_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_font_element_t *
lxb_html_font_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_font_element_t *
lxb_html_font_element_interface_destroy(lxb_html_font_element_t *font_element);

/* Header: source/lexbor/html/interfaces/form_element.h */

struct lxb_html_form_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_form_element_t *
lxb_html_form_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_form_element_t *
lxb_html_form_element_interface_destroy(lxb_html_form_element_t *form_element);

/* Header: source/lexbor/html/interfaces/frame_element.h */

struct lxb_html_frame_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_frame_element_t *
lxb_html_frame_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_frame_element_t *
lxb_html_frame_element_interface_destroy(lxb_html_frame_element_t *frame_element);

/* Header: source/lexbor/html/interfaces/frame_set_element.h */

struct lxb_html_frame_set_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_frame_set_element_t *
lxb_html_frame_set_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_frame_set_element_t *
lxb_html_frame_set_element_interface_destroy(lxb_html_frame_set_element_t *frame_set_element);

/* Header: source/lexbor/html/interfaces/head_element.h */

struct lxb_html_head_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_head_element_t *
lxb_html_head_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_head_element_t *
lxb_html_head_element_interface_destroy(lxb_html_head_element_t *head_element);

/* Header: source/lexbor/html/interfaces/heading_element.h */

struct lxb_html_heading_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_heading_element_t *
lxb_html_heading_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_heading_element_t *
lxb_html_heading_element_interface_destroy(lxb_html_heading_element_t *heading_element);

/* Header: source/lexbor/html/interfaces/hr_element.h */

struct lxb_html_hr_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_hr_element_t *
lxb_html_hr_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_hr_element_t *
lxb_html_hr_element_interface_destroy(lxb_html_hr_element_t *hr_element);

/* Header: source/lexbor/html/interfaces/html_element.h */

struct lxb_html_html_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_html_element_t *
lxb_html_html_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_html_element_t *
lxb_html_html_element_interface_destroy(lxb_html_html_element_t *html_element);

/* Header: source/lexbor/html/interfaces/iframe_element.h */

struct lxb_html_iframe_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_iframe_element_t *
lxb_html_iframe_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_iframe_element_t *
lxb_html_iframe_element_interface_destroy(lxb_html_iframe_element_t *iframe_element);

/* Header: source/lexbor/html/interfaces/image_element.h */

struct lxb_html_image_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_image_element_t *
lxb_html_image_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_image_element_t *
lxb_html_image_element_interface_destroy(lxb_html_image_element_t *image_element);

/* Header: source/lexbor/html/interfaces/input_element.h */

struct lxb_html_input_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_input_element_t *
lxb_html_input_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_input_element_t *
lxb_html_input_element_interface_destroy(lxb_html_input_element_t *input_element);

/* Header: source/lexbor/html/interfaces/label_element.h */

struct lxb_html_label_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_label_element_t *
lxb_html_label_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_label_element_t *
lxb_html_label_element_interface_destroy(lxb_html_label_element_t *label_element);

/* Header: source/lexbor/html/interfaces/legend_element.h */

struct lxb_html_legend_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_legend_element_t *
lxb_html_legend_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_legend_element_t *
lxb_html_legend_element_interface_destroy(lxb_html_legend_element_t *legend_element);

/* Header: source/lexbor/html/interfaces/li_element.h */

struct lxb_html_li_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_li_element_t *
lxb_html_li_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_li_element_t *
lxb_html_li_element_interface_destroy(lxb_html_li_element_t *li_element);

/* Header: source/lexbor/html/interfaces/link_element.h */

struct lxb_html_link_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_link_element_t *
lxb_html_link_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_link_element_t *
lxb_html_link_element_interface_destroy(lxb_html_link_element_t *link_element);

/* Header: source/lexbor/html/interfaces/map_element.h */

struct lxb_html_map_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_map_element_t *
lxb_html_map_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_map_element_t *
lxb_html_map_element_interface_destroy(lxb_html_map_element_t *map_element);

/* Header: source/lexbor/html/interfaces/marquee_element.h */

struct lxb_html_marquee_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_marquee_element_t *
lxb_html_marquee_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_marquee_element_t *
lxb_html_marquee_element_interface_destroy(lxb_html_marquee_element_t *marquee_element);

/* Header: source/lexbor/html/interfaces/menu_element.h */

struct lxb_html_menu_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_menu_element_t *
lxb_html_menu_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_menu_element_t *
lxb_html_menu_element_interface_destroy(lxb_html_menu_element_t *menu_element);

/* Header: source/lexbor/html/interfaces/meta_element.h */

struct lxb_html_meta_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_meta_element_t *
lxb_html_meta_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_meta_element_t *
lxb_html_meta_element_interface_destroy(lxb_html_meta_element_t *meta_element);

/* Header: source/lexbor/html/interfaces/meter_element.h */

struct lxb_html_meter_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_meter_element_t *
lxb_html_meter_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_meter_element_t *
lxb_html_meter_element_interface_destroy(lxb_html_meter_element_t *meter_element);

/* Header: source/lexbor/html/interfaces/mod_element.h */

struct lxb_html_mod_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_mod_element_t *
lxb_html_mod_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_mod_element_t *
lxb_html_mod_element_interface_destroy(lxb_html_mod_element_t *mod_element);

/* Header: source/lexbor/html/interfaces/o_list_element.h */

struct lxb_html_o_list_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_o_list_element_t *
lxb_html_o_list_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_o_list_element_t *
lxb_html_o_list_element_interface_destroy(lxb_html_o_list_element_t *o_list_element);

/* Header: source/lexbor/html/interfaces/object_element.h */

struct lxb_html_object_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_object_element_t *
lxb_html_object_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_object_element_t *
lxb_html_object_element_interface_destroy(lxb_html_object_element_t *object_element);

/* Header: source/lexbor/html/interfaces/opt_group_element.h */

struct lxb_html_opt_group_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_opt_group_element_t *
lxb_html_opt_group_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_opt_group_element_t *
lxb_html_opt_group_element_interface_destroy(lxb_html_opt_group_element_t *opt_group_element);

/* Header: source/lexbor/html/interfaces/option_element.h */

struct lxb_html_option_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_option_element_t *
lxb_html_option_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_option_element_t *
lxb_html_option_element_interface_destroy(lxb_html_option_element_t *option_element);


LXB_API lxb_dom_exception_code_t
lxb_html_option_maybe_clone_to_selectedcontent(lxb_html_option_element_t *option);

LXB_API bool
lxb_html_option_element_selectedness(lxb_html_option_element_t *option);

/* Header: source/lexbor/html/interfaces/output_element.h */

struct lxb_html_output_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_output_element_t *
lxb_html_output_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_output_element_t *
lxb_html_output_element_interface_destroy(lxb_html_output_element_t *output_element);

/* Header: source/lexbor/html/interfaces/paragraph_element.h */

struct lxb_html_paragraph_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_paragraph_element_t *
lxb_html_paragraph_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_paragraph_element_t *
lxb_html_paragraph_element_interface_destroy(lxb_html_paragraph_element_t *paragraph_element);

/* Header: source/lexbor/html/interfaces/param_element.h */

struct lxb_html_param_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_param_element_t *
lxb_html_param_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_param_element_t *
lxb_html_param_element_interface_destroy(lxb_html_param_element_t *param_element);

/* Header: source/lexbor/html/interfaces/picture_element.h */

struct lxb_html_picture_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_picture_element_t *
lxb_html_picture_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_picture_element_t *
lxb_html_picture_element_interface_destroy(lxb_html_picture_element_t *picture_element);

/* Header: source/lexbor/html/interfaces/pre_element.h */

struct lxb_html_pre_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_pre_element_t *
lxb_html_pre_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_pre_element_t *
lxb_html_pre_element_interface_destroy(lxb_html_pre_element_t *pre_element);

/* Header: source/lexbor/html/interfaces/progress_element.h */

struct lxb_html_progress_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_progress_element_t *
lxb_html_progress_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_progress_element_t *
lxb_html_progress_element_interface_destroy(lxb_html_progress_element_t *progress_element);

/* Header: source/lexbor/html/interfaces/quote_element.h */

struct lxb_html_quote_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_quote_element_t *
lxb_html_quote_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_quote_element_t *
lxb_html_quote_element_interface_destroy(lxb_html_quote_element_t *quote_element);

/* Header: source/lexbor/html/interfaces/script_element.h */

struct lxb_html_script_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_script_element_t *
lxb_html_script_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_script_element_t *
lxb_html_script_element_interface_destroy(lxb_html_script_element_t *script_element);

/* Header: source/lexbor/html/interfaces/search_element.h */

struct lxb_html_search_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_search_element_t *
lxb_html_search_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_search_element_t *
lxb_html_search_element_interface_destroy(lxb_html_search_element_t *search_element);

/* Header: source/lexbor/html/interfaces/select_element.h */

struct lxb_html_select_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_select_element_t *
lxb_html_select_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_select_element_t *
lxb_html_select_element_interface_destroy(lxb_html_select_element_t *select_element);

LXB_API lxb_html_selectedcontent_element_t *
lxb_html_select_get_enabled_selectedcontent(lxb_html_select_element_t *el);

/* Header: source/lexbor/html/interfaces/selectedcontent_element.h */

struct lxb_html_selectedcontent_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_selectedcontent_element_t *
lxb_html_selectedcontent_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_selectedcontent_element_t *
lxb_html_selectedcontent_element_interface_destroy(lxb_html_selectedcontent_element_t *selectedcontent_element);

LXB_API lxb_dom_exception_code_t
lxb_html_selectedcontent_clone_option(lxb_html_selectedcontent_element_t *sc,
                                      lxb_html_option_element_t *option);

/* Header: source/lexbor/html/interfaces/slot_element.h */

struct lxb_html_slot_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_slot_element_t *
lxb_html_slot_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_slot_element_t *
lxb_html_slot_element_interface_destroy(lxb_html_slot_element_t *slot_element);

/* Header: source/lexbor/html/interfaces/source_element.h */

struct lxb_html_source_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_source_element_t *
lxb_html_source_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_source_element_t *
lxb_html_source_element_interface_destroy(lxb_html_source_element_t *source_element);

/* Header: source/lexbor/html/interfaces/span_element.h */

struct lxb_html_span_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_span_element_t *
lxb_html_span_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_span_element_t *
lxb_html_span_element_interface_destroy(lxb_html_span_element_t *span_element);

/* Header: source/lexbor/html/interfaces/style_element.h */

struct lxb_html_style_element {
    lxb_html_element_t   element;
    void                 *stylesheet;  /* lxb_css_stylesheet_t */
};


LXB_API lxb_html_style_element_t *
lxb_html_style_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_style_element_t *
lxb_html_style_element_interface_destroy(lxb_html_style_element_t *style_element);

LXB_API lxb_status_t
lxb_html_style_element_parse(lxb_html_style_element_t *element);

LXB_API lxb_status_t
lxb_html_element_style_remove(lxb_html_style_element_t *style);

/* Header: source/lexbor/html/interfaces/table_caption_element.h */

struct lxb_html_table_caption_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_table_caption_element_t *
lxb_html_table_caption_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_table_caption_element_t *
lxb_html_table_caption_element_interface_destroy(lxb_html_table_caption_element_t *table_caption_element);

/* Header: source/lexbor/html/interfaces/table_cell_element.h */

struct lxb_html_table_cell_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_table_cell_element_t *
lxb_html_table_cell_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_table_cell_element_t *
lxb_html_table_cell_element_interface_destroy(lxb_html_table_cell_element_t *table_cell_element);

/* Header: source/lexbor/html/interfaces/table_col_element.h */

struct lxb_html_table_col_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_table_col_element_t *
lxb_html_table_col_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_table_col_element_t *
lxb_html_table_col_element_interface_destroy(lxb_html_table_col_element_t *table_col_element);

/* Header: source/lexbor/html/interfaces/table_element.h */

struct lxb_html_table_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_table_element_t *
lxb_html_table_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_table_element_t *
lxb_html_table_element_interface_destroy(lxb_html_table_element_t *table_element);

/* Header: source/lexbor/html/interfaces/table_row_element.h */

struct lxb_html_table_row_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_table_row_element_t *
lxb_html_table_row_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_table_row_element_t *
lxb_html_table_row_element_interface_destroy(lxb_html_table_row_element_t *table_row_element);

/* Header: source/lexbor/html/interfaces/table_section_element.h */

struct lxb_html_table_section_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_table_section_element_t *
lxb_html_table_section_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_table_section_element_t *
lxb_html_table_section_element_interface_destroy(lxb_html_table_section_element_t *table_section_element);

/* Header: source/lexbor/html/interfaces/template_element.h */

struct lxb_html_template_element {
    lxb_html_element_t          element;

    lxb_dom_document_fragment_t *content;
};


LXB_API lxb_html_template_element_t *
lxb_html_template_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_template_element_t *
lxb_html_template_element_interface_destroy(lxb_html_template_element_t *template_element);

/* Header: source/lexbor/html/interfaces/text_area_element.h */

struct lxb_html_text_area_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_text_area_element_t *
lxb_html_text_area_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_text_area_element_t *
lxb_html_text_area_element_interface_destroy(lxb_html_text_area_element_t *text_area_element);

/* Header: source/lexbor/html/interfaces/time_element.h */

struct lxb_html_time_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_time_element_t *
lxb_html_time_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_time_element_t *
lxb_html_time_element_interface_destroy(lxb_html_time_element_t *time_element);

/* Header: source/lexbor/html/interfaces/title_element.h */

struct lxb_html_title_element {
    lxb_html_element_t element;

    lexbor_str_t       *strict_text;
};


LXB_API lxb_html_title_element_t *
lxb_html_title_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_title_element_t *
lxb_html_title_element_interface_destroy(lxb_html_title_element_t *title_element);

LXB_API const lxb_char_t *
lxb_html_title_element_text(lxb_html_title_element_t *title, size_t *len);

LXB_API const lxb_char_t *
lxb_html_title_element_strict_text(lxb_html_title_element_t *title, size_t *len);

/* Header: source/lexbor/html/interfaces/track_element.h */

struct lxb_html_track_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_track_element_t *
lxb_html_track_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_track_element_t *
lxb_html_track_element_interface_destroy(lxb_html_track_element_t *track_element);

/* Header: source/lexbor/html/interfaces/u_list_element.h */

struct lxb_html_u_list_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_u_list_element_t *
lxb_html_u_list_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_u_list_element_t *
lxb_html_u_list_element_interface_destroy(lxb_html_u_list_element_t *u_list_element);

/* Header: source/lexbor/html/interfaces/unknown_element.h */

struct lxb_html_unknown_element {
    lxb_html_element_t element;
};


LXB_API lxb_html_unknown_element_t *
lxb_html_unknown_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_unknown_element_t *
lxb_html_unknown_element_interface_destroy(lxb_html_unknown_element_t *unknown_element);

/* Header: source/lexbor/html/interfaces/video_element.h */

struct lxb_html_video_element {
    lxb_html_media_element_t media_element;
};


LXB_API lxb_html_video_element_t *
lxb_html_video_element_interface_create(lxb_html_document_t *document);

LXB_API lxb_html_video_element_t *
lxb_html_video_element_interface_destroy(lxb_html_video_element_t *video_element);

/* Header: source/lexbor/html/interfaces/window.h */

struct lxb_html_window {
    lxb_dom_event_target_t event_target;
};


LXB_API lxb_html_window_t *
lxb_html_window_create(lxb_html_document_t *document);

LXB_API lxb_html_window_t *
lxb_html_window_destroy(lxb_html_window_t *window);

/* Header: source/lexbor/html/node.h */

lxb_inline bool
lxb_html_node_is_void(lxb_dom_node_t *node)
{
    if (node->ns != LXB_NS_HTML) {
        return false;
    }

    switch (node->local_name) {
        case LXB_TAG_AREA:
        case LXB_TAG_BASE:
        case LXB_TAG_BASEFONT:
        case LXB_TAG_BGSOUND:
        case LXB_TAG_BR:
        case LXB_TAG_COL:
        case LXB_TAG_EMBED:
        case LXB_TAG_FRAME:
        case LXB_TAG_HR:
        case LXB_TAG_IMG:
        case LXB_TAG_INPUT:
        case LXB_TAG_KEYGEN:
        case LXB_TAG_LINK:
        case LXB_TAG_META:
        case LXB_TAG_PARAM:
        case LXB_TAG_SOURCE:
        case LXB_TAG_TRACK:
        case LXB_TAG_WBR:
            return true;

        default:
            return false;
    }

    return false;
}

lxb_inline bool
lxb_html_node_is(const lxb_dom_node_t *node, lxb_tag_id_t tag_id)
{
    return node->local_name == tag_id && node->ns == LXB_NS_HTML;
}

/*
 * No inline functions for ABI.
 */
LXB_API bool
lxb_html_node_is_void_noi(lxb_dom_node_t *node);

/* Header: source/lexbor/html/tag.h */

#ifndef LXB_HTML_TAG_H
#define LXB_HTML_TAG_H


typedef int lxb_html_tag_category_t;

enum lxb_html_tag_category {
    LXB_HTML_TAG_CATEGORY__UNDEF          = 0x0000,
    LXB_HTML_TAG_CATEGORY_ORDINARY        = 0x0001,
    LXB_HTML_TAG_CATEGORY_SPECIAL         = 0x0002,
    LXB_HTML_TAG_CATEGORY_FORMATTING      = 0x0004,
    LXB_HTML_TAG_CATEGORY_SCOPE           = 0x0008,
    LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM = 0x0010,
    LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON    = 0x0020,
    LXB_HTML_TAG_CATEGORY_SCOPE_TABLE     = 0x0040
};

typedef struct {
    const lxb_char_t *name;
    unsigned int     len;
}
lxb_html_tag_fixname_t;


LXB_API bool
lxb_html_tag_is_category(lxb_tag_id_t tag_id, lxb_ns_id_t ns,
                         lxb_html_tag_category_t cat);

LXB_API const lxb_html_tag_fixname_t *
lxb_html_tag_fixname_svg(lxb_tag_id_t tag_id);


/*
 * Inline functions
 */
lxb_inline bool
lxb_html_tag_is_void(lxb_tag_id_t tag_id)
{
    switch (tag_id) {
        case LXB_TAG_AREA:
        case LXB_TAG_BASE:
        case LXB_TAG_BR:
        case LXB_TAG_COL:
        case LXB_TAG_EMBED:
        case LXB_TAG_HR:
        case LXB_TAG_IMG:
        case LXB_TAG_INPUT:
        case LXB_TAG_LINK:
        case LXB_TAG_META:
        case LXB_TAG_SOURCE:
        case LXB_TAG_TRACK:
        case LXB_TAG_WBR:
            return true;

        default:
            return false;
    }

    return false;
}


#ifdef __cplusplus
} /* extern "C" */
#endif
#endif /* LXB_HTML_TAG_H */

/* Header: source/lexbor/html/token_attr.h */

typedef struct lxb_html_token_attr lxb_html_token_attr_t;
typedef int lxb_html_token_attr_type_t;

enum lxb_html_token_attr_type {
    LXB_HTML_TOKEN_ATTR_TYPE_UNDEF      = 0x0000,
    LXB_HTML_TOKEN_ATTR_TYPE_NAME_NULL  = 0x0001,
    LXB_HTML_TOKEN_ATTR_TYPE_VALUE_NULL = 0x0002
};

struct lxb_html_token_attr {
    const lxb_char_t           *name_begin;
    const lxb_char_t           *name_end;

    const lxb_char_t           *value_begin;
    const lxb_char_t           *value_end;

    const lxb_dom_attr_data_t  *name;
    lxb_char_t                 *value;
    size_t                     value_size;

    lxb_html_token_attr_t      *next;
    lxb_html_token_attr_t      *prev;

    lxb_html_token_attr_type_t type;
};


LXB_API lxb_html_token_attr_t *
lxb_html_token_attr_create(lexbor_dobject_t *dobj);

LXB_API void
lxb_html_token_attr_clean(lxb_html_token_attr_t *attr);

LXB_API lxb_html_token_attr_t *
lxb_html_token_attr_destroy(lxb_html_token_attr_t *attr,
                            lexbor_dobject_t *dobj);

LXB_API const lxb_char_t *
lxb_html_token_attr_name(lxb_html_token_attr_t *attr, size_t *length);

/* Header: source/lexbor/html/token.h */

typedef int lxb_html_token_type_t;


enum lxb_html_token_type {
    LXB_HTML_TOKEN_TYPE_OPEN         = 0x0000,
    LXB_HTML_TOKEN_TYPE_CLOSE        = 0x0001,
    LXB_HTML_TOKEN_TYPE_CLOSE_SELF   = 0x0002,
    LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS = 0x0004,
    LXB_HTML_TOKEN_TYPE_DONE         = 0x0008
};

typedef struct {
    const lxb_char_t      *begin;
    const lxb_char_t      *end;

    const lxb_char_t      *text_start;
    const lxb_char_t      *text_end;

    lxb_html_token_attr_t *attr_first;
    lxb_html_token_attr_t *attr_last;

    void                  *base_element;

    size_t                null_count;
    lxb_tag_id_t          tag_id;
    lxb_html_token_type_t type;
}
lxb_html_token_t;


LXB_API lxb_html_token_t *
lxb_html_token_create(lexbor_dobject_t *dobj);

LXB_API lxb_html_token_t *
lxb_html_token_destroy(lxb_html_token_t *token, lexbor_dobject_t *dobj);

LXB_API lxb_html_token_attr_t *
lxb_html_token_attr_append(lxb_html_token_t *token, lexbor_dobject_t *dobj);

LXB_API void
lxb_html_token_attr_remove(lxb_html_token_t *token,
                           lxb_html_token_attr_t *attr);

LXB_API void
lxb_html_token_attr_delete(lxb_html_token_t *token,
                           lxb_html_token_attr_t *attr, lexbor_dobject_t *dobj);

LXB_API lxb_status_t
lxb_html_token_make_text(lxb_html_token_t *token, lexbor_str_t *str,
                         lexbor_mraw_t *mraw);

LXB_API lxb_status_t
lxb_html_token_make_text_drop_null(lxb_html_token_t *token, lexbor_str_t *str,
                                   lexbor_mraw_t *mraw);

LXB_API lxb_status_t
lxb_html_token_make_text_replace_null(lxb_html_token_t *token,
                                      lexbor_str_t *str, lexbor_mraw_t *mraw);

LXB_API lxb_status_t
lxb_html_token_data_skip_ws_begin(lxb_html_token_t *token);

LXB_API lxb_status_t
lxb_html_token_data_skip_one_newline_begin(lxb_html_token_t *token);

LXB_API lxb_status_t
lxb_html_token_data_split_ws_begin(lxb_html_token_t *token,
                                   lxb_html_token_t *ws_token);

LXB_API lxb_status_t
lxb_html_token_doctype_parse(lxb_html_token_t *token,
                             lxb_dom_document_type_t *doc_type);

LXB_API lxb_html_token_attr_t *
lxb_html_token_find_attr(lxb_html_tokenizer_t *tkz, lxb_html_token_t *token,
                         const lxb_char_t *name, size_t name_len);


/*
 * Inline functions
 */
lxb_inline void
lxb_html_token_clean(lxb_html_token_t *token)
{
    memset(token, 0, sizeof(lxb_html_token_t));
}

lxb_inline lxb_html_token_t *
lxb_html_token_create_eof(lexbor_dobject_t *dobj)
{
    return (lxb_html_token_t *) lexbor_dobject_calloc(dobj);
}

/*
 * No inline functions for ABI.
 */
LXB_API void
lxb_html_token_clean_noi(lxb_html_token_t *token);

LXB_API lxb_html_token_t *
lxb_html_token_create_eof_noi(lexbor_dobject_t *dobj);

/* Header: source/lexbor/html/tokenizer/error.h */

typedef enum {
    /* abrupt-closing-of-empty-comment */
    LXB_HTML_TOKENIZER_ERROR_ABCLOFEMCO         = 0x0000,
    /* abrupt-doctype-public-identifier */
    LXB_HTML_TOKENIZER_ERROR_ABDOPUID,
    /* abrupt-doctype-system-identifier */
    LXB_HTML_TOKENIZER_ERROR_ABDOSYID,
    /* absence-of-digits-in-numeric-character-reference */
    LXB_HTML_TOKENIZER_ERROR_ABOFDIINNUCHRE,
    /* cdata-in-html-content */
    LXB_HTML_TOKENIZER_ERROR_CDINHTCO,
    /* character-reference-outside-unicode-range */
    LXB_HTML_TOKENIZER_ERROR_CHREOUUNRA,
    /* control-character-in-input-stream */
    LXB_HTML_TOKENIZER_ERROR_COCHININST,
    /* control-character-reference */
    LXB_HTML_TOKENIZER_ERROR_COCHRE,
    /* end-tag-with-attributes */
    LXB_HTML_TOKENIZER_ERROR_ENTAWIAT,
    /* duplicate-attribute */
    LXB_HTML_TOKENIZER_ERROR_DUAT,
    /* end-tag-with-trailing-solidus */
    LXB_HTML_TOKENIZER_ERROR_ENTAWITRSO,
    /* eof-before-tag-name */
    LXB_HTML_TOKENIZER_ERROR_EOBETANA,
    /* eof-in-cdata */
    LXB_HTML_TOKENIZER_ERROR_EOINCD,
    /* eof-in-comment */
    LXB_HTML_TOKENIZER_ERROR_EOINCO,
    /* eof-in-doctype */
    LXB_HTML_TOKENIZER_ERROR_EOINDO,
    /* eof-in-script-html-comment-like-text */
    LXB_HTML_TOKENIZER_ERROR_EOINSCHTCOLITE,
    /* eof-in-tag */
    LXB_HTML_TOKENIZER_ERROR_EOINTA,
    /* incorrectly-closed-comment */
    LXB_HTML_TOKENIZER_ERROR_INCLCO,
    /* incorrectly-opened-comment */
    LXB_HTML_TOKENIZER_ERROR_INOPCO,
    /* invalid-character-sequence-after-doctype-name */
    LXB_HTML_TOKENIZER_ERROR_INCHSEAFDONA,
    /* invalid-first-character-of-tag-name */
    LXB_HTML_TOKENIZER_ERROR_INFICHOFTANA,
    /* missing-attribute-value */
    LXB_HTML_TOKENIZER_ERROR_MIATVA,
    /* missing-doctype-name */
    LXB_HTML_TOKENIZER_ERROR_MIDONA,
    /* missing-doctype-public-identifier */
    LXB_HTML_TOKENIZER_ERROR_MIDOPUID,
    /* missing-doctype-system-identifier */
    LXB_HTML_TOKENIZER_ERROR_MIDOSYID,
    /* missing-end-tag-name */
    LXB_HTML_TOKENIZER_ERROR_MIENTANA,
    /* missing-quote-before-doctype-public-identifier */
    LXB_HTML_TOKENIZER_ERROR_MIQUBEDOPUID,
    /* missing-quote-before-doctype-system-identifier */
    LXB_HTML_TOKENIZER_ERROR_MIQUBEDOSYID,
    /* missing-semicolon-after-character-reference */
    LXB_HTML_TOKENIZER_ERROR_MISEAFCHRE,
    /* missing-whitespace-after-doctype-public-keyword */
    LXB_HTML_TOKENIZER_ERROR_MIWHAFDOPUKE,
    /* missing-whitespace-after-doctype-system-keyword */
    LXB_HTML_TOKENIZER_ERROR_MIWHAFDOSYKE,
    /* missing-whitespace-before-doctype-name */
    LXB_HTML_TOKENIZER_ERROR_MIWHBEDONA,
    /* missing-whitespace-between-attributes */
    LXB_HTML_TOKENIZER_ERROR_MIWHBEAT,
    /* missing-whitespace-between-doctype-public-and-system-identifiers */
    LXB_HTML_TOKENIZER_ERROR_MIWHBEDOPUANSYID,
    /* nested-comment */
    LXB_HTML_TOKENIZER_ERROR_NECO,
    /* noncharacter-character-reference */
    LXB_HTML_TOKENIZER_ERROR_NOCHRE,
    /* noncharacter-in-input-stream */
    LXB_HTML_TOKENIZER_ERROR_NOININST,
    /* non-void-html-element-start-tag-with-trailing-solidus */
    LXB_HTML_TOKENIZER_ERROR_NOVOHTELSTTAWITRSO,
    /* null-character-reference */
    LXB_HTML_TOKENIZER_ERROR_NUCHRE,
    /* surrogate-character-reference */
    LXB_HTML_TOKENIZER_ERROR_SUCHRE,
    /* surrogate-in-input-stream */
    LXB_HTML_TOKENIZER_ERROR_SUININST,
    /* unexpected-character-after-doctype-system-identifier */
    LXB_HTML_TOKENIZER_ERROR_UNCHAFDOSYID,
    /* unexpected-character-in-attribute-name */
    LXB_HTML_TOKENIZER_ERROR_UNCHINATNA,
    /* unexpected-character-in-unquoted-attribute-value */
    LXB_HTML_TOKENIZER_ERROR_UNCHINUNATVA,
    /* unexpected-equals-sign-before-attribute-name */
    LXB_HTML_TOKENIZER_ERROR_UNEQSIBEATNA,
    /* unexpected-null-character */
    LXB_HTML_TOKENIZER_ERROR_UNNUCH,
    /* unexpected-question-mark-instead-of-tag-name */
    LXB_HTML_TOKENIZER_ERROR_UNQUMAINOFTANA,
    /* unexpected-solidus-in-tag */
    LXB_HTML_TOKENIZER_ERROR_UNSOINTA,
    /* unknown-named-character-reference */
    LXB_HTML_TOKENIZER_ERROR_UNNACHRE,

    LXB_HTML_TOKENIZER_ERROR_LAST_ENTRY
}
lxb_html_tokenizer_error_id_t;

typedef struct {
    const lxb_char_t              *pos;
    lxb_html_tokenizer_error_id_t id;
}
lxb_html_tokenizer_error_t;


LXB_API lxb_html_tokenizer_error_t *
lxb_html_tokenizer_error_add(lexbor_array_obj_t *parse_errors,
                             const lxb_char_t *pos,
                             lxb_html_tokenizer_error_id_t id);

LXB_API const lxb_char_t *
lxb_html_tokenizer_error_to_string(lxb_html_tokenizer_error_id_t id,
                                   size_t *len);

/* Header: source/lexbor/html/tokenizer.h */

typedef const lxb_char_t *
(*lxb_html_tokenizer_state_f)(lxb_html_tokenizer_t *tkz,
                              const lxb_char_t *data, const lxb_char_t *end);

typedef lxb_html_token_t *
(*lxb_html_tokenizer_token_f)(lxb_html_tokenizer_t *tkz,
                              lxb_html_token_t *token, void *ctx);


struct lxb_html_tokenizer {
    lxb_html_tokenizer_state_f       state;
    lxb_html_tokenizer_state_f       state_return;

    lxb_html_tokenizer_token_f       callback_token_done;
    void                             *callback_token_ctx;

    lexbor_hash_t                    *tags;
    lexbor_hash_t                    *attrs;
    lexbor_mraw_t                    *attrs_mraw;

    /* For a temp strings and other templary data */
    lexbor_mraw_t                    *mraw;

    /* Current process token */
    lxb_html_token_t                 *token;

    /* Memory for token and attr */
    lexbor_dobject_t                 *dobj_token;
    lexbor_dobject_t                 *dobj_token_attr;

    /* Parse error */
    lexbor_array_obj_t               *parse_errors;

    /*
     * Leak abstractions.
     * The only place where the specification causes mixing Tree Builder
     * and Tokenizer. We kill all beauty.
     * Current Tree parser. This is not ref (not ref count).
     */
    lxb_html_tree_t                  *tree;

    /* Temp */
    const lxb_char_t                 *markup;
    const lxb_char_t                 *temp;
    lxb_tag_id_t                     tmp_tag_id;

    lxb_char_t                       *start;
    lxb_char_t                       *pos;
    const lxb_char_t                 *end;
    const lxb_char_t                 *begin;
    const lxb_char_t                 *last;

    /* Entities */
    const lexbor_sbst_entry_static_t *entity;
    const lexbor_sbst_entry_static_t *entity_match;
    uintptr_t                        entity_start;
    uintptr_t                        entity_end;
    uint32_t                         entity_length;
    uint32_t                         entity_number;
    bool                             is_attribute;

    /* Process */
    lxb_html_tokenizer_opt_t         opt;
    lxb_status_t                     status;
    bool                             is_eof;

    lxb_html_tokenizer_t             *base;
    size_t                           ref_count;
};


#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t *lxb_html_tokenizer_eof;
#endif

LXB_API lxb_html_tokenizer_t *
lxb_html_tokenizer_create(void);

LXB_API lxb_status_t
lxb_html_tokenizer_init(lxb_html_tokenizer_t *tkz);

LXB_API lxb_status_t
lxb_html_tokenizer_inherit(lxb_html_tokenizer_t *tkz_to,
                           lxb_html_tokenizer_t *tkz_from);

LXB_API lxb_html_tokenizer_t *
lxb_html_tokenizer_ref(lxb_html_tokenizer_t *tkz);

LXB_API lxb_html_tokenizer_t *
lxb_html_tokenizer_unref(lxb_html_tokenizer_t *tkz);

LXB_API void
lxb_html_tokenizer_clean(lxb_html_tokenizer_t *tkz);

LXB_API lxb_html_tokenizer_t *
lxb_html_tokenizer_destroy(lxb_html_tokenizer_t *tkz);

LXB_API lxb_status_t
lxb_html_tokenizer_tags_make(lxb_html_tokenizer_t *tkz, size_t table_size);

LXB_API void
lxb_html_tokenizer_tags_destroy(lxb_html_tokenizer_t *tkz);

LXB_API lxb_status_t
lxb_html_tokenizer_attrs_make(lxb_html_tokenizer_t *tkz, size_t table_size);

LXB_API void
lxb_html_tokenizer_attrs_destroy(lxb_html_tokenizer_t *tkz);

LXB_API lxb_status_t
lxb_html_tokenizer_begin(lxb_html_tokenizer_t *tkz);

LXB_API lxb_status_t
lxb_html_tokenizer_chunk(lxb_html_tokenizer_t *tkz,
                         const lxb_char_t *data, size_t size);

LXB_API lxb_status_t
lxb_html_tokenizer_end(lxb_html_tokenizer_t *tkz);


LXB_API const lxb_char_t *
lxb_html_tokenizer_change_incoming(lxb_html_tokenizer_t *tkz,
                                   const lxb_char_t *pos);

LXB_API lxb_ns_id_t
lxb_html_tokenizer_current_namespace(lxb_html_tokenizer_t *tkz);

LXB_API void
lxb_html_tokenizer_set_state_by_tag(lxb_html_tokenizer_t *tkz, bool scripting,
                                    lxb_tag_id_t tag_id, lxb_ns_id_t ns);


/*
 * Inline functions
 */
lxb_inline void
lxb_html_tokenizer_status_set(lxb_html_tokenizer_t *tkz, lxb_status_t status)
{
    tkz->status = status;
}

lxb_inline void
lxb_html_tokenizer_tags_set(lxb_html_tokenizer_t *tkz, lexbor_hash_t *tags)
{
    tkz->tags = tags;
}

lxb_inline lexbor_hash_t *
lxb_html_tokenizer_tags(lxb_html_tokenizer_t *tkz)
{
    return tkz->tags;
}

lxb_inline void
lxb_html_tokenizer_attrs_set(lxb_html_tokenizer_t *tkz, lexbor_hash_t *attrs)
{
    tkz->attrs = attrs;
}

lxb_inline lexbor_hash_t *
lxb_html_tokenizer_attrs(lxb_html_tokenizer_t *tkz)
{
    return tkz->attrs;
}

lxb_inline void
lxb_html_tokenizer_attrs_mraw_set(lxb_html_tokenizer_t *tkz,
                                  lexbor_mraw_t *mraw)
{
    tkz->attrs_mraw = mraw;
}

lxb_inline lexbor_mraw_t *
lxb_html_tokenizer_attrs_mraw(lxb_html_tokenizer_t *tkz)
{
    return tkz->attrs_mraw;
}

lxb_inline void
lxb_html_tokenizer_callback_token_done_set(lxb_html_tokenizer_t *tkz,
                                           lxb_html_tokenizer_token_f call_func,
                                           void *ctx)
{
    tkz->callback_token_done = call_func;
    tkz->callback_token_ctx = ctx;
}

lxb_inline void *
lxb_html_tokenizer_callback_token_done_ctx(lxb_html_tokenizer_t *tkz)
{
    return tkz->callback_token_ctx;
}

lxb_inline void
lxb_html_tokenizer_state_set(lxb_html_tokenizer_t *tkz,
                             lxb_html_tokenizer_state_f state)
{
    tkz->state = state;
}

lxb_inline void
lxb_html_tokenizer_tmp_tag_id_set(lxb_html_tokenizer_t *tkz,
                                  lxb_tag_id_t tag_id)
{
    tkz->tmp_tag_id = tag_id;
}

lxb_inline lxb_html_tree_t *
lxb_html_tokenizer_tree(lxb_html_tokenizer_t *tkz)
{
    return tkz->tree;
}

lxb_inline void
lxb_html_tokenizer_tree_set(lxb_html_tokenizer_t *tkz, lxb_html_tree_t *tree)
{
    tkz->tree = tree;
}

lxb_inline lexbor_mraw_t *
lxb_html_tokenizer_mraw(lxb_html_tokenizer_t *tkz)
{
    return tkz->mraw;
}

lxb_inline lxb_status_t
lxb_html_tokenizer_temp_realloc(lxb_html_tokenizer_t *tkz, size_t size)
{
    size_t length = tkz->pos - tkz->start;
    size_t new_size = (tkz->end - tkz->start) + size + 4096;

    tkz->start = (lxb_char_t *)lexbor_realloc(tkz->start, new_size);
    if (tkz->start == NULL) {
        tkz->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        return tkz->status;
    }

    tkz->pos = tkz->start + length;
    tkz->end = tkz->start + new_size;

    return LXB_STATUS_OK;
}

lxb_inline lxb_status_t
lxb_html_tokenizer_temp_append_data(lxb_html_tokenizer_t *tkz,
                                    const lxb_char_t *data)
{
    size_t size = data - tkz->begin;

    if ((tkz->pos + size) > tkz->end) {
        if(lxb_html_tokenizer_temp_realloc(tkz, size)) {
            return tkz->status;
        }
    }

    tkz->pos = (lxb_char_t *) memcpy(tkz->pos, tkz->begin, size) + size;

    return LXB_STATUS_OK;
}

lxb_inline lxb_status_t
lxb_html_tokenizer_temp_append(lxb_html_tokenizer_t *tkz,
                               const lxb_char_t *data, size_t size)
{
    if ((tkz->pos + size) > tkz->end) {
        if(lxb_html_tokenizer_temp_realloc(tkz, size)) {
            return tkz->status;
        }
    }

    tkz->pos = (lxb_char_t *) memcpy(tkz->pos, data, size) + size;

    return LXB_STATUS_OK;
}


/*
 * No inline functions for ABI.
 */
LXB_API void
lxb_html_tokenizer_status_set_noi(lxb_html_tokenizer_t *tkz,
                                  lxb_status_t status);

LXB_API void
lxb_html_tokenizer_callback_token_done_set_noi(lxb_html_tokenizer_t *tkz,
                                               lxb_html_tokenizer_token_f call_func,
                                               void *ctx);

LXB_API void *
lxb_html_tokenizer_callback_token_done_ctx_noi(lxb_html_tokenizer_t *tkz);

LXB_API void
lxb_html_tokenizer_state_set_noi(lxb_html_tokenizer_t *tkz,
                                 lxb_html_tokenizer_state_f state);

LXB_API void
lxb_html_tokenizer_tmp_tag_id_set_noi(lxb_html_tokenizer_t *tkz,
                                      lxb_tag_id_t tag_id);

LXB_API lxb_html_tree_t *
lxb_html_tokenizer_tree_noi(lxb_html_tokenizer_t *tkz);

LXB_API void
lxb_html_tokenizer_tree_set_noi(lxb_html_tokenizer_t *tkz,
                                lxb_html_tree_t *tree);

LXB_API lexbor_mraw_t *
lxb_html_tokenizer_mraw_noi(lxb_html_tokenizer_t *tkz);

LXB_API lexbor_hash_t *
lxb_html_tokenizer_tags_noi(lxb_html_tokenizer_t *tkz);

/* Header: source/lexbor/html/tree/error.h */

typedef enum {
    /* unexpected-token */
    LXB_HTML_RULES_ERROR_UNTO = 0x0000,
    /* unexpected-closed-token */
    LXB_HTML_RULES_ERROR_UNCLTO,
    /* null-character */
    LXB_HTML_RULES_ERROR_NUCH,
    /* unexpected-character-token */
    LXB_HTML_RULES_ERROR_UNCHTO,
    /* unexpected-token-in-initial-mode */
    LXB_HTML_RULES_ERROR_UNTOININMO,
    /* bad-doctype-token-in-initial-mode */
    LXB_HTML_RULES_ERROR_BADOTOININMO,
    /* doctype-token-in-before-html-mode */
    LXB_HTML_RULES_ERROR_DOTOINBEHTMO,
    /* unexpected-closed-token-in-before-html-mode */
    LXB_HTML_RULES_ERROR_UNCLTOINBEHTMO,
    /* doctype-token-in-before-head-mode */
    LXB_HTML_RULES_ERROR_DOTOINBEHEMO,
    /* unexpected-closed_token-in-before-head-mode */
    LXB_HTML_RULES_ERROR_UNCLTOINBEHEMO,
    /* doctype-token-in-head-mode */
    LXB_HTML_RULES_ERROR_DOTOINHEMO,
    /* non-void-html-element-start-tag-with-trailing-solidus */
    LXB_HTML_RULES_ERROR_NOVOHTELSTTAWITRSO,
    /* head-token-in-head-mode */
    LXB_HTML_RULES_ERROR_HETOINHEMO,
    /* unexpected-closed-token-in-head-mode */
    LXB_HTML_RULES_ERROR_UNCLTOINHEMO,
    /* template-closed-token-without-opening-in-head-mode */
    LXB_HTML_RULES_ERROR_TECLTOWIOPINHEMO,
    /* template-element-is-not-current-in-head-mode */
    LXB_HTML_RULES_ERROR_TEELISNOCUINHEMO,
    /* doctype-token-in-head-noscript-mode */
    LXB_HTML_RULES_ERROR_DOTOINHENOMO,
    /* doctype-token-after-head-mode */
    LXB_HTML_RULES_ERROR_DOTOAFHEMO,
    /* head-token-after-head-mode */
    LXB_HTML_RULES_ERROR_HETOAFHEMO,
    /* doctype-token-in-body-mode */
    LXB_HTML_RULES_ERROR_DOTOINBOMO,
    /* bad-ending-open-elements-is-wrong */
    LXB_HTML_RULES_ERROR_BAENOPELISWR,
    /* open-elements-is-wrong */
    LXB_HTML_RULES_ERROR_OPELISWR,
    /* unexpected-element-in-open-elements-stack */
    LXB_HTML_RULES_ERROR_UNELINOPELST,
    /* missing-element-in-open-elements-stack */
    LXB_HTML_RULES_ERROR_MIELINOPELST,
    /* no-body-element-in-scope */
    LXB_HTML_RULES_ERROR_NOBOELINSC,
    /* missing-element-in-scope */
    LXB_HTML_RULES_ERROR_MIELINSC,
    /* unexpected-element-in-scope */
    LXB_HTML_RULES_ERROR_UNELINSC,
    /* unexpected-element-in-active-formatting-stack */
    LXB_HTML_RULES_ERROR_UNELINACFOST,
    /* unexpected-end-of-file */
    LXB_HTML_RULES_ERROR_UNENOFFI,
    /* characters-in-table-text */
    LXB_HTML_RULES_ERROR_CHINTATE,
    /* doctype-token-in-table-mode */
    LXB_HTML_RULES_ERROR_DOTOINTAMO,
    /* doctype-token-in-select-mode */
    LXB_HTML_RULES_ERROR_DOTOINSEMO,
    /* doctype-token-after-body-mode */
    LXB_HTML_RULES_ERROR_DOTOAFBOMO,
    /* doctype-token-in-frameset-mode */
    LXB_HTML_RULES_ERROR_DOTOINFRMO,
    /* doctype-token-after-frameset-mode */
    LXB_HTML_RULES_ERROR_DOTOAFFRMO,
    /* doctype-token-foreign-content-mode */
    LXB_HTML_RULES_ERROR_DOTOFOCOMO,
    /* select-in-scope */
    LXB_HTML_RULES_ERROR_SEINSC,
    /* fragment-parsing-select-in-context-parse-input */
    LXB_HTML_RULES_ERROR_FRPASEINCOPAIN,
    /* fragment-parsing-select-in-context-parse-select */
    LXB_HTML_RULES_ERROR_FRPASEINCOPASE,
    /* hr-parsing-select-option-optgroup-in-scope */
    LXB_HTML_RULES_ERROR_HRPASEOPOPINSC,
    /* option-parsing-option-in-scope */
    LXB_HTML_RULES_ERROR_OPPAOPINSC,
    /* optgroup-parsing-option-optgroup-in-scope */
    LXB_HTML_RULES_ERROR_OPPAOPOPINSC,

    LXB_HTML_RULES_ERROR_LAST_ENTRY
}
lxb_html_tree_error_id_t;

typedef struct {
    lxb_html_tree_error_id_t id;
    const lxb_char_t         *begin;
    const lxb_char_t         *end;
}
lxb_html_tree_error_t;


LXB_API lxb_html_tree_error_t *
lxb_html_tree_error_add(lexbor_array_obj_t *parse_errors,
                        lxb_html_token_t *token, lxb_html_tree_error_id_t id);

LXB_API const lxb_char_t *
lxb_html_tree_error_to_string(lxb_html_tree_error_id_t id, size_t *len);

/* Header: source/lexbor/html/tree.h */

typedef bool
(*lxb_html_tree_insertion_mode_f)(lxb_html_tree_t *tree,
                                  lxb_html_token_t *token);

typedef lxb_status_t
(*lxb_html_tree_append_attr_f)(lxb_html_tree_t *tree,
                               lxb_dom_attr_t *attr, void *ctx);

typedef struct {
    lexbor_array_obj_t *text_list;
    bool               have_non_ws;
}
lxb_html_tree_pending_table_t;

struct lxb_html_tree {
    lxb_html_tokenizer_t           *tkz_ref;

    lxb_html_document_t            *document;
    lxb_dom_node_t                 *fragment;

    lxb_html_form_element_t        *form;

    lexbor_array_t                 *open_elements;
    lexbor_array_t                 *active_formatting;
    lexbor_array_obj_t             *template_insertion_modes;

    lxb_html_tree_pending_table_t  pending_table;

    lexbor_array_obj_t             *parse_errors;

    bool                           foster_parenting;
    bool                           frameset_ok;
    bool                           scripting;

    lxb_html_tree_insertion_mode_f mode;
    lxb_html_tree_insertion_mode_f original_mode;
    lxb_html_tree_append_attr_f    before_append_attr;

    lxb_status_t                   status;

    size_t                         ref_count;
};

typedef enum {
    LXB_HTML_TREE_INSERTION_POSITION_CHILD  = 0x00,
    LXB_HTML_TREE_INSERTION_POSITION_BEFORE = 0x01
}
lxb_html_tree_insertion_position_t;


LXB_API lxb_html_tree_t *
lxb_html_tree_create(void);

LXB_API lxb_status_t
lxb_html_tree_init(lxb_html_tree_t *tree, lxb_html_tokenizer_t *tkz);

LXB_API lxb_html_tree_t *
lxb_html_tree_ref(lxb_html_tree_t *tree);

LXB_API lxb_html_tree_t *
lxb_html_tree_unref(lxb_html_tree_t *tree);

LXB_API void
lxb_html_tree_clean(lxb_html_tree_t *tree);

LXB_API lxb_html_tree_t *
lxb_html_tree_destroy(lxb_html_tree_t *tree);

LXB_API lxb_status_t
lxb_html_tree_stop_parsing(lxb_html_tree_t *tree);

LXB_API bool
lxb_html_tree_process_abort(lxb_html_tree_t *tree);

LXB_API void
lxb_html_tree_parse_error(lxb_html_tree_t *tree, lxb_html_token_t *token,
                          lxb_html_tree_error_id_t id);

LXB_API bool
lxb_html_tree_construction_dispatcher(lxb_html_tree_t *tree,
                                      lxb_html_token_t *token);

LXB_API lxb_dom_node_t *
lxb_html_tree_appropriate_place_inserting_node(lxb_html_tree_t *tree,
                                      lxb_dom_node_t *override_target,
                                      lxb_html_tree_insertion_position_t *ipos);

LXB_API lxb_html_element_t *
lxb_html_tree_insert_foreign_element(lxb_html_tree_t *tree,
                                     lxb_html_token_t *token, lxb_ns_id_t ns,
                                     bool only_add_stack);

LXB_API lxb_html_element_t *
lxb_html_tree_create_element_for_token(lxb_html_tree_t *tree,
                                       lxb_html_token_t *token, lxb_ns_id_t ns);

LXB_API lxb_status_t
lxb_html_tree_append_attributes(lxb_html_tree_t *tree,
                                lxb_dom_element_t *element,
                                lxb_html_token_t *token, lxb_ns_id_t ns);

LXB_API lxb_status_t
lxb_html_tree_append_attributes_from_element(lxb_html_tree_t *tree,
                                             lxb_dom_element_t *element,
                                             lxb_dom_element_t *from,
                                             lxb_ns_id_t ns);

LXB_API lxb_status_t
lxb_html_tree_adjust_mathml_attributes(lxb_html_tree_t *tree,
                                       lxb_dom_attr_t *attr, void *ctx);

LXB_API lxb_status_t
lxb_html_tree_adjust_svg_attributes(lxb_html_tree_t *tree,
                                    lxb_dom_attr_t *attr, void *ctx);

LXB_API lxb_status_t
lxb_html_tree_adjust_foreign_attributes(lxb_html_tree_t *tree,
                                        lxb_dom_attr_t *attr, void *ctx);

LXB_API lxb_status_t
lxb_html_tree_insert_character(lxb_html_tree_t *tree, lxb_html_token_t *token,
                               lxb_dom_node_t **ret_node);

LXB_API lxb_status_t
lxb_html_tree_insert_character_for_data(lxb_html_tree_t *tree,
                                        lexbor_str_t *str,
                                        lxb_dom_node_t **ret_node);

LXB_API lxb_dom_comment_t *
lxb_html_tree_insert_comment(lxb_html_tree_t *tree,
                             lxb_html_token_t *token, lxb_dom_node_t *pos);

LXB_API lxb_dom_document_type_t *
lxb_html_tree_create_document_type_from_token(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token);

LXB_API void
lxb_html_tree_node_delete_deep(lxb_html_tree_t *tree, lxb_dom_node_t *node);

LXB_API lxb_html_element_t *
lxb_html_tree_generic_rawtext_parsing(lxb_html_tree_t *tree,
                                      lxb_html_token_t *token);

LXB_API lxb_html_element_t *
lxb_html_tree_generic_rcdata_parsing(lxb_html_tree_t *tree,
                                     lxb_html_token_t *token);

LXB_API void
lxb_html_tree_generate_implied_end_tags(lxb_html_tree_t *tree,
                                        lxb_tag_id_t ex_tag, lxb_ns_id_t ex_ns);

LXB_API void
lxb_html_tree_generate_all_implied_end_tags_thoroughly(lxb_html_tree_t *tree,
                                                       lxb_tag_id_t ex_tag,
                                                       lxb_ns_id_t ex_ns);

LXB_API void
lxb_html_tree_reset_insertion_mode_appropriately(lxb_html_tree_t *tree);

LXB_API lxb_dom_node_t *
lxb_html_tree_element_in_scope(lxb_html_tree_t *tree, lxb_tag_id_t tag_id,
                               lxb_ns_id_t ns, lxb_html_tag_category_t ct);

LXB_API lxb_dom_node_t *
lxb_html_tree_element_in_scope_by_node(lxb_html_tree_t *tree,
                                       lxb_dom_node_t *by_node,
                                       lxb_html_tag_category_t ct);

LXB_API lxb_dom_node_t *
lxb_html_tree_element_in_scope_h123456(lxb_html_tree_t *tree);

LXB_API lxb_dom_node_t *
lxb_html_tree_element_in_scope_tbody_thead_tfoot(lxb_html_tree_t *tree);

LXB_API lxb_dom_node_t *
lxb_html_tree_element_in_scope_td_th(lxb_html_tree_t *tree);

LXB_API lxb_dom_node_t *
lxb_html_tree_element_in_scope_option_optgroup(lxb_html_tree_t *tree);

LXB_API bool
lxb_html_tree_check_scope_element(lxb_html_tree_t *tree);

LXB_API void
lxb_html_tree_close_p_element(lxb_html_tree_t *tree, lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_adoption_agency_algorithm(lxb_html_tree_t *tree,
                                        lxb_html_token_t *token,
                                        lxb_status_t *status);

LXB_API bool
lxb_html_tree_html_integration_point(lxb_dom_node_t *node);

LXB_API lxb_status_t
lxb_html_tree_adjust_attributes_mathml(lxb_html_tree_t *tree,
                                       lxb_dom_attr_t *attr, void *ctx);

LXB_API lxb_status_t
lxb_html_tree_adjust_attributes_svg(lxb_html_tree_t *tree,
                                    lxb_dom_attr_t *attr, void *ctx);


/*
 * Inline functions
 */
lxb_inline lxb_status_t
lxb_html_tree_begin(lxb_html_tree_t *tree, lxb_html_document_t *document)
{
    tree->document = document;

    return lxb_html_tokenizer_begin(tree->tkz_ref);
}

lxb_inline lxb_status_t
lxb_html_tree_chunk(lxb_html_tree_t *tree, const lxb_char_t *html, size_t size)
{
    return lxb_html_tokenizer_chunk(tree->tkz_ref, html, size);
}

lxb_inline lxb_status_t
lxb_html_tree_end(lxb_html_tree_t *tree)
{
    if (tree->document->done != NULL) {
        tree->document->done(tree->document);
    }

    return lxb_html_tokenizer_end(tree->tkz_ref);
}

lxb_inline lxb_status_t
lxb_html_tree_build(lxb_html_tree_t *tree, lxb_html_document_t *document,
                    const lxb_char_t *html, size_t size)
{
    tree->status = lxb_html_tree_begin(tree, document);
    if (tree->status != LXB_STATUS_OK) {
        return tree->status;
    }

    tree->status = lxb_html_tree_chunk(tree, html, size);
    if (tree->status != LXB_STATUS_OK) {
        return tree->status;
    }

    return lxb_html_tree_end(tree);
}

lxb_inline lxb_dom_node_t *
lxb_html_tree_create_node(lxb_html_tree_t *tree,
                          lxb_tag_id_t tag_id, lxb_ns_id_t ns)
{
    return (lxb_dom_node_t *) lxb_html_interface_create(tree->document,
                                                        tag_id, ns);
}

lxb_inline bool
lxb_html_tree_node_is(const lxb_dom_node_t *node, lxb_tag_id_t tag_id)
{
    return node->local_name == tag_id && node->ns == LXB_NS_HTML;
}

lxb_inline lxb_dom_node_t *
lxb_html_tree_current_node(lxb_html_tree_t *tree)
{
    if (tree->open_elements->length == 0) {
        return NULL;
    }

    return (lxb_dom_node_t *)
        tree->open_elements->list[ (tree->open_elements->length - 1) ];
}

lxb_inline lxb_dom_node_t *
lxb_html_tree_adjusted_current_node(lxb_html_tree_t *tree)
{
    if(tree->fragment != NULL && tree->open_elements->length == 1) {
        return lxb_dom_interface_node(tree->fragment);
    }

    return lxb_html_tree_current_node(tree);
}

lxb_inline lxb_html_element_t *
lxb_html_tree_insert_html_element(lxb_html_tree_t *tree,
                                  lxb_html_token_t *token)
{
    return lxb_html_tree_insert_foreign_element(tree, token, LXB_NS_HTML,
                                                false);
}

lxb_inline void
lxb_html_tree_insert_node(lxb_dom_node_t *to, lxb_dom_node_t *node,
                          lxb_html_tree_insertion_position_t ipos)
{
    if (ipos == LXB_HTML_TREE_INSERTION_POSITION_BEFORE) {
        lxb_dom_node_insert_before_wo_events(to, node);
        return;
    }

    lxb_dom_node_insert_child_wo_events(to, node);
}

/* TODO: if we not need to save parse errors?! */
lxb_inline void
lxb_html_tree_acknowledge_token_self_closing(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token)
{
    if ((token->type & LXB_HTML_TOKEN_TYPE_CLOSE_SELF) == 0) {
        return;
    }

    bool is_void = lxb_html_tag_is_void(token->tag_id);

    if (!is_void) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_NOVOHTELSTTAWITRSO);
    }
}

lxb_inline bool
lxb_html_tree_mathml_text_integration_point(lxb_dom_node_t *node)
{
    if (node->ns == LXB_NS_MATH) {
        switch (node->local_name) {
            case LXB_TAG_MI:
            case LXB_TAG_MO:
            case LXB_TAG_MN:
            case LXB_TAG_MS:
            case LXB_TAG_MTEXT:
                return true;
        }
    }

    return false;
}

lxb_inline bool
lxb_html_tree_scripting(lxb_html_tree_t *tree)
{
    return tree->scripting;
}

lxb_inline void
lxb_html_tree_scripting_set(lxb_html_tree_t *tree, bool scripting)
{
    tree->scripting = scripting;
}

lxb_inline void
lxb_html_tree_attach_document(lxb_html_tree_t *tree, lxb_html_document_t *doc)
{
    tree->document = doc;
}

lxb_inline bool
lxb_html_tree_is_fragment(lxb_html_tree_t *tree)
{
    return tree->fragment != NULL;
}

lxb_inline bool
lxb_html_tree_is_fragment_element(lxb_html_tree_t *tree,
                                  lxb_tag_id_t tag_id, lxb_ns_id_t ns)
{
    lxb_dom_node_t *fragment = tree->fragment;

    return lxb_html_tree_is_fragment(tree)
            && fragment->local_name == tag_id && fragment->ns == ns;
}

/* Header: source/lexbor/html/parser.h */

typedef enum {
    LXB_HTML_PARSER_STATE_BEGIN            = 0x00,
    LXB_HTML_PARSER_STATE_PROCESS          = 0x01,
    LXB_HTML_PARSER_STATE_END              = 0x02,
    LXB_HTML_PARSER_STATE_FRAGMENT_PROCESS = 0x03,
    LXB_HTML_PARSER_STATE_ERROR            = 0x04
}
lxb_html_parser_state_t;

typedef struct {
    lxb_html_tokenizer_t    *tkz;
    lxb_html_tree_t         *tree;
    lxb_html_tree_t         *original_tree;

    lxb_dom_node_t          *root;
    lxb_dom_node_t          *form;

    lxb_html_parser_state_t state;
    lxb_status_t            status;

    size_t                  ref_count;
}
lxb_html_parser_t;


LXB_API lxb_html_parser_t *
lxb_html_parser_create(void);

LXB_API lxb_status_t
lxb_html_parser_init(lxb_html_parser_t *parser);

LXB_API void
lxb_html_parser_clean(lxb_html_parser_t *parser);

LXB_API lxb_html_parser_t *
lxb_html_parser_destroy(lxb_html_parser_t *parser);

LXB_API lxb_html_parser_t *
lxb_html_parser_ref(lxb_html_parser_t *parser);

LXB_API lxb_html_parser_t *
lxb_html_parser_unref(lxb_html_parser_t *parser);


LXB_API lxb_html_document_t *
lxb_html_parse(lxb_html_parser_t *parser, const lxb_char_t *html, size_t size);


LXB_API lxb_dom_node_t *
lxb_html_parse_fragment(lxb_html_parser_t *parser, lxb_html_element_t *element,
                        const lxb_char_t *html, size_t size);

LXB_API lxb_dom_node_t *
lxb_html_parse_fragment_by_tag_id(lxb_html_parser_t *parser,
                                  lxb_html_document_t *document,
                                  lxb_tag_id_t tag_id, lxb_ns_id_t ns,
                                  const lxb_char_t *html, size_t size);


LXB_API lxb_html_document_t *
lxb_html_parse_chunk_begin(lxb_html_parser_t *parser);

LXB_API lxb_status_t
lxb_html_parse_chunk_process(lxb_html_parser_t *parser,
                             const lxb_char_t *html, size_t size);

LXB_API lxb_status_t
lxb_html_parse_chunk_end(lxb_html_parser_t *parser);


LXB_API lxb_status_t
lxb_html_parse_fragment_chunk_begin(lxb_html_parser_t *parser,
                                    lxb_html_document_t *document,
                                    lxb_tag_id_t tag_id, lxb_ns_id_t ns);

LXB_API lxb_status_t
lxb_html_parse_fragment_chunk_process(lxb_html_parser_t *parser,
                                      const lxb_char_t *html, size_t size);

LXB_API lxb_dom_node_t *
lxb_html_parse_fragment_chunk_end(lxb_html_parser_t *parser);


/*
 * Inline functions
 */
lxb_inline lxb_html_tokenizer_t *
lxb_html_parser_tokenizer(lxb_html_parser_t *parser)
{
    return parser->tkz;
}

lxb_inline lxb_html_tree_t *
lxb_html_parser_tree(lxb_html_parser_t *parser)
{
    return parser->tree;
}

lxb_inline lxb_status_t
lxb_html_parser_status(lxb_html_parser_t *parser)
{
    return parser->status;
}

lxb_inline lxb_status_t
lxb_html_parser_state(lxb_html_parser_t *parser)
{
    return parser->state;
}

lxb_inline bool
lxb_html_parser_scripting(lxb_html_parser_t *parser)
{
    return lxb_html_tree_scripting(parser->tree);
}

lxb_inline void
lxb_html_parser_scripting_set(lxb_html_parser_t *parser, bool scripting)
{
    lxb_html_tree_scripting_set(parser->tree, scripting);
}


/*
 * No inline functions for ABI.
 */
LXB_API lxb_html_tokenizer_t *
lxb_html_parser_tokenizer_noi(lxb_html_parser_t *parser);

LXB_API lxb_html_tree_t *
lxb_html_parser_tree_noi(lxb_html_parser_t *parser);

LXB_API lxb_status_t
lxb_html_parser_status_noi(lxb_html_parser_t *parser);

LXB_API lxb_status_t
lxb_html_parser_state_noi(lxb_html_parser_t *parser);

LXB_API bool
lxb_html_parser_scripting_noi(lxb_html_parser_t *parser);

LXB_API void
lxb_html_parser_scripting_set_noi(lxb_html_parser_t *parser, bool scripting);

/* Header: source/lexbor/html/serialize.h */

typedef int lxb_html_serialize_opt_t;

enum lxb_html_serialize_opt {
    LXB_HTML_SERIALIZE_OPT_UNDEF               = 0x00,
    LXB_HTML_SERIALIZE_OPT_SKIP_WS_NODES       = 0x01,
    LXB_HTML_SERIALIZE_OPT_SKIP_COMMENT        = 0x02,
    LXB_HTML_SERIALIZE_OPT_RAW                 = 0x04,
    LXB_HTML_SERIALIZE_OPT_WITHOUT_CLOSING     = 0x08,
    LXB_HTML_SERIALIZE_OPT_TAG_WITH_NS         = 0x10,
    LXB_HTML_SERIALIZE_OPT_WITHOUT_TEXT_INDENT = 0x20,
    LXB_HTML_SERIALIZE_OPT_FULL_DOCTYPE        = 0x40
};


typedef lxb_status_t
(*lxb_html_serialize_cb_f)(const lxb_char_t *data, size_t len, void *ctx);


LXB_API lxb_status_t
lxb_html_serialize_cb(lxb_dom_node_t *node,
                      lxb_html_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_html_serialize_str(lxb_dom_node_t *node, lexbor_str_t *str);

LXB_API lxb_status_t
lxb_html_serialize_tree_cb(lxb_dom_node_t *node,
                           lxb_html_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_html_serialize_tree_str(lxb_dom_node_t *node, lexbor_str_t *str);

LXB_API lxb_status_t
lxb_html_serialize_deep_cb(lxb_dom_node_t *node,
                           lxb_html_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_html_serialize_deep_str(lxb_dom_node_t *node, lexbor_str_t *str);

LXB_API lxb_status_t
lxb_html_serialize_pretty_cb(lxb_dom_node_t *node,
                             lxb_html_serialize_opt_t opt, size_t indent,
                             lxb_html_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_html_serialize_pretty_str(lxb_dom_node_t *node,
                              lxb_html_serialize_opt_t opt, size_t indent,
                              lexbor_str_t *str);

LXB_API lxb_status_t
lxb_html_serialize_pretty_tree_cb(lxb_dom_node_t *node,
                                  lxb_html_serialize_opt_t opt, size_t indent,
                                  lxb_html_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_html_serialize_pretty_tree_str(lxb_dom_node_t *node,
                                   lxb_html_serialize_opt_t opt, size_t indent,
                                   lexbor_str_t *str);

LXB_API lxb_status_t
lxb_html_serialize_pretty_deep_cb(lxb_dom_node_t *node,
                                  lxb_html_serialize_opt_t opt, size_t indent,
                                  lxb_html_serialize_cb_f cb, void *ctx);

LXB_API lxb_status_t
lxb_html_serialize_pretty_deep_str(lxb_dom_node_t *node,
                                   lxb_html_serialize_opt_t opt, size_t indent,
                                   lexbor_str_t *str);

/* Header: source/lexbor/html/tokenizer/state.h */

#define lxb_html_tokenizer_state_begin_set(tkz, v_data)                        \
    (tkz->begin = v_data)

#define lxb_html_tokenizer_state_append_data_m(tkz, v_data)                    \
    do {                                                                       \
        if (lxb_html_tokenizer_temp_append_data(tkz, v_data)) {                \
            return end;                                                        \
        }                                                                      \
    }                                                                          \
    while (0)

#define lxb_html_tokenizer_state_append_m(tkz, v_data, size)                   \
    do {                                                                       \
        if (lxb_html_tokenizer_temp_append(tkz, (const lxb_char_t *) (v_data), \
                                           (size)))                            \
        {                                                                      \
            return end;                                                        \
        }                                                                      \
    }                                                                          \
    while (0)

#define lxb_html_tokenizer_state_append_replace_m(tkz)                         \
    do {                                                                       \
        if (lxb_html_tokenizer_temp_append(tkz,                                \
                        lexbor_str_res_ansi_replacement_character,             \
                        sizeof(lexbor_str_res_ansi_replacement_character) - 1))\
        {                                                                      \
            return end;                                                        \
        }                                                                      \
    }                                                                          \
    while (0)

#define lxb_html_tokenizer_state_set_tag_m(tkz, _start, _end)                  \
    do {                                                                       \
        const lxb_tag_data_t *tag;                                             \
        tag = lxb_tag_append_lower(tkz->tags, (_start), (_end) - (_start));    \
        if (tag == NULL) {                                                     \
            tkz->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;                  \
            return end;                                                        \
        }                                                                      \
        tkz->token->tag_id = tag->tag_id;                                      \
    }                                                                          \
    while (0)

#define lxb_html_tokenizer_state_set_name_m(tkz)                               \
    do {                                                                       \
        lxb_dom_attr_data_t *data;                                             \
        data = lxb_dom_attr_local_name_append(tkz->attrs, tkz->start,          \
                                              tkz->pos - tkz->start);          \
        if (data == NULL) {                                                    \
            tkz->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;                  \
            return end;                                                        \
        }                                                                      \
        tkz->token->attr_last->name = data;                                    \
    }                                                                          \
    while (0)

#define lxb_html_tokenizer_state_set_value_m(tkz)                              \
    do {                                                                       \
        lxb_html_token_attr_t *attr = tkz->token->attr_last;                   \
                                                                               \
        attr->value_size = (size_t) (tkz->pos - tkz->start);                   \
                                                                               \
        attr->value = lexbor_mraw_alloc(tkz->attrs_mraw, attr->value_size + 1);\
        if (attr->value == NULL) {                                             \
            tkz->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;                  \
            return end;                                                        \
        }                                                                      \
        memcpy(attr->value, tkz->start, attr->value_size);                     \
        attr->value[attr->value_size] = 0x00;                                  \
    }                                                                          \
    while (0)

#define lxb_html_tokenizer_state_token_set_begin(tkz, v_begin)                 \
    do {                                                                       \
        tkz->pos = tkz->start;                                                 \
        tkz->token->begin = v_begin;                                           \
    }                                                                          \
    while (0)

#define lxb_html_tokenizer_state_token_set_end(tkz, v_end)                     \
    (tkz->token->end = v_end)

#define lxb_html_tokenizer_state_token_set_end_down(tkz, v_end, offset)        \
    do {                                                                       \
        tkz->token->end = lexbor_in_node_pos_down(tkz->incoming_node, NULL,    \
                                                  v_end, offset);              \
    }                                                                          \
    while (0)

#define lxb_html_tokenizer_state_token_set_end_eof(tkz)                        \
    (tkz->token->end = tkz->last)

#define lxb_html_tokenizer_state_token_attr_add_m(tkz, attr, v_return)         \
    do {                                                                       \
        attr = lxb_html_token_attr_append(tkz->token, tkz->dobj_token_attr);   \
        if (attr == NULL) {                                                    \
            tkz->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;                  \
            return v_return;                                                   \
        }                                                                      \
    }                                                                          \
    while (0)

#define lxb_html_tokenizer_state_token_attr_set_name_begin(tkz, v_begin)       \
    do {                                                                       \
        tkz->pos = tkz->start;                                                 \
        tkz->token->attr_last->name_begin = v_begin;                           \
    }                                                                          \
    while (0)

#define lxb_html_tokenizer_state_token_attr_set_name_end(tkz, v_end)           \
    (tkz->token->attr_last->name_end = v_end)

#define lxb_html_tokenizer_state_token_attr_set_name_end_oef(tkz)              \
    (tkz->token->attr_last->name_end = tkz->last)

#define lxb_html_tokenizer_state_token_attr_set_value_begin(tkz, v_begin)      \
    do {                                                                       \
        tkz->pos = tkz->start;                                                 \
        tkz->token->attr_last->value_begin = v_begin;                          \
    }                                                                          \
    while (0)

#define lxb_html_tokenizer_state_token_attr_set_value_end(tkz, v_end)          \
    (tkz->token->attr_last->value_end = v_end)

#define lxb_html_tokenizer_state_token_attr_set_value_end_oef(tkz)             \
    (tkz->token->attr_last->value_end = tkz->last)

#define _lxb_html_tokenizer_state_token_done_m(tkz, v_end)                     \
    tkz->token = tkz->callback_token_done(tkz, tkz->token,                     \
                                          tkz->callback_token_ctx);            \
    if (tkz->token == NULL) {                                                  \
        if (tkz->status == LXB_STATUS_OK) {                                    \
            tkz->status = LXB_STATUS_ERROR;                                    \
        }                                                                      \
        return v_end;                                                          \
    }

#define lxb_html_tokenizer_state_token_done_m(tkz, v_end)                      \
    do {                                                                       \
        if (tkz->token->begin != tkz->token->end) {                            \
            _lxb_html_tokenizer_state_token_done_m(tkz, v_end)                 \
        }                                                                      \
        lxb_html_token_clean(tkz->token);                                      \
        tkz->pos = tkz->start;                                                 \
    }                                                                          \
    while (0)

#define lxb_html_tokenizer_state_token_done_wo_check_m(tkz, v_end)             \
    do {                                                                       \
        _lxb_html_tokenizer_state_token_done_m(tkz, v_end)                     \
        lxb_html_token_clean(tkz->token);                                      \
    }                                                                          \
    while (0)

#define lxb_html_tokenizer_state_set_text(tkz)                                 \
    do {                                                                       \
        tkz->token->text_start = tkz->start;                                   \
        tkz->token->text_end = tkz->pos;                                       \
    }                                                                          \
    while (0)

#define lxb_html_tokenizer_state_token_emit_text_not_empty_m(tkz, v_end)       \
    do {                                                                       \
        if (tkz->token->begin != tkz->token->end) {                            \
            tkz->token->tag_id = LXB_TAG__TEXT;                                \
                                                                               \
            lxb_html_tokenizer_state_set_text(tkz);                            \
            _lxb_html_tokenizer_state_token_done_m(tkz, v_end)                 \
            lxb_html_token_clean(tkz->token);                                  \
        }                                                                      \
    }                                                                          \
    while (0)


LXB_API const lxb_char_t *
lxb_html_tokenizer_state_data_before(lxb_html_tokenizer_t *tkz,
                                     const lxb_char_t *data,
                                     const lxb_char_t *end);

LXB_API const lxb_char_t *
lxb_html_tokenizer_state_plaintext_before(lxb_html_tokenizer_t *tkz,
                                          const lxb_char_t *data,
                                          const lxb_char_t *end);

LXB_API const lxb_char_t *
lxb_html_tokenizer_state_before_attribute_name(lxb_html_tokenizer_t *tkz,
                                               const lxb_char_t *data,
                                               const lxb_char_t *end);

LXB_API const lxb_char_t *
lxb_html_tokenizer_state_self_closing_start_tag(lxb_html_tokenizer_t *tkz,
                                                const lxb_char_t *data,
                                                const lxb_char_t *end);

LXB_API const lxb_char_t *
lxb_html_tokenizer_state_cr(lxb_html_tokenizer_t *tkz, const lxb_char_t *data,
                            const lxb_char_t *end);

LXB_API const lxb_char_t *
lxb_html_tokenizer_state_char_ref(lxb_html_tokenizer_t *tkz,
                                  const lxb_char_t *data, const lxb_char_t *end);

/* Header: source/lexbor/html/tokenizer/state_comment.h */

LXB_API const lxb_char_t *
lxb_html_tokenizer_state_comment_before_start(lxb_html_tokenizer_t *tkz,
                                              const lxb_char_t *data,
                                              const lxb_char_t *end);

/* Header: source/lexbor/html/tokenizer/state_doctype.h */

LXB_API const lxb_char_t *
lxb_html_tokenizer_state_doctype_before(lxb_html_tokenizer_t *tkz,
                                        const lxb_char_t *data,
                                        const lxb_char_t *end);

/* Header: source/lexbor/html/tokenizer/state_rawtext.h */

LXB_API const lxb_char_t *
lxb_html_tokenizer_state_rawtext_before(lxb_html_tokenizer_t *tkz,
                                        const lxb_char_t *data,
                                        const lxb_char_t *end);

/* Header: source/lexbor/html/tokenizer/state_rcdata.h */

LXB_API const lxb_char_t *
lxb_html_tokenizer_state_rcdata_before(lxb_html_tokenizer_t *tkz,
                                       const lxb_char_t *data,
                                       const lxb_char_t *end);

/* Header: source/lexbor/html/tokenizer/state_script.h */

LXB_API const lxb_char_t *
lxb_html_tokenizer_state_script_data_before(lxb_html_tokenizer_t *tkz,
                                            const lxb_char_t *data,
                                            const lxb_char_t *end);

/* Header: source/lexbor/html/tree/active_formatting.h */

lxb_html_element_t *
lxb_html_tree_active_formatting_marker(void);

void
lxb_html_tree_active_formatting_up_to_last_marker(lxb_html_tree_t *tree);

void
lxb_html_tree_active_formatting_remove_by_node(lxb_html_tree_t *tree,
                                               lxb_dom_node_t *node);

bool
lxb_html_tree_active_formatting_find_by_node(lxb_html_tree_t *tree,
                                             lxb_dom_node_t *node,
                                             size_t *return_pos);

bool
lxb_html_tree_active_formatting_find_by_node_reverse(lxb_html_tree_t *tree,
                                                     lxb_dom_node_t *node,
                                                     size_t *return_pos);

lxb_status_t
lxb_html_tree_active_formatting_reconstruct_elements(lxb_html_tree_t *tree);

lxb_dom_node_t *
lxb_html_tree_active_formatting_between_last_marker(lxb_html_tree_t *tree,
                                                    lxb_tag_id_t tag_idx,
                                                    size_t *return_idx);

void
lxb_html_tree_active_formatting_push_with_check_dupl(lxb_html_tree_t *tree,
                                                     lxb_dom_node_t *node);


/*
 * Inline functions
 */
lxb_inline lxb_dom_node_t *
lxb_html_tree_active_formatting_current_node(lxb_html_tree_t *tree)
{
    if (tree->active_formatting->length == 0) {
        return NULL;
    }

    return (lxb_dom_node_t *) tree->active_formatting->list
        [ (tree->active_formatting->length - 1) ];
}

lxb_inline lxb_dom_node_t *
lxb_html_tree_active_formatting_first(lxb_html_tree_t *tree)
{
    return (lxb_dom_node_t *) lexbor_array_get(tree->active_formatting, 0);
}

lxb_inline lxb_dom_node_t *
lxb_html_tree_active_formatting_get(lxb_html_tree_t *tree, size_t idx)
{
    return (lxb_dom_node_t *) lexbor_array_get(tree->active_formatting, idx);
}

lxb_inline lxb_status_t
lxb_html_tree_active_formatting_push(lxb_html_tree_t *tree,
                                     lxb_dom_node_t *node)
{
    return lexbor_array_push(tree->active_formatting, node);
}

lxb_inline lxb_dom_node_t *
lxb_html_tree_active_formatting_pop(lxb_html_tree_t *tree)
{
    return (lxb_dom_node_t *) lexbor_array_pop(tree->active_formatting);
}

lxb_inline lxb_status_t
lxb_html_tree_active_formatting_push_marker(lxb_html_tree_t *tree)
{
    return lexbor_array_push(tree->active_formatting,
                             lxb_html_tree_active_formatting_marker());
}

lxb_inline lxb_status_t
lxb_html_tree_active_formatting_insert(lxb_html_tree_t *tree,
                                       lxb_dom_node_t *node, size_t idx)
{
    return lexbor_array_insert(tree->active_formatting, idx, node);
}

lxb_inline void
lxb_html_tree_active_formatting_remove(lxb_html_tree_t *tree, size_t idx)
{
    lexbor_array_delete(tree->active_formatting, idx, 1);
}

/* Header: source/lexbor/html/tree/insertion_mode.h */

LXB_API bool
lxb_html_tree_insertion_mode_initial(lxb_html_tree_t *tree,
                                     lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_before_html(lxb_html_tree_t *tree,
                                         lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_before_head(lxb_html_tree_t *tree,
                                         lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_head(lxb_html_tree_t *tree,
                                     lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_head_noscript(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_after_head(lxb_html_tree_t *tree,
                                        lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_body(lxb_html_tree_t *tree,
                                     lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_body_skip_new_line(lxb_html_tree_t *tree,
                                                   lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_body_skip_new_line_textarea(lxb_html_tree_t *tree,
                                                            lxb_html_token_t *token);

LXB_API lxb_status_t
lxb_html_tree_insertion_mode_in_body_text_append(lxb_html_tree_t *tree,
                                                 lexbor_str_t *str);

LXB_API bool
lxb_html_tree_insertion_mode_text(lxb_html_tree_t *tree,
                                  lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_table(lxb_html_tree_t *tree,
                                      lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_table_anything_else(lxb_html_tree_t *tree,
                                                    lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_table_text(lxb_html_tree_t *tree,
                                           lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_caption(lxb_html_tree_t *tree,
                                        lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_column_group(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_table_body(lxb_html_tree_t *tree,
                                           lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_row(lxb_html_tree_t *tree,
                                    lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_cell(lxb_html_tree_t *tree,
                                     lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_template(lxb_html_tree_t *tree,
                                         lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_after_body(lxb_html_tree_t *tree,
                                        lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_in_frameset(lxb_html_tree_t *tree,
                                         lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_after_frameset(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_after_after_body(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_after_after_frameset(lxb_html_tree_t *tree,
                                                  lxb_html_token_t *token);

LXB_API bool
lxb_html_tree_insertion_mode_foreign_content(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token);

/* Header: source/lexbor/html/tree/open_elements.h */

LXB_API void
lxb_html_tree_open_elements_remove_by_node(lxb_html_tree_t *tree,
                                           lxb_dom_node_t *node);

void
lxb_html_tree_open_elements_pop_until_tag_id(lxb_html_tree_t *tree,
                                             lxb_tag_id_t tag_id,
                                             lxb_ns_id_t ns,
                                             bool exclude);

void
lxb_html_tree_open_elements_pop_until_h123456(lxb_html_tree_t *tree);

void
lxb_html_tree_open_elements_pop_until_td_th(lxb_html_tree_t *tree);

void
lxb_html_tree_open_elements_pop_until_node(lxb_html_tree_t *tree,
                                           lxb_dom_node_t *node,
                                           bool exclude);

void
lxb_html_tree_open_elements_pop_until(lxb_html_tree_t *tree, size_t idx,
                                      bool exclude);

bool
lxb_html_tree_open_elements_find_by_node(lxb_html_tree_t *tree,
                                         lxb_dom_node_t *node,
                                         size_t *return_pos);

bool
lxb_html_tree_open_elements_find_by_node_reverse(lxb_html_tree_t *tree,
                                                 lxb_dom_node_t *node,
                                                 size_t *return_pos);

lxb_dom_node_t *
lxb_html_tree_open_elements_find(lxb_html_tree_t *tree,
                                 lxb_tag_id_t tag_id, lxb_ns_id_t ns,
                                 size_t *return_index);

lxb_dom_node_t *
lxb_html_tree_open_elements_find_reverse(lxb_html_tree_t *tree,
                                         lxb_tag_id_t tag_id, lxb_ns_id_t ns,
                                         size_t *return_index);


/*
 * Inline functions
 */
lxb_inline lxb_dom_node_t *
lxb_html_tree_open_elements_first(lxb_html_tree_t *tree)
{
    return (lxb_dom_node_t *) lexbor_array_get(tree->open_elements, 0);
}

lxb_inline lxb_dom_node_t *
lxb_html_tree_open_elements_get(lxb_html_tree_t *tree, size_t idx)
{
    return (lxb_dom_node_t *) lexbor_array_get(tree->open_elements, idx);
}

lxb_inline lxb_status_t
lxb_html_tree_open_elements_push(lxb_html_tree_t *tree, lxb_dom_node_t *node)
{
    return lexbor_array_push(tree->open_elements, node);
}

lxb_inline lxb_dom_node_t *
lxb_html_tree_open_elements_pop(lxb_html_tree_t *tree)
{
    return (lxb_dom_node_t *) lexbor_array_pop(tree->open_elements);
}

lxb_inline lxb_status_t
lxb_html_tree_open_elements_insert_after(lxb_html_tree_t *tree, lxb_dom_node_t *node,
                                    size_t idx)
{
    return lexbor_array_insert(tree->open_elements, (idx + 1), node);
}

/* Header: source/lexbor/html/tree/template_insertion.h */

typedef struct {
    lxb_html_tree_insertion_mode_f mode;
}
lxb_html_tree_template_insertion_t;


/*
 * Inline functions
 */
lxb_inline lxb_html_tree_insertion_mode_f
lxb_html_tree_template_insertion_current(lxb_html_tree_t *tree)
{
    if (lexbor_array_obj_length(tree->template_insertion_modes) == 0) {
        return NULL;
    }

    lxb_html_tree_template_insertion_t *tmp_ins;

    tmp_ins = (lxb_html_tree_template_insertion_t *)
              lexbor_array_obj_last(tree->template_insertion_modes);

    return tmp_ins->mode;
}

lxb_inline lxb_html_tree_insertion_mode_f
lxb_html_tree_template_insertion_get(lxb_html_tree_t *tree, size_t idx)
{
    lxb_html_tree_template_insertion_t *tmp_ins;

    tmp_ins = (lxb_html_tree_template_insertion_t *)
              lexbor_array_obj_get(tree->template_insertion_modes, idx);
    if (tmp_ins == NULL) {
        return NULL;
    }

    return tmp_ins->mode;
}

lxb_inline lxb_html_tree_insertion_mode_f
lxb_html_tree_template_insertion_first(lxb_html_tree_t *tree)
{
    return lxb_html_tree_template_insertion_get(tree, 0);
}

lxb_inline lxb_status_t
lxb_html_tree_template_insertion_push(lxb_html_tree_t *tree,
                                      lxb_html_tree_insertion_mode_f mode)
{
    lxb_html_tree_template_insertion_t *tmp_ins;

    tmp_ins = (lxb_html_tree_template_insertion_t *)
              lexbor_array_obj_push(tree->template_insertion_modes);
    if (tmp_ins == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    tmp_ins->mode = mode;

    return LXB_STATUS_OK;
}

lxb_inline lxb_html_tree_insertion_mode_f
lxb_html_tree_template_insertion_pop(lxb_html_tree_t *tree)
{
    lxb_html_tree_template_insertion_t *tmp_ins;

    tmp_ins = (lxb_html_tree_template_insertion_t *)
              lexbor_array_obj_pop(tree->template_insertion_modes);
    if (tmp_ins == NULL) {
        return NULL;
    }

    return tmp_ins->mode;
}

/* Header: source/lexbor/selectors/base.h */

#define LXB_SELECTORS_VERSION_MAJOR 0
#define LXB_SELECTORS_VERSION_MINOR 5
#define LXB_SELECTORS_VERSION_PATCH 0

#define LXB_SELECTORS_VERSION_STRING LEXBOR_STRINGIZE(LXB_SELECTORS_VERSION_MAJOR) "."   \
                                     LEXBOR_STRINGIZE(LXB_SELECTORS_VERSION_MINOR) "."   \
                                     LEXBOR_STRINGIZE(LXB_SELECTORS_VERSION_PATCH)

/* Header: source/lexbor/selectors/selectors.h */

typedef enum {
    LXB_SELECTORS_OPT_DEFAULT = 0x00,

    /*
     * Includes the passed (root) node in the search.
     *
     * By default, the root node does not participate in selector searches,
     * only its children.
     *
     * This behavior is logical, if you have found a node and then you want to
     * search for other nodes in it, you don't need to check it again.
     *
     * But there are cases when it is necessary for root node to participate
     * in the search.  That's what this option is for.
     */
    LXB_SELECTORS_OPT_MATCH_ROOT = 1 << 1,

    /*
     * Stop searching after the first match with any of the selectors
     * in the list.
     *
     * By default, the callback will be triggered for each selector list.
     * That is, if your node matches different selector lists, it will be
     * returned multiple times in the callback.
     *
     * For example:
     *    HTML: <div id="ok"><span>test</span></div>
     *    Selectors: div, div[id="ok"], div:has(:not(a))
     *
     * The default behavior will cause three callbacks with the same node (div).
     * Because it will be found by every selector in the list.
     *
     * This option allows you to end the element check after the first match on
     * any of the selectors.  That is, the callback will be called only once
     * for example above.  This way we get rid of duplicates in the search.
     */
    LXB_SELECTORS_OPT_MATCH_FIRST = 1 << 2
}
lxb_selectors_opt_t;

typedef struct lxb_selectors lxb_selectors_t;
typedef struct lxb_selectors_entry lxb_selectors_entry_t;
typedef struct lxb_selectors_nested lxb_selectors_nested_t;

typedef lxb_status_t
(*lxb_selectors_cb_f)(lxb_dom_node_t *node,
                      lxb_css_selector_specificity_t spec, void *ctx);

typedef lxb_selectors_entry_t *
(*lxb_selectors_state_cb_f)(lxb_selectors_t *selectors,
                            lxb_selectors_entry_t *entry);

struct lxb_selectors_entry {
    uintptr_t                     id;
    lxb_css_selector_combinator_t combinator;
    const lxb_css_selector_t      *selector;
    lxb_dom_node_t                *node;
    lxb_selectors_entry_t         *next;
    lxb_selectors_entry_t         *prev;
    lxb_selectors_entry_t         *following;
    lxb_selectors_nested_t        *nested;
};

struct lxb_selectors_nested {
    lxb_selectors_entry_t    *entry;
    lxb_selectors_state_cb_f return_state;

    lxb_selectors_cb_f       cb;
    void                     *ctx;

    lxb_dom_node_t           *root;
    lxb_selectors_nested_t   *parent;
    lxb_selectors_entry_t    *first;
    lxb_selectors_entry_t    *top;

    size_t                   index;

    bool                     forward;
};

struct lxb_selectors {
    lxb_selectors_state_cb_f state;
    lexbor_dobject_t         *objs;
    lexbor_dobject_t         *nested;

    lxb_selectors_nested_t   *current;

    lxb_selectors_opt_t      options;
    lxb_status_t             status;
};


/*
 * Create lxb_selectors_t object.
 *
 * @return lxb_selectors_t * if successful, otherwise NULL.
 */
LXB_API lxb_selectors_t *
lxb_selectors_create(void);

/*
 * Initialization of lxb_selectors_t object.
 *
 * Caches are initialized in this function.
 *
 * @param[in] lxb_selectors_t *
 *
 * @return LXB_STATUS_OK if successful, otherwise an error status value.
 */
LXB_API lxb_status_t
lxb_selectors_init(lxb_selectors_t *selectors);

/*
 * Clears the object. Returns object to states as after initialization.
 *
 * After each call to lxb_selectors_find() and lxb_selectors_find_for_node(),
 * the lxb_selectors_t object is cleared. That is, you don't need to call this
 * function every time after searching by a selector.
 *
 * @param[in] lxb_url_parser_t *
 */
LXB_API void
lxb_selectors_clean(lxb_selectors_t *selectors);

/*
 * Destroy lxb_selectors_t object.
 *
 * Destroying all caches.
 *
 * @param[in] lxb_selectors_t *. Can be NULL.
 * @param[in] if false: only destroys internal caches.
 * if true: destroys the lxb_selectors_t object and all internal caches.
 *
 * @return lxb_selectors_t * if self_destroy = false, otherwise NULL.
 */
LXB_API lxb_selectors_t *
lxb_selectors_destroy(lxb_selectors_t *selectors, bool self_destroy);

/*
 * Search for nodes by selector list.
 *
 * Default Behavior:
 *    1. The root node does not participate in the search, only its child nodes.
 *    2. If a node matches multiple selector lists, a callback with that node
 *       will be called on each list.
 *       For example:
 *           HTML: <div id="ok"><span></span></div>
 *           Selectors: div, div[id="ok"], div:has(:not(a))
 *       For each selector list, a callback with a "div" node will be called.
 *
 * To change the search behavior, see lxb_selectors_opt_set().
 *
 * @param[in] lxb_selectors_t *.
 * @param[in] lxb_dom_node_t *.  The node from which the search will begin.
 * @param[in] const lxb_css_selector_list_t *.  Selectors List.
 * @param[in] lxb_selectors_cb_f.  Callback for a found node.
 * @param[in] void *.  Context for the callback.
 * if true: destroys the lxb_selectors_t object and all internal caches.
 *
 * @return LXB_STATUS_OK if successful, otherwise an error status value.
 */
LXB_API lxb_status_t
lxb_selectors_find(lxb_selectors_t *selectors, lxb_dom_node_t *root,
                   const lxb_css_selector_list_t *list,
                   lxb_selectors_cb_f cb, void *ctx);

/*
 * Match a node to a Selectors List.
 *
 * In other words, the function checks which selector lists will find the
 * specified node.
 *
 * Default Behavior:
 *    1. If a node matches multiple selector lists, a callback with that node
 *       will be called on each list.
 *       For example:
 *           HTML: <div id="ok"><span></span></div>
 *           Node: div
 *           Selectors: div, div[id="ok"], div:has(:not(a))
 *       For each selector list, a callback with a "div" node will be called.
 *
 * To change the search behavior, see lxb_selectors_opt_set().
 *
 * @param[in] lxb_selectors_t *.
 * @param[in] lxb_dom_node_t *.  The node from which the search will begin.
 * @param[in] const lxb_css_selector_list_t *.  Selectors List.
 * @param[in] lxb_selectors_cb_f.  Callback for a found node.
 * @param[in] void *.  Context for the callback.
 * if true: destroys the lxb_selectors_t object and all internal caches.
 *
 * @return LXB_STATUS_OK if successful, otherwise an error status value.
 */
LXB_API lxb_status_t
lxb_selectors_match_node(lxb_selectors_t *selectors, lxb_dom_node_t *node,
                         const lxb_css_selector_list_t *list,
                         lxb_selectors_cb_f cb, void *ctx);

/*
 * Deprecated!
 * This function does exactly the same thing as lxb_selectors_match_node().
 */
LXB_API LXB_DEPRECATED(lxb_status_t
lxb_selectors_find_reverse(lxb_selectors_t *selectors, lxb_dom_node_t *root,
                           const lxb_css_selector_list_t *list,
                           lxb_selectors_cb_f cb, void *ctx));

/*
 * Inline functions.
 */

/*
 * The function sets the node search options.
 *
 * For more information, see lxb_selectors_opt_t.
 *
 * @param[in] lxb_selectors_t *.
 * @param[in] lxb_selectors_opt_t.
 */
lxb_inline void
lxb_selectors_opt_set(lxb_selectors_t *selectors, lxb_selectors_opt_t opt)
{
    selectors->options = opt;
}

/*
 * Get the current selector.
 *
 * Function to get the selector by which the node was found.
 * Use context (void *ctx) to pass the lxb_selectors_t object to the callback.
 *
 * @param[in] const lxb_selectors_t *.
 *
 * @return const lxb_css_selector_list_t *.
 */
lxb_inline const lxb_css_selector_list_t *
lxb_selectors_selector(const lxb_selectors_t *selectors)
{
    return selectors->current->entry->selector->list;
}

/*
 * Not inline for inline.
 */

/*
 * Same as lxb_selectors_opt_set() function, but not inline.
 */
LXB_API void
lxb_selectors_opt_set_noi(lxb_selectors_t *selectors, lxb_selectors_opt_t opt);

/*
 * Same as lxb_selectors_selector() function, but not inline.
 */
LXB_API const lxb_css_selector_list_t *
lxb_selectors_selector_noi(const lxb_selectors_t *selectors);

/*
 * Resources:
 */
/* Resource: core/str_res.h */

LXB_API const lxb_char_t
lexbor_str_res_ansi_replacement_character[4] = "\xEF\xBF\xBD";

LXB_API const lxb_char_t
lexbor_str_res_map_num[256] =
{
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0x00, 0x01, 0x02, 0x03, 0x04, 0x05,
    0x06, 0x07, 0x08, 0x09, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff
};

LXB_API const lxb_char_t
lexbor_str_res_map_hex[256] =
{
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0x00, 0x01, 0x02, 0x03, 0x04, 0x05,
    0x06, 0x07, 0x08, 0x09, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0a, 0x0b,
    0x0c, 0x0d, 0x0e, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff
};

LXB_API const lxb_char_t
lexbor_str_res_map_lowercase[256] =
{
    0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08,
    0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x10, 0x11,
    0x12, 0x13, 0x14, 0x15, 0x16, 0x17, 0x18, 0x19, 0x1a,
    0x1b, 0x1c, 0x1d, 0x1e, 0x1f, 0x20, 0x21, 0x22, 0x23,
    0x24, 0x25, 0x26, 0x27, 0x28, 0x29, 0x2a, 0x2b, 0x2c,
    0x2d, 0x2e, 0x2f, 0x30, 0x31, 0x32, 0x33, 0x34, 0x35,
    0x36, 0x37, 0x38, 0x39, 0x3a, 0x3b, 0x3c, 0x3d, 0x3e,
    0x3f, 0x40, 0x61, 0x62, 0x63, 0x64, 0x65, 0x66, 0x67,
    0x68, 0x69, 0x6a, 0x6b, 0x6c, 0x6d, 0x6e, 0x6f, 0x70,
    0x71, 0x72, 0x73, 0x74, 0x75, 0x76, 0x77, 0x78, 0x79,
    0x7a, 0x5b, 0x5c, 0x5d, 0x5e, 0x5f, 0x60, 0x61, 0x62,
    0x63, 0x64, 0x65, 0x66, 0x67, 0x68, 0x69, 0x6a, 0x6b,
    0x6c, 0x6d, 0x6e, 0x6f, 0x70, 0x71, 0x72, 0x73, 0x74,
    0x75, 0x76, 0x77, 0x78, 0x79, 0x7a, 0x7b, 0x7c, 0x7d,
    0x7e, 0x7f, 0x80, 0x81, 0x82, 0x83, 0x84, 0x85, 0x86,
    0x87, 0x88, 0x89, 0x8a, 0x8b, 0x8c, 0x8d, 0x8e, 0x8f,
    0x90, 0x91, 0x92, 0x93, 0x94, 0x95, 0x96, 0x97, 0x98,
    0x99, 0x9a, 0x9b, 0x9c, 0x9d, 0x9e, 0x9f, 0xa0, 0xa1,
    0xa2, 0xa3, 0xa4, 0xa5, 0xa6, 0xa7, 0xa8, 0xa9, 0xaa,
    0xab, 0xac, 0xad, 0xae, 0xaf, 0xb0, 0xb1, 0xb2, 0xb3,
    0xb4, 0xb5, 0xb6, 0xb7, 0xb8, 0xb9, 0xba, 0xbb, 0xbc,
    0xbd, 0xbe, 0xbf, 0xc0, 0xc1, 0xc2, 0xc3, 0xc4, 0xc5,
    0xc6, 0xc7, 0xc8, 0xc9, 0xca, 0xcb, 0xcc, 0xcd, 0xce,
    0xcf, 0xd0, 0xd1, 0xd2, 0xd3, 0xd4, 0xd5, 0xd6, 0xd7,
    0xd8, 0xd9, 0xda, 0xdb, 0xdc, 0xdd, 0xde, 0xdf, 0xe0,
    0xe1, 0xe2, 0xe3, 0xe4, 0xe5, 0xe6, 0xe7, 0xe8, 0xe9,
    0xea, 0xeb, 0xec, 0xed, 0xee, 0xef, 0xf0, 0xf1, 0xf2,
    0xf3, 0xf4, 0xf5, 0xf6, 0xf7, 0xf8, 0xf9, 0xfa, 0xfb,
    0xfc, 0xfd, 0xfe, 0xff
};

LXB_API const lxb_char_t
lexbor_str_res_map_uppercase[256] =
{
    0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08,
    0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x10, 0x11,
    0x12, 0x13, 0x14, 0x15, 0x16, 0x17, 0x18, 0x19, 0x1a,
    0x1b, 0x1c, 0x1d, 0x1e, 0x1f, 0x20, 0x21, 0x22, 0x23,
    0x24, 0x25, 0x26, 0x27, 0x28, 0x29, 0x2a, 0x2b, 0x2c,
    0x2d, 0x2e, 0x2f, 0x30, 0x31, 0x32, 0x33, 0x34, 0x35,
    0x36, 0x37, 0x38, 0x39, 0x3a, 0x3b, 0x3c, 0x3d, 0x3e,
    0x3f, 0x40, 0x41, 0x42, 0x43, 0x44, 0x45, 0x46, 0x47,
    0x48, 0x49, 0x4a, 0x4b, 0x4c, 0x4d, 0x4e, 0x4f, 0x50,
    0x51, 0x52, 0x53, 0x54, 0x55, 0x56, 0x57, 0x58, 0x59,
    0x5a, 0x5b, 0x5c, 0x5d, 0x5e, 0x5f, 0x60, 0x41, 0x42,
    0x43, 0x44, 0x45, 0x46, 0x47, 0x48, 0x49, 0x4a, 0x4b,
    0x4c, 0x4d, 0x4e, 0x4f, 0x50, 0x51, 0x52, 0x53, 0x54,
    0x55, 0x56, 0x57, 0x58, 0x59, 0x5a, 0x7b, 0x7c, 0x7d,
    0x7e, 0x7f, 0x80, 0x81, 0x82, 0x83, 0x84, 0x85, 0x86,
    0x87, 0x88, 0x89, 0x8a, 0x8b, 0x8c, 0x8d, 0x8e, 0x8f,
    0x90, 0x91, 0x92, 0x93, 0x94, 0x95, 0x96, 0x97, 0x98,
    0x99, 0x9a, 0x9b, 0x9c, 0x9d, 0x9e, 0x9f, 0xa0, 0xa1,
    0xa2, 0xa3, 0xa4, 0xa5, 0xa6, 0xa7, 0xa8, 0xa9, 0xaa,
    0xab, 0xac, 0xad, 0xae, 0xaf, 0xb0, 0xb1, 0xb2, 0xb3,
    0xb4, 0xb5, 0xb6, 0xb7, 0xb8, 0xb9, 0xba, 0xbb, 0xbc,
    0xbd, 0xbe, 0xbf, 0xc0, 0xc1, 0xc2, 0xc3, 0xc4, 0xc5,
    0xc6, 0xc7, 0xc8, 0xc9, 0xca, 0xcb, 0xcc, 0xcd, 0xce,
    0xcf, 0xd0, 0xd1, 0xd2, 0xd3, 0xd4, 0xd5, 0xd6, 0xd7,
    0xd8, 0xd9, 0xda, 0xdb, 0xdc, 0xdd, 0xde, 0xdf, 0xe0,
    0xe1, 0xe2, 0xe3, 0xe4, 0xe5, 0xe6, 0xe7, 0xe8, 0xe9,
    0xea, 0xeb, 0xec, 0xed, 0xee, 0xef, 0xf0, 0xf1, 0xf2,
    0xf3, 0xf4, 0xf5, 0xf6, 0xf7, 0xf8, 0xf9, 0xfa, 0xfb,
    0xfc, 0xfd, 0xfe, 0xff
};

LXB_API const size_t
lexbor_str_res_replacement_character[160] =
{
    65533, 1, 2, 3, 4, 5, 6, 7, 8,
    9, 10, 11, 12, 13, 14, 15, 16, 17,
    18, 19, 20, 21, 22, 23, 24, 25, 26,
    27, 28, 29, 30, 31, 32, 33, 34, 35,
    36, 37, 38, 39, 40, 41, 42, 43, 44,
    45, 46, 47, 48, 49, 50, 51, 52, 53,
    54, 55, 56, 57, 58, 59, 60, 61, 62,
    63, 64, 65, 66, 67, 68, 69, 70, 71,
    72, 73, 74, 75, 76, 77, 78, 79, 80,
    81, 82, 83, 84, 85, 86, 87, 88, 89,
    90, 91, 92, 93, 94, 95, 96, 97, 98,
    99, 100, 101, 102, 103, 104, 105, 106, 107,
    108, 109, 110, 111, 112, 113, 114, 115, 116,
    117, 118, 119, 120, 121, 122, 123, 124, 125,
    126, 127, 8364, 129, 8218, 402, 8222, 8230, 8224,
    8225, 710, 8240, 352, 8249, 338, 141, 381, 143,
    144, 8216, 8217, 8220, 8221, 8226, 8211, 8212, 732,
    8482, 353, 8250, 339, 157, 382, 376
};

LXB_API const size_t
lexbor_str_res_alphanumeric_character[256] =
{
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0x00, 0x01, 0x02, 0x03, 0x04, 0x05,
    0x06, 0x07, 0x08, 0x09, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x0a,
    0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x0a, 0x0b, 0x0c, 0x0d,
    0x0e, 0x0f, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x0a,
    0x0b, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0c, 0x0d,
    0x0e, 0x0f, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x0a,
    0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x0a, 0x0b, 0x0c, 0x0d,
    0x0e, 0x0f, 0x0a, 0x0b, 0x0c, 0x0d, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff
};

LXB_API const size_t
lexbor_str_res_alpha_character[256] =
{
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x0a,
    0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x0a, 0x0b, 0x0c, 0x0d,
    0x0e, 0x0f, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x0a,
    0x0b, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0c, 0x0d,
    0x0e, 0x0f, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x0a,
    0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x0a, 0x0b, 0x0c, 0x0d,
    0x0e, 0x0f, 0x0a, 0x0b, 0x0c, 0x0d, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff
};

LXB_API const unsigned char
lexbor_tokenizer_chars_map[256] =
{
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0x02, 0x02, 0xff, 0x02, 0x02, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0x02, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff
};

LXB_API const lxb_char_t
lexbor_str_res_map_hex_to_char[17] =
{
    0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38,
    0x39, 0x41, 0x42, 0x43, 0x44, 0x45, 0x46, 0x00
};

LXB_API const lxb_char_t
lexbor_str_res_map_hex_to_char_lowercase[17] =
{
    0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38,
    0x39, 0x61, 0x62, 0x63, 0x64, 0x65, 0x66, 0x00
};

LXB_API const char *
lexbor_str_res_char_to_two_hex_value[257] =
{
    "00", "01", "02", "03", "04", "05", "06", "07",
    "08", "09", "0A", "0B", "0C", "0D", "0E", "0F",
    "10", "11", "12", "13", "14", "15", "16", "17",
    "18", "19", "1A", "1B", "1C", "1D", "1E", "1F",
    "20", "21", "22", "23", "24", "25", "26", "27",
    "28", "29", "2A", "2B", "2C", "2D", "2E", "2F",
    "30", "31", "32", "33", "34", "35", "36", "37",
    "38", "39", "3A", "3B", "3C", "3D", "3E", "3F",
    "40", "41", "42", "43", "44", "45", "46", "47",
    "48", "49", "4A", "4B", "4C", "4D", "4E", "4F",
    "50", "51", "52", "53", "54", "55", "56", "57",
    "58", "59", "5A", "5B", "5C", "5D", "5E", "5F",
    "60", "61", "62", "63", "64", "65", "66", "67",
    "68", "69", "6A", "6B", "6C", "6D", "6E", "6F",
    "70", "71", "72", "73", "74", "75", "76", "77",
    "78", "79", "7A", "7B", "7C", "7D", "7E", "7F",
    "80", "81", "82", "83", "84", "85", "86", "87",
    "88", "89", "8A", "8B", "8C", "8D", "8E", "8F",
    "90", "91", "92", "93", "94", "95", "96", "97",
    "98", "99", "9A", "9B", "9C", "9D", "9E", "9F",
    "A0", "A1", "A2", "A3", "A4", "A5", "A6", "A7",
    "A8", "A9", "AA", "AB", "AC", "AD", "AE", "AF",
    "B0", "B1", "B2", "B3", "B4", "B5", "B6", "B7",
    "B8", "B9", "BA", "BB", "BC", "BD", "BE", "BF",
    "C0", "C1", "C2", "C3", "C4", "C5", "C6", "C7",
    "C8", "C9", "CA", "CB", "CC", "CD", "CE", "CF",
    "D0", "D1", "D2", "D3", "D4", "D5", "D6", "D7",
    "D8", "D9", "DA", "DB", "DC", "DD", "DE", "DF",
    "E0", "E1", "E2", "E3", "E4", "E5", "E6", "E7",
    "E8", "E9", "EA", "EB", "EC", "ED", "EE", "EF",
    "F0", "F1", "F2", "F3", "F4", "F5", "F6", "F7",
    "F8", "F9", "FA", "FB", "FC", "FD", "FE", "FF",
    NULL
};

LXB_API const char *
lexbor_str_res_char_to_two_hex_value_lowercase[257] =
{
    "00", "01", "02", "03", "04", "05", "06", "07",
    "08", "09", "0a", "0b", "0c", "0d", "0e", "0f",
    "10", "11", "12", "13", "14", "15", "16", "17",
    "18", "19", "1a", "1b", "1c", "1d", "1e", "1f",
    "20", "21", "22", "23", "24", "25", "26", "27",
    "28", "29", "2a", "2b", "2c", "2d", "2e", "2f",
    "30", "31", "32", "33", "34", "35", "36", "37",
    "38", "39", "3a", "3b", "3c", "3d", "3e", "3f",
    "40", "41", "42", "43", "44", "45", "46", "47",
    "48", "49", "4a", "4b", "4c", "4d", "4e", "4f",
    "50", "51", "52", "53", "54", "55", "56", "57",
    "58", "59", "5a", "5b", "5c", "5d", "5e", "5f",
    "60", "61", "62", "63", "64", "65", "66", "67",
    "68", "69", "6a", "6b", "6c", "6d", "6e", "6f",
    "70", "71", "72", "73", "74", "75", "76", "77",
    "78", "79", "7a", "7b", "7c", "7d", "7e", "7f",
    "80", "81", "82", "83", "84", "85", "86", "87",
    "88", "89", "8a", "8b", "8c", "8d", "8e", "8f",
    "90", "91", "92", "93", "94", "95", "96", "97",
    "98", "99", "9a", "9b", "9c", "9d", "9e", "9f",
    "a0", "a1", "a2", "a3", "a4", "a5", "a6", "a7",
    "a8", "a9", "aa", "ab", "ac", "ad", "ae", "af",
    "b0", "b1", "b2", "b3", "b4", "b5", "b6", "b7",
    "b8", "b9", "ba", "bb", "bc", "bd", "be", "bf",
    "c0", "c1", "c2", "c3", "c4", "c5", "c6", "c7",
    "c8", "c9", "ca", "cb", "cc", "cd", "ce", "cf",
    "d0", "d1", "d2", "d3", "d4", "d5", "d6", "d7",
    "d8", "d9", "da", "db", "dc", "dd", "de", "df",
    "e0", "e1", "e2", "e3", "e4", "e5", "e6", "e7",
    "e8", "e9", "ea", "eb", "ec", "ed", "ee", "ef",
    "f0", "f1", "f2", "f3", "f4", "f5", "f6", "f7",
    "f8", "f9", "fa", "fb", "fc", "fd", "fe", "ff",
    NULL
};

/* Resource: css/at_rule/res.h */

#ifndef LXB_CSS_AT_RULE_RES_H
#define LXB_CSS_AT_RULE_RES_H


static const lxb_css_entry_at_rule_data_t lxb_css_at_rule_data[LXB_CSS_AT_RULE__LAST_ENTRY] =
{
    {(lxb_char_t *) "#undef", 6, LXB_CSS_AT_RULE__UNDEF, &lxb_css_at_rule__undef_cb,
     lxb_css_at_rule__undef_create, lxb_css_at_rule__undef_destroy, lxb_css_at_rule__undef_serialize, (void *) (uintptr_t) LXB_CSS_AT_RULE__UNDEF},
    {(lxb_char_t *) "#ustom", 7, LXB_CSS_AT_RULE__CUSTOM, &lxb_css_at_rule__custom_cb,
     lxb_css_at_rule__custom_create, lxb_css_at_rule__custom_destroy, lxb_css_at_rule__custom_serialize, (void *) (uintptr_t) LXB_CSS_AT_RULE__CUSTOM},
    {(lxb_char_t *) "font-face", 9, LXB_CSS_AT_RULE_FONT_FACE, &lxb_css_at_rule_font_face_cb,
     lxb_css_at_rule_font_face_create, lxb_css_at_rule_font_face_destroy, lxb_css_at_rule_font_face_serialize,
     NULL},
    {(lxb_char_t *) "media", 5, LXB_CSS_AT_RULE_MEDIA, &lxb_css_at_rule_media_cb,
     lxb_css_at_rule_media_create, lxb_css_at_rule_media_destroy, lxb_css_at_rule_media_serialize,
     NULL},
    {(lxb_char_t *) "namespace", 9, LXB_CSS_AT_RULE_NAMESPACE, &lxb_css_at_rule_namespace_cb,
     lxb_css_at_rule_namespace_create, lxb_css_at_rule_namespace_destroy, lxb_css_at_rule_namespace_serialize,
     NULL}
};

static const lexbor_shs_entry_t lxb_css_at_rule_shs[6] =
{
    {NULL, NULL, 5, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"media", (void *) &lxb_css_at_rule_data[LXB_CSS_AT_RULE_MEDIA], 5, 0},
    {"font-face", (void *) &lxb_css_at_rule_data[LXB_CSS_AT_RULE_FONT_FACE], 9, 0},
    {"namespace", (void *) &lxb_css_at_rule_data[LXB_CSS_AT_RULE_NAMESPACE], 9, 0}
};


#endif /* LXB_CSS_AT_RULE_RES_H */

/* Resource: css/property/res.h */

#ifndef LXB_CSS_PROPERTY_RES_H
#define LXB_CSS_PROPERTY_RES_H


static const lxb_css_entry_data_t lxb_css_property_data[LXB_CSS_PROPERTY__LAST_ENTRY] =
{
    {(lxb_char_t *) "#undef", 6, LXB_CSS_PROPERTY__UNDEF, lxb_css_property_state__undef,
     lxb_css_property__undef_create, lxb_css_property__undef_destroy, lxb_css_property__undef_serialize, (void *) (uintptr_t) LXB_CSS_PROPERTY__UNDEF},
    {(lxb_char_t *) "#ustom", 7, LXB_CSS_PROPERTY__CUSTOM, lxb_css_property_state__custom,
     lxb_css_property__custom_create, lxb_css_property__custom_destroy, lxb_css_property__custom_serialize, (void *) (uintptr_t) LXB_CSS_PROPERTY__CUSTOM},
    {(lxb_char_t *) "align-content", 13, LXB_CSS_PROPERTY_ALIGN_CONTENT, lxb_css_property_state_align_content,
     lxb_css_property_align_content_create, lxb_css_property_align_content_destroy, lxb_css_property_align_content_serialize,
     &(lxb_css_property_align_content_t) {.type = LXB_CSS_ALIGN_CONTENT_STRETCH}},
    {(lxb_char_t *) "align-items", 11, LXB_CSS_PROPERTY_ALIGN_ITEMS, lxb_css_property_state_align_items,
     lxb_css_property_align_items_create, lxb_css_property_align_items_destroy, lxb_css_property_align_items_serialize,
     &(lxb_css_property_align_items_t) {.type = LXB_CSS_ALIGN_ITEMS_STRETCH}},
    {(lxb_char_t *) "align-self", 10, LXB_CSS_PROPERTY_ALIGN_SELF, lxb_css_property_state_align_self,
     lxb_css_property_align_self_create, lxb_css_property_align_self_destroy, lxb_css_property_align_self_serialize,
     &(lxb_css_property_align_self_t) {.type = LXB_CSS_ALIGN_SELF_AUTO}},
    {(lxb_char_t *) "alignment-baseline", 18, LXB_CSS_PROPERTY_ALIGNMENT_BASELINE, lxb_css_property_state_alignment_baseline,
     lxb_css_property_alignment_baseline_create, lxb_css_property_alignment_baseline_destroy, lxb_css_property_alignment_baseline_serialize,
     &(lxb_css_property_alignment_baseline_t) {.type = LXB_CSS_ALIGNMENT_BASELINE_BASELINE}},
    {(lxb_char_t *) "background-color", 16, LXB_CSS_PROPERTY_BACKGROUND_COLOR, lxb_css_property_state_background_color,
     lxb_css_property_background_color_create, lxb_css_property_background_color_destroy, lxb_css_property_background_color_serialize,
     &(lxb_css_property_background_color_t) {.type = LXB_CSS_COLOR_TRANSPARENT}},
    {(lxb_char_t *) "baseline-shift", 14, LXB_CSS_PROPERTY_BASELINE_SHIFT, lxb_css_property_state_baseline_shift,
     lxb_css_property_baseline_shift_create, lxb_css_property_baseline_shift_destroy, lxb_css_property_baseline_shift_serialize,
     &(lxb_css_property_baseline_shift_t) {.type = LXB_CSS_VALUE__NUMBER, .u = {.length = {.num = 0, .is_float = false, .unit = LXB_CSS_UNIT__UNDEF}}}},
    {(lxb_char_t *) "baseline-source", 15, LXB_CSS_PROPERTY_BASELINE_SOURCE, lxb_css_property_state_baseline_source,
     lxb_css_property_baseline_source_create, lxb_css_property_baseline_source_destroy, lxb_css_property_baseline_source_serialize,
     &(lxb_css_property_baseline_source_t) {.type = LXB_CSS_BASELINE_SOURCE_AUTO}},
    {(lxb_char_t *) "border", 6, LXB_CSS_PROPERTY_BORDER, lxb_css_property_state_border,
     lxb_css_property_border_create, lxb_css_property_border_destroy, lxb_css_property_border_serialize,
     &(lxb_css_property_border_t) {.style = LXB_CSS_BORDER_NONE, .width = {.type = LXB_CSS_BORDER_MEDIUM}, .color = {.type = LXB_CSS_COLOR_CURRENTCOLOR}}},
    {(lxb_char_t *) "border-bottom", 13, LXB_CSS_PROPERTY_BORDER_BOTTOM, lxb_css_property_state_border_bottom,
     lxb_css_property_border_bottom_create, lxb_css_property_border_bottom_destroy, lxb_css_property_border_bottom_serialize,
     &(lxb_css_property_border_bottom_t) {.style = LXB_CSS_BORDER_NONE, .width = {.type = LXB_CSS_BORDER_MEDIUM}, .color = {.type = LXB_CSS_COLOR_CURRENTCOLOR}}},
    {(lxb_char_t *) "border-bottom-color", 19, LXB_CSS_PROPERTY_BORDER_BOTTOM_COLOR, lxb_css_property_state_border_bottom_color,
     lxb_css_property_border_bottom_color_create, lxb_css_property_border_bottom_color_destroy, lxb_css_property_border_bottom_color_serialize,
     &(lxb_css_property_border_bottom_color_t) {.type = LXB_CSS_COLOR_CURRENTCOLOR}},
    {(lxb_char_t *) "border-left", 11, LXB_CSS_PROPERTY_BORDER_LEFT, lxb_css_property_state_border_left,
     lxb_css_property_border_left_create, lxb_css_property_border_left_destroy, lxb_css_property_border_left_serialize,
     &(lxb_css_property_border_left_t) {.style = LXB_CSS_BORDER_NONE, .width = {.type = LXB_CSS_BORDER_MEDIUM}, .color = {.type = LXB_CSS_COLOR_CURRENTCOLOR}}},
    {(lxb_char_t *) "border-left-color", 17, LXB_CSS_PROPERTY_BORDER_LEFT_COLOR, lxb_css_property_state_border_left_color,
     lxb_css_property_border_left_color_create, lxb_css_property_border_left_color_destroy, lxb_css_property_border_left_color_serialize,
     &(lxb_css_property_border_left_color_t) {.type = LXB_CSS_COLOR_CURRENTCOLOR}},
    {(lxb_char_t *) "border-right", 12, LXB_CSS_PROPERTY_BORDER_RIGHT, lxb_css_property_state_border_right,
     lxb_css_property_border_right_create, lxb_css_property_border_right_destroy, lxb_css_property_border_right_serialize,
     &(lxb_css_property_border_right_t) {.style = LXB_CSS_BORDER_NONE, .width = {.type = LXB_CSS_BORDER_MEDIUM}, .color = {.type = LXB_CSS_COLOR_CURRENTCOLOR}}},
    {(lxb_char_t *) "border-right-color", 18, LXB_CSS_PROPERTY_BORDER_RIGHT_COLOR, lxb_css_property_state_border_right_color,
     lxb_css_property_border_right_color_create, lxb_css_property_border_right_color_destroy, lxb_css_property_border_right_color_serialize,
     &(lxb_css_property_border_right_color_t) {.type = LXB_CSS_COLOR_CURRENTCOLOR}},
    {(lxb_char_t *) "border-top", 10, LXB_CSS_PROPERTY_BORDER_TOP, lxb_css_property_state_border_top,
     lxb_css_property_border_top_create, lxb_css_property_border_top_destroy, lxb_css_property_border_top_serialize,
     &(lxb_css_property_border_top_t) {.style = LXB_CSS_BORDER_NONE, .width = {.type = LXB_CSS_BORDER_MEDIUM}, .color = {.type = LXB_CSS_COLOR_CURRENTCOLOR}}},
    {(lxb_char_t *) "border-top-color", 16, LXB_CSS_PROPERTY_BORDER_TOP_COLOR, lxb_css_property_state_border_top_color,
     lxb_css_property_border_top_color_create, lxb_css_property_border_top_color_destroy, lxb_css_property_border_top_color_serialize,
     &(lxb_css_property_border_top_color_t) {.type = LXB_CSS_COLOR_CURRENTCOLOR}},
    {(lxb_char_t *) "bottom", 6, LXB_CSS_PROPERTY_BOTTOM, lxb_css_property_state_bottom,
     lxb_css_property_bottom_create, lxb_css_property_bottom_destroy, lxb_css_property_bottom_serialize,
     &(lxb_css_property_bottom_t) {.type = LXB_CSS_VALUE_AUTO, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "box-sizing", 10, LXB_CSS_PROPERTY_BOX_SIZING, lxb_css_property_state_box_sizing,
     lxb_css_property_box_sizing_create, lxb_css_property_box_sizing_destroy, lxb_css_property_box_sizing_serialize,
     &(lxb_css_property_box_sizing_t) {.type = LXB_CSS_BOX_SIZING_CONTENT_BOX}},
    {(lxb_char_t *) "clear", 5, LXB_CSS_PROPERTY_CLEAR, lxb_css_property_state_clear,
     lxb_css_property_clear_create, lxb_css_property_clear_destroy, lxb_css_property_clear_serialize,
     &(lxb_css_property_clear_t) {.type = LXB_CSS_CLEAR_NONE}},
    {(lxb_char_t *) "color", 5, LXB_CSS_PROPERTY_COLOR, lxb_css_property_state_color,
     lxb_css_property_color_create, lxb_css_property_color_destroy, lxb_css_property_color_serialize,
     &(lxb_css_value_color_t) {.type = LXB_CSS_COLOR_CURRENTCOLOR}},
    {(lxb_char_t *) "direction", 9, LXB_CSS_PROPERTY_DIRECTION, lxb_css_property_state_direction,
     lxb_css_property_direction_create, lxb_css_property_direction_destroy, lxb_css_property_direction_serialize,
     &(lxb_css_property_direction_t) {.type = LXB_CSS_DIRECTION_LTR}},
    {(lxb_char_t *) "display", 7, LXB_CSS_PROPERTY_DISPLAY, lxb_css_property_state_display,
     lxb_css_property_display_create, lxb_css_property_display_destroy, lxb_css_property_display_serialize,
     &(lxb_css_property_display_t) {.a = LXB_CSS_DISPLAY_INLINE, .b = LXB_CSS_PROPERTY__UNDEF, .c = LXB_CSS_PROPERTY__UNDEF}},
    {(lxb_char_t *) "dominant-baseline", 17, LXB_CSS_PROPERTY_DOMINANT_BASELINE, lxb_css_property_state_dominant_baseline,
     lxb_css_property_dominant_baseline_create, lxb_css_property_dominant_baseline_destroy, lxb_css_property_dominant_baseline_serialize,
     &(lxb_css_property_dominant_baseline_t) {.type = LXB_CSS_DOMINANT_BASELINE_AUTO}},
    {(lxb_char_t *) "flex", 4, LXB_CSS_PROPERTY_FLEX, lxb_css_property_state_flex,
     lxb_css_property_flex_create, lxb_css_property_flex_destroy, lxb_css_property_flex_serialize,
     &(lxb_css_property_flex_t) {.type = LXB_CSS_VALUE__UNDEF, .grow = {.type = LXB_CSS_FLEX_GROW__NUMBER, .number = {.num = 0, .is_float = false}}, .shrink = {.type = LXB_CSS_FLEX_SHRINK__NUMBER, .number = {.num = 1, .is_float = false}}, .basis = {.type = LXB_CSS_WIDTH_AUTO, .u.length = {.num = 0, .is_float = false}}}},
    {(lxb_char_t *) "flex-basis", 10, LXB_CSS_PROPERTY_FLEX_BASIS, lxb_css_property_state_flex_basis,
     lxb_css_property_flex_basis_create, lxb_css_property_flex_basis_destroy, lxb_css_property_flex_basis_serialize,
     &(lxb_css_property_flex_basis_t) {.type = LXB_CSS_WIDTH_AUTO, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "flex-direction", 14, LXB_CSS_PROPERTY_FLEX_DIRECTION, lxb_css_property_state_flex_direction,
     lxb_css_property_flex_direction_create, lxb_css_property_flex_direction_destroy, lxb_css_property_flex_direction_serialize,
     &(lxb_css_property_flex_direction_t) {.type = LXB_CSS_FLEX_DIRECTION_ROW}},
    {(lxb_char_t *) "flex-flow", 9, LXB_CSS_PROPERTY_FLEX_FLOW, lxb_css_property_state_flex_flow,
     lxb_css_property_flex_flow_create, lxb_css_property_flex_flow_destroy, lxb_css_property_flex_flow_serialize,
     &(lxb_css_property_flex_flow_t) {.type_direction = LXB_CSS_FLEX_DIRECTION_ROW, .wrap = LXB_CSS_FLEX_WRAP_NOWRAP}},
    {(lxb_char_t *) "flex-grow", 9, LXB_CSS_PROPERTY_FLEX_GROW, lxb_css_property_state_flex_grow,
     lxb_css_property_flex_grow_create, lxb_css_property_flex_grow_destroy, lxb_css_property_flex_grow_serialize,
     &(lxb_css_property_flex_grow_t) {.type = LXB_CSS_FLEX_GROW__NUMBER, .number = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "flex-shrink", 11, LXB_CSS_PROPERTY_FLEX_SHRINK, lxb_css_property_state_flex_shrink,
     lxb_css_property_flex_shrink_create, lxb_css_property_flex_shrink_destroy, lxb_css_property_flex_shrink_serialize,
     &(lxb_css_property_flex_shrink_t) {.type = LXB_CSS_FLEX_SHRINK__NUMBER, .number = {.num = 1, .is_float = false}}},
    {(lxb_char_t *) "flex-wrap", 9, LXB_CSS_PROPERTY_FLEX_WRAP, lxb_css_property_state_flex_wrap,
     lxb_css_property_flex_wrap_create, lxb_css_property_flex_wrap_destroy, lxb_css_property_flex_wrap_serialize,
     &(lxb_css_property_flex_wrap_t) {.type = LXB_CSS_FLEX_WRAP_NOWRAP}},
    {(lxb_char_t *) "float", 5, LXB_CSS_PROPERTY_FLOAT, lxb_css_property_state_float,
     lxb_css_property_float_create, lxb_css_property_float_destroy, lxb_css_property_float_serialize,
     &(lxb_css_property_float_t) {.type = LXB_CSS_FLOAT_NONE}},
    {(lxb_char_t *) "float-defer", 11, LXB_CSS_PROPERTY_FLOAT_DEFER, lxb_css_property_state_float_defer,
     lxb_css_property_float_defer_create, lxb_css_property_float_defer_destroy, lxb_css_property_float_defer_serialize,
     &(lxb_css_property_float_defer_t) {.type = LXB_CSS_FLOAT_DEFER_NONE}},
    {(lxb_char_t *) "float-offset", 12, LXB_CSS_PROPERTY_FLOAT_OFFSET, lxb_css_property_state_float_offset,
     lxb_css_property_float_offset_create, lxb_css_property_float_offset_destroy, lxb_css_property_float_offset_serialize,
     &(lxb_css_property_float_offset_t) {.type = LXB_CSS_VALUE__NUMBER, .u = {.length = {.num = 0, .is_float = false, .unit = LXB_CSS_UNIT__UNDEF}}}},
    {(lxb_char_t *) "float-reference", 15, LXB_CSS_PROPERTY_FLOAT_REFERENCE, lxb_css_property_state_float_reference,
     lxb_css_property_float_reference_create, lxb_css_property_float_reference_destroy, lxb_css_property_float_reference_serialize,
     &(lxb_css_property_float_reference_t) {.type = LXB_CSS_FLOAT_REFERENCE_INLINE}},
    {(lxb_char_t *) "font-family", 11, LXB_CSS_PROPERTY_FONT_FAMILY, lxb_css_property_state_font_family,
     lxb_css_property_font_family_create, lxb_css_property_font_family_destroy, lxb_css_property_font_family_serialize,
     NULL},
    {(lxb_char_t *) "font-size", 9, LXB_CSS_PROPERTY_FONT_SIZE, lxb_css_property_state_font_size,
     lxb_css_property_font_size_create, lxb_css_property_font_size_destroy, lxb_css_property_font_size_serialize,
     &(lxb_css_property_font_size_t) {.type = LXB_CSS_FONT_SIZE_MEDIUM}},
    {(lxb_char_t *) "font-stretch", 12, LXB_CSS_PROPERTY_FONT_STRETCH, lxb_css_property_state_font_stretch,
     lxb_css_property_font_stretch_create, lxb_css_property_font_stretch_destroy, lxb_css_property_font_stretch_serialize,
     &(lxb_css_property_font_stretch_t) {.type = LXB_CSS_FONT_STRETCH_NORMAL}},
    {(lxb_char_t *) "font-style", 10, LXB_CSS_PROPERTY_FONT_STYLE, lxb_css_property_state_font_style,
     lxb_css_property_font_style_create, lxb_css_property_font_style_destroy, lxb_css_property_font_style_serialize,
     &(lxb_css_property_font_style_t) {.type = LXB_CSS_FONT_STYLE_NORMAL}},
    {(lxb_char_t *) "font-weight", 11, LXB_CSS_PROPERTY_FONT_WEIGHT, lxb_css_property_state_font_weight,
     lxb_css_property_font_weight_create, lxb_css_property_font_weight_destroy, lxb_css_property_font_weight_serialize,
     &(lxb_css_property_font_weight_t) {.type = LXB_CSS_FONT_WEIGHT_NORMAL}},
    {(lxb_char_t *) "hanging-punctuation", 19, LXB_CSS_PROPERTY_HANGING_PUNCTUATION, lxb_css_property_state_hanging_punctuation,
     lxb_css_property_hanging_punctuation_create, lxb_css_property_hanging_punctuation_destroy, lxb_css_property_hanging_punctuation_serialize,
     &(lxb_css_property_hanging_punctuation_t) {.type_first = LXB_CSS_HANGING_PUNCTUATION_NONE}},
    {(lxb_char_t *) "height", 6, LXB_CSS_PROPERTY_HEIGHT, lxb_css_property_state_height,
     lxb_css_property_height_create, lxb_css_property_height_destroy, lxb_css_property_height_serialize,
     &(lxb_css_property_height_t) {.type = LXB_CSS_HEIGHT_AUTO, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "hyphens", 7, LXB_CSS_PROPERTY_HYPHENS, lxb_css_property_state_hyphens,
     lxb_css_property_hyphens_create, lxb_css_property_hyphens_destroy, lxb_css_property_hyphens_serialize,
     &(lxb_css_property_hyphens_t) {.type = LXB_CSS_HYPHENS_MANUAL}},
    {(lxb_char_t *) "inset-block-end", 15, LXB_CSS_PROPERTY_INSET_BLOCK_END, lxb_css_property_state_inset_block_end,
     lxb_css_property_inset_block_end_create, lxb_css_property_inset_block_end_destroy, lxb_css_property_inset_block_end_serialize,
     &(lxb_css_property_inset_block_end_t) {.type = LXB_CSS_VALUE_AUTO, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "inset-block-start", 17, LXB_CSS_PROPERTY_INSET_BLOCK_START, lxb_css_property_state_inset_block_start,
     lxb_css_property_inset_block_start_create, lxb_css_property_inset_block_start_destroy, lxb_css_property_inset_block_start_serialize,
     &(lxb_css_property_inset_block_start_t) {.type = LXB_CSS_VALUE_AUTO, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "inset-inline-end", 16, LXB_CSS_PROPERTY_INSET_INLINE_END, lxb_css_property_state_inset_inline_end,
     lxb_css_property_inset_inline_end_create, lxb_css_property_inset_inline_end_destroy, lxb_css_property_inset_inline_end_serialize,
     &(lxb_css_property_inset_inline_end_t) {.type = LXB_CSS_VALUE_AUTO, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "inset-inline-start", 18, LXB_CSS_PROPERTY_INSET_INLINE_START, lxb_css_property_state_inset_inline_start,
     lxb_css_property_inset_inline_start_create, lxb_css_property_inset_inline_start_destroy, lxb_css_property_inset_inline_start_serialize,
     &(lxb_css_property_inset_inline_start_t) {.type = LXB_CSS_VALUE_AUTO, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "justify-content", 15, LXB_CSS_PROPERTY_JUSTIFY_CONTENT, lxb_css_property_state_justify_content,
     lxb_css_property_justify_content_create, lxb_css_property_justify_content_destroy, lxb_css_property_justify_content_serialize,
     &(lxb_css_property_justify_content_t) {.type = LXB_CSS_JUSTIFY_CONTENT_FLEX_START}},
    {(lxb_char_t *) "left", 4, LXB_CSS_PROPERTY_LEFT, lxb_css_property_state_left,
     lxb_css_property_left_create, lxb_css_property_left_destroy, lxb_css_property_left_serialize,
     &(lxb_css_property_left_t) {.type = LXB_CSS_VALUE_AUTO, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "letter-spacing", 14, LXB_CSS_PROPERTY_LETTER_SPACING, lxb_css_property_state_letter_spacing,
     lxb_css_property_letter_spacing_create, lxb_css_property_letter_spacing_destroy, lxb_css_property_letter_spacing_serialize,
     &(lxb_css_property_letter_spacing_t) {.type = LXB_CSS_LETTER_SPACING_NORMAL}},
    {(lxb_char_t *) "line-break", 10, LXB_CSS_PROPERTY_LINE_BREAK, lxb_css_property_state_line_break,
     lxb_css_property_line_break_create, lxb_css_property_line_break_destroy, lxb_css_property_line_break_serialize,
     &(lxb_css_property_line_break_t) {.type = LXB_CSS_LINE_BREAK_AUTO}},
    {(lxb_char_t *) "line-height", 11, LXB_CSS_PROPERTY_LINE_HEIGHT, lxb_css_property_state_line_height,
     lxb_css_property_line_height_create, lxb_css_property_line_height_destroy, lxb_css_property_line_height_serialize,
     &(lxb_css_property_line_height_t) {.type = LXB_CSS_LINE_HEIGHT_NORMAL}},
    {(lxb_char_t *) "margin", 6, LXB_CSS_PROPERTY_MARGIN, lxb_css_property_state_margin,
     lxb_css_property_margin_create, lxb_css_property_margin_destroy, lxb_css_property_margin_serialize,
     &(lxb_css_property_margin_t) {.top = {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}, .right = {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}, .bottom = {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}, .left = {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}}},
    {(lxb_char_t *) "margin-bottom", 13, LXB_CSS_PROPERTY_MARGIN_BOTTOM, lxb_css_property_state_margin_bottom,
     lxb_css_property_margin_bottom_create, lxb_css_property_margin_bottom_destroy, lxb_css_property_margin_bottom_serialize,
     &(lxb_css_property_margin_bottom_t) {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "margin-left", 11, LXB_CSS_PROPERTY_MARGIN_LEFT, lxb_css_property_state_margin_left,
     lxb_css_property_margin_left_create, lxb_css_property_margin_left_destroy, lxb_css_property_margin_left_serialize,
     &(lxb_css_property_margin_left_t) {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "margin-right", 12, LXB_CSS_PROPERTY_MARGIN_RIGHT, lxb_css_property_state_margin_right,
     lxb_css_property_margin_right_create, lxb_css_property_margin_right_destroy, lxb_css_property_margin_right_serialize,
     &(lxb_css_property_margin_right_t) {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "margin-top", 10, LXB_CSS_PROPERTY_MARGIN_TOP, lxb_css_property_state_margin_top,
     lxb_css_property_margin_top_create, lxb_css_property_margin_top_destroy, lxb_css_property_margin_top_serialize,
     &(lxb_css_property_margin_top_t) {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "max-height", 10, LXB_CSS_PROPERTY_MAX_HEIGHT, lxb_css_property_state_max_height,
     lxb_css_property_max_height_create, lxb_css_property_max_height_destroy, lxb_css_property_max_height_serialize,
     &(lxb_css_property_max_height_t) {.type = LXB_CSS_MAX_HEIGHT_NONE, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "max-width", 9, LXB_CSS_PROPERTY_MAX_WIDTH, lxb_css_property_state_max_width,
     lxb_css_property_max_width_create, lxb_css_property_max_width_destroy, lxb_css_property_max_width_serialize,
     &(lxb_css_property_max_width_t) {.type = LXB_CSS_MAX_WIDTH_NONE, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "min-height", 10, LXB_CSS_PROPERTY_MIN_HEIGHT, lxb_css_property_state_min_height,
     lxb_css_property_min_height_create, lxb_css_property_min_height_destroy, lxb_css_property_min_height_serialize,
     &(lxb_css_property_min_height_t) {.type = LXB_CSS_MIN_HEIGHT_AUTO, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "min-width", 9, LXB_CSS_PROPERTY_MIN_WIDTH, lxb_css_property_state_min_width,
     lxb_css_property_min_width_create, lxb_css_property_min_width_destroy, lxb_css_property_min_width_serialize,
     &(lxb_css_property_min_width_t) {.type = LXB_CSS_MIN_WIDTH_AUTO, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "opacity", 7, LXB_CSS_PROPERTY_OPACITY, lxb_css_property_state_opacity,
     lxb_css_property_opacity_create, lxb_css_property_opacity_destroy, lxb_css_property_opacity_serialize,
     &(lxb_css_property_opacity_t) {.type = LXB_CSS_OPACITY__NUMBER, .u = {.number = {.num = 1, .is_float = false}}}},
    {(lxb_char_t *) "order", 5, LXB_CSS_PROPERTY_ORDER, lxb_css_property_state_order,
     lxb_css_property_order_create, lxb_css_property_order_destroy, lxb_css_property_order_serialize,
     &(lxb_css_property_order_t) {.type = LXB_CSS_ORDER__INTEGER, .integer = {.num = 0}}},
    {(lxb_char_t *) "overflow-block", 14, LXB_CSS_PROPERTY_OVERFLOW_BLOCK, lxb_css_property_state_overflow_block,
     lxb_css_property_overflow_block_create, lxb_css_property_overflow_block_destroy, lxb_css_property_overflow_block_serialize,
     &(lxb_css_property_overflow_block_t) {.type = LXB_CSS_OVERFLOW_BLOCK_VISIBLE}},
    {(lxb_char_t *) "overflow-inline", 15, LXB_CSS_PROPERTY_OVERFLOW_INLINE, lxb_css_property_state_overflow_inline,
     lxb_css_property_overflow_inline_create, lxb_css_property_overflow_inline_destroy, lxb_css_property_overflow_inline_serialize,
     &(lxb_css_property_overflow_inline_t) {.type = LXB_CSS_OVERFLOW_INLINE_VISIBLE}},
    {(lxb_char_t *) "overflow-wrap", 13, LXB_CSS_PROPERTY_OVERFLOW_WRAP, lxb_css_property_state_overflow_wrap,
     lxb_css_property_overflow_wrap_create, lxb_css_property_overflow_wrap_destroy, lxb_css_property_overflow_wrap_serialize,
     &(lxb_css_property_overflow_wrap_t) {.type = LXB_CSS_OVERFLOW_WRAP_NORMAL}},
    {(lxb_char_t *) "overflow-x", 10, LXB_CSS_PROPERTY_OVERFLOW_X, lxb_css_property_state_overflow_x,
     lxb_css_property_overflow_x_create, lxb_css_property_overflow_x_destroy, lxb_css_property_overflow_x_serialize,
     &(lxb_css_property_overflow_x_t) {.type = LXB_CSS_OVERFLOW_X_VISIBLE}},
    {(lxb_char_t *) "overflow-y", 10, LXB_CSS_PROPERTY_OVERFLOW_Y, lxb_css_property_state_overflow_y,
     lxb_css_property_overflow_y_create, lxb_css_property_overflow_y_destroy, lxb_css_property_overflow_y_serialize,
     &(lxb_css_property_overflow_y_t) {.type = LXB_CSS_OVERFLOW_Y_VISIBLE}},
    {(lxb_char_t *) "padding", 7, LXB_CSS_PROPERTY_PADDING, lxb_css_property_state_padding,
     lxb_css_property_padding_create, lxb_css_property_padding_destroy, lxb_css_property_padding_serialize,
     &(lxb_css_property_padding_t) {.top = {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}, .right = {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}, .bottom = {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}, .left = {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}}},
    {(lxb_char_t *) "padding-bottom", 14, LXB_CSS_PROPERTY_PADDING_BOTTOM, lxb_css_property_state_padding_bottom,
     lxb_css_property_padding_bottom_create, lxb_css_property_padding_bottom_destroy, lxb_css_property_padding_bottom_serialize,
     &(lxb_css_property_padding_bottom_t) {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "padding-left", 12, LXB_CSS_PROPERTY_PADDING_LEFT, lxb_css_property_state_padding_left,
     lxb_css_property_padding_left_create, lxb_css_property_padding_left_destroy, lxb_css_property_padding_left_serialize,
     &(lxb_css_property_padding_left_t) {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "padding-right", 13, LXB_CSS_PROPERTY_PADDING_RIGHT, lxb_css_property_state_padding_right,
     lxb_css_property_padding_right_create, lxb_css_property_padding_right_destroy, lxb_css_property_padding_right_serialize,
     &(lxb_css_property_padding_right_t) {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "padding-top", 11, LXB_CSS_PROPERTY_PADDING_TOP, lxb_css_property_state_padding_top,
     lxb_css_property_padding_top_create, lxb_css_property_padding_top_destroy, lxb_css_property_padding_top_serialize,
     &(lxb_css_property_padding_top_t) {.type = LXB_CSS_VALUE__LENGTH, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "position", 8, LXB_CSS_PROPERTY_POSITION, lxb_css_property_state_position,
     lxb_css_property_position_create, lxb_css_property_position_destroy, lxb_css_property_position_serialize,
     &(lxb_css_property_position_t) {.type = LXB_CSS_POSITION_STATIC}},
    {(lxb_char_t *) "right", 5, LXB_CSS_PROPERTY_RIGHT, lxb_css_property_state_right,
     lxb_css_property_right_create, lxb_css_property_right_destroy, lxb_css_property_right_serialize,
     &(lxb_css_property_right_t) {.type = LXB_CSS_VALUE_AUTO, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "tab-size", 8, LXB_CSS_PROPERTY_TAB_SIZE, lxb_css_property_state_tab_size,
     lxb_css_property_tab_size_create, lxb_css_property_tab_size_destroy, lxb_css_property_tab_size_serialize,
     &(lxb_css_property_tab_size_t) {.type = LXB_CSS_VALUE__NUMBER, .u = {.number = {.num = 8, .is_float = false}}}},
    {(lxb_char_t *) "text-align", 10, LXB_CSS_PROPERTY_TEXT_ALIGN, lxb_css_property_state_text_align,
     lxb_css_property_text_align_create, lxb_css_property_text_align_destroy, lxb_css_property_text_align_serialize,
     &(lxb_css_property_text_align_t) {.type = LXB_CSS_TEXT_ALIGN_START}},
    {(lxb_char_t *) "text-align-all", 14, LXB_CSS_PROPERTY_TEXT_ALIGN_ALL, lxb_css_property_state_text_align_all,
     lxb_css_property_text_align_all_create, lxb_css_property_text_align_all_destroy, lxb_css_property_text_align_all_serialize,
     &(lxb_css_property_text_align_all_t) {.type = LXB_CSS_TEXT_ALIGN_ALL_START}},
    {(lxb_char_t *) "text-align-last", 15, LXB_CSS_PROPERTY_TEXT_ALIGN_LAST, lxb_css_property_state_text_align_last,
     lxb_css_property_text_align_last_create, lxb_css_property_text_align_last_destroy, lxb_css_property_text_align_last_serialize,
     &(lxb_css_property_text_align_last_t) {.type = LXB_CSS_TEXT_ALIGN_LAST_AUTO}},
    {(lxb_char_t *) "text-combine-upright", 20, LXB_CSS_PROPERTY_TEXT_COMBINE_UPRIGHT, lxb_css_property_state_text_combine_upright,
     lxb_css_property_text_combine_upright_create, lxb_css_property_text_combine_upright_destroy, lxb_css_property_text_combine_upright_serialize,
     &(lxb_css_property_text_combine_upright_t) {.type = LXB_CSS_TEXT_COMBINE_UPRIGHT_NONE}},
    {(lxb_char_t *) "text-decoration", 15, LXB_CSS_PROPERTY_TEXT_DECORATION, lxb_css_property_state_text_decoration,
     lxb_css_property_text_decoration_create, lxb_css_property_text_decoration_destroy, lxb_css_property_text_decoration_serialize,
     &(lxb_css_property_text_decoration_t) {.line = {.type = LXB_CSS_TEXT_DECORATION_LINE_NONE}, .style = {.type = LXB_CSS_TEXT_DECORATION_STYLE_SOLID}, .color = {.type = LXB_CSS_COLOR_CURRENTCOLOR}}},
    {(lxb_char_t *) "text-decoration-color", 21, LXB_CSS_PROPERTY_TEXT_DECORATION_COLOR, lxb_css_property_state_text_decoration_color,
     lxb_css_property_text_decoration_color_create, lxb_css_property_text_decoration_color_destroy, lxb_css_property_text_decoration_color_serialize,
     &(lxb_css_property_text_decoration_color_t) {.type = LXB_CSS_COLOR_CURRENTCOLOR}},
    {(lxb_char_t *) "text-decoration-line", 20, LXB_CSS_PROPERTY_TEXT_DECORATION_LINE, lxb_css_property_state_text_decoration_line,
     lxb_css_property_text_decoration_line_create, lxb_css_property_text_decoration_line_destroy, lxb_css_property_text_decoration_line_serialize,
     &(lxb_css_property_text_decoration_line_t) {.type = LXB_CSS_TEXT_DECORATION_LINE_NONE}},
    {(lxb_char_t *) "text-decoration-style", 21, LXB_CSS_PROPERTY_TEXT_DECORATION_STYLE, lxb_css_property_state_text_decoration_style,
     lxb_css_property_text_decoration_style_create, lxb_css_property_text_decoration_style_destroy, lxb_css_property_text_decoration_style_serialize,
     &(lxb_css_property_text_decoration_style_t) {.type = LXB_CSS_TEXT_DECORATION_STYLE_SOLID}},
    {(lxb_char_t *) "text-indent", 11, LXB_CSS_PROPERTY_TEXT_INDENT, lxb_css_property_state_text_indent,
     lxb_css_property_text_indent_create, lxb_css_property_text_indent_destroy, lxb_css_property_text_indent_serialize,
     &(lxb_css_property_text_indent_t) {.length = {.type = LXB_CSS_VALUE__LENGTH, .u = {.length = {.num = 0, .is_float = false, .unit = LXB_CSS_UNIT__UNDEF}}}}},
    {(lxb_char_t *) "text-justify", 12, LXB_CSS_PROPERTY_TEXT_JUSTIFY, lxb_css_property_state_text_justify,
     lxb_css_property_text_justify_create, lxb_css_property_text_justify_destroy, lxb_css_property_text_justify_serialize,
     &(lxb_css_property_text_justify_t) {.type = LXB_CSS_TEXT_JUSTIFY_AUTO}},
    {(lxb_char_t *) "text-orientation", 16, LXB_CSS_PROPERTY_TEXT_ORIENTATION, lxb_css_property_state_text_orientation,
     lxb_css_property_text_orientation_create, lxb_css_property_text_orientation_destroy, lxb_css_property_text_orientation_serialize,
     &(lxb_css_property_text_orientation_t) {.type = LXB_CSS_TEXT_ORIENTATION_MIXED}},
    {(lxb_char_t *) "text-overflow", 13, LXB_CSS_PROPERTY_TEXT_OVERFLOW, lxb_css_property_state_text_overflow,
     lxb_css_property_text_overflow_create, lxb_css_property_text_overflow_destroy, lxb_css_property_text_overflow_serialize,
     &(lxb_css_property_text_overflow_t) {.type = LXB_CSS_TEXT_OVERFLOW_CLIP}},
    {(lxb_char_t *) "text-transform", 14, LXB_CSS_PROPERTY_TEXT_TRANSFORM, lxb_css_property_state_text_transform,
     lxb_css_property_text_transform_create, lxb_css_property_text_transform_destroy, lxb_css_property_text_transform_serialize,
     &(lxb_css_property_text_transform_t) {.type_case = LXB_CSS_TEXT_TRANSFORM_NONE, .full_width = LXB_CSS_PROPERTY__UNDEF, .full_size_kana = LXB_CSS_PROPERTY__UNDEF}},
    {(lxb_char_t *) "top", 3, LXB_CSS_PROPERTY_TOP, lxb_css_property_state_top,
     lxb_css_property_top_create, lxb_css_property_top_destroy, lxb_css_property_top_serialize,
     &(lxb_css_property_top_t) {.type = LXB_CSS_VALUE_AUTO, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "unicode-bidi", 12, LXB_CSS_PROPERTY_UNICODE_BIDI, lxb_css_property_state_unicode_bidi,
     lxb_css_property_unicode_bidi_create, lxb_css_property_unicode_bidi_destroy, lxb_css_property_unicode_bidi_serialize,
     &(lxb_css_property_unicode_bidi_t) {.type = LXB_CSS_UNICODE_BIDI_NORMAL}},
    {(lxb_char_t *) "vertical-align", 14, LXB_CSS_PROPERTY_VERTICAL_ALIGN, lxb_css_property_state_vertical_align,
     lxb_css_property_vertical_align_create, lxb_css_property_vertical_align_destroy, lxb_css_property_vertical_align_serialize,
     &(lxb_css_property_vertical_align_t) {.type = LXB_CSS_ALIGNMENT_BASELINE_BASELINE}},
    {(lxb_char_t *) "visibility", 10, LXB_CSS_PROPERTY_VISIBILITY, lxb_css_property_state_visibility,
     lxb_css_property_visibility_create, lxb_css_property_visibility_destroy, lxb_css_property_visibility_serialize,
     &(lxb_css_property_visibility_t) {.type = LXB_CSS_VISIBILITY_VISIBLE}},
    {(lxb_char_t *) "white-space", 11, LXB_CSS_PROPERTY_WHITE_SPACE, lxb_css_property_state_white_space,
     lxb_css_property_white_space_create, lxb_css_property_white_space_destroy, lxb_css_property_white_space_serialize,
     &(lxb_css_property_white_space_t) {.type = LXB_CSS_WHITE_SPACE_NORMAL}},
    {(lxb_char_t *) "width", 5, LXB_CSS_PROPERTY_WIDTH, lxb_css_property_state_width,
     lxb_css_property_width_create, lxb_css_property_width_destroy, lxb_css_property_width_serialize,
     &(lxb_css_property_width_t) {.type = LXB_CSS_WIDTH_AUTO, .u.length = {.num = 0, .is_float = false}}},
    {(lxb_char_t *) "word-break", 10, LXB_CSS_PROPERTY_WORD_BREAK, lxb_css_property_state_word_break,
     lxb_css_property_word_break_create, lxb_css_property_word_break_destroy, lxb_css_property_word_break_serialize,
     &(lxb_css_property_word_break_t) {.type = LXB_CSS_WORD_BREAK_NORMAL}},
    {(lxb_char_t *) "word-spacing", 12, LXB_CSS_PROPERTY_WORD_SPACING, lxb_css_property_state_word_spacing,
     lxb_css_property_word_spacing_create, lxb_css_property_word_spacing_destroy, lxb_css_property_word_spacing_serialize,
     &(lxb_css_property_word_spacing_t) {.type = LXB_CSS_WORD_SPACING_NORMAL}},
    {(lxb_char_t *) "word-wrap", 9, LXB_CSS_PROPERTY_WORD_WRAP, lxb_css_property_state_word_wrap,
     lxb_css_property_word_wrap_create, lxb_css_property_word_wrap_destroy, lxb_css_property_word_wrap_serialize,
     &(lxb_css_property_word_wrap_t) {.type = LXB_CSS_WORD_WRAP_NORMAL}},
    {(lxb_char_t *) "wrap-flow", 9, LXB_CSS_PROPERTY_WRAP_FLOW, lxb_css_property_state_wrap_flow,
     lxb_css_property_wrap_flow_create, lxb_css_property_wrap_flow_destroy, lxb_css_property_wrap_flow_serialize,
     &(lxb_css_property_wrap_flow_t) {.type = LXB_CSS_WRAP_FLOW_AUTO}},
    {(lxb_char_t *) "wrap-through", 12, LXB_CSS_PROPERTY_WRAP_THROUGH, lxb_css_property_state_wrap_through,
     lxb_css_property_wrap_through_create, lxb_css_property_wrap_through_destroy, lxb_css_property_wrap_through_serialize,
     &(lxb_css_property_wrap_through_t) {.type = LXB_CSS_WRAP_THROUGH_WRAP}},
    {(lxb_char_t *) "writing-mode", 12, LXB_CSS_PROPERTY_WRITING_MODE, lxb_css_property_state_writing_mode,
     lxb_css_property_writing_mode_create, lxb_css_property_writing_mode_destroy, lxb_css_property_writing_mode_serialize,
     &(lxb_css_property_writing_mode_t) {.type = LXB_CSS_WRITING_MODE_HORIZONTAL_TB}},
    {(lxb_char_t *) "z-index", 7, LXB_CSS_PROPERTY_Z_INDEX, lxb_css_property_state_z_index,
     lxb_css_property_z_index_create, lxb_css_property_z_index_destroy, lxb_css_property_z_index_serialize,
     &(lxb_css_property_z_index_t) {.type = LXB_CSS_Z_INDEX_AUTO}}
};

static const lexbor_shs_entry_t lxb_css_property_shs[187] =
{
    {NULL, NULL, 186, 0},
    {"wrap-through", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_WRAP_THROUGH], 12, 0},
    {"width", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_WIDTH], 5, 0},
    {"color", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_COLOR], 5, 0},
    {"text-overflow", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TEXT_OVERFLOW], 13, 0},
    {"text-combine-upright", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TEXT_COMBINE_UPRIGHT], 20, 0},
    {"direction", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_DIRECTION], 9, 0},
    {"baseline-source", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_BASELINE_SOURCE], 15, 0},
    {"min-width", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_MIN_WIDTH], 9, 0},
    {"wrap-flow", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_WRAP_FLOW], 9, 1},
    {"align-content", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_ALIGN_CONTENT], 13, 0},
    {"padding-left", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_PADDING_LEFT], 12, 0},
    {"right", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_RIGHT], 5, 0},
    {"font-stretch", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FONT_STRETCH], 12, 0},
    {"flex-grow", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FLEX_GROW], 9, 0},
    {"border-top-color", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_BORDER_TOP_COLOR], 16, 0},
    {"border-left-color", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_BORDER_LEFT_COLOR], 17, 0},
    {"overflow-x", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_OVERFLOW_X], 10, 0},
    {"clear", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_CLEAR], 5, 3},
    {"padding-top", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_PADDING_TOP], 11, 0},
    {"word-wrap", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_WORD_WRAP], 9, 0},
    {"border-top", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_BORDER_TOP], 10, 0},
    {"font-style", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FONT_STYLE], 10, 0},
    {"text-transform", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TEXT_TRANSFORM], 14, 0},
    {"white-space", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_WHITE_SPACE], 11, 0},
    {"padding-bottom", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_PADDING_BOTTOM], 14, 0},
    {"vertical-align", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_VERTICAL_ALIGN], 14, 0},
    {"visibility", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_VISIBILITY], 10, 0},
    {"min-height", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_MIN_HEIGHT], 10, 0},
    {"inset-inline-start", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_INSET_INLINE_START], 18, 0},
    {"flex-shrink", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FLEX_SHRINK], 11, 7},
    {NULL, NULL, 0, 0},
    {"overflow-wrap", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_OVERFLOW_WRAP], 13, 0},
    {"letter-spacing", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_LETTER_SPACING], 14, 0},
    {NULL, NULL, 0, 0},
    {"bottom", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_BOTTOM], 6, 0},
    {"max-width", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_MAX_WIDTH], 9, 8},
    {NULL, NULL, 0, 0},
    {"dominant-baseline", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_DOMINANT_BASELINE], 17, 0},
    {"margin-top", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_MARGIN_TOP], 10, 11},
    {"padding-right", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_PADDING_RIGHT], 13, 0},
    {NULL, NULL, 0, 0},
    {"border-bottom", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_BORDER_BOTTOM], 13, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"text-align-all", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TEXT_ALIGN_ALL], 14, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"font-family", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FONT_FAMILY], 11, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"flex", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FLEX], 4, 0},
    {"alignment-baseline", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_ALIGNMENT_BASELINE], 18, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"opacity", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_OPACITY], 7, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"overflow-y", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_OVERFLOW_Y], 10, 0},
    {NULL, NULL, 0, 0},
    {"text-decoration-color", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TEXT_DECORATION_COLOR], 21, 0},
    {"left", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_LEFT], 4, 0},
    {"hyphens", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_HYPHENS], 7, 0},
    {"border", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_BORDER], 6, 13},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"flex-flow", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FLEX_FLOW], 9, 14},
    {NULL, NULL, 0, 0},
    {"line-height", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_LINE_HEIGHT], 11, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"box-sizing", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_BOX_SIZING], 10, 0},
    {NULL, NULL, 0, 0},
    {"background-color", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_BACKGROUND_COLOR], 16, 15},
    {"display", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_DISPLAY], 7, 16},
    {"border-right-color", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_BORDER_RIGHT_COLOR], 18, 0},
    {"border-bottom-color", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_BORDER_BOTTOM_COLOR], 19, 0},
    {"margin", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_MARGIN], 6, 0},
    {"word-break", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_WORD_BREAK], 10, 19},
    {NULL, NULL, 0, 0},
    {"padding", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_PADDING], 7, 0},
    {"align-items", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_ALIGN_ITEMS], 11, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"justify-content", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_JUSTIFY_CONTENT], 15, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"height", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_HEIGHT], 6, 0},
    {"inset-block-end", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_INSET_BLOCK_END], 15, 0},
    {"inset-inline-end", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_INSET_INLINE_END], 16, 0},
    {NULL, NULL, 0, 0},
    {"overflow-inline", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_OVERFLOW_INLINE], 15, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"font-size", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FONT_SIZE], 9, 0},
    {"position", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_POSITION], 8, 22},
    {"float", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FLOAT], 5, 0},
    {NULL, NULL, 0, 0},
    {"top", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TOP], 3, 0},
    {NULL, NULL, 0, 0},
    {"float-reference", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FLOAT_REFERENCE], 15, 0},
    {NULL, NULL, 0, 0},
    {"font-weight", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FONT_WEIGHT], 11, 0},
    {"float-offset", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FLOAT_OFFSET], 12, 23},
    {NULL, NULL, 0, 0},
    {"margin-bottom", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_MARGIN_BOTTOM], 13, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"order", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_ORDER], 5, 0},
    {NULL, NULL, 0, 0},
    {"z-index", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_Z_INDEX], 7, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"flex-basis", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FLEX_BASIS], 10, 24},
    {"writing-mode", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_WRITING_MODE], 12, 0},
    {NULL, NULL, 0, 0},
    {"border-left", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_BORDER_LEFT], 11, 0},
    {"border-right", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_BORDER_RIGHT], 12, 0},
    {"hanging-punctuation", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_HANGING_PUNCTUATION], 19, 0},
    {"baseline-shift", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_BASELINE_SHIFT], 14, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"text-justify", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TEXT_JUSTIFY], 12, 26},
    {"float-defer", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FLOAT_DEFER], 11, 0},
    {"max-height", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_MAX_HEIGHT], 10, 28},
    {"margin-left", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_MARGIN_LEFT], 11, 0},
    {"margin-right", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_MARGIN_RIGHT], 12, 0},
    {"unicode-bidi", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_UNICODE_BIDI], 12, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"tab-size", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TAB_SIZE], 8, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"flex-wrap", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FLEX_WRAP], 9, 0},
    {"align-self", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_ALIGN_SELF], 10, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"text-decoration-line", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TEXT_DECORATION_LINE], 20, 0},
    {"text-decoration-style", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TEXT_DECORATION_STYLE], 21, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"inset-block-start", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_INSET_BLOCK_START], 17, 0},
    {"text-align", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TEXT_ALIGN], 10, 29},
    {"word-spacing", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_WORD_SPACING], 12, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"text-decoration", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TEXT_DECORATION], 15, 0},
    {"text-orientation", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TEXT_ORIENTATION], 16, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"overflow-block", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_OVERFLOW_BLOCK], 14, 0},
    {NULL, NULL, 0, 0},
    {"text-indent", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TEXT_INDENT], 11, 0},
    {"flex-direction", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_FLEX_DIRECTION], 14, 0},
    {NULL, NULL, 0, 0},
    {"line-break", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_LINE_BREAK], 10, 0},
    {"text-align-last", (void *) &lxb_css_property_data[LXB_CSS_PROPERTY_TEXT_ALIGN_LAST], 15, 0}
};


#endif /* LXB_CSS_PROPERTY_RES_H */

/* Resource: css/selectors/pseudo_res.h */

#ifndef LXB_CSS_SELECTOS_PSEUDO_RES_H
#define LXB_CSS_SELECTOS_PSEUDO_RES_H


static const lxb_css_selectors_pseudo_data_t lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS__LAST_ENTRY] =
{
    {(lxb_char_t *) "#undef", 6, LXB_CSS_SELECTOR_PSEUDO_CLASS__UNDEF},
    {(lxb_char_t *) "active", 6, LXB_CSS_SELECTOR_PSEUDO_CLASS_ACTIVE},
    {(lxb_char_t *) "any-link", 8, LXB_CSS_SELECTOR_PSEUDO_CLASS_ANY_LINK},
    {(lxb_char_t *) "blank", 5, LXB_CSS_SELECTOR_PSEUDO_CLASS_BLANK},
    {(lxb_char_t *) "checked", 7, LXB_CSS_SELECTOR_PSEUDO_CLASS_CHECKED},
    {(lxb_char_t *) "current", 7, LXB_CSS_SELECTOR_PSEUDO_CLASS_CURRENT},
    {(lxb_char_t *) "default", 7, LXB_CSS_SELECTOR_PSEUDO_CLASS_DEFAULT},
    {(lxb_char_t *) "disabled", 8, LXB_CSS_SELECTOR_PSEUDO_CLASS_DISABLED},
    {(lxb_char_t *) "empty", 5, LXB_CSS_SELECTOR_PSEUDO_CLASS_EMPTY},
    {(lxb_char_t *) "enabled", 7, LXB_CSS_SELECTOR_PSEUDO_CLASS_ENABLED},
    {(lxb_char_t *) "first-child", 11, LXB_CSS_SELECTOR_PSEUDO_CLASS_FIRST_CHILD},
    {(lxb_char_t *) "first-of-type", 13, LXB_CSS_SELECTOR_PSEUDO_CLASS_FIRST_OF_TYPE},
    {(lxb_char_t *) "focus", 5, LXB_CSS_SELECTOR_PSEUDO_CLASS_FOCUS},
    {(lxb_char_t *) "focus-visible", 13, LXB_CSS_SELECTOR_PSEUDO_CLASS_FOCUS_VISIBLE},
    {(lxb_char_t *) "focus-within", 12, LXB_CSS_SELECTOR_PSEUDO_CLASS_FOCUS_WITHIN},
    {(lxb_char_t *) "fullscreen", 10, LXB_CSS_SELECTOR_PSEUDO_CLASS_FULLSCREEN},
    {(lxb_char_t *) "future", 6, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUTURE},
    {(lxb_char_t *) "hover", 5, LXB_CSS_SELECTOR_PSEUDO_CLASS_HOVER},
    {(lxb_char_t *) "in-range", 8, LXB_CSS_SELECTOR_PSEUDO_CLASS_IN_RANGE},
    {(lxb_char_t *) "indeterminate", 13, LXB_CSS_SELECTOR_PSEUDO_CLASS_INDETERMINATE},
    {(lxb_char_t *) "invalid", 7, LXB_CSS_SELECTOR_PSEUDO_CLASS_INVALID},
    {(lxb_char_t *) "last-child", 10, LXB_CSS_SELECTOR_PSEUDO_CLASS_LAST_CHILD},
    {(lxb_char_t *) "last-of-type", 12, LXB_CSS_SELECTOR_PSEUDO_CLASS_LAST_OF_TYPE},
    {(lxb_char_t *) "link", 4, LXB_CSS_SELECTOR_PSEUDO_CLASS_LINK},
    {(lxb_char_t *) "local-link", 10, LXB_CSS_SELECTOR_PSEUDO_CLASS_LOCAL_LINK},
    {(lxb_char_t *) "only-child", 10, LXB_CSS_SELECTOR_PSEUDO_CLASS_ONLY_CHILD},
    {(lxb_char_t *) "only-of-type", 12, LXB_CSS_SELECTOR_PSEUDO_CLASS_ONLY_OF_TYPE},
    {(lxb_char_t *) "optional", 8, LXB_CSS_SELECTOR_PSEUDO_CLASS_OPTIONAL},
    {(lxb_char_t *) "out-of-range", 12, LXB_CSS_SELECTOR_PSEUDO_CLASS_OUT_OF_RANGE},
    {(lxb_char_t *) "past", 4, LXB_CSS_SELECTOR_PSEUDO_CLASS_PAST},
    {(lxb_char_t *) "placeholder-shown", 17, LXB_CSS_SELECTOR_PSEUDO_CLASS_PLACEHOLDER_SHOWN},
    {(lxb_char_t *) "read-only", 9, LXB_CSS_SELECTOR_PSEUDO_CLASS_READ_ONLY},
    {(lxb_char_t *) "read-write", 10, LXB_CSS_SELECTOR_PSEUDO_CLASS_READ_WRITE},
    {(lxb_char_t *) "required", 8, LXB_CSS_SELECTOR_PSEUDO_CLASS_REQUIRED},
    {(lxb_char_t *) "root", 4, LXB_CSS_SELECTOR_PSEUDO_CLASS_ROOT},
    {(lxb_char_t *) "scope", 5, LXB_CSS_SELECTOR_PSEUDO_CLASS_SCOPE},
    {(lxb_char_t *) "target", 6, LXB_CSS_SELECTOR_PSEUDO_CLASS_TARGET},
    {(lxb_char_t *) "target-within", 13, LXB_CSS_SELECTOR_PSEUDO_CLASS_TARGET_WITHIN},
    {(lxb_char_t *) "user-invalid", 12, LXB_CSS_SELECTOR_PSEUDO_CLASS_USER_INVALID},
    {(lxb_char_t *) "valid", 5, LXB_CSS_SELECTOR_PSEUDO_CLASS_VALID},
    {(lxb_char_t *) "visited", 7, LXB_CSS_SELECTOR_PSEUDO_CLASS_VISITED},
    {(lxb_char_t *) "warning", 7, LXB_CSS_SELECTOR_PSEUDO_CLASS_WARNING}
};

static const lxb_css_selectors_pseudo_data_func_t lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION__LAST_ENTRY] =
{
    {(lxb_char_t *) "#undef", 6, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION__UNDEF,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_class_function__undef,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_end}, false, false},
    {(lxb_char_t *) "current", 7, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_CURRENT,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_class_function_current,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_end}, false, true},
    {(lxb_char_t *) "dir", 3, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_DIR,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_class_function_dir,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_end}, false, false},
    {(lxb_char_t *) "has", 3, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_HAS,
     false, LXB_CSS_SELECTOR_COMBINATOR_DESCENDANT,
     {.value = lxb_css_selectors_state_pseudo_class_function_has,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_forgiving_relative}, true, true},
    {(lxb_char_t *) "is", 2, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_IS,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_class_function_is,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_forgiving}, true, true},
    {(lxb_char_t *) "lang", 4, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_LANG,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_class_function_lang,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_end}, false, false},
    {(lxb_char_t *) "lexbor-contains", 15, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_LEXBOR_CONTAINS,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_class_function_lexbor_contains,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_end}, false, false},
    {(lxb_char_t *) "not", 3, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NOT,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_class_function_not,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_end}, false, true},
    {(lxb_char_t *) "nth-child", 9, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_CHILD,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_class_function_nth_child,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_end}, false, true},
    {(lxb_char_t *) "nth-col", 7, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_COL,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_class_function_nth_col,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_end}, false, false},
    {(lxb_char_t *) "nth-last-child", 14, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_CHILD,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_class_function_nth_last_child,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_end}, false, true},
    {(lxb_char_t *) "nth-last-col", 12, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_COL,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_class_function_nth_last_col,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_end}, false, false},
    {(lxb_char_t *) "nth-last-of-type", 16, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_OF_TYPE,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_class_function_nth_last_of_type,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_end}, false, false},
    {(lxb_char_t *) "nth-of-type", 11, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_OF_TYPE,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_class_function_nth_of_type,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_end}, false, false},
    {(lxb_char_t *) "where", 5, LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_WHERE,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_class_function_where,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_forgiving}, true, true}
};

static const lxb_css_selectors_pseudo_data_t lxb_css_selectors_pseudo_data_pseudo_element[LXB_CSS_SELECTOR_PSEUDO_ELEMENT__LAST_ENTRY] =
{
    {(lxb_char_t *) "#undef", 6, LXB_CSS_SELECTOR_PSEUDO_ELEMENT__UNDEF},
    {(lxb_char_t *) "after", 5, LXB_CSS_SELECTOR_PSEUDO_ELEMENT_AFTER},
    {(lxb_char_t *) "backdrop", 8, LXB_CSS_SELECTOR_PSEUDO_ELEMENT_BACKDROP},
    {(lxb_char_t *) "before", 6, LXB_CSS_SELECTOR_PSEUDO_ELEMENT_BEFORE},
    {(lxb_char_t *) "first-letter", 12, LXB_CSS_SELECTOR_PSEUDO_ELEMENT_FIRST_LETTER},
    {(lxb_char_t *) "first-line", 10, LXB_CSS_SELECTOR_PSEUDO_ELEMENT_FIRST_LINE},
    {(lxb_char_t *) "grammar-error", 13, LXB_CSS_SELECTOR_PSEUDO_ELEMENT_GRAMMAR_ERROR},
    {(lxb_char_t *) "inactive-selection", 18, LXB_CSS_SELECTOR_PSEUDO_ELEMENT_INACTIVE_SELECTION},
    {(lxb_char_t *) "marker", 6, LXB_CSS_SELECTOR_PSEUDO_ELEMENT_MARKER},
    {(lxb_char_t *) "placeholder", 11, LXB_CSS_SELECTOR_PSEUDO_ELEMENT_PLACEHOLDER},
    {(lxb_char_t *) "selection", 9, LXB_CSS_SELECTOR_PSEUDO_ELEMENT_SELECTION},
    {(lxb_char_t *) "spelling-error", 14, LXB_CSS_SELECTOR_PSEUDO_ELEMENT_SPELLING_ERROR},
    {(lxb_char_t *) "target-text", 11, LXB_CSS_SELECTOR_PSEUDO_ELEMENT_TARGET_TEXT}
};

static const lxb_css_selectors_pseudo_data_func_t lxb_css_selectors_pseudo_data_pseudo_element_function[LXB_CSS_SELECTOR_PSEUDO_ELEMENT_FUNCTION__LAST_ENTRY] =
{
    {(lxb_char_t *) "#undef", 6, LXB_CSS_SELECTOR_PSEUDO_ELEMENT_FUNCTION__UNDEF,
     false, LXB_CSS_SELECTOR_COMBINATOR_CLOSE,
     {.value = lxb_css_selectors_state_pseudo_element_function__undef,
      .cb.failed = lxb_css_state_failed, .cb.end = lxb_css_selectors_state_function_end}, false, false}
};

static const lexbor_shs_entry_t lxb_css_selectors_pseudo_class_shs[79] =
{
    {NULL, NULL, 78, 0},
    {"focus-visible", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_FOCUS_VISIBLE], 13, 0},
    {"first-of-type", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_FIRST_OF_TYPE], 13, 1},
    {"in-range", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_IN_RANGE], 8, 0},
    {"out-of-range", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_OUT_OF_RANGE], 12, 0},
    {"read-write", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_READ_WRITE], 10, 0},
    {"hover", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_HOVER], 5, 3},
    {"enabled", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_ENABLED], 7, 0},
    {"fullscreen", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_FULLSCREEN], 10, 0},
    {"placeholder-shown", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_PLACEHOLDER_SHOWN], 17, 0},
    {"target-within", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_TARGET_WITHIN], 13, 0},
    {"indeterminate", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_INDETERMINATE], 13, 0},
    {"local-link", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_LOCAL_LINK], 10, 0},
    {"user-invalid", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_USER_INVALID], 12, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"past", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_PAST], 4, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"only-of-type", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_ONLY_OF_TYPE], 12, 4},
    {"only-child", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_ONLY_CHILD], 10, 5},
    {"focus", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_FOCUS], 5, 7},
    {NULL, NULL, 0, 0},
    {"any-link", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_ANY_LINK], 8, 0},
    {NULL, NULL, 0, 0},
    {"valid", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_VALID], 5, 0},
    {NULL, NULL, 0, 0},
    {"visited", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_VISITED], 7, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"root", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_ROOT], 4, 8},
    {NULL, NULL, 0, 0},
    {"focus-within", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_FOCUS_WITHIN], 12, 0},
    {"checked", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_CHECKED], 7, 9},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"active", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_ACTIVE], 6, 0},
    {"last-of-type", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_LAST_OF_TYPE], 12, 0},
    {NULL, NULL, 0, 0},
    {"target", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_TARGET], 6, 0},
    {"read-only", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_READ_ONLY], 9, 10},
    {NULL, NULL, 0, 0},
    {"first-child", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_FIRST_CHILD], 11, 0},
    {"disabled", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_DISABLED], 8, 0},
    {NULL, NULL, 0, 0},
    {"required", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_REQUIRED], 8, 0},
    {NULL, NULL, 0, 0},
    {"link", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_LINK], 4, 0},
    {NULL, NULL, 0, 0},
    {"empty", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_EMPTY], 5, 0},
    {"invalid", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_INVALID], 7, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"scope", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_SCOPE], 5, 12},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"blank", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_BLANK], 5, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"warning", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_WARNING], 7, 0},
    {"default", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_DEFAULT], 7, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"future", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUTURE], 6, 0},
    {"current", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_CURRENT], 7, 0},
    {"optional", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_OPTIONAL], 8, 0},
    {NULL, NULL, 0, 0},
    {"last-child", (void *) &lxb_css_selectors_pseudo_data_pseudo_class[LXB_CSS_SELECTOR_PSEUDO_CLASS_LAST_CHILD], 10, 0},
    {NULL, NULL, 0, 0}
};

static const lexbor_shs_entry_t lxb_css_selectors_pseudo_class_function_shs[43] =
{
    {NULL, NULL, 42, 0},
    {"nth-last-of-type", (void *) &lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_OF_TYPE], 16, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"not", (void *) &lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NOT], 3, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"has", (void *) &lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_HAS], 3, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"nth-col", (void *) &lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_COL], 7, 0},
    {NULL, NULL, 0, 0},
    {"lexbor-contains", (void *) &lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_LEXBOR_CONTAINS], 15, 0},
    {NULL, NULL, 0, 0},
    {"is", (void *) &lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_IS], 2, 0},
    {"nth-last-col", (void *) &lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_COL], 12, 0},
    {"current", (void *) &lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_CURRENT], 7, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"lang", (void *) &lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_LANG], 4, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"nth-child", (void *) &lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_CHILD], 9, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"nth-last-child", (void *) &lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_CHILD], 14, 0},
    {"nth-of-type", (void *) &lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_OF_TYPE], 11, 0},
    {NULL, NULL, 0, 0},
    {"dir", (void *) &lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_DIR], 3, 0},
    {"where", (void *) &lxb_css_selectors_pseudo_data_pseudo_class_function[LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_WHERE], 5, 0},
    {NULL, NULL, 0, 0}
};

static const lexbor_shs_entry_t lxb_css_selectors_pseudo_element_shs[24] =
{
    {NULL, NULL, 23, 0},
    {NULL, NULL, 0, 0},
    {"inactive-selection", (void *) &lxb_css_selectors_pseudo_data_pseudo_element[LXB_CSS_SELECTOR_PSEUDO_ELEMENT_INACTIVE_SELECTION], 18, 0},
    {"placeholder", (void *) &lxb_css_selectors_pseudo_data_pseudo_element[LXB_CSS_SELECTOR_PSEUDO_ELEMENT_PLACEHOLDER], 11, 0},
    {"after", (void *) &lxb_css_selectors_pseudo_data_pseudo_element[LXB_CSS_SELECTOR_PSEUDO_ELEMENT_AFTER], 5, 0},
    {"first-letter", (void *) &lxb_css_selectors_pseudo_data_pseudo_element[LXB_CSS_SELECTOR_PSEUDO_ELEMENT_FIRST_LETTER], 12, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"grammar-error", (void *) &lxb_css_selectors_pseudo_data_pseudo_element[LXB_CSS_SELECTOR_PSEUDO_ELEMENT_GRAMMAR_ERROR], 13, 0},
    {"before", (void *) &lxb_css_selectors_pseudo_data_pseudo_element[LXB_CSS_SELECTOR_PSEUDO_ELEMENT_BEFORE], 6, 0},
    {"selection", (void *) &lxb_css_selectors_pseudo_data_pseudo_element[LXB_CSS_SELECTOR_PSEUDO_ELEMENT_SELECTION], 9, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"target-text", (void *) &lxb_css_selectors_pseudo_data_pseudo_element[LXB_CSS_SELECTOR_PSEUDO_ELEMENT_TARGET_TEXT], 11, 0},
    {"first-line", (void *) &lxb_css_selectors_pseudo_data_pseudo_element[LXB_CSS_SELECTOR_PSEUDO_ELEMENT_FIRST_LINE], 10, 0},
    {"spelling-error", (void *) &lxb_css_selectors_pseudo_data_pseudo_element[LXB_CSS_SELECTOR_PSEUDO_ELEMENT_SPELLING_ERROR], 14, 0},
    {"backdrop", (void *) &lxb_css_selectors_pseudo_data_pseudo_element[LXB_CSS_SELECTOR_PSEUDO_ELEMENT_BACKDROP], 8, 0},
    {"marker", (void *) &lxb_css_selectors_pseudo_data_pseudo_element[LXB_CSS_SELECTOR_PSEUDO_ELEMENT_MARKER], 6, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}
};

static const lexbor_shs_entry_t lxb_css_selectors_pseudo_element_function_shs[6] =
{
    {NULL, NULL, 5, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}
};


#endif /* LXB_CSS_SELECTOS_PSEUDO_RES_H */

/* Resource: css/syntax/res.h */

#define LXB_CSS_SYNTAX_RES_NAME_START 0x01

LXB_API const lxb_char_t lxb_css_syntax_res_name_map[256] =
{
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x02, 0x02,
    0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01
};

/* Resource: css/syntax/state_res.h */

static const lxb_css_syntax_tokenizer_state_f
lxb_css_syntax_state_res_map[256] =
{
    lxb_css_syntax_state_ident_like_not_url, /* 0x00; 'NUL'; NULL */
    lxb_css_syntax_state_delim, /* 0x01; 'SOH'; Start of Heading */
    lxb_css_syntax_state_delim, /* 0x02; 'STX'; Start of text */
    lxb_css_syntax_state_delim, /* 0x03; 'ETX'; End of text */
    lxb_css_syntax_state_delim, /* 0x04; 'EOT'; End of Transmission */
    lxb_css_syntax_state_delim, /* 0x05; 'ENQ'; Enquiry */
    lxb_css_syntax_state_delim, /* 0x06; 'ACK'; Acknowledge */
    lxb_css_syntax_state_delim, /* 0x07; 'BEL'; Bell */
    lxb_css_syntax_state_delim, /* 0x08; 'BS'; Backspace */
    lxb_css_syntax_state_whitespace, /* 0x09; 'TAB'; Horizontal Tab */
    lxb_css_syntax_state_whitespace, /* 0x0A; 'LF'; Line Feed ('\n') */
    lxb_css_syntax_state_delim, /* 0x0B; 'VT'; Vertical Tab */
    lxb_css_syntax_state_whitespace, /* 0x0C; 'FF'; Form Feed */
    lxb_css_syntax_state_whitespace, /* 0x0D; 'CR'; Carriage Return ('\r') */
    lxb_css_syntax_state_delim, /* 0x0E; 'SO'; Shift Out */
    lxb_css_syntax_state_delim, /* 0x0F; 'SI'; Shift In */
    lxb_css_syntax_state_delim, /* 0x10; 'DLE'; Data Link Escape */
    lxb_css_syntax_state_delim, /* 0x11; 'DC1'; Device Control #1 */
    lxb_css_syntax_state_delim, /* 0x12; 'DC2'; Device Control #2 */
    lxb_css_syntax_state_delim, /* 0x13; 'DC3'; Device Control #3 */
    lxb_css_syntax_state_delim, /* 0x14; 'DC4'; Device Control #4 */
    lxb_css_syntax_state_delim, /* 0x15; 'NAK'; Negative Acknowledge */
    lxb_css_syntax_state_delim, /* 0x16; 'SYN'; Synchronous Idle */
    lxb_css_syntax_state_delim, /* 0x17; 'ETB'; End of Transmission Block */
    lxb_css_syntax_state_delim, /* 0x18; 'CAN'; Cancel */
    lxb_css_syntax_state_delim, /* 0x19; 'EM'; End of Medium */
    lxb_css_syntax_state_delim, /* 0x1A; 'SUB'; Substitute */
    lxb_css_syntax_state_delim, /* 0x1B; 'ESC'; Escape */
    lxb_css_syntax_state_delim, /* 0x1C; 'FS'; File Separator */
    lxb_css_syntax_state_delim, /* 0x1D; 'GS'; Group Separator */
    lxb_css_syntax_state_delim, /* 0x1E; 'RS'; Record Separator */
    lxb_css_syntax_state_delim, /* 0x1F; 'US'; Unit Separator */
    lxb_css_syntax_state_whitespace, /* 0x20; 'SP'; Space */
    lxb_css_syntax_state_delim, /* 0x21; '!'; Exclamation mark */
    lxb_css_syntax_state_string, /* 0x22; '"'; Only quotes above */
    lxb_css_syntax_state_hash, /* 0x23; '#'; Pound sign */
    lxb_css_syntax_state_delim, /* 0x24; '$'; Dollar sign */
    lxb_css_syntax_state_delim, /* 0x25; '%'; Percentage sign */
    lxb_css_syntax_state_delim, /* 0x26; '&'; Ampersand */
    lxb_css_syntax_state_string, /* 0x27; '''; Apostrophe */
    lxb_css_syntax_state_lparenthesis, /* 0x28; '('; Left bracket */
    lxb_css_syntax_state_rparenthesis, /* 0x29; ')'; Right bracket */
    lxb_css_syntax_state_delim, /* 0x2A; '*'; Asterisk */
    lxb_css_syntax_state_plus, /* 0x2B; '+'; Plus symbol */
    lxb_css_syntax_state_comma, /* 0x2C; ','; Comma */
    lxb_css_syntax_state_minus, /* 0x2D; '-'; Dash */
    lxb_css_syntax_state_full_stop, /* 0x2E; '.'; Full stop */
    lxb_css_syntax_state_comment, /* 0x2F; '/'; Forward slash */
    lxb_css_syntax_state_consume_before_numeric, /* 0x30; '0' */
    lxb_css_syntax_state_consume_before_numeric, /* 0x31; '1' */
    lxb_css_syntax_state_consume_before_numeric, /* 0x32; '2' */
    lxb_css_syntax_state_consume_before_numeric, /* 0x33; '3' */
    lxb_css_syntax_state_consume_before_numeric, /* 0x34; '4' */
    lxb_css_syntax_state_consume_before_numeric, /* 0x35; '5' */
    lxb_css_syntax_state_consume_before_numeric, /* 0x36; '6' */
    lxb_css_syntax_state_consume_before_numeric, /* 0x37; '7' */
    lxb_css_syntax_state_consume_before_numeric, /* 0x38; '8' */
    lxb_css_syntax_state_consume_before_numeric, /* 0x39; '9' */
    lxb_css_syntax_state_colon, /* 0x3A; ':'; Colon */
    lxb_css_syntax_state_semicolon, /* 0x3B; ';'; Semicolon */
    lxb_css_syntax_state_less_sign, /* 0x3C; '<'; Small than bracket */
    lxb_css_syntax_state_delim, /* 0x3D; '='; Equals sign */
    lxb_css_syntax_state_delim, /* 0x3E; '>'; Bigger than symbol */
    lxb_css_syntax_state_delim, /* 0x3F; '?'; Question mark */
    lxb_css_syntax_state_at, /* 0x40; '@'; At symbol */
    lxb_css_syntax_state_ident_like_not_url, /* 0x41; 'A' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x42; 'B' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x43; 'C' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x44; 'D' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x45; 'E' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x46; 'F' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x47; 'G' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x48; 'H' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x49; 'I' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x4A; 'J' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x4B; 'K' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x4C; 'L' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x4D; 'M' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x4E; 'N' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x4F; 'O' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x50; 'P' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x51; 'Q' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x52; 'R' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x53; 'S' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x54; 'T' */
    lxb_css_syntax_state_ident_like, /* 0x55; 'U' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x56; 'V' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x57; 'W' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x58; 'X' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x59; 'Y' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x5A; 'Z' */
    lxb_css_syntax_state_ls_bracket, /* 0x5B; '['; Left square bracket */
    lxb_css_syntax_state_rsolidus, /* 0x5C; '\'; Inverse/backward slash */
    lxb_css_syntax_state_rs_bracket, /* 0x5D; ']'; Right square bracket */
    lxb_css_syntax_state_delim, /* 0x5E; '^'; Circumflex */
    lxb_css_syntax_state_ident_like_not_url, /* 0x5F; '_'; Underscore */
    lxb_css_syntax_state_delim, /* 0x60; '`'; Gravis (backtick) */
    lxb_css_syntax_state_ident_like_not_url, /* 0x61; 'a' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x62; 'b' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x63; 'c' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x64; 'd' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x65; 'e' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x66; 'f' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x67; 'g' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x68; 'h' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x69; 'i' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x6A; 'j' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x6B; 'k' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x6C; 'l' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x6D; 'm' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x6E; 'n' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x6F; 'o' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x70; 'p' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x71; 'q' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x72; 'r' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x73; 's' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x74; 't' */
    lxb_css_syntax_state_ident_like, /* 0x75; 'u' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x76; 'v' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x77; 'w' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x78; 'x' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x79; 'y' */
    lxb_css_syntax_state_ident_like_not_url, /* 0x7A; 'z' */
    lxb_css_syntax_state_lc_bracket, /* 0x7B; '{'; Left curly bracket */
    lxb_css_syntax_state_delim, /* 0x7C; '|'; Vertical line */
    lxb_css_syntax_state_rc_bracket, /* 0x7D; '}'; Right curly brackets */
    lxb_css_syntax_state_delim, /* 0x7E; '~'; Tilde */
    lxb_css_syntax_state_delim, /* 0x7F; 'DEL'; Delete */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x80 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x81 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x82 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x83 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x84 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x85 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x86 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x87 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x88 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x89 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x8A */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x8B */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x8C */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x8D */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x8E */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x8F */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x90 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x91 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x92 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x93 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x94 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x95 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x96 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x97 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x98 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x99 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x9A */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x9B */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x9C */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x9D */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x9E */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0x9F */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xA0 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xA1 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xA2 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xA3 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xA4 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xA5 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xA6 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xA7 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xA8 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xA9 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xAA */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xAB */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xAC */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xAD */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xAE */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xAF */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xB0 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xB1 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xB2 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xB3 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xB4 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xB5 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xB6 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xB7 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xB8 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xB9 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xBA */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xBB */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xBC */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xBD */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xBE */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xBF */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xC0 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xC1 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xC2 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xC3 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xC4 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xC5 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xC6 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xC7 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xC8 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xC9 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xCA */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xCB */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xCC */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xCD */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xCE */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xCF */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xD0 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xD1 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xD2 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xD3 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xD4 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xD5 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xD6 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xD7 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xD8 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xD9 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xDA */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xDB */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xDC */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xDD */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xDE */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xDF */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xE0 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xE1 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xE2 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xE3 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xE4 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xE5 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xE6 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xE7 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xE8 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xE9 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xEA */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xEB */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xEC */
    lxb_css_syntax_state_ident_like_not_url_surrogate, /* 0xED */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xEE */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xEF */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xF0 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xF1 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xF2 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xF3 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xF4 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xF5 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xF6 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xF7 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xF8 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xF9 */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xFA */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xFB */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xFC */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xFD */
    lxb_css_syntax_state_ident_like_not_url_start, /* 0xFE */
    lxb_css_syntax_state_ident_like_not_url_start  /* 0xFF */
};

/* Resource: css/syntax/token_res.h */

static const lexbor_shs_entry_t lxb_css_syntax_token_res_name_shs_map[136] =
{
    {NULL, NULL, 135, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"colon", (void *) LXB_CSS_SYNTAX_TOKEN_COLON, 5, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"undefined", (void *) LXB_CSS_SYNTAX_TOKEN_UNDEF, 9, 0}, {"right-curly-bracket", (void *) LXB_CSS_SYNTAX_TOKEN_RC_BRACKET, 19, 0},
    {"right-square-bracket", (void *) LXB_CSS_SYNTAX_TOKEN_RS_BRACKET, 20, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"delim", (void *) LXB_CSS_SYNTAX_TOKEN_DELIM, 5, 0}, {"left-parenthesis", (void *) LXB_CSS_SYNTAX_TOKEN_L_PARENTHESIS, 16, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"dimension", (void *) LXB_CSS_SYNTAX_TOKEN_DIMENSION, 9, 0}, {"url", (void *) LXB_CSS_SYNTAX_TOKEN_URL, 3, 0},
    {"string", (void *) LXB_CSS_SYNTAX_TOKEN_STRING, 6, 0}, {"comma", (void *) LXB_CSS_SYNTAX_TOKEN_COMMA, 5, 0},
    {NULL, NULL, 0, 0}, {"bad-url", (void *) LXB_CSS_SYNTAX_TOKEN_BAD_URL, 7, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"hash", (void *) LXB_CSS_SYNTAX_TOKEN_HASH, 4, 0},
    {NULL, NULL, 0, 0}, {"ident", (void *) LXB_CSS_SYNTAX_TOKEN_IDENT, 5, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"function", (void *) LXB_CSS_SYNTAX_TOKEN_FUNCTION, 8, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"cdc", (void *) LXB_CSS_SYNTAX_TOKEN_CDC, 3, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"unicode-range", (void *) LXB_CSS_SYNTAX_TOKEN_UNICODE_RANGE, 13, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"left-curly-bracket", (void *) LXB_CSS_SYNTAX_TOKEN_LC_BRACKET, 18, 0},
    {"left-square-bracket", (void *) LXB_CSS_SYNTAX_TOKEN_LS_BRACKET, 19, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"bad-string", (void *) LXB_CSS_SYNTAX_TOKEN_BAD_STRING, 10, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"whitespace", (void *) LXB_CSS_SYNTAX_TOKEN_WHITESPACE, 10, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"cdo", (void *) LXB_CSS_SYNTAX_TOKEN_CDO, 3, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"comment", (void *) LXB_CSS_SYNTAX_TOKEN_COMMENT, 7, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"at-keyword", (void *) LXB_CSS_SYNTAX_TOKEN_AT_KEYWORD, 10, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"right-parenthesis", (void *) LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS, 17, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"number", (void *) LXB_CSS_SYNTAX_TOKEN_NUMBER, 6, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"percentage", (void *) LXB_CSS_SYNTAX_TOKEN_PERCENTAGE, 10, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"end-of-file", (void *) LXB_CSS_SYNTAX_TOKEN__EOF, 11, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"semicolon", (void *) LXB_CSS_SYNTAX_TOKEN_SEMICOLON, 9, 0}
};

/* Resource: css/unit/res.h */

#ifndef LXB_CSS_UNIT_RES_H
#define LXB_CSS_UNIT_RES_H


static const lxb_css_data_t lxb_css_unit_data[LXB_CSS_UNIT__LAST_ENTRY] =
{
    {(lxb_char_t *) "#undef", 6, LXB_CSS_UNIT__UNDEF},
    {(lxb_char_t *) "Q", 1, LXB_CSS_UNIT_Q},
    {(lxb_char_t *) "cm", 2, LXB_CSS_UNIT_CM},
    {(lxb_char_t *) "in", 2, LXB_CSS_UNIT_IN},
    {(lxb_char_t *) "mm", 2, LXB_CSS_UNIT_MM},
    {(lxb_char_t *) "pc", 2, LXB_CSS_UNIT_PC},
    {(lxb_char_t *) "pt", 2, LXB_CSS_UNIT_PT},
    {(lxb_char_t *) "px", 2, LXB_CSS_UNIT_PX},
    {(lxb_char_t *) "cap", 3, LXB_CSS_UNIT_CAP},
    {(lxb_char_t *) "ch", 2, LXB_CSS_UNIT_CH},
    {(lxb_char_t *) "em", 2, LXB_CSS_UNIT_EM},
    {(lxb_char_t *) "ex", 2, LXB_CSS_UNIT_EX},
    {(lxb_char_t *) "ic", 2, LXB_CSS_UNIT_IC},
    {(lxb_char_t *) "lh", 2, LXB_CSS_UNIT_LH},
    {(lxb_char_t *) "rem", 3, LXB_CSS_UNIT_REM},
    {(lxb_char_t *) "rlh", 3, LXB_CSS_UNIT_RLH},
    {(lxb_char_t *) "vb", 2, LXB_CSS_UNIT_VB},
    {(lxb_char_t *) "vh", 2, LXB_CSS_UNIT_VH},
    {(lxb_char_t *) "vi", 2, LXB_CSS_UNIT_VI},
    {(lxb_char_t *) "vmax", 4, LXB_CSS_UNIT_VMAX},
    {(lxb_char_t *) "vmin", 4, LXB_CSS_UNIT_VMIN},
    {(lxb_char_t *) "vw", 2, LXB_CSS_UNIT_VW},
    {(lxb_char_t *) "deg", 3, LXB_CSS_UNIT_DEG},
    {(lxb_char_t *) "grad", 4, LXB_CSS_UNIT_GRAD},
    {(lxb_char_t *) "rad", 3, LXB_CSS_UNIT_RAD},
    {(lxb_char_t *) "turn", 4, LXB_CSS_UNIT_TURN},
    {(lxb_char_t *) "Hz", 2, LXB_CSS_UNIT_HZ},
    {(lxb_char_t *) "kHz", 3, LXB_CSS_UNIT_KHZ},
    {(lxb_char_t *) "dpcm", 4, LXB_CSS_UNIT_DPCM},
    {(lxb_char_t *) "dpi", 3, LXB_CSS_UNIT_DPI},
    {(lxb_char_t *) "dppx", 4, LXB_CSS_UNIT_DPPX},
    {(lxb_char_t *) "x", 1, LXB_CSS_UNIT_X},
    {(lxb_char_t *) "ms", 2, LXB_CSS_UNIT_MS},
    {(lxb_char_t *) "s", 1, LXB_CSS_UNIT_S}
};

static const lexbor_shs_entry_t lxb_css_unit_absolute_relative_shs[84] =
{
    {NULL, NULL, 83, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"rem", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_REM], 3, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"vmax", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_VMAX], 4, 0},
    {"pc", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_PC], 2, 0},
    {"lh", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_LH], 2, 0},
    {NULL, NULL, 0, 0},
    {"rlh", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_RLH], 3, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"cm", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_CM], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"q", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_Q], 1, 0},
    {"ic", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_IC], 2, 0},
    {NULL, NULL, 0, 0},
    {"vw", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_VW], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"pt", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_PT], 2, 0},
    {"vb", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_VB], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"ex", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_EX], 2, 0},
    {"in", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_IN], 2, 0},
    {"cap", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_CAP], 3, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"em", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_EM], 2, 0},
    {NULL, NULL, 0, 0},
    {"vmin", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_VMIN], 4, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"vi", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_VI], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"mm", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_MM], 2, 0},
    {"ch", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_CH], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"px", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_PX], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"vh", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_VH], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}
};

static const lexbor_shs_entry_t lxb_css_unit_absolute_shs[30] =
{
    {NULL, NULL, 29, 0},
    {NULL, NULL, 0, 0},
    {"in", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_IN], 2, 0},
    {"pt", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_PT], 2, 0},
    {"q", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_Q], 1, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"mm", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_MM], 2, 0},
    {"px", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_PX], 2, 0},
    {"cm", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_CM], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"pc", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_PC], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}
};

static const lexbor_shs_entry_t lxb_css_unit_relative_shs[64] =
{
    {NULL, NULL, 63, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"ic", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_IC], 2, 0},
    {"cap", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_CAP], 3, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"rem", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_REM], 3, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"em", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_EM], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"ch", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_CH], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"ex", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_EX], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"vb", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_VB], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"vh", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_VH], 2, 0},
    {"vi", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_VI], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"rlh", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_RLH], 3, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"vmin", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_VMIN], 4, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"lh", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_LH], 2, 0},
    {NULL, NULL, 0, 0},
    {"vw", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_VW], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"vmax", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_VMAX], 4, 0},
    {NULL, NULL, 0, 0}
};

static const lexbor_shs_entry_t lxb_css_unit_angle_shs[7] =
{
    {NULL, NULL, 6, 0},
    {"turn", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_TURN], 4, 0},
    {"deg", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_DEG], 3, 0},
    {"grad", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_GRAD], 4, 0},
    {"rad", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_RAD], 3, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}
};

static const lexbor_shs_entry_t lxb_css_unit_frequency_shs[6] =
{
    {NULL, NULL, 5, 0},
    {NULL, NULL, 0, 0},
    {"khz", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_KHZ], 3, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"hz", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_HZ], 2, 0}
};

static const lexbor_shs_entry_t lxb_css_unit_resolution_shs[7] =
{
    {NULL, NULL, 6, 0},
    {NULL, NULL, 0, 0},
    {"x", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_X], 1, 0},
    {"dpcm", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_DPCM], 4, 0},
    {"dpi", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_DPI], 3, 0},
    {"dppx", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_DPPX], 4, 0},
    {NULL, NULL, 0, 0}
};

static const lexbor_shs_entry_t lxb_css_unit_duration_shs[6] =
{
    {NULL, NULL, 5, 0},
    {NULL, NULL, 0, 0},
    {"s", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_S], 1, 0},
    {"ms", (void *) &lxb_css_unit_data[LXB_CSS_UNIT_MS], 2, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}
};


#endif /* LXB_CSS_UNIT_RES_H */

/* Resource: css/value/res.h */

#ifndef LXB_CSS_VALUE_RES_H
#define LXB_CSS_VALUE_RES_H


static const lxb_css_data_t lxb_css_value_data[LXB_CSS_VALUE__LAST_ENTRY] =
{
    {(lxb_char_t *) "_undef", 6, LXB_CSS_VALUE__UNDEF},
    {(lxb_char_t *) "initial", 7, LXB_CSS_VALUE_INITIAL},
    {(lxb_char_t *) "inherit", 7, LXB_CSS_VALUE_INHERIT},
    {(lxb_char_t *) "unset", 5, LXB_CSS_VALUE_UNSET},
    {(lxb_char_t *) "revert", 6, LXB_CSS_VALUE_REVERT},
    {(lxb_char_t *) "flex-start", 10, LXB_CSS_VALUE_FLEX_START},
    {(lxb_char_t *) "flex-end", 8, LXB_CSS_VALUE_FLEX_END},
    {(lxb_char_t *) "center", 6, LXB_CSS_VALUE_CENTER},
    {(lxb_char_t *) "space-between", 13, LXB_CSS_VALUE_SPACE_BETWEEN},
    {(lxb_char_t *) "space-around", 12, LXB_CSS_VALUE_SPACE_AROUND},
    {(lxb_char_t *) "stretch", 7, LXB_CSS_VALUE_STRETCH},
    {(lxb_char_t *) "baseline", 8, LXB_CSS_VALUE_BASELINE},
    {(lxb_char_t *) "auto", 4, LXB_CSS_VALUE_AUTO},
    {(lxb_char_t *) "text-bottom", 11, LXB_CSS_VALUE_TEXT_BOTTOM},
    {(lxb_char_t *) "alphabetic", 10, LXB_CSS_VALUE_ALPHABETIC},
    {(lxb_char_t *) "ideographic", 11, LXB_CSS_VALUE_IDEOGRAPHIC},
    {(lxb_char_t *) "middle", 6, LXB_CSS_VALUE_MIDDLE},
    {(lxb_char_t *) "central", 7, LXB_CSS_VALUE_CENTRAL},
    {(lxb_char_t *) "mathematical", 12, LXB_CSS_VALUE_MATHEMATICAL},
    {(lxb_char_t *) "text-top", 8, LXB_CSS_VALUE_TEXT_TOP},
    {(lxb_char_t *) "_length", 7, LXB_CSS_VALUE__LENGTH},
    {(lxb_char_t *) "_percentage", 11, LXB_CSS_VALUE__PERCENTAGE},
    {(lxb_char_t *) "sub", 3, LXB_CSS_VALUE_SUB},
    {(lxb_char_t *) "super", 5, LXB_CSS_VALUE_SUPER},
    {(lxb_char_t *) "top", 3, LXB_CSS_VALUE_TOP},
    {(lxb_char_t *) "bottom", 6, LXB_CSS_VALUE_BOTTOM},
    {(lxb_char_t *) "first", 5, LXB_CSS_VALUE_FIRST},
    {(lxb_char_t *) "last", 4, LXB_CSS_VALUE_LAST},
    {(lxb_char_t *) "thin", 4, LXB_CSS_VALUE_THIN},
    {(lxb_char_t *) "medium", 6, LXB_CSS_VALUE_MEDIUM},
    {(lxb_char_t *) "thick", 5, LXB_CSS_VALUE_THICK},
    {(lxb_char_t *) "none", 4, LXB_CSS_VALUE_NONE},
    {(lxb_char_t *) "hidden", 6, LXB_CSS_VALUE_HIDDEN},
    {(lxb_char_t *) "dotted", 6, LXB_CSS_VALUE_DOTTED},
    {(lxb_char_t *) "dashed", 6, LXB_CSS_VALUE_DASHED},
    {(lxb_char_t *) "solid", 5, LXB_CSS_VALUE_SOLID},
    {(lxb_char_t *) "double", 6, LXB_CSS_VALUE_DOUBLE},
    {(lxb_char_t *) "groove", 6, LXB_CSS_VALUE_GROOVE},
    {(lxb_char_t *) "ridge", 5, LXB_CSS_VALUE_RIDGE},
    {(lxb_char_t *) "inset", 5, LXB_CSS_VALUE_INSET},
    {(lxb_char_t *) "outset", 6, LXB_CSS_VALUE_OUTSET},
    {(lxb_char_t *) "content-box", 11, LXB_CSS_VALUE_CONTENT_BOX},
    {(lxb_char_t *) "border-box", 10, LXB_CSS_VALUE_BORDER_BOX},
    {(lxb_char_t *) "inline-start", 12, LXB_CSS_VALUE_INLINE_START},
    {(lxb_char_t *) "inline-end", 10, LXB_CSS_VALUE_INLINE_END},
    {(lxb_char_t *) "block-start", 11, LXB_CSS_VALUE_BLOCK_START},
    {(lxb_char_t *) "block-end", 9, LXB_CSS_VALUE_BLOCK_END},
    {(lxb_char_t *) "left", 4, LXB_CSS_VALUE_LEFT},
    {(lxb_char_t *) "right", 5, LXB_CSS_VALUE_RIGHT},
    {(lxb_char_t *) "currentcolor", 12, LXB_CSS_VALUE_CURRENTCOLOR},
    {(lxb_char_t *) "transparent", 11, LXB_CSS_VALUE_TRANSPARENT},
    {(lxb_char_t *) "hex", 3, LXB_CSS_VALUE_HEX},
    {(lxb_char_t *) "aliceblue", 9, LXB_CSS_VALUE_ALICEBLUE},
    {(lxb_char_t *) "antiquewhite", 12, LXB_CSS_VALUE_ANTIQUEWHITE},
    {(lxb_char_t *) "aqua", 4, LXB_CSS_VALUE_AQUA},
    {(lxb_char_t *) "aquamarine", 10, LXB_CSS_VALUE_AQUAMARINE},
    {(lxb_char_t *) "azure", 5, LXB_CSS_VALUE_AZURE},
    {(lxb_char_t *) "beige", 5, LXB_CSS_VALUE_BEIGE},
    {(lxb_char_t *) "bisque", 6, LXB_CSS_VALUE_BISQUE},
    {(lxb_char_t *) "black", 5, LXB_CSS_VALUE_BLACK},
    {(lxb_char_t *) "blanchedalmond", 14, LXB_CSS_VALUE_BLANCHEDALMOND},
    {(lxb_char_t *) "blue", 4, LXB_CSS_VALUE_BLUE},
    {(lxb_char_t *) "blueviolet", 10, LXB_CSS_VALUE_BLUEVIOLET},
    {(lxb_char_t *) "brown", 5, LXB_CSS_VALUE_BROWN},
    {(lxb_char_t *) "burlywood", 9, LXB_CSS_VALUE_BURLYWOOD},
    {(lxb_char_t *) "cadetblue", 9, LXB_CSS_VALUE_CADETBLUE},
    {(lxb_char_t *) "chartreuse", 10, LXB_CSS_VALUE_CHARTREUSE},
    {(lxb_char_t *) "chocolate", 9, LXB_CSS_VALUE_CHOCOLATE},
    {(lxb_char_t *) "coral", 5, LXB_CSS_VALUE_CORAL},
    {(lxb_char_t *) "cornflowerblue", 14, LXB_CSS_VALUE_CORNFLOWERBLUE},
    {(lxb_char_t *) "cornsilk", 8, LXB_CSS_VALUE_CORNSILK},
    {(lxb_char_t *) "crimson", 7, LXB_CSS_VALUE_CRIMSON},
    {(lxb_char_t *) "cyan", 4, LXB_CSS_VALUE_CYAN},
    {(lxb_char_t *) "darkblue", 8, LXB_CSS_VALUE_DARKBLUE},
    {(lxb_char_t *) "darkcyan", 8, LXB_CSS_VALUE_DARKCYAN},
    {(lxb_char_t *) "darkgoldenrod", 13, LXB_CSS_VALUE_DARKGOLDENROD},
    {(lxb_char_t *) "darkgray", 8, LXB_CSS_VALUE_DARKGRAY},
    {(lxb_char_t *) "darkgreen", 9, LXB_CSS_VALUE_DARKGREEN},
    {(lxb_char_t *) "darkgrey", 8, LXB_CSS_VALUE_DARKGREY},
    {(lxb_char_t *) "darkkhaki", 9, LXB_CSS_VALUE_DARKKHAKI},
    {(lxb_char_t *) "darkmagenta", 11, LXB_CSS_VALUE_DARKMAGENTA},
    {(lxb_char_t *) "darkolivegreen", 14, LXB_CSS_VALUE_DARKOLIVEGREEN},
    {(lxb_char_t *) "darkorange", 10, LXB_CSS_VALUE_DARKORANGE},
    {(lxb_char_t *) "darkorchid", 10, LXB_CSS_VALUE_DARKORCHID},
    {(lxb_char_t *) "darkred", 7, LXB_CSS_VALUE_DARKRED},
    {(lxb_char_t *) "darksalmon", 10, LXB_CSS_VALUE_DARKSALMON},
    {(lxb_char_t *) "darkseagreen", 12, LXB_CSS_VALUE_DARKSEAGREEN},
    {(lxb_char_t *) "darkslateblue", 13, LXB_CSS_VALUE_DARKSLATEBLUE},
    {(lxb_char_t *) "darkslategray", 13, LXB_CSS_VALUE_DARKSLATEGRAY},
    {(lxb_char_t *) "darkslategrey", 13, LXB_CSS_VALUE_DARKSLATEGREY},
    {(lxb_char_t *) "darkturquoise", 13, LXB_CSS_VALUE_DARKTURQUOISE},
    {(lxb_char_t *) "darkviolet", 10, LXB_CSS_VALUE_DARKVIOLET},
    {(lxb_char_t *) "deeppink", 8, LXB_CSS_VALUE_DEEPPINK},
    {(lxb_char_t *) "deepskyblue", 11, LXB_CSS_VALUE_DEEPSKYBLUE},
    {(lxb_char_t *) "dimgray", 7, LXB_CSS_VALUE_DIMGRAY},
    {(lxb_char_t *) "dimgrey", 7, LXB_CSS_VALUE_DIMGREY},
    {(lxb_char_t *) "dodgerblue", 10, LXB_CSS_VALUE_DODGERBLUE},
    {(lxb_char_t *) "firebrick", 9, LXB_CSS_VALUE_FIREBRICK},
    {(lxb_char_t *) "floralwhite", 11, LXB_CSS_VALUE_FLORALWHITE},
    {(lxb_char_t *) "forestgreen", 11, LXB_CSS_VALUE_FORESTGREEN},
    {(lxb_char_t *) "fuchsia", 7, LXB_CSS_VALUE_FUCHSIA},
    {(lxb_char_t *) "gainsboro", 9, LXB_CSS_VALUE_GAINSBORO},
    {(lxb_char_t *) "ghostwhite", 10, LXB_CSS_VALUE_GHOSTWHITE},
    {(lxb_char_t *) "gold", 4, LXB_CSS_VALUE_GOLD},
    {(lxb_char_t *) "goldenrod", 9, LXB_CSS_VALUE_GOLDENROD},
    {(lxb_char_t *) "gray", 4, LXB_CSS_VALUE_GRAY},
    {(lxb_char_t *) "green", 5, LXB_CSS_VALUE_GREEN},
    {(lxb_char_t *) "greenyellow", 11, LXB_CSS_VALUE_GREENYELLOW},
    {(lxb_char_t *) "grey", 4, LXB_CSS_VALUE_GREY},
    {(lxb_char_t *) "honeydew", 8, LXB_CSS_VALUE_HONEYDEW},
    {(lxb_char_t *) "hotpink", 7, LXB_CSS_VALUE_HOTPINK},
    {(lxb_char_t *) "indianred", 9, LXB_CSS_VALUE_INDIANRED},
    {(lxb_char_t *) "indigo", 6, LXB_CSS_VALUE_INDIGO},
    {(lxb_char_t *) "ivory", 5, LXB_CSS_VALUE_IVORY},
    {(lxb_char_t *) "khaki", 5, LXB_CSS_VALUE_KHAKI},
    {(lxb_char_t *) "lavender", 8, LXB_CSS_VALUE_LAVENDER},
    {(lxb_char_t *) "lavenderblush", 13, LXB_CSS_VALUE_LAVENDERBLUSH},
    {(lxb_char_t *) "lawngreen", 9, LXB_CSS_VALUE_LAWNGREEN},
    {(lxb_char_t *) "lemonchiffon", 12, LXB_CSS_VALUE_LEMONCHIFFON},
    {(lxb_char_t *) "lightblue", 9, LXB_CSS_VALUE_LIGHTBLUE},
    {(lxb_char_t *) "lightcoral", 10, LXB_CSS_VALUE_LIGHTCORAL},
    {(lxb_char_t *) "lightcyan", 9, LXB_CSS_VALUE_LIGHTCYAN},
    {(lxb_char_t *) "lightgoldenrodyellow", 20, LXB_CSS_VALUE_LIGHTGOLDENRODYELLOW},
    {(lxb_char_t *) "lightgray", 9, LXB_CSS_VALUE_LIGHTGRAY},
    {(lxb_char_t *) "lightgreen", 10, LXB_CSS_VALUE_LIGHTGREEN},
    {(lxb_char_t *) "lightgrey", 9, LXB_CSS_VALUE_LIGHTGREY},
    {(lxb_char_t *) "lightpink", 9, LXB_CSS_VALUE_LIGHTPINK},
    {(lxb_char_t *) "lightsalmon", 11, LXB_CSS_VALUE_LIGHTSALMON},
    {(lxb_char_t *) "lightseagreen", 13, LXB_CSS_VALUE_LIGHTSEAGREEN},
    {(lxb_char_t *) "lightskyblue", 12, LXB_CSS_VALUE_LIGHTSKYBLUE},
    {(lxb_char_t *) "lightslategray", 14, LXB_CSS_VALUE_LIGHTSLATEGRAY},
    {(lxb_char_t *) "lightslategrey", 14, LXB_CSS_VALUE_LIGHTSLATEGREY},
    {(lxb_char_t *) "lightsteelblue", 14, LXB_CSS_VALUE_LIGHTSTEELBLUE},
    {(lxb_char_t *) "lightyellow", 11, LXB_CSS_VALUE_LIGHTYELLOW},
    {(lxb_char_t *) "lime", 4, LXB_CSS_VALUE_LIME},
    {(lxb_char_t *) "limegreen", 9, LXB_CSS_VALUE_LIMEGREEN},
    {(lxb_char_t *) "linen", 5, LXB_CSS_VALUE_LINEN},
    {(lxb_char_t *) "magenta", 7, LXB_CSS_VALUE_MAGENTA},
    {(lxb_char_t *) "maroon", 6, LXB_CSS_VALUE_MAROON},
    {(lxb_char_t *) "mediumaquamarine", 16, LXB_CSS_VALUE_MEDIUMAQUAMARINE},
    {(lxb_char_t *) "mediumblue", 10, LXB_CSS_VALUE_MEDIUMBLUE},
    {(lxb_char_t *) "mediumorchid", 12, LXB_CSS_VALUE_MEDIUMORCHID},
    {(lxb_char_t *) "mediumpurple", 12, LXB_CSS_VALUE_MEDIUMPURPLE},
    {(lxb_char_t *) "mediumseagreen", 14, LXB_CSS_VALUE_MEDIUMSEAGREEN},
    {(lxb_char_t *) "mediumslateblue", 15, LXB_CSS_VALUE_MEDIUMSLATEBLUE},
    {(lxb_char_t *) "mediumspringgreen", 17, LXB_CSS_VALUE_MEDIUMSPRINGGREEN},
    {(lxb_char_t *) "mediumturquoise", 15, LXB_CSS_VALUE_MEDIUMTURQUOISE},
    {(lxb_char_t *) "mediumvioletred", 15, LXB_CSS_VALUE_MEDIUMVIOLETRED},
    {(lxb_char_t *) "midnightblue", 12, LXB_CSS_VALUE_MIDNIGHTBLUE},
    {(lxb_char_t *) "mintcream", 9, LXB_CSS_VALUE_MINTCREAM},
    {(lxb_char_t *) "mistyrose", 9, LXB_CSS_VALUE_MISTYROSE},
    {(lxb_char_t *) "moccasin", 8, LXB_CSS_VALUE_MOCCASIN},
    {(lxb_char_t *) "navajowhite", 11, LXB_CSS_VALUE_NAVAJOWHITE},
    {(lxb_char_t *) "navy", 4, LXB_CSS_VALUE_NAVY},
    {(lxb_char_t *) "oldlace", 7, LXB_CSS_VALUE_OLDLACE},
    {(lxb_char_t *) "olive", 5, LXB_CSS_VALUE_OLIVE},
    {(lxb_char_t *) "olivedrab", 9, LXB_CSS_VALUE_OLIVEDRAB},
    {(lxb_char_t *) "orange", 6, LXB_CSS_VALUE_ORANGE},
    {(lxb_char_t *) "orangered", 9, LXB_CSS_VALUE_ORANGERED},
    {(lxb_char_t *) "orchid", 6, LXB_CSS_VALUE_ORCHID},
    {(lxb_char_t *) "palegoldenrod", 13, LXB_CSS_VALUE_PALEGOLDENROD},
    {(lxb_char_t *) "palegreen", 9, LXB_CSS_VALUE_PALEGREEN},
    {(lxb_char_t *) "paleturquoise", 13, LXB_CSS_VALUE_PALETURQUOISE},
    {(lxb_char_t *) "palevioletred", 13, LXB_CSS_VALUE_PALEVIOLETRED},
    {(lxb_char_t *) "papayawhip", 10, LXB_CSS_VALUE_PAPAYAWHIP},
    {(lxb_char_t *) "peachpuff", 9, LXB_CSS_VALUE_PEACHPUFF},
    {(lxb_char_t *) "peru", 4, LXB_CSS_VALUE_PERU},
    {(lxb_char_t *) "pink", 4, LXB_CSS_VALUE_PINK},
    {(lxb_char_t *) "plum", 4, LXB_CSS_VALUE_PLUM},
    {(lxb_char_t *) "powderblue", 10, LXB_CSS_VALUE_POWDERBLUE},
    {(lxb_char_t *) "purple", 6, LXB_CSS_VALUE_PURPLE},
    {(lxb_char_t *) "rebeccapurple", 13, LXB_CSS_VALUE_REBECCAPURPLE},
    {(lxb_char_t *) "red", 3, LXB_CSS_VALUE_RED},
    {(lxb_char_t *) "rosybrown", 9, LXB_CSS_VALUE_ROSYBROWN},
    {(lxb_char_t *) "royalblue", 9, LXB_CSS_VALUE_ROYALBLUE},
    {(lxb_char_t *) "saddlebrown", 11, LXB_CSS_VALUE_SADDLEBROWN},
    {(lxb_char_t *) "salmon", 6, LXB_CSS_VALUE_SALMON},
    {(lxb_char_t *) "sandybrown", 10, LXB_CSS_VALUE_SANDYBROWN},
    {(lxb_char_t *) "seagreen", 8, LXB_CSS_VALUE_SEAGREEN},
    {(lxb_char_t *) "seashell", 8, LXB_CSS_VALUE_SEASHELL},
    {(lxb_char_t *) "sienna", 6, LXB_CSS_VALUE_SIENNA},
    {(lxb_char_t *) "silver", 6, LXB_CSS_VALUE_SILVER},
    {(lxb_char_t *) "skyblue", 7, LXB_CSS_VALUE_SKYBLUE},
    {(lxb_char_t *) "slateblue", 9, LXB_CSS_VALUE_SLATEBLUE},
    {(lxb_char_t *) "slategray", 9, LXB_CSS_VALUE_SLATEGRAY},
    {(lxb_char_t *) "slategrey", 9, LXB_CSS_VALUE_SLATEGREY},
    {(lxb_char_t *) "snow", 4, LXB_CSS_VALUE_SNOW},
    {(lxb_char_t *) "springgreen", 11, LXB_CSS_VALUE_SPRINGGREEN},
    {(lxb_char_t *) "steelblue", 9, LXB_CSS_VALUE_STEELBLUE},
    {(lxb_char_t *) "tan", 3, LXB_CSS_VALUE_TAN},
    {(lxb_char_t *) "teal", 4, LXB_CSS_VALUE_TEAL},
    {(lxb_char_t *) "thistle", 7, LXB_CSS_VALUE_THISTLE},
    {(lxb_char_t *) "tomato", 6, LXB_CSS_VALUE_TOMATO},
    {(lxb_char_t *) "turquoise", 9, LXB_CSS_VALUE_TURQUOISE},
    {(lxb_char_t *) "violet", 6, LXB_CSS_VALUE_VIOLET},
    {(lxb_char_t *) "wheat", 5, LXB_CSS_VALUE_WHEAT},
    {(lxb_char_t *) "white", 5, LXB_CSS_VALUE_WHITE},
    {(lxb_char_t *) "whitesmoke", 10, LXB_CSS_VALUE_WHITESMOKE},
    {(lxb_char_t *) "yellow", 6, LXB_CSS_VALUE_YELLOW},
    {(lxb_char_t *) "yellowgreen", 11, LXB_CSS_VALUE_YELLOWGREEN},
    {(lxb_char_t *) "Canvas", 6, LXB_CSS_VALUE_CANVAS},
    {(lxb_char_t *) "CanvasText", 10, LXB_CSS_VALUE_CANVASTEXT},
    {(lxb_char_t *) "LinkText", 8, LXB_CSS_VALUE_LINKTEXT},
    {(lxb_char_t *) "VisitedText", 11, LXB_CSS_VALUE_VISITEDTEXT},
    {(lxb_char_t *) "ActiveText", 10, LXB_CSS_VALUE_ACTIVETEXT},
    {(lxb_char_t *) "ButtonFace", 10, LXB_CSS_VALUE_BUTTONFACE},
    {(lxb_char_t *) "ButtonText", 10, LXB_CSS_VALUE_BUTTONTEXT},
    {(lxb_char_t *) "ButtonBorder", 12, LXB_CSS_VALUE_BUTTONBORDER},
    {(lxb_char_t *) "Field", 5, LXB_CSS_VALUE_FIELD},
    {(lxb_char_t *) "FieldText", 9, LXB_CSS_VALUE_FIELDTEXT},
    {(lxb_char_t *) "Highlight", 9, LXB_CSS_VALUE_HIGHLIGHT},
    {(lxb_char_t *) "HighlightText", 13, LXB_CSS_VALUE_HIGHLIGHTTEXT},
    {(lxb_char_t *) "SelectedItem", 12, LXB_CSS_VALUE_SELECTEDITEM},
    {(lxb_char_t *) "SelectedItemText", 16, LXB_CSS_VALUE_SELECTEDITEMTEXT},
    {(lxb_char_t *) "Mark", 4, LXB_CSS_VALUE_MARK},
    {(lxb_char_t *) "MarkText", 8, LXB_CSS_VALUE_MARKTEXT},
    {(lxb_char_t *) "GrayText", 8, LXB_CSS_VALUE_GRAYTEXT},
    {(lxb_char_t *) "AccentColor", 11, LXB_CSS_VALUE_ACCENTCOLOR},
    {(lxb_char_t *) "AccentColorText", 15, LXB_CSS_VALUE_ACCENTCOLORTEXT},
    {(lxb_char_t *) "rgb", 3, LXB_CSS_VALUE_RGB},
    {(lxb_char_t *) "rgba", 4, LXB_CSS_VALUE_RGBA},
    {(lxb_char_t *) "hsl", 3, LXB_CSS_VALUE_HSL},
    {(lxb_char_t *) "hsla", 4, LXB_CSS_VALUE_HSLA},
    {(lxb_char_t *) "hwb", 3, LXB_CSS_VALUE_HWB},
    {(lxb_char_t *) "lab", 3, LXB_CSS_VALUE_LAB},
    {(lxb_char_t *) "lch", 3, LXB_CSS_VALUE_LCH},
    {(lxb_char_t *) "oklab", 5, LXB_CSS_VALUE_OKLAB},
    {(lxb_char_t *) "oklch", 5, LXB_CSS_VALUE_OKLCH},
    {(lxb_char_t *) "color", 5, LXB_CSS_VALUE_COLOR},
    {(lxb_char_t *) "ltr", 3, LXB_CSS_VALUE_LTR},
    {(lxb_char_t *) "rtl", 3, LXB_CSS_VALUE_RTL},
    {(lxb_char_t *) "block", 5, LXB_CSS_VALUE_BLOCK},
    {(lxb_char_t *) "inline", 6, LXB_CSS_VALUE_INLINE},
    {(lxb_char_t *) "run-in", 6, LXB_CSS_VALUE_RUN_IN},
    {(lxb_char_t *) "flow", 4, LXB_CSS_VALUE_FLOW},
    {(lxb_char_t *) "flow-root", 9, LXB_CSS_VALUE_FLOW_ROOT},
    {(lxb_char_t *) "table", 5, LXB_CSS_VALUE_TABLE},
    {(lxb_char_t *) "flex", 4, LXB_CSS_VALUE_FLEX},
    {(lxb_char_t *) "grid", 4, LXB_CSS_VALUE_GRID},
    {(lxb_char_t *) "ruby", 4, LXB_CSS_VALUE_RUBY},
    {(lxb_char_t *) "list-item", 9, LXB_CSS_VALUE_LIST_ITEM},
    {(lxb_char_t *) "table-row-group", 15, LXB_CSS_VALUE_TABLE_ROW_GROUP},
    {(lxb_char_t *) "table-header-group", 18, LXB_CSS_VALUE_TABLE_HEADER_GROUP},
    {(lxb_char_t *) "table-footer-group", 18, LXB_CSS_VALUE_TABLE_FOOTER_GROUP},
    {(lxb_char_t *) "table-row", 9, LXB_CSS_VALUE_TABLE_ROW},
    {(lxb_char_t *) "table-cell", 10, LXB_CSS_VALUE_TABLE_CELL},
    {(lxb_char_t *) "table-column-group", 18, LXB_CSS_VALUE_TABLE_COLUMN_GROUP},
    {(lxb_char_t *) "table-column", 12, LXB_CSS_VALUE_TABLE_COLUMN},
    {(lxb_char_t *) "table-caption", 13, LXB_CSS_VALUE_TABLE_CAPTION},
    {(lxb_char_t *) "ruby-base", 9, LXB_CSS_VALUE_RUBY_BASE},
    {(lxb_char_t *) "ruby-text", 9, LXB_CSS_VALUE_RUBY_TEXT},
    {(lxb_char_t *) "ruby-base-container", 19, LXB_CSS_VALUE_RUBY_BASE_CONTAINER},
    {(lxb_char_t *) "ruby-text-container", 19, LXB_CSS_VALUE_RUBY_TEXT_CONTAINER},
    {(lxb_char_t *) "contents", 8, LXB_CSS_VALUE_CONTENTS},
    {(lxb_char_t *) "inline-block", 12, LXB_CSS_VALUE_INLINE_BLOCK},
    {(lxb_char_t *) "inline-table", 12, LXB_CSS_VALUE_INLINE_TABLE},
    {(lxb_char_t *) "inline-flex", 11, LXB_CSS_VALUE_INLINE_FLEX},
    {(lxb_char_t *) "inline-grid", 11, LXB_CSS_VALUE_INLINE_GRID},
    {(lxb_char_t *) "hanging", 7, LXB_CSS_VALUE_HANGING},
    {(lxb_char_t *) "content", 7, LXB_CSS_VALUE_CONTENT},
    {(lxb_char_t *) "row", 3, LXB_CSS_VALUE_ROW},
    {(lxb_char_t *) "row-reverse", 11, LXB_CSS_VALUE_ROW_REVERSE},
    {(lxb_char_t *) "column", 6, LXB_CSS_VALUE_COLUMN},
    {(lxb_char_t *) "column-reverse", 14, LXB_CSS_VALUE_COLUMN_REVERSE},
    {(lxb_char_t *) "_number", 7, LXB_CSS_VALUE__NUMBER},
    {(lxb_char_t *) "nowrap", 6, LXB_CSS_VALUE_NOWRAP},
    {(lxb_char_t *) "wrap", 4, LXB_CSS_VALUE_WRAP},
    {(lxb_char_t *) "wrap-reverse", 12, LXB_CSS_VALUE_WRAP_REVERSE},
    {(lxb_char_t *) "snap-block", 10, LXB_CSS_VALUE_SNAP_BLOCK},
    {(lxb_char_t *) "start", 5, LXB_CSS_VALUE_START},
    {(lxb_char_t *) "end", 3, LXB_CSS_VALUE_END},
    {(lxb_char_t *) "near", 4, LXB_CSS_VALUE_NEAR},
    {(lxb_char_t *) "snap-inline", 11, LXB_CSS_VALUE_SNAP_INLINE},
    {(lxb_char_t *) "_integer", 8, LXB_CSS_VALUE__INTEGER},
    {(lxb_char_t *) "region", 6, LXB_CSS_VALUE_REGION},
    {(lxb_char_t *) "page", 4, LXB_CSS_VALUE_PAGE},
    {(lxb_char_t *) "serif", 5, LXB_CSS_VALUE_SERIF},
    {(lxb_char_t *) "sans-serif", 10, LXB_CSS_VALUE_SANS_SERIF},
    {(lxb_char_t *) "cursive", 7, LXB_CSS_VALUE_CURSIVE},
    {(lxb_char_t *) "fantasy", 7, LXB_CSS_VALUE_FANTASY},
    {(lxb_char_t *) "monospace", 9, LXB_CSS_VALUE_MONOSPACE},
    {(lxb_char_t *) "system-ui", 9, LXB_CSS_VALUE_SYSTEM_UI},
    {(lxb_char_t *) "emoji", 5, LXB_CSS_VALUE_EMOJI},
    {(lxb_char_t *) "math", 4, LXB_CSS_VALUE_MATH},
    {(lxb_char_t *) "fangsong", 8, LXB_CSS_VALUE_FANGSONG},
    {(lxb_char_t *) "ui-serif", 8, LXB_CSS_VALUE_UI_SERIF},
    {(lxb_char_t *) "ui-sans-serif", 13, LXB_CSS_VALUE_UI_SANS_SERIF},
    {(lxb_char_t *) "ui-monospace", 12, LXB_CSS_VALUE_UI_MONOSPACE},
    {(lxb_char_t *) "ui-rounded", 10, LXB_CSS_VALUE_UI_ROUNDED},
    {(lxb_char_t *) "xx-small", 8, LXB_CSS_VALUE_XX_SMALL},
    {(lxb_char_t *) "x-small", 7, LXB_CSS_VALUE_X_SMALL},
    {(lxb_char_t *) "small", 5, LXB_CSS_VALUE_SMALL},
    {(lxb_char_t *) "large", 5, LXB_CSS_VALUE_LARGE},
    {(lxb_char_t *) "x-large", 7, LXB_CSS_VALUE_X_LARGE},
    {(lxb_char_t *) "xx-large", 8, LXB_CSS_VALUE_XX_LARGE},
    {(lxb_char_t *) "xxx-large", 9, LXB_CSS_VALUE_XXX_LARGE},
    {(lxb_char_t *) "larger", 6, LXB_CSS_VALUE_LARGER},
    {(lxb_char_t *) "smaller", 7, LXB_CSS_VALUE_SMALLER},
    {(lxb_char_t *) "normal", 6, LXB_CSS_VALUE_NORMAL},
    {(lxb_char_t *) "ultra-condensed", 15, LXB_CSS_VALUE_ULTRA_CONDENSED},
    {(lxb_char_t *) "extra-condensed", 15, LXB_CSS_VALUE_EXTRA_CONDENSED},
    {(lxb_char_t *) "condensed", 9, LXB_CSS_VALUE_CONDENSED},
    {(lxb_char_t *) "semi-condensed", 14, LXB_CSS_VALUE_SEMI_CONDENSED},
    {(lxb_char_t *) "semi-expanded", 13, LXB_CSS_VALUE_SEMI_EXPANDED},
    {(lxb_char_t *) "expanded", 8, LXB_CSS_VALUE_EXPANDED},
    {(lxb_char_t *) "extra-expanded", 14, LXB_CSS_VALUE_EXTRA_EXPANDED},
    {(lxb_char_t *) "ultra-expanded", 14, LXB_CSS_VALUE_ULTRA_EXPANDED},
    {(lxb_char_t *) "italic", 6, LXB_CSS_VALUE_ITALIC},
    {(lxb_char_t *) "oblique", 7, LXB_CSS_VALUE_OBLIQUE},
    {(lxb_char_t *) "bold", 4, LXB_CSS_VALUE_BOLD},
    {(lxb_char_t *) "bolder", 6, LXB_CSS_VALUE_BOLDER},
    {(lxb_char_t *) "lighter", 7, LXB_CSS_VALUE_LIGHTER},
    {(lxb_char_t *) "force-end", 9, LXB_CSS_VALUE_FORCE_END},
    {(lxb_char_t *) "allow-end", 9, LXB_CSS_VALUE_ALLOW_END},
    {(lxb_char_t *) "min-content", 11, LXB_CSS_VALUE_MIN_CONTENT},
    {(lxb_char_t *) "max-content", 11, LXB_CSS_VALUE_MAX_CONTENT},
    {(lxb_char_t *) "_angle", 6, LXB_CSS_VALUE__ANGLE},
    {(lxb_char_t *) "manual", 6, LXB_CSS_VALUE_MANUAL},
    {(lxb_char_t *) "loose", 5, LXB_CSS_VALUE_LOOSE},
    {(lxb_char_t *) "strict", 6, LXB_CSS_VALUE_STRICT},
    {(lxb_char_t *) "anywhere", 8, LXB_CSS_VALUE_ANYWHERE},
    {(lxb_char_t *) "visible", 7, LXB_CSS_VALUE_VISIBLE},
    {(lxb_char_t *) "clip", 4, LXB_CSS_VALUE_CLIP},
    {(lxb_char_t *) "scroll", 6, LXB_CSS_VALUE_SCROLL},
    {(lxb_char_t *) "break-word", 10, LXB_CSS_VALUE_BREAK_WORD},
    {(lxb_char_t *) "static", 6, LXB_CSS_VALUE_STATIC},
    {(lxb_char_t *) "relative", 8, LXB_CSS_VALUE_RELATIVE},
    {(lxb_char_t *) "absolute", 8, LXB_CSS_VALUE_ABSOLUTE},
    {(lxb_char_t *) "sticky", 6, LXB_CSS_VALUE_STICKY},
    {(lxb_char_t *) "fixed", 5, LXB_CSS_VALUE_FIXED},
    {(lxb_char_t *) "justify", 7, LXB_CSS_VALUE_JUSTIFY},
    {(lxb_char_t *) "match-parent", 12, LXB_CSS_VALUE_MATCH_PARENT},
    {(lxb_char_t *) "justify-all", 11, LXB_CSS_VALUE_JUSTIFY_ALL},
    {(lxb_char_t *) "all", 3, LXB_CSS_VALUE_ALL},
    {(lxb_char_t *) "digits", 6, LXB_CSS_VALUE_DIGITS},
    {(lxb_char_t *) "underline", 9, LXB_CSS_VALUE_UNDERLINE},
    {(lxb_char_t *) "overline", 8, LXB_CSS_VALUE_OVERLINE},
    {(lxb_char_t *) "line-through", 12, LXB_CSS_VALUE_LINE_THROUGH},
    {(lxb_char_t *) "blink", 5, LXB_CSS_VALUE_BLINK},
    {(lxb_char_t *) "wavy", 4, LXB_CSS_VALUE_WAVY},
    {(lxb_char_t *) "each-line", 9, LXB_CSS_VALUE_EACH_LINE},
    {(lxb_char_t *) "inter-word", 10, LXB_CSS_VALUE_INTER_WORD},
    {(lxb_char_t *) "inter-character", 15, LXB_CSS_VALUE_INTER_CHARACTER},
    {(lxb_char_t *) "mixed", 5, LXB_CSS_VALUE_MIXED},
    {(lxb_char_t *) "upright", 7, LXB_CSS_VALUE_UPRIGHT},
    {(lxb_char_t *) "sideways", 8, LXB_CSS_VALUE_SIDEWAYS},
    {(lxb_char_t *) "ellipsis", 8, LXB_CSS_VALUE_ELLIPSIS},
    {(lxb_char_t *) "capitalize", 10, LXB_CSS_VALUE_CAPITALIZE},
    {(lxb_char_t *) "uppercase", 9, LXB_CSS_VALUE_UPPERCASE},
    {(lxb_char_t *) "lowercase", 9, LXB_CSS_VALUE_LOWERCASE},
    {(lxb_char_t *) "full-width", 10, LXB_CSS_VALUE_FULL_WIDTH},
    {(lxb_char_t *) "full-size-kana", 14, LXB_CSS_VALUE_FULL_SIZE_KANA},
    {(lxb_char_t *) "embed", 5, LXB_CSS_VALUE_EMBED},
    {(lxb_char_t *) "isolate", 7, LXB_CSS_VALUE_ISOLATE},
    {(lxb_char_t *) "bidi-override", 13, LXB_CSS_VALUE_BIDI_OVERRIDE},
    {(lxb_char_t *) "isolate-override", 16, LXB_CSS_VALUE_ISOLATE_OVERRIDE},
    {(lxb_char_t *) "plaintext", 9, LXB_CSS_VALUE_PLAINTEXT},
    {(lxb_char_t *) "collapse", 8, LXB_CSS_VALUE_COLLAPSE},
    {(lxb_char_t *) "pre", 3, LXB_CSS_VALUE_PRE},
    {(lxb_char_t *) "pre-wrap", 8, LXB_CSS_VALUE_PRE_WRAP},
    {(lxb_char_t *) "break-spaces", 12, LXB_CSS_VALUE_BREAK_SPACES},
    {(lxb_char_t *) "pre-line", 8, LXB_CSS_VALUE_PRE_LINE},
    {(lxb_char_t *) "keep-all", 8, LXB_CSS_VALUE_KEEP_ALL},
    {(lxb_char_t *) "break-all", 9, LXB_CSS_VALUE_BREAK_ALL},
    {(lxb_char_t *) "both", 4, LXB_CSS_VALUE_BOTH},
    {(lxb_char_t *) "minimum", 7, LXB_CSS_VALUE_MINIMUM},
    {(lxb_char_t *) "maximum", 7, LXB_CSS_VALUE_MAXIMUM},
    {(lxb_char_t *) "clear", 5, LXB_CSS_VALUE_CLEAR},
    {(lxb_char_t *) "horizontal-tb", 13, LXB_CSS_VALUE_HORIZONTAL_TB},
    {(lxb_char_t *) "vertical-rl", 11, LXB_CSS_VALUE_VERTICAL_RL},
    {(lxb_char_t *) "vertical-lr", 11, LXB_CSS_VALUE_VERTICAL_LR},
    {(lxb_char_t *) "sideways-rl", 11, LXB_CSS_VALUE_SIDEWAYS_RL},
    {(lxb_char_t *) "sideways-lr", 11, LXB_CSS_VALUE_SIDEWAYS_LR}
};

static const lexbor_shs_entry_t lxb_css_value_shs[373] =
{
    {NULL, NULL, 253, 0},
    {"salmon", (void *) LXB_CSS_VALUE_SALMON, 6, 2},
    {"canvas", (void *) LXB_CSS_VALUE_CANVAS, 6, 4},
    {"allow-end", (void *) LXB_CSS_VALUE_ALLOW_END, 9, 0},
    {"static", (void *) LXB_CSS_VALUE_STATIC, 6, 5},
    {"sticky", (void *) LXB_CSS_VALUE_STICKY, 6, 0},
    {"darkviolet", (void *) LXB_CSS_VALUE_DARKVIOLET, 10, 0},
    {"blue", (void *) LXB_CSS_VALUE_BLUE, 4, 1},
    {"end", (void *) LXB_CSS_VALUE_END, 3, 24},
    {"middle", (void *) LXB_CSS_VALUE_MIDDLE, 6, 32},
    {"rgb", (void *) LXB_CSS_VALUE_RGB, 3, 59},
    {"baseline", (void *) LXB_CSS_VALUE_BASELINE, 8, 69},
    {"mistyrose", (void *) LXB_CSS_VALUE_MISTYROSE, 9, 71},
    {"expanded", (void *) LXB_CSS_VALUE_EXPANDED, 8, 92},
    {"space-between", (void *) LXB_CSS_VALUE_SPACE_BETWEEN, 13, 0},
    {"mediumpurple", (void *) LXB_CSS_VALUE_MEDIUMPURPLE, 12, 99},
    {"bidi-override", (void *) LXB_CSS_VALUE_BIDI_OVERRIDE, 13, 0},
    {"bold", (void *) LXB_CSS_VALUE_BOLD, 4, 103},
    {"mixed", (void *) LXB_CSS_VALUE_MIXED, 5, 105},
    {"extra-expanded", (void *) LXB_CSS_VALUE_EXTRA_EXPANDED, 14, 119},
    {"auto", (void *) LXB_CSS_VALUE_AUTO, 4, 129},
    {"teal", (void *) LXB_CSS_VALUE_TEAL, 4, 130},
    {"lab", (void *) LXB_CSS_VALUE_LAB, 3, 131},
    {"break-word", (void *) LXB_CSS_VALUE_BREAK_WORD, 10, 0},
    {"beige", (void *) LXB_CSS_VALUE_BEIGE, 5, 0},
    {"mediumorchid", (void *) LXB_CSS_VALUE_MEDIUMORCHID, 12, 0},
    {"vertical-lr", (void *) LXB_CSS_VALUE_VERTICAL_LR, 11, 0},
    {"table-cell", (void *) LXB_CSS_VALUE_TABLE_CELL, 10, 135},
    {"pre-wrap", (void *) LXB_CSS_VALUE_PRE_WRAP, 8, 136},
    {"super", (void *) LXB_CSS_VALUE_SUPER, 5, 0},
    {"silver", (void *) LXB_CSS_VALUE_SILVER, 6, 137},
    {"hsl", (void *) LXB_CSS_VALUE_HSL, 3, 140},
    {"bisque", (void *) LXB_CSS_VALUE_BISQUE, 6, 53},
    {"darkblue", (void *) LXB_CSS_VALUE_DARKBLUE, 8, 0},
    {"hex", (void *) LXB_CSS_VALUE_HEX, 3, 0},
    {"darkorange", (void *) LXB_CSS_VALUE_DARKORANGE, 10, 143},
    {"lightcoral", (void *) LXB_CSS_VALUE_LIGHTCORAL, 10, 145},
    {"table-row", (void *) LXB_CSS_VALUE_TABLE_ROW, 9, 0},
    {"ridge", (void *) LXB_CSS_VALUE_RIDGE, 5, 149},
    {"violet", (void *) LXB_CSS_VALUE_VIOLET, 6, 156},
    {"italic", (void *) LXB_CSS_VALUE_ITALIC, 6, 157},
    {"relative", (void *) LXB_CSS_VALUE_RELATIVE, 8, 0},
    {"royalblue", (void *) LXB_CSS_VALUE_ROYALBLUE, 9, 179},
    {"highlighttext", (void *) LXB_CSS_VALUE_HIGHLIGHTTEXT, 13, 0},
    {"visitedtext", (void *) LXB_CSS_VALUE_VISITEDTEXT, 11, 193},
    {"ideographic", (void *) LXB_CSS_VALUE_IDEOGRAPHIC, 11, 0},
    {"outset", (void *) LXB_CSS_VALUE_OUTSET, 6, 194},
    {"azure", (void *) LXB_CSS_VALUE_AZURE, 5, 0},
    {"pink", (void *) LXB_CSS_VALUE_PINK, 4, 0},
    {"near", (void *) LXB_CSS_VALUE_NEAR, 4, 0},
    {"magenta", (void *) LXB_CSS_VALUE_MAGENTA, 7, 204},
    {"aliceblue", (void *) LXB_CSS_VALUE_ALICEBLUE, 9, 0},
    {"aquamarine", (void *) LXB_CSS_VALUE_AQUAMARINE, 10, 0},
    {"seagreen", (void *) LXB_CSS_VALUE_SEAGREEN, 8, 55},
    {"antiquewhite", (void *) LXB_CSS_VALUE_ANTIQUEWHITE, 12, 0},
    {"contents", (void *) LXB_CSS_VALUE_CONTENTS, 8, 56},
    {"lightpink", (void *) LXB_CSS_VALUE_LIGHTPINK, 9, 0},
    {"snap-block", (void *) LXB_CSS_VALUE_SNAP_BLOCK, 10, 0},
    {"white", (void *) LXB_CSS_VALUE_WHITE, 5, 0},
    {"embed", (void *) LXB_CSS_VALUE_EMBED, 5, 66},
    {"first", (void *) LXB_CSS_VALUE_FIRST, 5, 211},
    {"groove", (void *) LXB_CSS_VALUE_GROOVE, 6, 212},
    {"normal", (void *) LXB_CSS_VALUE_NORMAL, 6, 0},
    {"whitesmoke", (void *) LXB_CSS_VALUE_WHITESMOKE, 10, 0},
    {"fieldtext", (void *) LXB_CSS_VALUE_FIELDTEXT, 9, 221},
    {"flex-start", (void *) LXB_CSS_VALUE_FLEX_START, 10, 227},
    {"slategray", (void *) LXB_CSS_VALUE_SLATEGRAY, 9, 67},
    {"slategrey", (void *) LXB_CSS_VALUE_SLATEGREY, 9, 68},
    {"darkmagenta", (void *) LXB_CSS_VALUE_DARKMAGENTA, 11, 0},
    {"sandybrown", (void *) LXB_CSS_VALUE_SANDYBROWN, 10, 0},
    {"field", (void *) LXB_CSS_VALUE_FIELD, 5, 234},
    {"monospace", (void *) LXB_CSS_VALUE_MONOSPACE, 9, 78},
    {"color", (void *) LXB_CSS_VALUE_COLOR, 5, 236},
    {"center", (void *) LXB_CSS_VALUE_CENTER, 6, 240},
    {"force-end", (void *) LXB_CSS_VALUE_FORCE_END, 9, 0},
    {"solid", (void *) LXB_CSS_VALUE_SOLID, 5, 243},
    {"gold", (void *) LXB_CSS_VALUE_GOLD, 4, 248},
    {"peachpuff", (void *) LXB_CSS_VALUE_PEACHPUFF, 9, 0},
    {"saddlebrown", (void *) LXB_CSS_VALUE_SADDLEBROWN, 11, 86},
    {"inline", (void *) LXB_CSS_VALUE_INLINE, 6, 254},
    {"isolate", (void *) LXB_CSS_VALUE_ISOLATE, 7, 0},
    {"goldenrod", (void *) LXB_CSS_VALUE_GOLDENROD, 9, 0},
    {"cyan", (void *) LXB_CSS_VALUE_CYAN, 4, 256},
    {"linen", (void *) LXB_CSS_VALUE_LINEN, 5, 257},
    {"column", (void *) LXB_CSS_VALUE_COLUMN, 6, 258},
    {"crimson", (void *) LXB_CSS_VALUE_CRIMSON, 7, 259},
    {"springgreen", (void *) LXB_CSS_VALUE_SPRINGGREEN, 11, 0},
    {"lawngreen", (void *) LXB_CSS_VALUE_LAWNGREEN, 9, 260},
    {"lightgreen", (void *) LXB_CSS_VALUE_LIGHTGREEN, 10, 0},
    {"plum", (void *) LXB_CSS_VALUE_PLUM, 4, 262},
    {"initial", (void *) LXB_CSS_VALUE_INITIAL, 7, 264},
    {"lightseagreen", (void *) LXB_CSS_VALUE_LIGHTSEAGREEN, 13, 0},
    {"mediumblue", (void *) LXB_CSS_VALUE_MEDIUMBLUE, 10, 93},
    {"activetext", (void *) LXB_CSS_VALUE_ACTIVETEXT, 10, 94},
    {"buttonface", (void *) LXB_CSS_VALUE_BUTTONFACE, 10, 96},
    {"each-line", (void *) LXB_CSS_VALUE_EACH_LINE, 9, 0},
    {"greenyellow", (void *) LXB_CSS_VALUE_GREENYELLOW, 11, 0},
    {"hanging", (void *) LXB_CSS_VALUE_HANGING, 7, 0},
    {"hotpink", (void *) LXB_CSS_VALUE_HOTPINK, 7, 0},
    {"midnightblue", (void *) LXB_CSS_VALUE_MIDNIGHTBLUE, 12, 0},
    {"stretch", (void *) LXB_CSS_VALUE_STRETCH, 7, 0},
    {"lime", (void *) LXB_CSS_VALUE_LIME, 4, 266},
    {"unset", (void *) LXB_CSS_VALUE_UNSET, 5, 267},
    {"x-small", (void *) LXB_CSS_VALUE_X_SMALL, 7, 0},
    {"upright", (void *) LXB_CSS_VALUE_UPRIGHT, 7, 0},
    {"xx-small", (void *) LXB_CSS_VALUE_XX_SMALL, 8, 108},
    {"lightblue", (void *) LXB_CSS_VALUE_LIGHTBLUE, 9, 270},
    {"aqua", (void *) LXB_CSS_VALUE_AQUA, 4, 271},
    {"mediumslateblue", (void *) LXB_CSS_VALUE_MEDIUMSLATEBLUE, 15, 110},
    {"lightskyblue", (void *) LXB_CSS_VALUE_LIGHTSKYBLUE, 12, 0},
    {"mediumturquoise", (void *) LXB_CSS_VALUE_MEDIUMTURQUOISE, 15, 113},
    {"plaintext", (void *) LXB_CSS_VALUE_PLAINTEXT, 9, 272},
    {"justify-all", (void *) LXB_CSS_VALUE_JUSTIFY_ALL, 11, 0},
    {"accentcolortext", (void *) LXB_CSS_VALUE_ACCENTCOLORTEXT, 15, 0},
    {"tan", (void *) LXB_CSS_VALUE_TAN, 3, 273},
    {"thin", (void *) LXB_CSS_VALUE_THIN, 4, 274},
    {"blueviolet", (void *) LXB_CSS_VALUE_BLUEVIOLET, 10, 275},
    {"run-in", (void *) LXB_CSS_VALUE_RUN_IN, 6, 276},
    {"match-parent", (void *) LXB_CSS_VALUE_MATCH_PARENT, 12, 0},
    {"mediumaquamarine", (void *) LXB_CSS_VALUE_MEDIUMAQUAMARINE, 16, 0},
    {"snow", (void *) LXB_CSS_VALUE_SNOW, 4, 280},
    {"small", (void *) LXB_CSS_VALUE_SMALL, 5, 0},
    {"sienna", (void *) LXB_CSS_VALUE_SIENNA, 6, 283},
    {"table-column", (void *) LXB_CSS_VALUE_TABLE_COLUMN, 12, 0},
    {"seashell", (void *) LXB_CSS_VALUE_SEASHELL, 8, 286},
    {"lightslategray", (void *) LXB_CSS_VALUE_LIGHTSLATEGRAY, 14, 287},
    {"ruby", (void *) LXB_CSS_VALUE_RUBY, 4, 0},
    {"sideways-rl", (void *) LXB_CSS_VALUE_SIDEWAYS_RL, 11, 0},
    {"all", (void *) LXB_CSS_VALUE_ALL, 3, 288},
    {"extra-condensed", (void *) LXB_CSS_VALUE_EXTRA_CONDENSED, 15, 0},
    {"indigo", (void *) LXB_CSS_VALUE_INDIGO, 6, 0},
    {"block-end", (void *) LXB_CSS_VALUE_BLOCK_END, 9, 134},
    {"bolder", (void *) LXB_CSS_VALUE_BOLDER, 6, 0},
    {"forestgreen", (void *) LXB_CSS_VALUE_FORESTGREEN, 11, 0},
    {"burlywood", (void *) LXB_CSS_VALUE_BURLYWOOD, 9, 0},
    {"blanchedalmond", (void *) LXB_CSS_VALUE_BLANCHEDALMOND, 14, 0},
    {"mediumvioletred", (void *) LXB_CSS_VALUE_MEDIUMVIOLETRED, 15, 0},
    {"papayawhip", (void *) LXB_CSS_VALUE_PAPAYAWHIP, 10, 0},
    {"buttonborder", (void *) LXB_CSS_VALUE_BUTTONBORDER, 12, 0},
    {"nowrap", (void *) LXB_CSS_VALUE_NOWRAP, 6, 0},
    {"double", (void *) LXB_CSS_VALUE_DOUBLE, 6, 141},
    {"smaller", (void *) LXB_CSS_VALUE_SMALLER, 7, 142},
    {"cornsilk", (void *) LXB_CSS_VALUE_CORNSILK, 8, 0},
    {"dodgerblue", (void *) LXB_CSS_VALUE_DODGERBLUE, 10, 144},
    {"sideways-lr", (void *) LXB_CSS_VALUE_SIDEWAYS_LR, 11, 0},
    {"deepskyblue", (void *) LXB_CSS_VALUE_DEEPSKYBLUE, 11, 0},
    {"skyblue", (void *) LXB_CSS_VALUE_SKYBLUE, 7, 0},
    {"gainsboro", (void *) LXB_CSS_VALUE_GAINSBORO, 9, 0},
    {"khaki", (void *) LXB_CSS_VALUE_KHAKI, 5, 290},
    {"firebrick", (void *) LXB_CSS_VALUE_FIREBRICK, 9, 153},
    {"snap-inline", (void *) LXB_CSS_VALUE_SNAP_INLINE, 11, 0},
    {"dotted", (void *) LXB_CSS_VALUE_DOTTED, 6, 293},
    {"flow", (void *) LXB_CSS_VALUE_FLOW, 4, 295},
    {"darkslateblue", (void *) LXB_CSS_VALUE_DARKSLATEBLUE, 13, 154},
    {"darkturquoise", (void *) LXB_CSS_VALUE_DARKTURQUOISE, 13, 0},
    {"hwb", (void *) LXB_CSS_VALUE_HWB, 3, 297},
    {"highlight", (void *) LXB_CSS_VALUE_HIGHLIGHT, 9, 0},
    {"palegoldenrod", (void *) LXB_CSS_VALUE_PALEGOLDENROD, 13, 159},
    {"visible", (void *) LXB_CSS_VALUE_VISIBLE, 7, 298},
    {"palevioletred", (void *) LXB_CSS_VALUE_PALEVIOLETRED, 13, 0},
    {"green", (void *) LXB_CSS_VALUE_GREEN, 5, 299},
    {"hidden", (void *) LXB_CSS_VALUE_HIDDEN, 6, 300},
    {"emoji", (void *) LXB_CSS_VALUE_EMOJI, 5, 301},
    {"darkgray", (void *) LXB_CSS_VALUE_DARKGRAY, 8, 303},
    {"tomato", (void *) LXB_CSS_VALUE_TOMATO, 6, 304},
    {"xx-large", (void *) LXB_CSS_VALUE_XX_LARGE, 8, 305},
    {"fangsong", (void *) LXB_CSS_VALUE_FANGSONG, 8, 306},
    {"start", (void *) LXB_CSS_VALUE_START, 5, 0},
    {"right", (void *) LXB_CSS_VALUE_RIGHT, 5, 307},
    {"revert", (void *) LXB_CSS_VALUE_REVERT, 6, 0},
    {"wavy", (void *) LXB_CSS_VALUE_WAVY, 4, 0},
    {"rgba", (void *) LXB_CSS_VALUE_RGBA, 4, 310},
    {"maroon", (void *) LXB_CSS_VALUE_MAROON, 6, 313},
    {"olive", (void *) LXB_CSS_VALUE_OLIVE, 5, 314},
    {"orange", (void *) LXB_CSS_VALUE_ORANGE, 6, 315},
    {"oldlace", (void *) LXB_CSS_VALUE_OLDLACE, 7, 317},
    {"overline", (void *) LXB_CSS_VALUE_OVERLINE, 8, 320},
    {"pre", (void *) LXB_CSS_VALUE_PRE, 3, 322},
    {"lch", (void *) LXB_CSS_VALUE_LCH, 3, 323},
    {"ruby-base", (void *) LXB_CSS_VALUE_RUBY_BASE, 9, 0},
    {"purple", (void *) LXB_CSS_VALUE_PURPLE, 6, 325},
    {"rtl", (void *) LXB_CSS_VALUE_RTL, 3, 328},
    {"bottom", (void *) LXB_CSS_VALUE_BOTTOM, 6, 329},
    {"flex", (void *) LXB_CSS_VALUE_FLEX, 4, 331},
    {"powderblue", (void *) LXB_CSS_VALUE_POWDERBLUE, 10, 0},
    {"ltr", (void *) LXB_CSS_VALUE_LTR, 3, 334},
    {"ultra-condensed", (void *) LXB_CSS_VALUE_ULTRA_CONDENSED, 15, 0},
    {"line-through", (void *) LXB_CSS_VALUE_LINE_THROUGH, 12, 336},
    {"sub", (void *) LXB_CSS_VALUE_SUB, 3, 337},
    {"lighter", (void *) LXB_CSS_VALUE_LIGHTER, 7, 340},
    {"lavender", (void *) LXB_CSS_VALUE_LAVENDER, 8, 341},
    {"inline-grid", (void *) LXB_CSS_VALUE_INLINE_GRID, 11, 0},
    {"row", (void *) LXB_CSS_VALUE_ROW, 3, 343},
    {"row-reverse", (void *) LXB_CSS_VALUE_ROW_REVERSE, 11, 0},
    {"rebeccapurple", (void *) LXB_CSS_VALUE_REBECCAPURPLE, 13, 0},
    {"content", (void *) LXB_CSS_VALUE_CONTENT, 7, 344},
    {"red", (void *) LXB_CSS_VALUE_RED, 3, 0},
    {"selecteditem", (void *) LXB_CSS_VALUE_SELECTEDITEM, 12, 0},
    {"oklch", (void *) LXB_CSS_VALUE_OKLCH, 5, 346},
    {"table", (void *) LXB_CSS_VALUE_TABLE, 5, 348},
    {"mark", (void *) LXB_CSS_VALUE_MARK, 4, 0},
    {"black", (void *) LXB_CSS_VALUE_BLACK, 5, 349},
    {"inline-block", (void *) LXB_CSS_VALUE_INLINE_BLOCK, 12, 0},
    {"clip", (void *) LXB_CSS_VALUE_CLIP, 4, 352},
    {"anywhere", (void *) LXB_CSS_VALUE_ANYWHERE, 8, 205},
    {"absolute", (void *) LXB_CSS_VALUE_ABSOLUTE, 8, 0},
    {"wheat", (void *) LXB_CSS_VALUE_WHEAT, 5, 0},
    {"underline", (void *) LXB_CSS_VALUE_UNDERLINE, 9, 353},
    {"top", (void *) LXB_CSS_VALUE_TOP, 3, 0},
    {"alphabetic", (void *) LXB_CSS_VALUE_ALPHABETIC, 10, 0},
    {"ui-monospace", (void *) LXB_CSS_VALUE_UI_MONOSPACE, 12, 0},
    {"darkkhaki", (void *) LXB_CSS_VALUE_DARKKHAKI, 9, 0},
    {"graytext", (void *) LXB_CSS_VALUE_GRAYTEXT, 8, 214},
    {"serif", (void *) LXB_CSS_VALUE_SERIF, 5, 354},
    {"list-item", (void *) LXB_CSS_VALUE_LIST_ITEM, 9, 0},
    {"coral", (void *) LXB_CSS_VALUE_CORAL, 5, 355},
    {"ellipsis", (void *) LXB_CSS_VALUE_ELLIPSIS, 8, 0},
    {"central", (void *) LXB_CSS_VALUE_CENTRAL, 7, 357},
    {"darkcyan", (void *) LXB_CSS_VALUE_DARKCYAN, 8, 358},
    {"hsla", (void *) LXB_CSS_VALUE_HSLA, 4, 359},
    {"darksalmon", (void *) LXB_CSS_VALUE_DARKSALMON, 10, 360},
    {"flow-root", (void *) LXB_CSS_VALUE_FLOW_ROOT, 9, 0},
    {"darkseagreen", (void *) LXB_CSS_VALUE_DARKSEAGREEN, 12, 0},
    {"table-header-group", (void *) LXB_CSS_VALUE_TABLE_HEADER_GROUP, 18, 361},
    {"darkolivegreen", (void *) LXB_CSS_VALUE_DARKOLIVEGREEN, 14, 0},
    {"gray", (void *) LXB_CSS_VALUE_GRAY, 4, 363},
    {"_angle", (void *) LXB_CSS_VALUE__ANGLE, 6, 0},
    {"ghostwhite", (void *) LXB_CSS_VALUE_GHOSTWHITE, 10, 229},
    {"thick", (void *) LXB_CSS_VALUE_THICK, 5, 0},
    {"wrap-reverse", (void *) LXB_CSS_VALUE_WRAP_REVERSE, 12, 0},
    {"math", (void *) LXB_CSS_VALUE_MATH, 4, 365},
    {"_length", (void *) LXB_CSS_VALUE__LENGTH, 7, 366},
    {"fuchsia", (void *) LXB_CSS_VALUE_FUCHSIA, 7, 0},
    {"wrap", (void *) LXB_CSS_VALUE_WRAP, 4, 367},
    {"fixed", (void *) LXB_CSS_VALUE_FIXED, 5, 235},
    {"lightyellow", (void *) LXB_CSS_VALUE_LIGHTYELLOW, 11, 0},
    {"clear", (void *) LXB_CSS_VALUE_CLEAR, 5, 237},
    {"deeppink", (void *) LXB_CSS_VALUE_DEEPPINK, 8, 0},
    {"last", (void *) LXB_CSS_VALUE_LAST, 4, 368},
    {"full-size-kana", (void *) LXB_CSS_VALUE_FULL_SIZE_KANA, 14, 0},
    {"flex-end", (void *) LXB_CSS_VALUE_FLEX_END, 8, 0},
    {"palegreen", (void *) LXB_CSS_VALUE_PALEGREEN, 9, 370},
    {"linktext", (void *) LXB_CSS_VALUE_LINKTEXT, 8, 0},
    {"text-bottom", (void *) LXB_CSS_VALUE_TEXT_BOTTOM, 11, 245},
    {"inset", (void *) LXB_CSS_VALUE_INSET, 5, 0},
    {"inline-flex", (void *) LXB_CSS_VALUE_INLINE_FLEX, 11, 0},
    {"inherit", (void *) LXB_CSS_VALUE_INHERIT, 7, 0},
    {"navy", (void *) LXB_CSS_VALUE_NAVY, 4, 0},
    {"grid", (void *) LXB_CSS_VALUE_GRID, 4, 252},
    {"ruby-base-container", (void *) LXB_CSS_VALUE_RUBY_BASE_CONTAINER, 19, 371},
    {"orchid", (void *) LXB_CSS_VALUE_ORCHID, 6, 0},
    {"inline-start", (void *) LXB_CSS_VALUE_INLINE_START, 12, 0},
    {"border-box", (void *) LXB_CSS_VALUE_BORDER_BOX, 10, 0},
    {"peru", (void *) LXB_CSS_VALUE_PERU, 4, 372},
    {"currentcolor", (void *) LXB_CSS_VALUE_CURRENTCOLOR, 12, 255},
    {"lightgoldenrodyellow", (void *) LXB_CSS_VALUE_LIGHTGOLDENRODYELLOW, 20, 0},
    {"space-around", (void *) LXB_CSS_VALUE_SPACE_AROUND, 12, 0},
    {"semi-expanded", (void *) LXB_CSS_VALUE_SEMI_EXPANDED, 13, 0},
    {"semi-condensed", (void *) LXB_CSS_VALUE_SEMI_CONDENSED, 14, 0},
    {"inline-table", (void *) LXB_CSS_VALUE_INLINE_TABLE, 12, 0},
    {"lightcyan", (void *) LXB_CSS_VALUE_LIGHTCYAN, 9, 261},
    {"limegreen", (void *) LXB_CSS_VALUE_LIMEGREEN, 9, 0},
    {"lightsalmon", (void *) LXB_CSS_VALUE_LIGHTSALMON, 11, 263},
    {"isolate-override", (void *) LXB_CSS_VALUE_ISOLATE_OVERRIDE, 16, 0},
    {"keep-all", (void *) LXB_CSS_VALUE_KEEP_ALL, 8, 265},
    {"lemonchiffon", (void *) LXB_CSS_VALUE_LEMONCHIFFON, 12, 0},
    {"sideways", (void *) LXB_CSS_VALUE_SIDEWAYS, 8, 0},
    {"large", (void *) LXB_CSS_VALUE_LARGE, 5, 268},
    {"loose", (void *) LXB_CSS_VALUE_LOOSE, 5, 269},
    {"honeydew", (void *) LXB_CSS_VALUE_HONEYDEW, 8, 0},
    {"lowercase", (void *) LXB_CSS_VALUE_LOWERCASE, 9, 0},
    {"floralwhite", (void *) LXB_CSS_VALUE_FLORALWHITE, 11, 0},
    {"lightsteelblue", (void *) LXB_CSS_VALUE_LIGHTSTEELBLUE, 14, 0},
    {"marktext", (void *) LXB_CSS_VALUE_MARKTEXT, 8, 0},
    {"none", (void *) LXB_CSS_VALUE_NONE, 4, 0},
    {"buttontext", (void *) LXB_CSS_VALUE_BUTTONTEXT, 10, 0},
    {"region", (void *) LXB_CSS_VALUE_REGION, 6, 277},
    {"block-start", (void *) LXB_CSS_VALUE_BLOCK_START, 11, 278},
    {"min-content", (void *) LXB_CSS_VALUE_MIN_CONTENT, 11, 279},
    {"max-content", (void *) LXB_CSS_VALUE_MAX_CONTENT, 11, 0},
    {"lightgray", (void *) LXB_CSS_VALUE_LIGHTGRAY, 9, 281},
    {"lightgrey", (void *) LXB_CSS_VALUE_LIGHTGREY, 9, 282},
    {"rosybrown", (void *) LXB_CSS_VALUE_ROSYBROWN, 9, 0},
    {"scroll", (void *) LXB_CSS_VALUE_SCROLL, 6, 284},
    {"digits", (void *) LXB_CSS_VALUE_DIGITS, 6, 285},
    {"navajowhite", (void *) LXB_CSS_VALUE_NAVAJOWHITE, 11, 0},
    {"table-caption", (void *) LXB_CSS_VALUE_TABLE_CAPTION, 13, 0},
    {"lightslategrey", (void *) LXB_CSS_VALUE_LIGHTSLATEGREY, 14, 0},
    {"yellow", (void *) LXB_CSS_VALUE_YELLOW, 6, 289},
    {"break-spaces", (void *) LXB_CSS_VALUE_BREAK_SPACES, 12, 0},
    {"oklab", (void *) LXB_CSS_VALUE_OKLAB, 5, 291},
    {"slateblue", (void *) LXB_CSS_VALUE_SLATEBLUE, 9, 292},
    {"steelblue", (void *) LXB_CSS_VALUE_STEELBLUE, 9, 0},
    {"dashed", (void *) LXB_CSS_VALUE_DASHED, 6, 294},
    {"transparent", (void *) LXB_CSS_VALUE_TRANSPARENT, 11, 0},
    {"darkred", (void *) LXB_CSS_VALUE_DARKRED, 7, 296},
    {"olivedrab", (void *) LXB_CSS_VALUE_OLIVEDRAB, 9, 0},
    {"darkorchid", (void *) LXB_CSS_VALUE_DARKORCHID, 10, 0},
    {"darkgoldenrod", (void *) LXB_CSS_VALUE_DARKGOLDENROD, 13, 0},
    {"_number", (void *) LXB_CSS_VALUE__NUMBER, 7, 0},
    {"_integer", (void *) LXB_CSS_VALUE__INTEGER, 8, 0},
    {"dimgray", (void *) LXB_CSS_VALUE_DIMGRAY, 7, 302},
    {"dimgrey", (void *) LXB_CSS_VALUE_DIMGREY, 7, 0},
    {"darkgrey", (void *) LXB_CSS_VALUE_DARKGREY, 8, 0},
    {"x-large", (void *) LXB_CSS_VALUE_X_LARGE, 7, 0},
    {"horizontal-tb", (void *) LXB_CSS_VALUE_HORIZONTAL_TB, 13, 0},
    {"xxx-large", (void *) LXB_CSS_VALUE_XXX_LARGE, 9, 0},
    {"strict", (void *) LXB_CSS_VALUE_STRICT, 6, 308},
    {"darkslategray", (void *) LXB_CSS_VALUE_DARKSLATEGRAY, 13, 309},
    {"darkslategrey", (void *) LXB_CSS_VALUE_DARKSLATEGREY, 13, 0},
    {"brown", (void *) LXB_CSS_VALUE_BROWN, 5, 311},
    {"system-ui", (void *) LXB_CSS_VALUE_SYSTEM_UI, 9, 312},
    {"accentcolor", (void *) LXB_CSS_VALUE_ACCENTCOLOR, 11, 0},
    {"ruby-text", (void *) LXB_CSS_VALUE_RUBY_TEXT, 9, 0},
    {"cursive", (void *) LXB_CSS_VALUE_CURSIVE, 7, 0},
    {"moccasin", (void *) LXB_CSS_VALUE_MOCCASIN, 8, 316},
    {"collapse", (void *) LXB_CSS_VALUE_COLLAPSE, 8, 0},
    {"oblique", (void *) LXB_CSS_VALUE_OBLIQUE, 7, 318},
    {"cadetblue", (void *) LXB_CSS_VALUE_CADETBLUE, 9, 319},
    {"chocolate", (void *) LXB_CSS_VALUE_CHOCOLATE, 9, 0},
    {"chartreuse", (void *) LXB_CSS_VALUE_CHARTREUSE, 10, 321},
    {"capitalize", (void *) LXB_CSS_VALUE_CAPITALIZE, 10, 0},
    {"yellowgreen", (void *) LXB_CSS_VALUE_YELLOWGREEN, 11, 0},
    {"page", (void *) LXB_CSS_VALUE_PAGE, 4, 324},
    {"selecteditemtext", (void *) LXB_CSS_VALUE_SELECTEDITEMTEXT, 16, 0},
    {"cornflowerblue", (void *) LXB_CSS_VALUE_CORNFLOWERBLUE, 14, 326},
    {"mediumseagreen", (void *) LXB_CSS_VALUE_MEDIUMSEAGREEN, 14, 327},
    {"column-reverse", (void *) LXB_CSS_VALUE_COLUMN_REVERSE, 14, 0},
    {"ui-rounded", (void *) LXB_CSS_VALUE_UI_ROUNDED, 10, 0},
    {"medium", (void *) LXB_CSS_VALUE_MEDIUM, 6, 330},
    {"pre-line", (void *) LXB_CSS_VALUE_PRE_LINE, 8, 0},
    {"minimum", (void *) LXB_CSS_VALUE_MINIMUM, 7, 332},
    {"maximum", (void *) LXB_CSS_VALUE_MAXIMUM, 7, 333},
    {"mediumspringgreen", (void *) LXB_CSS_VALUE_MEDIUMSPRINGGREEN, 17, 0},
    {"mintcream", (void *) LXB_CSS_VALUE_MINTCREAM, 9, 335},
    {"ultra-expanded", (void *) LXB_CSS_VALUE_ULTRA_EXPANDED, 14, 0},
    {"paleturquoise", (void *) LXB_CSS_VALUE_PALETURQUOISE, 13, 0},
    {"larger", (void *) LXB_CSS_VALUE_LARGER, 6, 338},
    {"content-box", (void *) LXB_CSS_VALUE_CONTENT_BOX, 11, 339},
    {"lavenderblush", (void *) LXB_CSS_VALUE_LAVENDERBLUSH, 13, 0},
    {"indianred", (void *) LXB_CSS_VALUE_INDIANRED, 9, 0},
    {"inline-end", (void *) LXB_CSS_VALUE_INLINE_END, 10, 342},
    {"inter-word", (void *) LXB_CSS_VALUE_INTER_WORD, 10, 0},
    {"manual", (void *) LXB_CSS_VALUE_MANUAL, 6, 0},
    {"justify", (void *) LXB_CSS_VALUE_JUSTIFY, 7, 345},
    {"break-all", (void *) LXB_CSS_VALUE_BREAK_ALL, 9, 0},
    {"canvastext", (void *) LXB_CSS_VALUE_CANVASTEXT, 10, 347},
    {"mathematical", (void *) LXB_CSS_VALUE_MATHEMATICAL, 12, 0},
    {"full-width", (void *) LXB_CSS_VALUE_FULL_WIDTH, 10, 0},
    {"block", (void *) LXB_CSS_VALUE_BLOCK, 5, 350},
    {"blink", (void *) LXB_CSS_VALUE_BLINK, 5, 351},
    {"thistle", (void *) LXB_CSS_VALUE_THISTLE, 7, 0},
    {"turquoise", (void *) LXB_CSS_VALUE_TURQUOISE, 9, 0},
    {"uppercase", (void *) LXB_CSS_VALUE_UPPERCASE, 9, 0},
    {"text-top", (void *) LXB_CSS_VALUE_TEXT_TOP, 8, 0},
    {"ivory", (void *) LXB_CSS_VALUE_IVORY, 5, 356},
    {"inter-character", (void *) LXB_CSS_VALUE_INTER_CHARACTER, 15, 0},
    {"fantasy", (void *) LXB_CSS_VALUE_FANTASY, 7, 0},
    {"sans-serif", (void *) LXB_CSS_VALUE_SANS_SERIF, 10, 0},
    {"darkgreen", (void *) LXB_CSS_VALUE_DARKGREEN, 9, 0},
    {"table-row-group", (void *) LXB_CSS_VALUE_TABLE_ROW_GROUP, 15, 0},
    {"table-footer-group", (void *) LXB_CSS_VALUE_TABLE_FOOTER_GROUP, 18, 362},
    {"table-column-group", (void *) LXB_CSS_VALUE_TABLE_COLUMN_GROUP, 18, 0},
    {"grey", (void *) LXB_CSS_VALUE_GREY, 4, 364},
    {"vertical-rl", (void *) LXB_CSS_VALUE_VERTICAL_RL, 11, 0},
    {"both", (void *) LXB_CSS_VALUE_BOTH, 4, 0},
    {"_percentage", (void *) LXB_CSS_VALUE__PERCENTAGE, 11, 0},
    {"ui-serif", (void *) LXB_CSS_VALUE_UI_SERIF, 8, 0},
    {"left", (void *) LXB_CSS_VALUE_LEFT, 4, 369},
    {"ui-sans-serif", (void *) LXB_CSS_VALUE_UI_SANS_SERIF, 13, 0},
    {"condensed", (void *) LXB_CSS_VALUE_CONDENSED, 9, 0},
    {"ruby-text-container", (void *) LXB_CSS_VALUE_RUBY_TEXT_CONTAINER, 19, 0},
    {"orangered", (void *) LXB_CSS_VALUE_ORANGERED, 9, 0}
};


#endif /* LXB_CSS_VALUE_RES_H */

/* Resource: dom/interfaces/attr_res.h */

#ifndef LXB_DOM_ATTR_RES_H
#define LXB_DOM_ATTR_RES_H


static const lxb_dom_attr_data_t lxb_dom_attr_res_data_default[LXB_DOM_ATTR__LAST_ENTRY] =
{
    {{.u.short_str = "#undef", .length = 6, .next = NULL},
     LXB_DOM_ATTR__UNDEF, 1, true},
    {{.u.short_str = "active", .length = 6, .next = NULL},
     LXB_DOM_ATTR_ACTIVE, 1, true},
    {{.u.short_str = "alt", .length = 3, .next = NULL},
     LXB_DOM_ATTR_ALT, 1, true},
    {{.u.short_str = "charset", .length = 7, .next = NULL},
     LXB_DOM_ATTR_CHARSET, 1, true},
    {{.u.short_str = "checked", .length = 7, .next = NULL},
     LXB_DOM_ATTR_CHECKED, 1, true},
    {{.u.short_str = "class", .length = 5, .next = NULL},
     LXB_DOM_ATTR_CLASS, 1, true},
    {{.u.short_str = "color", .length = 5, .next = NULL},
     LXB_DOM_ATTR_COLOR, 1, true},
    {{.u.short_str = "content", .length = 7, .next = NULL},
     LXB_DOM_ATTR_CONTENT, 1, true},
    {{.u.short_str = "dir", .length = 3, .next = NULL},
     LXB_DOM_ATTR_DIR, 1, true},
    {{.u.short_str = "disabled", .length = 8, .next = NULL},
     LXB_DOM_ATTR_DISABLED, 1, true},
    {{.u.short_str = "face", .length = 4, .next = NULL},
     LXB_DOM_ATTR_FACE, 1, true},
    {{.u.short_str = "focus", .length = 5, .next = NULL},
     LXB_DOM_ATTR_FOCUS, 1, true},
    {{.u.short_str = "for", .length = 3, .next = NULL},
     LXB_DOM_ATTR_FOR, 1, true},
    {{.u.short_str = "height", .length = 6, .next = NULL},
     LXB_DOM_ATTR_HEIGHT, 1, true},
    {{.u.short_str = "hover", .length = 5, .next = NULL},
     LXB_DOM_ATTR_HOVER, 1, true},
    {{.u.short_str = "href", .length = 4, .next = NULL},
     LXB_DOM_ATTR_HREF, 1, true},
    {{.u.short_str = "html", .length = 4, .next = NULL},
     LXB_DOM_ATTR_HTML, 1, true},
    {{.u.short_str = "http-equiv", .length = 10, .next = NULL},
     LXB_DOM_ATTR_HTTP_EQUIV, 1, true},
    {{.u.short_str = "id", .length = 2, .next = NULL},
     LXB_DOM_ATTR_ID, 1, true},
    {{.u.short_str = "is", .length = 2, .next = NULL},
     LXB_DOM_ATTR_IS, 1, true},
    {{.u.short_str = "maxlength", .length = 9, .next = NULL},
     LXB_DOM_ATTR_MAXLENGTH, 1, true},
    {{.u.short_str = "multiple", .length = 8, .next = NULL},
     LXB_DOM_ATTR_MULTIPLE, 1, true},
    {{.u.short_str = "placeholder", .length = 11, .next = NULL},
     LXB_DOM_ATTR_PLACEHOLDER, 1, true},
    {{.u.short_str = "pool", .length = 4, .next = NULL},
     LXB_DOM_ATTR_POOL, 1, true},
    {{.u.short_str = "public", .length = 6, .next = NULL},
     LXB_DOM_ATTR_PUBLIC, 1, true},
    {{.u.short_str = "readonly", .length = 8, .next = NULL},
     LXB_DOM_ATTR_READONLY, 1, true},
    {{.u.short_str = "required", .length = 8, .next = NULL},
     LXB_DOM_ATTR_REQUIRED, 1, true},
    {{.u.short_str = "scheme", .length = 6, .next = NULL},
     LXB_DOM_ATTR_SCHEME, 1, true},
    {{.u.short_str = "selected", .length = 8, .next = NULL},
     LXB_DOM_ATTR_SELECTED, 1, true},
    {{.u.short_str = "size", .length = 4, .next = NULL},
     LXB_DOM_ATTR_SIZE, 1, true},
    {{.u.short_str = "slot", .length = 4, .next = NULL},
     LXB_DOM_ATTR_SLOT, 1, true},
    {{.u.short_str = "src", .length = 3, .next = NULL},
     LXB_DOM_ATTR_SRC, 1, true},
    {{.u.short_str = "style", .length = 5, .next = NULL},
     LXB_DOM_ATTR_STYLE, 1, true},
    {{.u.short_str = "system", .length = 6, .next = NULL},
     LXB_DOM_ATTR_SYSTEM, 1, true},
    {{.u.short_str = "title", .length = 5, .next = NULL},
     LXB_DOM_ATTR_TITLE, 1, true},
    {{.u.short_str = "type", .length = 4, .next = NULL},
     LXB_DOM_ATTR_TYPE, 1, true},
    {{.u.short_str = "width", .length = 5, .next = NULL},
     LXB_DOM_ATTR_WIDTH, 1, true}
};

static const lexbor_shs_entry_t lxb_dom_attr_res_shs_data[40] =
{
    {NULL, NULL, 39, 0},
    {"slot", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_SLOT], 4, 2},
    {"#undef", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR__UNDEF], 6, 0},
    {"active", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_ACTIVE], 6, 0},
    {"html", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_HTML], 4, 0},
    {"href", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_HREF], 4, 4},
    {"hover", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_HOVER], 5, 7},
    {"readonly", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_READONLY], 8, 0},
    {"disabled", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_DISABLED], 8, 0},
    {"color", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_COLOR], 5, 0},
    {"src", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_SRC], 3, 8},
    {"required", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_REQUIRED], 8, 0},
    {"id", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_ID], 2, 11},
    {"system", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_SYSTEM], 6, 0},
    {"pool", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_POOL], 4, 13},
    {"placeholder", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_PLACEHOLDER], 11, 0},
    {"selected", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_SELECTED], 8, 0},
    {"scheme", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_SCHEME], 6, 0},
    {"http-equiv", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_HTTP_EQUIV], 10, 0},
    {"size", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_SIZE], 4, 16},
    {"style", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_STYLE], 5, 0},
    {"class", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_CLASS], 5, 17},
    {"width", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_WIDTH], 5, 0},
    {"height", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_HEIGHT], 6, 0},
    {"focus", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_FOCUS], 5, 18},
    {"public", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_PUBLIC], 6, 0},
    {"content", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_CONTENT], 7, 0},
    {"is", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_IS], 2, 0},
    {"type", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_TYPE], 4, 0},
    {"title", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_TITLE], 5, 0},
    {"multiple", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_MULTIPLE], 8, 0},
    {"for", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_FOR], 3, 0},
    {"face", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_FACE], 4, 22},
    {"alt", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_ALT], 3, 23},
    {"dir", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_DIR], 3, 0},
    {"charset", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_CHARSET], 7, 26},
    {"maxlength", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_MAXLENGTH], 9, 0},
    {NULL, NULL, 0, 0},
    {"checked", (void *) &lxb_dom_attr_res_data_default[LXB_DOM_ATTR_CHECKED], 7, 30},
    {NULL, NULL, 0, 0}
};


#endif /* LXB_DOM_ATTR_RES_H */

/* Resource: html/interface_res.h */

#ifndef LXB_HTML_INTERFACE_RES_H
#define LXB_HTML_INTERFACE_RES_H

#ifdef LXB_TAG_CONST_VERSION
#ifndef LXB_TAG_CONST_VERSION_A53A182A4948BBFD2F227CE07EF1977D
#error Mismatched tags version! See "lexbor/tag/const.h".
#endif /* LXB_TAG_CONST_VERSION_A53A182A4948BBFD2F227CE07EF1977D */
#else
#error You need to include "lexbor/tag/const.h".
#endif /* LXB_TAG_CONST_VERSION */

#ifdef LXB_NS_CONST_VERSION
#ifndef LXB_NS_CONST_VERSION_253D4AFDA959234B48A478B956C3C777
#error Mismatched namespaces version! See "lexbor/ns/const.h".
#endif /* LXB_NS_CONST_VERSION_253D4AFDA959234B48A478B956C3C777 */
#else
#error You need to include "lexbor/ns/const.h".
#endif /* LXB_NS_CONST_VERSION */


lxb_inline void *
lxb_dom_element_interface_create_wrapper(void *interface)
{
    return lxb_dom_element_interface_create(interface);
}

lxb_inline void *
lxb_dom_element_interface_destroy_wrapper(void *interface)
{
    return lxb_dom_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_element_interface_create_wrapper(void *interface)
{
    return lxb_html_element_interface_create(interface);
}

lxb_inline void *
lxb_html_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_element_interface_destroy(interface);
}

lxb_inline void *
lxb_dom_text_interface_create_wrapper(void *interface)
{
    return lxb_dom_text_interface_create(interface);
}

lxb_inline void *
lxb_dom_text_interface_destroy_wrapper(void *interface)
{
    return lxb_dom_text_interface_destroy(interface);
}

lxb_inline void *
lxb_dom_document_interface_create_wrapper(void *interface)
{
    return lxb_dom_document_interface_create(interface);
}

lxb_inline void *
lxb_dom_document_interface_destroy_wrapper(void *interface)
{
    return lxb_dom_document_interface_destroy(interface);
}

lxb_inline void *
lxb_html_document_interface_create_wrapper(void *interface)
{
    return lxb_html_document_interface_create(interface);
}

lxb_inline void *
lxb_html_document_interface_destroy_wrapper(void *interface)
{
    return lxb_html_document_interface_destroy(interface);
}

lxb_inline void *
lxb_dom_comment_interface_create_wrapper(void *interface)
{
    return lxb_dom_comment_interface_create(interface);
}

lxb_inline void *
lxb_dom_comment_interface_destroy_wrapper(void *interface)
{
    return lxb_dom_comment_interface_destroy(interface);
}

lxb_inline void *
lxb_dom_document_type_interface_create_wrapper(void *interface)
{
    return lxb_dom_document_type_interface_create(interface);
}

lxb_inline void *
lxb_dom_document_type_interface_destroy_wrapper(void *interface)
{
    return lxb_dom_document_type_interface_destroy(interface);
}

lxb_inline void *
lxb_html_anchor_element_interface_create_wrapper(void *interface)
{
    return lxb_html_anchor_element_interface_create(interface);
}

lxb_inline void *
lxb_html_anchor_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_anchor_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_unknown_element_interface_create_wrapper(void *interface)
{
    return lxb_html_unknown_element_interface_create(interface);
}

lxb_inline void *
lxb_html_unknown_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_unknown_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_area_element_interface_create_wrapper(void *interface)
{
    return lxb_html_area_element_interface_create(interface);
}

lxb_inline void *
lxb_html_area_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_area_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_audio_element_interface_create_wrapper(void *interface)
{
    return lxb_html_audio_element_interface_create(interface);
}

lxb_inline void *
lxb_html_audio_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_audio_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_base_element_interface_create_wrapper(void *interface)
{
    return lxb_html_base_element_interface_create(interface);
}

lxb_inline void *
lxb_html_base_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_base_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_quote_element_interface_create_wrapper(void *interface)
{
    return lxb_html_quote_element_interface_create(interface);
}

lxb_inline void *
lxb_html_quote_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_quote_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_body_element_interface_create_wrapper(void *interface)
{
    return lxb_html_body_element_interface_create(interface);
}

lxb_inline void *
lxb_html_body_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_body_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_br_element_interface_create_wrapper(void *interface)
{
    return lxb_html_br_element_interface_create(interface);
}

lxb_inline void *
lxb_html_br_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_br_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_button_element_interface_create_wrapper(void *interface)
{
    return lxb_html_button_element_interface_create(interface);
}

lxb_inline void *
lxb_html_button_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_button_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_canvas_element_interface_create_wrapper(void *interface)
{
    return lxb_html_canvas_element_interface_create(interface);
}

lxb_inline void *
lxb_html_canvas_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_canvas_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_table_caption_element_interface_create_wrapper(void *interface)
{
    return lxb_html_table_caption_element_interface_create(interface);
}

lxb_inline void *
lxb_html_table_caption_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_table_caption_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_table_col_element_interface_create_wrapper(void *interface)
{
    return lxb_html_table_col_element_interface_create(interface);
}

lxb_inline void *
lxb_html_table_col_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_table_col_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_data_element_interface_create_wrapper(void *interface)
{
    return lxb_html_data_element_interface_create(interface);
}

lxb_inline void *
lxb_html_data_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_data_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_data_list_element_interface_create_wrapper(void *interface)
{
    return lxb_html_data_list_element_interface_create(interface);
}

lxb_inline void *
lxb_html_data_list_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_data_list_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_mod_element_interface_create_wrapper(void *interface)
{
    return lxb_html_mod_element_interface_create(interface);
}

lxb_inline void *
lxb_html_mod_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_mod_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_details_element_interface_create_wrapper(void *interface)
{
    return lxb_html_details_element_interface_create(interface);
}

lxb_inline void *
lxb_html_details_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_details_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_dialog_element_interface_create_wrapper(void *interface)
{
    return lxb_html_dialog_element_interface_create(interface);
}

lxb_inline void *
lxb_html_dialog_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_dialog_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_directory_element_interface_create_wrapper(void *interface)
{
    return lxb_html_directory_element_interface_create(interface);
}

lxb_inline void *
lxb_html_directory_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_directory_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_div_element_interface_create_wrapper(void *interface)
{
    return lxb_html_div_element_interface_create(interface);
}

lxb_inline void *
lxb_html_div_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_div_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_d_list_element_interface_create_wrapper(void *interface)
{
    return lxb_html_d_list_element_interface_create(interface);
}

lxb_inline void *
lxb_html_d_list_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_d_list_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_embed_element_interface_create_wrapper(void *interface)
{
    return lxb_html_embed_element_interface_create(interface);
}

lxb_inline void *
lxb_html_embed_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_embed_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_field_set_element_interface_create_wrapper(void *interface)
{
    return lxb_html_field_set_element_interface_create(interface);
}

lxb_inline void *
lxb_html_field_set_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_field_set_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_font_element_interface_create_wrapper(void *interface)
{
    return lxb_html_font_element_interface_create(interface);
}

lxb_inline void *
lxb_html_font_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_font_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_form_element_interface_create_wrapper(void *interface)
{
    return lxb_html_form_element_interface_create(interface);
}

lxb_inline void *
lxb_html_form_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_form_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_frame_element_interface_create_wrapper(void *interface)
{
    return lxb_html_frame_element_interface_create(interface);
}

lxb_inline void *
lxb_html_frame_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_frame_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_frame_set_element_interface_create_wrapper(void *interface)
{
    return lxb_html_frame_set_element_interface_create(interface);
}

lxb_inline void *
lxb_html_frame_set_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_frame_set_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_heading_element_interface_create_wrapper(void *interface)
{
    return lxb_html_heading_element_interface_create(interface);
}

lxb_inline void *
lxb_html_heading_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_heading_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_head_element_interface_create_wrapper(void *interface)
{
    return lxb_html_head_element_interface_create(interface);
}

lxb_inline void *
lxb_html_head_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_head_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_hr_element_interface_create_wrapper(void *interface)
{
    return lxb_html_hr_element_interface_create(interface);
}

lxb_inline void *
lxb_html_hr_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_hr_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_html_element_interface_create_wrapper(void *interface)
{
    return lxb_html_html_element_interface_create(interface);
}

lxb_inline void *
lxb_html_html_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_html_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_iframe_element_interface_create_wrapper(void *interface)
{
    return lxb_html_iframe_element_interface_create(interface);
}

lxb_inline void *
lxb_html_iframe_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_iframe_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_image_element_interface_create_wrapper(void *interface)
{
    return lxb_html_image_element_interface_create(interface);
}

lxb_inline void *
lxb_html_image_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_image_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_input_element_interface_create_wrapper(void *interface)
{
    return lxb_html_input_element_interface_create(interface);
}

lxb_inline void *
lxb_html_input_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_input_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_label_element_interface_create_wrapper(void *interface)
{
    return lxb_html_label_element_interface_create(interface);
}

lxb_inline void *
lxb_html_label_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_label_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_legend_element_interface_create_wrapper(void *interface)
{
    return lxb_html_legend_element_interface_create(interface);
}

lxb_inline void *
lxb_html_legend_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_legend_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_li_element_interface_create_wrapper(void *interface)
{
    return lxb_html_li_element_interface_create(interface);
}

lxb_inline void *
lxb_html_li_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_li_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_link_element_interface_create_wrapper(void *interface)
{
    return lxb_html_link_element_interface_create(interface);
}

lxb_inline void *
lxb_html_link_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_link_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_pre_element_interface_create_wrapper(void *interface)
{
    return lxb_html_pre_element_interface_create(interface);
}

lxb_inline void *
lxb_html_pre_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_pre_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_map_element_interface_create_wrapper(void *interface)
{
    return lxb_html_map_element_interface_create(interface);
}

lxb_inline void *
lxb_html_map_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_map_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_marquee_element_interface_create_wrapper(void *interface)
{
    return lxb_html_marquee_element_interface_create(interface);
}

lxb_inline void *
lxb_html_marquee_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_marquee_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_menu_element_interface_create_wrapper(void *interface)
{
    return lxb_html_menu_element_interface_create(interface);
}

lxb_inline void *
lxb_html_menu_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_menu_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_meta_element_interface_create_wrapper(void *interface)
{
    return lxb_html_meta_element_interface_create(interface);
}

lxb_inline void *
lxb_html_meta_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_meta_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_meter_element_interface_create_wrapper(void *interface)
{
    return lxb_html_meter_element_interface_create(interface);
}

lxb_inline void *
lxb_html_meter_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_meter_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_object_element_interface_create_wrapper(void *interface)
{
    return lxb_html_object_element_interface_create(interface);
}

lxb_inline void *
lxb_html_object_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_object_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_o_list_element_interface_create_wrapper(void *interface)
{
    return lxb_html_o_list_element_interface_create(interface);
}

lxb_inline void *
lxb_html_o_list_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_o_list_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_opt_group_element_interface_create_wrapper(void *interface)
{
    return lxb_html_opt_group_element_interface_create(interface);
}

lxb_inline void *
lxb_html_opt_group_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_opt_group_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_option_element_interface_create_wrapper(void *interface)
{
    return lxb_html_option_element_interface_create(interface);
}

lxb_inline void *
lxb_html_option_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_option_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_output_element_interface_create_wrapper(void *interface)
{
    return lxb_html_output_element_interface_create(interface);
}

lxb_inline void *
lxb_html_output_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_output_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_paragraph_element_interface_create_wrapper(void *interface)
{
    return lxb_html_paragraph_element_interface_create(interface);
}

lxb_inline void *
lxb_html_paragraph_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_paragraph_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_param_element_interface_create_wrapper(void *interface)
{
    return lxb_html_param_element_interface_create(interface);
}

lxb_inline void *
lxb_html_param_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_param_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_picture_element_interface_create_wrapper(void *interface)
{
    return lxb_html_picture_element_interface_create(interface);
}

lxb_inline void *
lxb_html_picture_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_picture_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_progress_element_interface_create_wrapper(void *interface)
{
    return lxb_html_progress_element_interface_create(interface);
}

lxb_inline void *
lxb_html_progress_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_progress_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_script_element_interface_create_wrapper(void *interface)
{
    return lxb_html_script_element_interface_create(interface);
}

lxb_inline void *
lxb_html_script_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_script_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_search_element_interface_create_wrapper(void *interface)
{
    return lxb_html_search_element_interface_create(interface);
}

lxb_inline void *
lxb_html_search_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_search_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_select_element_interface_create_wrapper(void *interface)
{
    return lxb_html_select_element_interface_create(interface);
}

lxb_inline void *
lxb_html_select_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_select_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_selectedcontent_element_interface_create_wrapper(void *interface)
{
    return lxb_html_selectedcontent_element_interface_create(interface);
}

lxb_inline void *
lxb_html_selectedcontent_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_selectedcontent_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_slot_element_interface_create_wrapper(void *interface)
{
    return lxb_html_slot_element_interface_create(interface);
}

lxb_inline void *
lxb_html_slot_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_slot_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_source_element_interface_create_wrapper(void *interface)
{
    return lxb_html_source_element_interface_create(interface);
}

lxb_inline void *
lxb_html_source_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_source_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_span_element_interface_create_wrapper(void *interface)
{
    return lxb_html_span_element_interface_create(interface);
}

lxb_inline void *
lxb_html_span_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_span_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_style_element_interface_create_wrapper(void *interface)
{
    return lxb_html_style_element_interface_create(interface);
}

lxb_inline void *
lxb_html_style_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_style_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_table_element_interface_create_wrapper(void *interface)
{
    return lxb_html_table_element_interface_create(interface);
}

lxb_inline void *
lxb_html_table_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_table_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_table_section_element_interface_create_wrapper(void *interface)
{
    return lxb_html_table_section_element_interface_create(interface);
}

lxb_inline void *
lxb_html_table_section_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_table_section_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_table_cell_element_interface_create_wrapper(void *interface)
{
    return lxb_html_table_cell_element_interface_create(interface);
}

lxb_inline void *
lxb_html_table_cell_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_table_cell_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_template_element_interface_create_wrapper(void *interface)
{
    return lxb_html_template_element_interface_create(interface);
}

lxb_inline void *
lxb_html_template_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_template_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_text_area_element_interface_create_wrapper(void *interface)
{
    return lxb_html_text_area_element_interface_create(interface);
}

lxb_inline void *
lxb_html_text_area_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_text_area_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_time_element_interface_create_wrapper(void *interface)
{
    return lxb_html_time_element_interface_create(interface);
}

lxb_inline void *
lxb_html_time_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_time_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_title_element_interface_create_wrapper(void *interface)
{
    return lxb_html_title_element_interface_create(interface);
}

lxb_inline void *
lxb_html_title_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_title_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_table_row_element_interface_create_wrapper(void *interface)
{
    return lxb_html_table_row_element_interface_create(interface);
}

lxb_inline void *
lxb_html_table_row_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_table_row_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_track_element_interface_create_wrapper(void *interface)
{
    return lxb_html_track_element_interface_create(interface);
}

lxb_inline void *
lxb_html_track_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_track_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_u_list_element_interface_create_wrapper(void *interface)
{
    return lxb_html_u_list_element_interface_create(interface);
}

lxb_inline void *
lxb_html_u_list_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_u_list_element_interface_destroy(interface);
}

lxb_inline void *
lxb_html_video_element_interface_create_wrapper(void *interface)
{
    return lxb_html_video_element_interface_create(interface);
}

lxb_inline void *
lxb_html_video_element_interface_destroy_wrapper(void *interface)
{
    return lxb_html_video_element_interface_destroy(interface);
}


static  lxb_dom_interface_constructor_f lxb_html_interface_res_constructors[LXB_TAG__LAST_ENTRY][LXB_NS__LAST_ENTRY] =
{
    /* LXB_TAG__UNDEF */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG__END_OF_FILE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG__TEXT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_text_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_text_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_text_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_text_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_text_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_text_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_text_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_text_interface_create_wrapper
    },
    /* LXB_TAG__DOCUMENT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_document_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_document_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_document_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_document_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_document_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_document_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_document_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_document_interface_create_wrapper
    },
    /* LXB_TAG__EM_COMMENT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_comment_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_comment_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_comment_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_comment_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_comment_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_comment_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_comment_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_comment_interface_create_wrapper
    },
    /* LXB_TAG__EM_DOCTYPE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_document_type_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_document_type_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_document_type_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_document_type_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_document_type_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_document_type_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_document_type_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_document_type_interface_create_wrapper
    },
    /* LXB_TAG_A */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_anchor_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_ABBR */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_ACRONYM */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_ADDRESS */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_ALTGLYPH */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_ALTGLYPHDEF */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_ALTGLYPHITEM */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_ANIMATECOLOR */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_ANIMATEMOTION */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_ANIMATETRANSFORM */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_ANNOTATION_XML */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_APPLET */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_AREA */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_area_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_ARTICLE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_ASIDE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_AUDIO */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_audio_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_B */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_BASE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_base_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_BASEFONT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_BDI */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_BDO */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_BGSOUND */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_BIG */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_BLINK */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_BLOCKQUOTE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_quote_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_BODY */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_body_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_BR */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_br_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_BUTTON */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_button_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_CANVAS */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_canvas_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_CAPTION */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_table_caption_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_CENTER */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_CITE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_CLIPPATH */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_CODE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_COL */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_table_col_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_COLGROUP */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_table_col_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_DATA */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_data_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_DATALIST */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_data_list_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_DD */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_DEL */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_mod_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_DESC */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_DETAILS */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_details_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_DFN */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_DIALOG */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_dialog_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_DIR */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_directory_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_DIV */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_div_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_DL */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_d_list_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_DT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_EM */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_EMBED */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_embed_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEBLEND */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FECOLORMATRIX */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FECOMPONENTTRANSFER */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FECOMPOSITE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FECONVOLVEMATRIX */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEDIFFUSELIGHTING */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEDISPLACEMENTMAP */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEDISTANTLIGHT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEDROPSHADOW */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEFLOOD */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEFUNCA */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEFUNCB */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEFUNCG */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEFUNCR */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEGAUSSIANBLUR */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEIMAGE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEMERGE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEMERGENODE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEMORPHOLOGY */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEOFFSET */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FEPOINTLIGHT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FESPECULARLIGHTING */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FESPOTLIGHT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FETILE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FETURBULENCE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FIELDSET */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_field_set_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FIGCAPTION */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FIGURE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FONT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_font_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FOOTER */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FOREIGNOBJECT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FORM */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_form_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FRAME */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_frame_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_FRAMESET */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_frame_set_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_GLYPHREF */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_H1 */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_heading_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_H2 */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_heading_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_H3 */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_heading_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_H4 */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_heading_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_H5 */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_heading_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_H6 */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_heading_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_HEAD */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_head_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_HEADER */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_HGROUP */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_HR */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_hr_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_HTML */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_I */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_IFRAME */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_iframe_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_IMAGE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_image_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_IMG */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_image_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_INPUT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_input_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_INS */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_mod_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_ISINDEX */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_KBD */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_KEYGEN */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_LABEL */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_label_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_LEGEND */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_legend_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_LI */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_li_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_LINEARGRADIENT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_LINK */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_link_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_LISTING */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_pre_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MAIN */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MALIGNMARK */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MAP */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_map_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MARK */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MARQUEE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_marquee_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MATH */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MENU */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_menu_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_META */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_meta_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_METER */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_meter_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MFENCED */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MGLYPH */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MI */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MN */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MO */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MS */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MTEXT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_MULTICOL */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_NAV */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_NEXTID */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_NOBR */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_NOEMBED */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_NOFRAMES */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_NOSCRIPT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_OBJECT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_object_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_OL */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_o_list_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_OPTGROUP */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_opt_group_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_OPTION */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_option_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_OUTPUT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_output_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_P */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_paragraph_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_PARAM */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_param_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_PATH */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_PICTURE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_picture_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_PLAINTEXT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_PRE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_pre_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_PROGRESS */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_progress_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_Q */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_quote_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_RADIALGRADIENT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_RB */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_RP */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_RT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_RTC */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_RUBY */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_S */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SAMP */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SCRIPT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_script_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SEARCH */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_search_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SECTION */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SELECT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_select_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SELECTEDCONTENT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_selectedcontent_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SLOT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_slot_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SMALL */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SOURCE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_source_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SPACER */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SPAN */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_span_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_STRIKE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_STRONG */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_STYLE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_style_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SUB */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SUMMARY */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SUP */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_SVG */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_TABLE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_table_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_TBODY */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_table_section_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_TD */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_table_cell_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_TEMPLATE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_template_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_TEXTAREA */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_text_area_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_TEXTPATH */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_unknown_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_TFOOT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_table_section_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_TH */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_table_cell_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_THEAD */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_table_section_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_TIME */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_time_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_TITLE */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_title_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_TR */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_table_row_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_TRACK */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_track_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_TT */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_U */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_UL */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_u_list_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_VAR */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_VIDEO */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_video_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_WBR */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    },
    /* LXB_TAG_XMP */
    {
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_html_pre_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper,
        (lxb_dom_interface_constructor_f) lxb_dom_element_interface_create_wrapper
    }
};

static  lxb_dom_interface_destructor_f lxb_html_interface_res_destructor[LXB_TAG__LAST_ENTRY][LXB_NS__LAST_ENTRY] =
{
    /* LXB_TAG__UNDEF */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG__END_OF_FILE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG__TEXT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_text_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_text_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_text_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_text_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_text_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_text_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_text_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_text_interface_destroy_wrapper
    },
    /* LXB_TAG__DOCUMENT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_document_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_document_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_document_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_document_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_document_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_document_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_document_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_document_interface_destroy_wrapper
    },
    /* LXB_TAG__EM_COMMENT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_comment_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_comment_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_comment_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_comment_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_comment_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_comment_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_comment_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_comment_interface_destroy_wrapper
    },
    /* LXB_TAG__EM_DOCTYPE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_document_type_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_document_type_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_document_type_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_document_type_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_document_type_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_document_type_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_document_type_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_document_type_interface_destroy_wrapper
    },
    /* LXB_TAG_A */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_anchor_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_ABBR */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_ACRONYM */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_ADDRESS */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_ALTGLYPH */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_ALTGLYPHDEF */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_ALTGLYPHITEM */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_ANIMATECOLOR */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_ANIMATEMOTION */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_ANIMATETRANSFORM */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_ANNOTATION_XML */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_APPLET */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_AREA */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_area_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_ARTICLE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_ASIDE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_AUDIO */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_audio_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_B */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_BASE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_base_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_BASEFONT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_BDI */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_BDO */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_BGSOUND */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_BIG */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_BLINK */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_BLOCKQUOTE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_quote_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_BODY */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_body_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_BR */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_br_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_BUTTON */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_button_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_CANVAS */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_canvas_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_CAPTION */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_table_caption_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_CENTER */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_CITE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_CLIPPATH */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_CODE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_COL */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_table_col_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_COLGROUP */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_table_col_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_DATA */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_data_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_DATALIST */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_data_list_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_DD */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_DEL */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_mod_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_DESC */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_DETAILS */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_details_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_DFN */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_DIALOG */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_dialog_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_DIR */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_directory_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_DIV */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_div_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_DL */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_d_list_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_DT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_EM */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_EMBED */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_embed_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEBLEND */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FECOLORMATRIX */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FECOMPONENTTRANSFER */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FECOMPOSITE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FECONVOLVEMATRIX */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEDIFFUSELIGHTING */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEDISPLACEMENTMAP */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEDISTANTLIGHT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEDROPSHADOW */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEFLOOD */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEFUNCA */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEFUNCB */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEFUNCG */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEFUNCR */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEGAUSSIANBLUR */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEIMAGE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEMERGE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEMERGENODE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEMORPHOLOGY */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEOFFSET */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FEPOINTLIGHT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FESPECULARLIGHTING */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FESPOTLIGHT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FETILE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FETURBULENCE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FIELDSET */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_field_set_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FIGCAPTION */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FIGURE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FONT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_font_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FOOTER */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FOREIGNOBJECT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FORM */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_form_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FRAME */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_frame_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_FRAMESET */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_frame_set_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_GLYPHREF */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_H1 */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_heading_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_H2 */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_heading_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_H3 */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_heading_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_H4 */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_heading_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_H5 */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_heading_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_H6 */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_heading_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_HEAD */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_head_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_HEADER */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_HGROUP */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_HR */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_hr_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_HTML */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_I */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_IFRAME */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_iframe_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_IMAGE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_image_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_IMG */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_image_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_INPUT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_input_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_INS */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_mod_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_ISINDEX */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_KBD */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_KEYGEN */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_LABEL */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_label_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_LEGEND */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_legend_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_LI */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_li_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_LINEARGRADIENT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_LINK */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_link_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_LISTING */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_pre_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MAIN */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MALIGNMARK */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MAP */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_map_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MARK */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MARQUEE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_marquee_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MATH */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MENU */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_menu_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_META */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_meta_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_METER */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_meter_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MFENCED */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MGLYPH */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MI */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MN */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MO */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MS */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MTEXT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_MULTICOL */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_NAV */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_NEXTID */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_NOBR */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_NOEMBED */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_NOFRAMES */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_NOSCRIPT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_OBJECT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_object_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_OL */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_o_list_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_OPTGROUP */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_opt_group_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_OPTION */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_option_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_OUTPUT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_output_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_P */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_paragraph_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_PARAM */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_param_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_PATH */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_PICTURE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_picture_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_PLAINTEXT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_PRE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_pre_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_PROGRESS */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_progress_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_Q */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_quote_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_RADIALGRADIENT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_RB */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_RP */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_RT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_RTC */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_RUBY */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_S */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SAMP */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SCRIPT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_script_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SEARCH */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_search_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SECTION */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SELECT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_select_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SELECTEDCONTENT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_selectedcontent_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SLOT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_slot_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SMALL */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SOURCE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_source_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SPACER */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SPAN */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_span_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_STRIKE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_STRONG */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_STYLE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_style_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SUB */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SUMMARY */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SUP */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_SVG */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_TABLE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_table_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_TBODY */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_table_section_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_TD */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_table_cell_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_TEMPLATE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_template_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_TEXTAREA */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_text_area_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_TEXTPATH */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_unknown_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_TFOOT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_table_section_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_TH */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_table_cell_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_THEAD */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_table_section_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_TIME */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_time_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_TITLE */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_title_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_TR */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_table_row_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_TRACK */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_track_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_TT */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_U */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_UL */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_u_list_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_VAR */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_VIDEO */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_video_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_WBR */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    },
    /* LXB_TAG_XMP */
    {
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_html_pre_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper,
        (lxb_dom_interface_destructor_f) lxb_dom_element_interface_destroy_wrapper
    }
};

#endif /* LXB_HTML_INTERFACE_RES_H */

/* Resource: html/tag_res.h */

#ifndef LXB_HTML_TAG_RES_H
#define LXB_HTML_TAG_RES_H

#ifdef LXB_TAG_CONST_VERSION
#ifndef LXB_TAG_CONST_VERSION_A53A182A4948BBFD2F227CE07EF1977D
#error Mismatched tags version! See "lexbor/tag/const.h".
#endif /* LXB_TAG_CONST_VERSION_A53A182A4948BBFD2F227CE07EF1977D */
#else
#error You need to include "lexbor/tag/const.h".
#endif /* LXB_TAG_CONST_VERSION */

#ifdef LXB_NS_CONST_VERSION
#ifndef LXB_NS_CONST_VERSION_253D4AFDA959234B48A478B956C3C777
#error Mismatched namespaces version! See "lexbor/ns/const.h".
#endif /* LXB_NS_CONST_VERSION_253D4AFDA959234B48A478B956C3C777 */
#else
#error You need to include "lexbor/ns/const.h".
#endif /* LXB_NS_CONST_VERSION */

LXB_API  lxb_html_tag_category_t lxb_html_tag_res_cats[LXB_TAG__LAST_ENTRY][LXB_NS__LAST_ENTRY] =
{
    /* LXB_TAG__UNDEF */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG__END_OF_FILE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG__TEXT */
    {
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY
    },
    /* LXB_TAG__DOCUMENT */
    {
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY
    },
    /* LXB_TAG__EM_COMMENT */
    {
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY
    },
    /* LXB_TAG__EM_DOCTYPE */
    {
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY_ORDINARY
    },
    /* LXB_TAG_A */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_FORMATTING,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_ABBR */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_ACRONYM */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_ADDRESS */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_ALTGLYPH */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_ALTGLYPHDEF */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_ALTGLYPHITEM */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_ANIMATECOLOR */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_ANIMATEMOTION */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_ANIMATETRANSFORM */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_ANNOTATION_XML */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_APPLET */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_AREA */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_ARTICLE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_ASIDE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_AUDIO */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_B */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_FORMATTING,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_BASE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_BASEFONT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_BDI */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_BDO */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_BGSOUND */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_BIG */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_FORMATTING,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_BLINK */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_BLOCKQUOTE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_BODY */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_BR */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_BUTTON */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_CANVAS */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_CAPTION */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_CENTER */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_CITE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_CLIPPATH */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_CODE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_FORMATTING,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_COL */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_COLGROUP */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_DATA */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_DATALIST */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_DD */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_DEL */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_DESC */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_DETAILS */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_DFN */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_DIALOG */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_DIR */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_DIV */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_DL */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_DT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_EM */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_FORMATTING,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_EMBED */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEBLEND */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FECOLORMATRIX */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FECOMPONENTTRANSFER */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FECOMPOSITE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FECONVOLVEMATRIX */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEDIFFUSELIGHTING */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEDISPLACEMENTMAP */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEDISTANTLIGHT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEDROPSHADOW */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEFLOOD */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEFUNCA */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEFUNCB */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEFUNCG */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEFUNCR */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEGAUSSIANBLUR */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEIMAGE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEMERGE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEMERGENODE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEMORPHOLOGY */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEOFFSET */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FEPOINTLIGHT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FESPECULARLIGHTING */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FESPOTLIGHT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FETILE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FETURBULENCE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FIELDSET */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FIGCAPTION */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FIGURE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FONT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_FORMATTING,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FOOTER */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FOREIGNOBJECT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FORM */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FRAME */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_FRAMESET */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_GLYPHREF */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_H1 */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_H2 */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_H3 */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_H4 */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_H5 */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_H6 */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_HEAD */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_HEADER */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_HGROUP */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_HR */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_HTML */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SCOPE_TABLE
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_I */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_FORMATTING,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_IFRAME */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_IMAGE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_IMG */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_INPUT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_INS */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_ISINDEX */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_KBD */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_KEYGEN */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_LABEL */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_LEGEND */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_LI */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_LINEARGRADIENT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_LINK */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_LISTING */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MAIN */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MALIGNMARK */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MAP */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MARK */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MARQUEE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MATH */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MENU */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_META */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_METER */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MFENCED */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MGLYPH */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY_ORDINARY,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MI */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MN */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MO */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MS */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MTEXT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_MULTICOL */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_NAV */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_NEXTID */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_NOBR */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_FORMATTING,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_NOEMBED */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_NOFRAMES */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_NOSCRIPT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_OBJECT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_OL */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_OPTGROUP */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_OPTION */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_OUTPUT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_P */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_PARAM */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_PATH */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_PICTURE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_PLAINTEXT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_PRE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_PROGRESS */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_Q */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_RADIALGRADIENT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_RB */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_RP */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_RT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_RTC */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_RUBY */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_S */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_FORMATTING,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SAMP */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SCRIPT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SEARCH */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SECTION */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SELECT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SELECTEDCONTENT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SLOT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SMALL */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_FORMATTING,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SOURCE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SPACER */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SPAN */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_STRIKE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_FORMATTING,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_STRONG */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_FORMATTING,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_STYLE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SUB */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SUMMARY */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SUP */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_SVG */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_TABLE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SCOPE_TABLE
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_TBODY */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_TD */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_TEMPLATE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SCOPE_TABLE
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_TEXTAREA */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_TEXTPATH */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_TFOOT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_TH */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_THEAD */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_TIME */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_TITLE */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE
            |LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON
            |LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_TR */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_TRACK */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_TT */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_FORMATTING,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_U */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_FORMATTING,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_UL */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM
            |LXB_HTML_TAG_CATEGORY_SPECIAL,
        LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_VAR */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_VIDEO */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_ORDINARY,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_WBR */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    },
    /* LXB_TAG_XMP */
    {
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY_SPECIAL,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF,
        LXB_HTML_TAG_CATEGORY__UNDEF,LXB_HTML_TAG_CATEGORY__UNDEF
    }
};

LXB_API  lxb_html_tag_fixname_t lxb_html_tag_res_fixname_svg[LXB_TAG__LAST_ENTRY] =
{
    /* LXB_TAG__UNDEF */
    {NULL, 0},
    /* LXB_TAG__END_OF_FILE */
    {NULL, 0},
    /* LXB_TAG__TEXT */
    {NULL, 0},
    /* LXB_TAG__DOCUMENT */
    {NULL, 0},
    /* LXB_TAG__EM_COMMENT */
    {NULL, 0},
    /* LXB_TAG__EM_DOCTYPE */
    {NULL, 0},
    /* LXB_TAG_A */
    {NULL, 0},
    /* LXB_TAG_ABBR */
    {NULL, 0},
    /* LXB_TAG_ACRONYM */
    {NULL, 0},
    /* LXB_TAG_ADDRESS */
    {NULL, 0},
    /* LXB_TAG_ALTGLYPH */
    {(const lxb_char_t *) "altGlyph", 8},
    /* LXB_TAG_ALTGLYPHDEF */
    {(const lxb_char_t *) "altGlyphDef", 11},
    /* LXB_TAG_ALTGLYPHITEM */
    {(const lxb_char_t *) "altGlyphItem", 12},
    /* LXB_TAG_ANIMATECOLOR */
    {(const lxb_char_t *) "animateColor", 12},
    /* LXB_TAG_ANIMATEMOTION */
    {(const lxb_char_t *) "animateMotion", 13},
    /* LXB_TAG_ANIMATETRANSFORM */
    {(const lxb_char_t *) "animateTransform", 16},
    /* LXB_TAG_ANNOTATION_XML */
    {NULL, 0},
    /* LXB_TAG_APPLET */
    {NULL, 0},
    /* LXB_TAG_AREA */
    {NULL, 0},
    /* LXB_TAG_ARTICLE */
    {NULL, 0},
    /* LXB_TAG_ASIDE */
    {NULL, 0},
    /* LXB_TAG_AUDIO */
    {NULL, 0},
    /* LXB_TAG_B */
    {NULL, 0},
    /* LXB_TAG_BASE */
    {NULL, 0},
    /* LXB_TAG_BASEFONT */
    {NULL, 0},
    /* LXB_TAG_BDI */
    {NULL, 0},
    /* LXB_TAG_BDO */
    {NULL, 0},
    /* LXB_TAG_BGSOUND */
    {NULL, 0},
    /* LXB_TAG_BIG */
    {NULL, 0},
    /* LXB_TAG_BLINK */
    {NULL, 0},
    /* LXB_TAG_BLOCKQUOTE */
    {NULL, 0},
    /* LXB_TAG_BODY */
    {NULL, 0},
    /* LXB_TAG_BR */
    {NULL, 0},
    /* LXB_TAG_BUTTON */
    {NULL, 0},
    /* LXB_TAG_CANVAS */
    {NULL, 0},
    /* LXB_TAG_CAPTION */
    {NULL, 0},
    /* LXB_TAG_CENTER */
    {NULL, 0},
    /* LXB_TAG_CITE */
    {NULL, 0},
    /* LXB_TAG_CLIPPATH */
    {(const lxb_char_t *) "clipPath", 8},
    /* LXB_TAG_CODE */
    {NULL, 0},
    /* LXB_TAG_COL */
    {NULL, 0},
    /* LXB_TAG_COLGROUP */
    {NULL, 0},
    /* LXB_TAG_DATA */
    {NULL, 0},
    /* LXB_TAG_DATALIST */
    {NULL, 0},
    /* LXB_TAG_DD */
    {NULL, 0},
    /* LXB_TAG_DEL */
    {NULL, 0},
    /* LXB_TAG_DESC */
    {NULL, 0},
    /* LXB_TAG_DETAILS */
    {NULL, 0},
    /* LXB_TAG_DFN */
    {NULL, 0},
    /* LXB_TAG_DIALOG */
    {NULL, 0},
    /* LXB_TAG_DIR */
    {NULL, 0},
    /* LXB_TAG_DIV */
    {NULL, 0},
    /* LXB_TAG_DL */
    {NULL, 0},
    /* LXB_TAG_DT */
    {NULL, 0},
    /* LXB_TAG_EM */
    {NULL, 0},
    /* LXB_TAG_EMBED */
    {NULL, 0},
    /* LXB_TAG_FEBLEND */
    {(const lxb_char_t *) "feBlend", 7},
    /* LXB_TAG_FECOLORMATRIX */
    {(const lxb_char_t *) "feColorMatrix", 13},
    /* LXB_TAG_FECOMPONENTTRANSFER */
    {(const lxb_char_t *) "feComponentTransfer", 19},
    /* LXB_TAG_FECOMPOSITE */
    {(const lxb_char_t *) "feComposite", 11},
    /* LXB_TAG_FECONVOLVEMATRIX */
    {(const lxb_char_t *) "feConvolveMatrix", 16},
    /* LXB_TAG_FEDIFFUSELIGHTING */
    {(const lxb_char_t *) "feDiffuseLighting", 17},
    /* LXB_TAG_FEDISPLACEMENTMAP */
    {(const lxb_char_t *) "feDisplacementMap", 17},
    /* LXB_TAG_FEDISTANTLIGHT */
    {(const lxb_char_t *) "feDistantLight", 14},
    /* LXB_TAG_FEDROPSHADOW */
    {(const lxb_char_t *) "feDropShadow", 12},
    /* LXB_TAG_FEFLOOD */
    {(const lxb_char_t *) "feFlood", 7},
    /* LXB_TAG_FEFUNCA */
    {(const lxb_char_t *) "feFuncA", 7},
    /* LXB_TAG_FEFUNCB */
    {(const lxb_char_t *) "feFuncB", 7},
    /* LXB_TAG_FEFUNCG */
    {(const lxb_char_t *) "feFuncG", 7},
    /* LXB_TAG_FEFUNCR */
    {(const lxb_char_t *) "feFuncR", 7},
    /* LXB_TAG_FEGAUSSIANBLUR */
    {(const lxb_char_t *) "feGaussianBlur", 14},
    /* LXB_TAG_FEIMAGE */
    {(const lxb_char_t *) "feImage", 7},
    /* LXB_TAG_FEMERGE */
    {(const lxb_char_t *) "feMerge", 7},
    /* LXB_TAG_FEMERGENODE */
    {(const lxb_char_t *) "feMergeNode", 11},
    /* LXB_TAG_FEMORPHOLOGY */
    {(const lxb_char_t *) "feMorphology", 12},
    /* LXB_TAG_FEOFFSET */
    {(const lxb_char_t *) "feOffset", 8},
    /* LXB_TAG_FEPOINTLIGHT */
    {(const lxb_char_t *) "fePointLight", 12},
    /* LXB_TAG_FESPECULARLIGHTING */
    {(const lxb_char_t *) "feSpecularLighting", 18},
    /* LXB_TAG_FESPOTLIGHT */
    {(const lxb_char_t *) "feSpotLight", 11},
    /* LXB_TAG_FETILE */
    {(const lxb_char_t *) "feTile", 6},
    /* LXB_TAG_FETURBULENCE */
    {(const lxb_char_t *) "feTurbulence", 12},
    /* LXB_TAG_FIELDSET */
    {NULL, 0},
    /* LXB_TAG_FIGCAPTION */
    {NULL, 0},
    /* LXB_TAG_FIGURE */
    {NULL, 0},
    /* LXB_TAG_FONT */
    {NULL, 0},
    /* LXB_TAG_FOOTER */
    {NULL, 0},
    /* LXB_TAG_FOREIGNOBJECT */
    {(const lxb_char_t *) "foreignObject", 13},
    /* LXB_TAG_FORM */
    {NULL, 0},
    /* LXB_TAG_FRAME */
    {NULL, 0},
    /* LXB_TAG_FRAMESET */
    {NULL, 0},
    /* LXB_TAG_GLYPHREF */
    {(const lxb_char_t *) "glyphRef", 8},
    /* LXB_TAG_H1 */
    {NULL, 0},
    /* LXB_TAG_H2 */
    {NULL, 0},
    /* LXB_TAG_H3 */
    {NULL, 0},
    /* LXB_TAG_H4 */
    {NULL, 0},
    /* LXB_TAG_H5 */
    {NULL, 0},
    /* LXB_TAG_H6 */
    {NULL, 0},
    /* LXB_TAG_HEAD */
    {NULL, 0},
    /* LXB_TAG_HEADER */
    {NULL, 0},
    /* LXB_TAG_HGROUP */
    {NULL, 0},
    /* LXB_TAG_HR */
    {NULL, 0},
    /* LXB_TAG_HTML */
    {NULL, 0},
    /* LXB_TAG_I */
    {NULL, 0},
    /* LXB_TAG_IFRAME */
    {NULL, 0},
    /* LXB_TAG_IMAGE */
    {NULL, 0},
    /* LXB_TAG_IMG */
    {NULL, 0},
    /* LXB_TAG_INPUT */
    {NULL, 0},
    /* LXB_TAG_INS */
    {NULL, 0},
    /* LXB_TAG_ISINDEX */
    {NULL, 0},
    /* LXB_TAG_KBD */
    {NULL, 0},
    /* LXB_TAG_KEYGEN */
    {NULL, 0},
    /* LXB_TAG_LABEL */
    {NULL, 0},
    /* LXB_TAG_LEGEND */
    {NULL, 0},
    /* LXB_TAG_LI */
    {NULL, 0},
    /* LXB_TAG_LINEARGRADIENT */
    {(const lxb_char_t *) "linearGradient", 14},
    /* LXB_TAG_LINK */
    {NULL, 0},
    /* LXB_TAG_LISTING */
    {NULL, 0},
    /* LXB_TAG_MAIN */
    {NULL, 0},
    /* LXB_TAG_MALIGNMARK */
    {NULL, 0},
    /* LXB_TAG_MAP */
    {NULL, 0},
    /* LXB_TAG_MARK */
    {NULL, 0},
    /* LXB_TAG_MARQUEE */
    {NULL, 0},
    /* LXB_TAG_MATH */
    {NULL, 0},
    /* LXB_TAG_MENU */
    {NULL, 0},
    /* LXB_TAG_META */
    {NULL, 0},
    /* LXB_TAG_METER */
    {NULL, 0},
    /* LXB_TAG_MFENCED */
    {NULL, 0},
    /* LXB_TAG_MGLYPH */
    {NULL, 0},
    /* LXB_TAG_MI */
    {NULL, 0},
    /* LXB_TAG_MN */
    {NULL, 0},
    /* LXB_TAG_MO */
    {NULL, 0},
    /* LXB_TAG_MS */
    {NULL, 0},
    /* LXB_TAG_MTEXT */
    {NULL, 0},
    /* LXB_TAG_MULTICOL */
    {NULL, 0},
    /* LXB_TAG_NAV */
    {NULL, 0},
    /* LXB_TAG_NEXTID */
    {NULL, 0},
    /* LXB_TAG_NOBR */
    {NULL, 0},
    /* LXB_TAG_NOEMBED */
    {NULL, 0},
    /* LXB_TAG_NOFRAMES */
    {NULL, 0},
    /* LXB_TAG_NOSCRIPT */
    {NULL, 0},
    /* LXB_TAG_OBJECT */
    {NULL, 0},
    /* LXB_TAG_OL */
    {NULL, 0},
    /* LXB_TAG_OPTGROUP */
    {NULL, 0},
    /* LXB_TAG_OPTION */
    {NULL, 0},
    /* LXB_TAG_OUTPUT */
    {NULL, 0},
    /* LXB_TAG_P */
    {NULL, 0},
    /* LXB_TAG_PARAM */
    {NULL, 0},
    /* LXB_TAG_PATH */
    {NULL, 0},
    /* LXB_TAG_PICTURE */
    {NULL, 0},
    /* LXB_TAG_PLAINTEXT */
    {NULL, 0},
    /* LXB_TAG_PRE */
    {NULL, 0},
    /* LXB_TAG_PROGRESS */
    {NULL, 0},
    /* LXB_TAG_Q */
    {NULL, 0},
    /* LXB_TAG_RADIALGRADIENT */
    {(const lxb_char_t *) "radialGradient", 14},
    /* LXB_TAG_RB */
    {NULL, 0},
    /* LXB_TAG_RP */
    {NULL, 0},
    /* LXB_TAG_RT */
    {NULL, 0},
    /* LXB_TAG_RTC */
    {NULL, 0},
    /* LXB_TAG_RUBY */
    {NULL, 0},
    /* LXB_TAG_S */
    {NULL, 0},
    /* LXB_TAG_SAMP */
    {NULL, 0},
    /* LXB_TAG_SCRIPT */
    {NULL, 0},
    /* LXB_TAG_SEARCH */
    {NULL, 0},
    /* LXB_TAG_SECTION */
    {NULL, 0},
    /* LXB_TAG_SELECT */
    {NULL, 0},
    /* LXB_TAG_SELECTEDCONTENT */
    {NULL, 0},
    /* LXB_TAG_SLOT */
    {NULL, 0},
    /* LXB_TAG_SMALL */
    {NULL, 0},
    /* LXB_TAG_SOURCE */
    {NULL, 0},
    /* LXB_TAG_SPACER */
    {NULL, 0},
    /* LXB_TAG_SPAN */
    {NULL, 0},
    /* LXB_TAG_STRIKE */
    {NULL, 0},
    /* LXB_TAG_STRONG */
    {NULL, 0},
    /* LXB_TAG_STYLE */
    {NULL, 0},
    /* LXB_TAG_SUB */
    {NULL, 0},
    /* LXB_TAG_SUMMARY */
    {NULL, 0},
    /* LXB_TAG_SUP */
    {NULL, 0},
    /* LXB_TAG_SVG */
    {NULL, 0},
    /* LXB_TAG_TABLE */
    {NULL, 0},
    /* LXB_TAG_TBODY */
    {NULL, 0},
    /* LXB_TAG_TD */
    {NULL, 0},
    /* LXB_TAG_TEMPLATE */
    {NULL, 0},
    /* LXB_TAG_TEXTAREA */
    {NULL, 0},
    /* LXB_TAG_TEXTPATH */
    {(const lxb_char_t *) "textPath", 8},
    /* LXB_TAG_TFOOT */
    {NULL, 0},
    /* LXB_TAG_TH */
    {NULL, 0},
    /* LXB_TAG_THEAD */
    {NULL, 0},
    /* LXB_TAG_TIME */
    {NULL, 0},
    /* LXB_TAG_TITLE */
    {NULL, 0},
    /* LXB_TAG_TR */
    {NULL, 0},
    /* LXB_TAG_TRACK */
    {NULL, 0},
    /* LXB_TAG_TT */
    {NULL, 0},
    /* LXB_TAG_U */
    {NULL, 0},
    /* LXB_TAG_UL */
    {NULL, 0},
    /* LXB_TAG_VAR */
    {NULL, 0},
    /* LXB_TAG_VIDEO */
    {NULL, 0},
    /* LXB_TAG_WBR */
    {NULL, 0},
    /* LXB_TAG_XMP */
    {NULL, 0},

};

#endif /* LXB_HTML_TAG_RES_H */

/* Resource: html/tokenizer/res.h */

#ifndef LXB_HTML_TOKENIZER_RES_H
#define LXB_HTML_TOKENIZER_RES_H

static const lexbor_sbst_entry_static_t lxb_html_tokenizer_res_entities_sbst[] =
{
	{0x00, NULL, 0, 0, 0, 0}, {0x61, NULL, 0, 3, 2, 53},
	{0x6e, NULL, 0, 30, 29, 257}, {0x4e, NULL, 0, 5, 4, 856},
	{0x55, NULL, 0, 19, 18, 1421}, {0x47, NULL, 0, 7, 6, 1636},
	{0x4b, NULL, 0, 14, 13, 1743}, {0x44, NULL, 0, 9, 8, 1775},
	{0x46, NULL, 0, 12, 0, 2152}, {0x42, NULL, 0, 11, 10, 2213},
	{0x43, NULL, 0, 0, 0, 2273}, {0x41, NULL, 0, 0, 0, 2522},
	{0x45, NULL, 0, 0, 0, 2616}, {0x4d, NULL, 0, 17, 0, 2762},
	{0x49, NULL, 0, 16, 15, 2809}, {0x4a, NULL, 0, 0, 0, 2934},
	{0x48, NULL, 0, 0, 0, 2962}, {0x4c, NULL, 0, 0, 0, 3039},
	{0x58, NULL, 0, 26, 25, 3468}, {0x52, NULL, 0, 21, 20, 3481},
	{0x54, NULL, 0, 24, 0, 3779}, {0x50, NULL, 0, 23, 22, 3895},
	{0x51, NULL, 0, 0, 0, 3998}, {0x4f, NULL, 0, 0, 0, 4013},
	{0x53, NULL, 0, 0, 0, 4144}, {0x5a, NULL, 0, 28, 0, 4380},
	{0x57, NULL, 0, 27, 0, 4430}, {0x56, NULL, 0, 0, 0, 4451},
	{0x59, NULL, 0, 0, 0, 4537}, {0x75, NULL, 0, 43, 42, 4577},
	{0x68, NULL, 0, 32, 31, 4793}, {0x6b, NULL, 0, 39, 38, 4936},
	{0x65, NULL, 0, 34, 33, 4976}, {0x67, NULL, 0, 37, 0, 5223},
	{0x63, NULL, 0, 36, 35, 5427}, {0x64, NULL, 0, 0, 0, 5812},
	{0x62, NULL, 0, 0, 0, 6116}, {0x66, NULL, 0, 0, 0, 6542},
	{0x6d, NULL, 0, 41, 0, 6677}, {0x6a, NULL, 0, 40, 0, 6826},
	{0x69, NULL, 0, 0, 0, 6859}, {0x6c, NULL, 0, 0, 0, 7051},
	{0x78, NULL, 0, 50, 49, 7695}, {0x72, NULL, 0, 45, 44, 7797},
	{0x74, NULL, 0, 48, 0, 8231}, {0x70, NULL, 0, 47, 46, 8481},
	{0x71, NULL, 0, 0, 0, 8726}, {0x6f, NULL, 0, 0, 0, 8772},
	{0x73, NULL, 0, 0, 0, 8971}, {0x7a, NULL, 0, 52, 0, 9523},
	{0x77, NULL, 0, 51, 0, 9578}, {0x76, NULL, 0, 0, 0, 9619},
	{0x79, NULL, 0, 0, 0, 9814}, {0x6e, NULL, 0, 55, 54, 69},
	{0x73, NULL, 0, 64, 63, 132}, {0x66, NULL, 0, 57, 56, 144},
	{0x6c, NULL, 0, 62, 61, 147}, {0x63, NULL, 0, 59, 58, 160},
	{0x65, NULL, 0, 0, 0, 175}, {0x62, NULL, 0, 60, 0, 179},
	{0x61, NULL, 0, 0, 0, 184}, {0x6d, NULL, 0, 0, 0, 189},
	{0x67, NULL, 0, 0, 0, 198}, {0x75, NULL, 0, 68, 67, 203},
	{0x70, NULL, 0, 66, 65, 206}, {0x72, NULL, 0, 0, 0, 230},
	{0x6f, NULL, 0, 0, 0, 234}, {0x77, NULL, 0, 0, 0, 241},
	{0x74, NULL, 0, 0, 0, 252}, {0x67, NULL, 0, 70, 0, 71},
	{0x64, NULL, 0, 0, 0, 117}, {0x6d, NULL, 0, 73, 72, 78},
	{0x73, NULL, 0, 77, 76, 98}, {0x65, NULL, 0, 75, 74, 103},
	{0x6c, NULL, 0, 0, 0, 104}, {0x3b, "\xe2\x88\xa0", 3, 0, 0, 0},
	{0x7a, NULL, 0, 0, 0, 106}, {0x72, NULL, 0, 0, 0, 110},
	{0x73, NULL, 0, 0, 0, 79}, {0x64, NULL, 0, 0, 0, 80},
	{0x61, NULL, 0, 81, 0, 82}, {0x3b, "\xe2\x88\xa1", 3, 0, 0, 0},
	{0x65, NULL, 0, 84, 83, 90}, {0x67, NULL, 0, 89, 88, 91},
	{0x63, NULL, 0, 86, 85, 92}, {0x64, NULL, 0, 0, 0, 93},
	{0x62, NULL, 0, 87, 0, 94}, {0x61, NULL, 0, 0, 0, 95},
	{0x68, NULL, 0, 0, 0, 96}, {0x66, NULL, 0, 0, 0, 97},
	{0x3b, "\xe2\xa6\xac", 3, 0, 0, 0}, {0x3b, "\xe2\xa6\xae", 3, 0, 0, 0},
	{0x3b, "\xe2\xa6\xaa", 3, 0, 0, 0}, {0x3b, "\xe2\xa6\xab", 3, 0, 0, 0},
	{0x3b, "\xe2\xa6\xa9", 3, 0, 0, 0}, {0x3b, "\xe2\xa6\xa8", 3, 0, 0, 0},
	{0x3b, "\xe2\xa6\xaf", 3, 0, 0, 0}, {0x3b, "\xe2\xa6\xad", 3, 0, 0, 0},
	{0x74, NULL, 0, 99, 0, 100}, {0x70, NULL, 0, 0, 0, 101},
	{0x3b, "\xc3\x85", 2, 0, 0, 0}, {0x68, NULL, 0, 0, 0, 102},
	{0x3b, "\xe2\x88\xa2", 3, 0, 0, 0}, {0x3b, "\xe2\xa6\xa4", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 105}, {0x3b, "\xe2\x88\xa0", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 107}, {0x72, NULL, 0, 0, 0, 108},
	{0x72, NULL, 0, 0, 0, 109}, {0x3b, "\xe2\x8d\xbc", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 111}, {0x76, NULL, 0, 112, 0, 113},
	{0x3b, "\xe2\x88\x9f", 3, 0, 0, 0}, {0x62, NULL, 0, 0, 0, 114},
	{0x64, NULL, 0, 115, 0, 116}, {0x3b, "\xe2\x8a\xbe", 3, 0, 0, 0},
	{0x3b, "\xe2\xa6\x9d", 3, 0, 0, 0}, {0x64, NULL, 0, 119, 118, 122},
	{0x76, NULL, 0, 121, 0, 123}, {0x61, NULL, 0, 120, 0, 124},
	{0x3b, "\xe2\x88\xa7", 3, 0, 0, 0}, {0x73, NULL, 0, 0, 0, 127},
	{0x3b, "\xe2\xa9\x9c", 3, 0, 0, 0}, {0x3b, "\xe2\xa9\x9a", 3, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 125}, {0x64, NULL, 0, 0, 0, 126},
	{0x3b, "\xe2\xa9\x95", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 128},
	{0x6f, NULL, 0, 0, 0, 129}, {0x70, NULL, 0, 0, 0, 130},
	{0x65, NULL, 0, 0, 0, 131}, {0x3b, "\xe2\xa9\x98", 3, 0, 0, 0},
	{0x74, NULL, 0, 134, 133, 135}, {0x79, NULL, 0, 0, 0, 136},
	{0x63, NULL, 0, 0, 0, 142}, {0x3b, "\x2a", 1, 0, 0, 0},
	{0x6d, NULL, 0, 0, 0, 137}, {0x70, NULL, 0, 0, 0, 138},
	{0x65, NULL, 0, 139, 0, 140}, {0x3b, "\xe2\x89\x88", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 141}, {0x3b, "\xe2\x89\x8d", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 143}, {0x3b, "\xf0\x9d\x92\xb6", 4, 0, 0, 0},
	{0x72, NULL, 0, 145, 0, 146}, {0x3b, "\xe2\x81\xa1", 3, 0, 0, 0},
	{0x3b, "\xf0\x9d\x94\x9e", 4, 0, 0, 0}, {0x70, NULL, 0, 148, 0, 149},
	{0x65, NULL, 0, 0, 0, 152}, {0x68, NULL, 0, 0, 0, 150},
	{0x61, NULL, 0, 0, 0, 151}, {0x3b, "\xce\xb1", 2, 0, 0, 0},
	{0x70, NULL, 0, 153, 0, 154}, {0x66, NULL, 0, 0, 0, 156},
	{0x68, NULL, 0, 0, 0, 155}, {0x3b, "\xe2\x84\xb5", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 157}, {0x79, NULL, 0, 0, 0, 158},
	{0x6d, NULL, 0, 0, 0, 159}, {0x3b, "\xe2\x84\xb5", 3, 0, 0, 0},
	{0x69, NULL, 0, 162, 161, 166}, {0x79, NULL, 0, 165, 0, 169},
	{0x45, NULL, 0, 164, 163, 170}, {0x64, NULL, 0, 0, 0, 171},
	{0x3b, "\xe2\x88\xbe", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 172},
	{0x72, NULL, 0, 0, 0, 167}, {0x63, "\xc3\xa2", 2, 0, 0, 168},
	{0x3b, "\xc3\xa2", 2, 0, 0, 0}, {0x3b, "\xd0\xb0", 2, 0, 0, 0},
	{0x3b, "\xe2\x88\xbe\xcc\xb3", 5, 0, 0, 0}, {0x3b, "\xe2\x88\xbf", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 173}, {0x65, "\xc2\xb4", 2, 0, 0, 174},
	{0x3b, "\xc2\xb4", 2, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 176},
	{0x69, NULL, 0, 0, 0, 177}, {0x67, "\xc3\xa6", 2, 0, 0, 178},
	{0x3b, "\xc3\xa6", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 180},
	{0x65, NULL, 0, 0, 0, 181}, {0x76, NULL, 0, 0, 0, 182},
	{0x65, NULL, 0, 0, 0, 183}, {0x3b, "\xc4\x83", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 185}, {0x75, NULL, 0, 0, 0, 186},
	{0x74, NULL, 0, 0, 0, 187}, {0x65, "\xc3\xa1", 2, 0, 0, 188},
	{0x3b, "\xc3\xa1", 2, 0, 0, 0}, {0x70, "\x26", 1, 190, 0, 191},
	{0x61, NULL, 0, 0, 0, 192}, {0x3b, "\x26", 1, 0, 0, 0},
	{0x6c, NULL, 0, 193, 0, 194}, {0x63, NULL, 0, 0, 0, 196},
	{0x67, NULL, 0, 0, 0, 195}, {0x3b, "\xe2\xa8\xbf", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 197}, {0x3b, "\xc4\x81", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 199}, {0x61, NULL, 0, 0, 0, 200},
	{0x76, NULL, 0, 0, 0, 201}, {0x65, "\xc3\xa0", 2, 0, 0, 202},
	{0x3b, "\xc3\xa0", 2, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 204},
	{0x6c, "\xc3\xa4", 2, 0, 0, 205}, {0x3b, "\xc3\xa4", 2, 0, 0, 0},
	{0x65, NULL, 0, 208, 207, 213}, {0x6f, NULL, 0, 212, 211, 214},
	{0x45, NULL, 0, 210, 209, 216}, {0x61, NULL, 0, 0, 0, 217},
	{0x3b, "\xe2\x89\x88", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 221},
	{0x69, NULL, 0, 0, 0, 228}, {0x3b, "\xe2\x89\x8a", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 215}, {0x3b, "\x27", 1, 0, 0, 0},
	{0x3b, "\xe2\xa9\xb0", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 218},
	{0x69, NULL, 0, 0, 0, 219}, {0x72, NULL, 0, 0, 0, 220},
	{0x3b, "\xe2\xa9\xaf", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 222},
	{0x6f, NULL, 0, 0, 0, 223}, {0x78, NULL, 0, 0, 0, 224},
	{0x65, NULL, 0, 225, 0, 226}, {0x3b, "\xe2\x89\x88", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 227}, {0x3b, "\xe2\x89\x8a", 3, 0, 0, 0},
	{0x64, NULL, 0, 0, 0, 229}, {0x3b, "\xe2\x89\x8b", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 231}, {0x6e, NULL, 0, 0, 0, 232},
	{0x67, "\xc3\xa5", 2, 0, 0, 233}, {0x3b, "\xc3\xa5", 2, 0, 0, 0},
	{0x70, NULL, 0, 235, 0, 236}, {0x67, NULL, 0, 0, 0, 238},
	{0x66, NULL, 0, 0, 0, 237}, {0x3b, "\xf0\x9d\x95\x92", 4, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 239}, {0x6e, NULL, 0, 0, 0, 240},
	{0x3b, "\xc4\x85", 2, 0, 0, 0}, {0x69, NULL, 0, 242, 0, 243},
	{0x63, NULL, 0, 0, 0, 246}, {0x6e, NULL, 0, 0, 0, 244},
	{0x74, NULL, 0, 0, 0, 245}, {0x3b, "\xe2\xa8\x91", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 247}, {0x6e, NULL, 0, 0, 0, 248},
	{0x69, NULL, 0, 0, 0, 249}, {0x6e, NULL, 0, 0, 0, 250},
	{0x74, NULL, 0, 0, 0, 251}, {0x3b, "\xe2\x88\xb3", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 253}, {0x6c, NULL, 0, 0, 0, 254},
	{0x64, NULL, 0, 0, 0, 255}, {0x65, "\xc3\xa3", 2, 0, 0, 256},
	{0x3b, "\xc3\xa3", 2, 0, 0, 0}, {0x69, NULL, 0, 259, 258, 281},
	{0x72, NULL, 0, 272, 271, 288}, {0x63, NULL, 0, 261, 260, 316},
	{0x66, NULL, 0, 268, 267, 341}, {0x56, NULL, 0, 263, 262, 343},
	{0x62, NULL, 0, 266, 0, 353}, {0x4c, NULL, 0, 265, 264, 362},
	{0x52, NULL, 0, 0, 0, 388}, {0x47, NULL, 0, 0, 0, 398},
	{0x61, NULL, 0, 0, 0, 404}, {0x68, NULL, 0, 270, 0, 440},
	{0x65, NULL, 0, 269, 0, 452}, {0x64, NULL, 0, 0, 0, 491},
	{0x67, NULL, 0, 0, 0, 495}, {0x75, NULL, 0, 278, 277, 519},
	{0x6d, NULL, 0, 274, 273, 529}, {0x70, NULL, 0, 276, 0, 532},
	{0x6c, NULL, 0, 275, 0, 565}, {0x6a, NULL, 0, 0, 0, 624},
	{0x6f, NULL, 0, 0, 0, 627}, {0x77, NULL, 0, 280, 0, 658},
	{0x74, NULL, 0, 279, 0, 677}, {0x73, NULL, 0, 0, 0, 712},
	{0x76, NULL, 0, 0, 0, 800}, {0x73, NULL, 0, 283, 282, 284},
	{0x76, NULL, 0, 0, 0, 287}, {0x3b, "\xe2\x88\x8b", 3, 0, 0, 0},
	{0x64, NULL, 0, 285, 0, 286}, {0x3b, "\xe2\x8b\xbc", 3, 0, 0, 0},
	{0x3b, "\xe2\x8b\xba", 3, 0, 0, 0}, {0x3b, "\xe2\x88\x8b", 3, 0, 0, 0},
	{0x69, NULL, 0, 290, 289, 292}, {0x74, NULL, 0, 0, 0, 301},
	{0x61, NULL, 0, 291, 0, 306}, {0x41, NULL, 0, 0, 0, 313},
	{0x67, NULL, 0, 0, 0, 293}, {0x68, NULL, 0, 0, 0, 294},
	{0x74, NULL, 0, 0, 0, 295}, {0x61, NULL, 0, 0, 0, 296},
	{0x72, NULL, 0, 0, 0, 297}, {0x72, NULL, 0, 0, 0, 298},
	{0x6f, NULL, 0, 0, 0, 299}, {0x77, NULL, 0, 0, 0, 300},
	{0x3b, "\xe2\x86\x9b", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 302},
	{0x69, NULL, 0, 0, 0, 303}, {0x65, NULL, 0, 304, 0, 305},
	{0x3b, "\xe2\x8b\xab", 3, 0, 0, 0}, {0x3b, "\xe2\x8b\xad", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 307}, {0x72, NULL, 0, 0, 0, 308},
	{0x63, NULL, 0, 310, 309, 311}, {0x77, NULL, 0, 0, 0, 312},
	{0x3b, "\xe2\x86\x9b", 3, 0, 0, 0}, {0x3b, "\xe2\xa4\xb3\xcc\xb8", 5, 0, 0, 0},
	{0x3b, "\xe2\x86\x9d\xcc\xb8", 5, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 314},
	{0x72, NULL, 0, 0, 0, 315}, {0x3b, "\xe2\x87\x8f", 3, 0, 0, 0},
	{0x6f, NULL, 0, 318, 317, 321}, {0x79, NULL, 0, 320, 0, 328},
	{0x65, NULL, 0, 319, 0, 329}, {0x61, NULL, 0, 0, 0, 333},
	{0x75, NULL, 0, 0, 0, 339}, {0x6e, NULL, 0, 0, 0, 322},
	{0x67, NULL, 0, 0, 0, 323}, {0x64, NULL, 0, 324, 0, 325},
	{0x3b, "\xe2\x89\x87", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 326},
	{0x74, NULL, 0, 0, 0, 327}, {0x3b, "\xe2\xa9\xad\xcc\xb8", 5, 0, 0, 0},
	{0x3b, "\xd0\xbd", 2, 0, 0, 0}, {0x64, NULL, 0, 0, 0, 330},
	{0x69, NULL, 0, 0, 0, 331}, {0x6c, NULL, 0, 0, 0, 332},
	{0x3b, "\xc5\x86", 2, 0, 0, 0}, {0x72, NULL, 0, 334, 0, 335},
	{0x70, NULL, 0, 0, 0, 338}, {0x6f, NULL, 0, 0, 0, 336},
	{0x6e, NULL, 0, 0, 0, 337}, {0x3b, "\xc5\x88", 2, 0, 0, 0},
	{0x3b, "\xe2\xa9\x83", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 340},
	{0x3b, "\xe2\xa9\x82", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 342},
	{0x3b, "\xf0\x9d\x94\xab", 4, 0, 0, 0}, {0x64, NULL, 0, 344, 0, 345},
	{0x44, NULL, 0, 0, 0, 349}, {0x61, NULL, 0, 0, 0, 346},
	{0x73, NULL, 0, 0, 0, 347}, {0x68, NULL, 0, 0, 0, 348},
	{0x3b, "\xe2\x8a\xae", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 350},
	{0x73, NULL, 0, 0, 0, 351}, {0x68, NULL, 0, 0, 0, 352},
	{0x3b, "\xe2\x8a\xaf", 3, 0, 0, 0}, {0x75, NULL, 0, 354, 0, 355},
	{0x73, NULL, 0, 0, 0, 360}, {0x6d, NULL, 0, 0, 0, 356},
	{0x70, NULL, 0, 0, 0, 357}, {0x65, NULL, 0, 358, 0, 359},
	{0x3b, "\xe2\x89\x8e\xcc\xb8", 5, 0, 0, 0}, {0x3b, "\xe2\x89\x8f\xcc\xb8", 5, 0, 0, 0},
	{0x70, "\xc2\xa0", 2, 0, 0, 361}, {0x3b, "\xc2\xa0", 2, 0, 0, 0},
	{0x6c, NULL, 0, 364, 363, 365}, {0x74, NULL, 0, 0, 0, 366},
	{0x65, NULL, 0, 0, 0, 369}, {0x3b, "\xe2\x8b\x98\xcc\xb8", 5, 0, 0, 0},
	{0x76, NULL, 0, 367, 0, 368}, {0x3b, "\xe2\x89\xaa\xe2\x83\x92", 6, 0, 0, 0},
	{0x3b, "\xe2\x89\xaa\xcc\xb8", 5, 0, 0, 0}, {0x66, NULL, 0, 0, 0, 370},
	{0x74, NULL, 0, 0, 0, 371}, {0x72, NULL, 0, 372, 0, 373},
	{0x61, NULL, 0, 0, 0, 383}, {0x69, NULL, 0, 0, 0, 374},
	{0x67, NULL, 0, 0, 0, 375}, {0x68, NULL, 0, 0, 0, 376},
	{0x74, NULL, 0, 0, 0, 377}, {0x61, NULL, 0, 0, 0, 378},
	{0x72, NULL, 0, 0, 0, 379}, {0x72, NULL, 0, 0, 0, 380},
	{0x6f, NULL, 0, 0, 0, 381}, {0x77, NULL, 0, 0, 0, 382},
	{0x3b, "\xe2\x87\x8e", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 384},
	{0x72, NULL, 0, 0, 0, 385}, {0x6f, NULL, 0, 0, 0, 386},
	{0x77, NULL, 0, 0, 0, 387}, {0x3b, "\xe2\x87\x8d", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 389}, {0x67, NULL, 0, 0, 0, 390},
	{0x68, NULL, 0, 0, 0, 391}, {0x74, NULL, 0, 0, 0, 392},
	{0x61, NULL, 0, 0, 0, 393}, {0x72, NULL, 0, 0, 0, 394},
	{0x72, NULL, 0, 0, 0, 395}, {0x6f, NULL, 0, 0, 0, 396},
	{0x77, NULL, 0, 0, 0, 397}, {0x3b, "\xe2\x87\x8f", 3, 0, 0, 0},
	{0x74, NULL, 0, 399, 0, 400}, {0x67, NULL, 0, 0, 0, 403},
	{0x76, NULL, 0, 401, 0, 402}, {0x3b, "\xe2\x89\xab\xe2\x83\x92", 6, 0, 0, 0},
	{0x3b, "\xe2\x89\xab\xcc\xb8", 5, 0, 0, 0}, {0x3b, "\xe2\x8b\x99\xcc\xb8", 5, 0, 0, 0},
	{0x6e, NULL, 0, 406, 405, 409}, {0x74, NULL, 0, 408, 0, 411},
	{0x63, NULL, 0, 407, 0, 419}, {0x62, NULL, 0, 0, 0, 423},
	{0x70, NULL, 0, 0, 0, 426}, {0x67, NULL, 0, 0, 0, 410},
	{0x3b, "\xe2\x88\xa0\xe2\x83\x92", 6, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 412},
	{0x72, NULL, 0, 0, 0, 413}, {0x61, NULL, 0, 414, 0, 415},
	{0x3b, "\xe2\x99\xae", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 416},
	{0x73, NULL, 0, 417, 0, 418}, {0x3b, "\xe2\x99\xae", 3, 0, 0, 0},
	{0x3b, "\xe2\x84\x95", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 420},
	{0x74, NULL, 0, 0, 0, 421}, {0x65, NULL, 0, 0, 0, 422},
	{0x3b, "\xc5\x84", 2, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 424},
	{0x61, NULL, 0, 0, 0, 425}, {0x3b, "\xe2\x88\x87", 3, 0, 0, 0},
	{0x69, NULL, 0, 428, 427, 431}, {0x70, NULL, 0, 430, 0, 433},
	{0x45, NULL, 0, 429, 0, 437}, {0x3b, "\xe2\x89\x89", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 438}, {0x64, NULL, 0, 0, 0, 432},
	{0x3b, "\xe2\x89\x8b\xcc\xb8", 5, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 434},
	{0x6f, NULL, 0, 0, 0, 435}, {0x78, NULL, 0, 0, 0, 436},
	{0x3b, "\xe2\x89\x89", 3, 0, 0, 0}, {0x3b, "\xe2\xa9\xb0\xcc\xb8", 5, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 439}, {0x3b, "\xc5\x89", 2, 0, 0, 0},
	{0x61, NULL, 0, 442, 441, 443}, {0x70, NULL, 0, 0, 0, 446},
	{0x41, NULL, 0, 0, 0, 449}, {0x72, NULL, 0, 0, 0, 444},
	{0x72, NULL, 0, 0, 0, 445}, {0x3b, "\xe2\x86\xae", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 447}, {0x72, NULL, 0, 0, 0, 448},
	{0x3b, "\xe2\xab\xb2", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 450},
	{0x72, NULL, 0, 0, 0, 451}, {0x3b, "\xe2\x87\x8e", 3, 0, 0, 0},
	{0x64, NULL, 0, 454, 453, 459}, {0x73, NULL, 0, 458, 457, 462},
	{0x41, NULL, 0, 456, 455, 469}, {0x61, NULL, 0, 0, 0, 472},
	{0x3b, "\xe2\x89\xa0", 3, 0, 0, 0}, {0x78, NULL, 0, 0, 0, 481},
	{0x71, NULL, 0, 0, 0, 487}, {0x6f, NULL, 0, 0, 0, 460},
	{0x74, NULL, 0, 0, 0, 461}, {0x3b, "\xe2\x89\x90\xcc\xb8", 5, 0, 0, 0},
	{0x69, NULL, 0, 463, 0, 464}, {0x65, NULL, 0, 0, 0, 466},
	{0x6d, NULL, 0, 0, 0, 465}, {0x3b, "\xe2\x89\x82\xcc\xb8", 5, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 467}, {0x72, NULL, 0, 0, 0, 468},
	{0x3b, "\xe2\xa4\xa8", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 470},
	{0x72, NULL, 0, 0, 0, 471}, {0x3b, "\xe2\x87\x97", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 473}, {0x72, NULL, 0, 474, 0, 475},
	{0x68, NULL, 0, 0, 0, 479}, {0x6f, NULL, 0, 476, 0, 477},
	{0x3b, "\xe2\x86\x97", 3, 0, 0, 0}, {0x77, NULL, 0, 0, 0, 478},
	{0x3b, "\xe2\x86\x97", 3, 0, 0, 0}, {0x6b, NULL, 0, 0, 0, 480},
	{0x3b, "\xe2\xa4\xa4", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 482},
	{0x73, NULL, 0, 0, 0, 483}, {0x74, NULL, 0, 0, 0, 484},
	{0x73, NULL, 0, 485, 0, 486}, {0x3b, "\xe2\x88\x84", 3, 0, 0, 0},
	{0x3b, "\xe2\x88\x84", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 488},
	{0x69, NULL, 0, 0, 0, 489}, {0x76, NULL, 0, 0, 0, 490},
	{0x3b, "\xe2\x89\xa2", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 492},
	{0x73, NULL, 0, 0, 0, 493}, {0x68, NULL, 0, 0, 0, 494},
	{0x3b, "\xe2\x80\x93", 3, 0, 0, 0}, {0x73, NULL, 0, 497, 496, 499},
	{0x74, NULL, 0, 0, 0, 502}, {0x65, NULL, 0, 498, 0, 505},
	{0x45, NULL, 0, 0, 0, 518}, {0x69, NULL, 0, 0, 0, 500},
	{0x6d, NULL, 0, 0, 0, 501}, {0x3b, "\xe2\x89\xb5", 3, 0, 0, 0},
	{0x72, NULL, 0, 503, 0, 504}, {0x3b, "\xe2\x89\xaf", 3, 0, 0, 0},
	{0x3b, "\xe2\x89\xaf", 3, 0, 0, 0}, {0x71, NULL, 0, 507, 506, 508},
	{0x73, NULL, 0, 0, 0, 517}, {0x3b, "\xe2\x89\xb1", 3, 0, 0, 0},
	{0x71, NULL, 0, 510, 509, 511}, {0x73, NULL, 0, 0, 0, 512},
	{0x3b, "\xe2\x89\xb1", 3, 0, 0, 0}, {0x3b, "\xe2\x89\xa7\xcc\xb8", 5, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 513}, {0x61, NULL, 0, 0, 0, 514},
	{0x6e, NULL, 0, 0, 0, 515}, {0x74, NULL, 0, 0, 0, 516},
	{0x3b, "\xe2\xa9\xbe\xcc\xb8", 5, 0, 0, 0}, {0x3b, "\xe2\xa9\xbe\xcc\xb8", 5, 0, 0, 0},
	{0x3b, "\xe2\x89\xa7\xcc\xb8", 5, 0, 0, 0}, {0x6d, NULL, 0, 520, 0, 521},
	{0x3b, "\xce\xbd", 2, 0, 0, 0}, {0x65, NULL, 0, 523, 522, 524},
	{0x73, NULL, 0, 0, 0, 527}, {0x3b, "\x23", 1, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 525}, {0x6f, NULL, 0, 0, 0, 526},
	{0x3b, "\xe2\x84\x96", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 528},
	{0x3b, "\xe2\x80\x87", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 530},
	{0x64, NULL, 0, 0, 0, 531}, {0x3b, "\xe2\x88\xa4", 3, 0, 0, 0},
	{0x6f, NULL, 0, 534, 533, 535}, {0x72, NULL, 0, 0, 0, 540},
	{0x61, NULL, 0, 0, 0, 552}, {0x6c, NULL, 0, 0, 0, 536},
	{0x69, NULL, 0, 0, 0, 537}, {0x6e, NULL, 0, 0, 0, 538},
	{0x74, NULL, 0, 0, 0, 539}, {0x3b, "\xe2\xa8\x94", 3, 0, 0, 0},
	{0x63, NULL, 0, 542, 541, 543}, {0x65, NULL, 0, 0, 0, 546},
	{0x3b, "\xe2\x8a\x80", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 544},
	{0x65, NULL, 0, 0, 0, 545}, {0x3b, "\xe2\x8b\xa0", 3, 0, 0, 0},
	{0x63, NULL, 0, 547, 0, 548}, {0x3b, "\xe2\xaa\xaf\xcc\xb8", 5, 0, 0, 0},
	{0x65, NULL, 0, 549, 0, 550}, {0x3b, "\xe2\x8a\x80", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 551}, {0x3b, "\xe2\xaa\xaf\xcc\xb8", 5, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 553}, {0x73, NULL, 0, 555, 554, 557},
	{0x74, NULL, 0, 0, 0, 559}, {0x61, NULL, 0, 556, 0, 560},
	{0x3b, "\xe2\x88\xa6", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 558},
	{0x3b, "\xe2\xab\xbd\xe2\x83\xa5", 6, 0, 0, 0}, {0x3b, "\xe2\x88\x82\xcc\xb8", 5, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 561}, {0x6c, NULL, 0, 0, 0, 562},
	{0x65, NULL, 0, 0, 0, 563}, {0x6c, NULL, 0, 0, 0, 564},
	{0x3b, "\xe2\x88\xa6", 3, 0, 0, 0}, {0x64, NULL, 0, 567, 566, 572},
	{0x73, NULL, 0, 571, 570, 574}, {0x45, NULL, 0, 569, 568, 577},
	{0x61, NULL, 0, 0, 0, 578}, {0x41, NULL, 0, 0, 0, 581},
	{0x74, NULL, 0, 0, 0, 584}, {0x65, NULL, 0, 0, 0, 590},
	{0x72, NULL, 0, 0, 0, 573}, {0x3b, "\xe2\x80\xa5", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 575}, {0x6d, NULL, 0, 0, 0, 576},
	{0x3b, "\xe2\x89\xb4", 3, 0, 0, 0}, {0x3b, "\xe2\x89\xa6\xcc\xb8", 5, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 579}, {0x72, NULL, 0, 0, 0, 580},
	{0x3b, "\xe2\x86\x9a", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 582},
	{0x72, NULL, 0, 0, 0, 583}, {0x3b, "\xe2\x87\x8d", 3, 0, 0, 0},
	{0x72, NULL, 0, 585, 0, 586}, {0x3b, "\xe2\x89\xae", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 587}, {0x65, NULL, 0, 588, 0, 589},
	{0x3b, "\xe2\x8b\xaa", 3, 0, 0, 0}, {0x3b, "\xe2\x8b\xac", 3, 0, 0, 0},
	{0x71, NULL, 0, 592, 591, 594}, {0x73, NULL, 0, 0, 0, 603},
	{0x66, NULL, 0, 593, 0, 606}, {0x3b, "\xe2\x89\xb0", 3, 0, 0, 0},
	{0x71, NULL, 0, 596, 595, 597}, {0x73, NULL, 0, 0, 0, 598},
	{0x3b, "\xe2\x89\xb0", 3, 0, 0, 0}, {0x3b, "\xe2\x89\xa6\xcc\xb8", 5, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 599}, {0x61, NULL, 0, 0, 0, 600},
	{0x6e, NULL, 0, 0, 0, 601}, {0x74, NULL, 0, 0, 0, 602},
	{0x3b, "\xe2\xa9\xbd\xcc\xb8", 5, 0, 0, 0}, {0x73, NULL, 0, 604, 0, 605},
	{0x3b, "\xe2\xa9\xbd\xcc\xb8", 5, 0, 0, 0}, {0x3b, "\xe2\x89\xae", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 607}, {0x72, NULL, 0, 608, 0, 609},
	{0x61, NULL, 0, 0, 0, 619}, {0x69, NULL, 0, 0, 0, 610},
	{0x67, NULL, 0, 0, 0, 611}, {0x68, NULL, 0, 0, 0, 612},
	{0x74, NULL, 0, 0, 0, 613}, {0x61, NULL, 0, 0, 0, 614},
	{0x72, NULL, 0, 0, 0, 615}, {0x72, NULL, 0, 0, 0, 616},
	{0x6f, NULL, 0, 0, 0, 617}, {0x77, NULL, 0, 0, 0, 618},
	{0x3b, "\xe2\x86\xae", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 620},
	{0x72, NULL, 0, 0, 0, 621}, {0x6f, NULL, 0, 0, 0, 622},
	{0x77, NULL, 0, 0, 0, 623}, {0x3b, "\xe2\x86\x9a", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 625}, {0x79, NULL, 0, 0, 0, 626},
	{0x3b, "\xd1\x9a", 2, 0, 0, 0}, {0x74, "\xc2\xac", 2, 628, 0, 629},
	{0x70, NULL, 0, 0, 0, 656}, {0x69, NULL, 0, 631, 630, 632},
	{0x6e, NULL, 0, 0, 0, 647}, {0x3b, "\xc2\xac", 2, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 633}, {0x64, NULL, 0, 635, 634, 637},
	{0x76, NULL, 0, 0, 0, 640}, {0x45, NULL, 0, 636, 0, 646},
	{0x3b, "\xe2\x88\x89", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 638},
	{0x74, NULL, 0, 0, 0, 639}, {0x3b, "\xe2\x8b\xb5\xcc\xb8", 5, 0, 0, 0},
	{0x62, NULL, 0, 642, 641, 643}, {0x63, NULL, 0, 0, 0, 644},
	{0x61, NULL, 0, 0, 0, 645}, {0x3b, "\xe2\x8b\xb7", 3, 0, 0, 0},
	{0x3b, "\xe2\x8b\xb6", 3, 0, 0, 0}, {0x3b, "\xe2\x88\x89", 3, 0, 0, 0},
	{0x3b, "\xe2\x8b\xb9\xcc\xb8", 5, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 648},
	{0x76, NULL, 0, 649, 0, 650}, {0x3b, "\xe2\x88\x8c", 3, 0, 0, 0},
	{0x62, NULL, 0, 652, 651, 653}, {0x63, NULL, 0, 0, 0, 654},
	{0x61, NULL, 0, 0, 0, 655}, {0x3b, "\xe2\x8b\xbe", 3, 0, 0, 0},
	{0x3b, "\xe2\x8b\xbd", 3, 0, 0, 0}, {0x3b, "\xe2\x88\x8c", 3, 0, 0, 0},
	{0x66, NULL, 0, 0, 0, 657}, {0x3b, "\xf0\x9d\x95\x9f", 4, 0, 0, 0},
	{0x61, NULL, 0, 660, 659, 661}, {0x6e, NULL, 0, 0, 0, 670},
	{0x41, NULL, 0, 0, 0, 674}, {0x72, NULL, 0, 0, 0, 662},
	{0x72, NULL, 0, 663, 0, 664}, {0x68, NULL, 0, 0, 0, 668},
	{0x6f, NULL, 0, 665, 0, 666}, {0x3b, "\xe2\x86\x96", 3, 0, 0, 0},
	{0x77, NULL, 0, 0, 0, 667}, {0x3b, "\xe2\x86\x96", 3, 0, 0, 0},
	{0x6b, NULL, 0, 0, 0, 669}, {0x3b, "\xe2\xa4\xa3", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 671}, {0x61, NULL, 0, 0, 0, 672},
	{0x72, NULL, 0, 0, 0, 673}, {0x3b, "\xe2\xa4\xa7", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 675}, {0x72, NULL, 0, 0, 0, 676},
	{0x3b, "\xe2\x87\x96", 3, 0, 0, 0}, {0x6c, NULL, 0, 679, 678, 681},
	{0x72, NULL, 0, 0, 0, 683}, {0x69, NULL, 0, 680, 0, 706},
	{0x67, NULL, 0, 0, 0, 710}, {0x67, NULL, 0, 0, 0, 682},
	{0x3b, "\xe2\x89\xb8", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 684},
	{0x61, NULL, 0, 0, 0, 685}, {0x6e, NULL, 0, 0, 0, 686},
	{0x67, NULL, 0, 0, 0, 687}, {0x6c, NULL, 0, 0, 0, 688},
	{0x65, NULL, 0, 0, 0, 689}, {0x72, NULL, 0, 690, 0, 691},
	{0x6c, NULL, 0, 0, 0, 699}, {0x69, NULL, 0, 0, 0, 692},
	{0x67, NULL, 0, 0, 0, 693}, {0x68, NULL, 0, 0, 0, 694},
	{0x74, NULL, 0, 0, 0, 695}, {0x65, NULL, 0, 696, 0, 697},
	{0x3b, "\xe2\x8b\xab", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 698},
	{0x3b, "\xe2\x8b\xad", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 700},
	{0x66, NULL, 0, 0, 0, 701}, {0x74, NULL, 0, 0, 0, 702},
	{0x65, NULL, 0, 703, 0, 704}, {0x3b, "\xe2\x8b\xaa", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 705}, {0x3b, "\xe2\x8b\xac", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 707}, {0x64, NULL, 0, 0, 0, 708},
	{0x65, "\xc3\xb1", 2, 0, 0, 709}, {0x3b, "\xc3\xb1", 2, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 711}, {0x3b, "\xe2\x89\xb9", 3, 0, 0, 0},
	{0x6d, NULL, 0, 714, 713, 719}, {0x71, NULL, 0, 718, 717, 722},
	{0x68, NULL, 0, 716, 715, 730}, {0x69, NULL, 0, 0, 0, 746},
	{0x63, NULL, 0, 0, 0, 752}, {0x75, NULL, 0, 0, 0, 761},
	{0x70, NULL, 0, 0, 0, 797}, {0x69, NULL, 0, 0, 0, 720},
	{0x64, NULL, 0, 0, 0, 721}, {0x3b, "\xe2\x88\xa4", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 723}, {0x75, NULL, 0, 0, 0, 724},
	{0x70, NULL, 0, 725, 0, 726}, {0x62, NULL, 0, 0, 0, 728},
	{0x65, NULL, 0, 0, 0, 727}, {0x3b, "\xe2\x8b\xa3", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 729}, {0x3b, "\xe2\x8b\xa2", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 731}, {0x72, NULL, 0, 0, 0, 732},
	{0x74, NULL, 0, 0, 0, 733}, {0x70, NULL, 0, 734, 0, 735},
	{0x6d, NULL, 0, 0, 0, 743}, {0x61, NULL, 0, 0, 0, 736},
	{0x72, NULL, 0, 0, 0, 737}, {0x61, NULL, 0, 0, 0, 738},
	{0x6c, NULL, 0, 0, 0, 739}, {0x6c, NULL, 0, 0, 0, 740},
	{0x65, NULL, 0, 0, 0, 741}, {0x6c, NULL, 0, 0, 0, 742},
	{0x3b, "\xe2\x88\xa6", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 744},
	{0x64, NULL, 0, 0, 0, 745}, {0x3b, "\xe2\x88\xa4", 3, 0, 0, 0},
	{0x6d, NULL, 0, 0, 0, 747}, {0x65, NULL, 0, 748, 0, 749},
	{0x3b, "\xe2\x89\x81", 3, 0, 0, 0}, {0x71, NULL, 0, 750, 0, 751},
	{0x3b, "\xe2\x89\x84", 3, 0, 0, 0}, {0x3b, "\xe2\x89\x84", 3, 0, 0, 0},
	{0x65, NULL, 0, 754, 753, 756}, {0x72, NULL, 0, 0, 0, 757},
	{0x63, NULL, 0, 755, 0, 758}, {0x3b, "\xe2\x8a\x81", 3, 0, 0, 0},
	{0x3b, "\xe2\xaa\xb0\xcc\xb8", 5, 0, 0, 0}, {0x3b, "\xf0\x9d\x93\x83", 4, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 759}, {0x65, NULL, 0, 0, 0, 760},
	{0x3b, "\xe2\x8b\xa1", 3, 0, 0, 0}, {0x63, NULL, 0, 763, 762, 764},
	{0x70, NULL, 0, 0, 0, 769}, {0x62, NULL, 0, 0, 0, 783},
	{0x63, NULL, 0, 0, 0, 765}, {0x65, NULL, 0, 766, 0, 767},
	{0x3b, "\xe2\x8a\x81", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 768},
	{0x3b, "\xe2\xaa\xb0\xcc\xb8", 5, 0, 0, 0}, {0x65, NULL, 0, 771, 770, 773},
	{0x73, NULL, 0, 0, 0, 774}, {0x45, NULL, 0, 772, 0, 782},
	{0x3b, "\xe2\x8a\x85", 3, 0, 0, 0}, {0x3b, "\xe2\x8a\x89", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 775}, {0x74, NULL, 0, 0, 0, 776},
	{0x65, NULL, 0, 777, 0, 778}, {0x3b, "\xe2\x8a\x83\xe2\x83\x92", 6, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 779}, {0x71, NULL, 0, 780, 0, 781},
	{0x3b, "\xe2\x8a\x89", 3, 0, 0, 0}, {0x3b, "\xe2\xab\x86\xcc\xb8", 5, 0, 0, 0},
	{0x3b, "\xe2\xab\x86\xcc\xb8", 5, 0, 0, 0}, {0x65, NULL, 0, 785, 784, 787},
	{0x73, NULL, 0, 0, 0, 788}, {0x45, NULL, 0, 786, 0, 796},
	{0x3b, "\xe2\x8a\x84", 3, 0, 0, 0}, {0x3b, "\xe2\x8a\x88", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 789}, {0x74, NULL, 0, 0, 0, 790},
	{0x65, NULL, 0, 791, 0, 792}, {0x3b, "\xe2\x8a\x82\xe2\x83\x92", 6, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 793}, {0x71, NULL, 0, 794, 0, 795},
	{0x3b, "\xe2\x8a\x88", 3, 0, 0, 0}, {0x3b, "\xe2\xab\x85\xcc\xb8", 5, 0, 0, 0},
	{0x3b, "\xe2\xab\x85\xcc\xb8", 5, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 798},
	{0x72, NULL, 0, 0, 0, 799}, {0x3b, "\xe2\x88\xa6", 3, 0, 0, 0},
	{0x67, NULL, 0, 802, 801, 809}, {0x72, NULL, 0, 807, 806, 813},
	{0x61, NULL, 0, 804, 803, 822}, {0x64, NULL, 0, 0, 0, 824},
	{0x48, NULL, 0, 805, 0, 828}, {0x44, NULL, 0, 0, 0, 832},
	{0x73, NULL, 0, 0, 0, 836}, {0x6c, NULL, 0, 808, 0, 839},
	{0x69, NULL, 0, 0, 0, 851}, {0x74, NULL, 0, 810, 0, 811},
	{0x65, NULL, 0, 0, 0, 812}, {0x3b, "\x3e\xe2\x83\x92", 4, 0, 0, 0},
	{0x3b, "\xe2\x89\xa5\xe2\x83\x92", 6, 0, 0, 0}, {0x74, NULL, 0, 814, 0, 815},
	{0x41, NULL, 0, 0, 0, 819}, {0x72, NULL, 0, 0, 0, 816},
	{0x69, NULL, 0, 0, 0, 817}, {0x65, NULL, 0, 0, 0, 818},
	{0x3b, "\xe2\x8a\xb5\xe2\x83\x92", 6, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 820},
	{0x72, NULL, 0, 0, 0, 821}, {0x3b, "\xe2\xa4\x83", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 823}, {0x3b, "\xe2\x89\x8d\xe2\x83\x92", 6, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 825}, {0x73, NULL, 0, 0, 0, 826},
	{0x68, NULL, 0, 0, 0, 827}, {0x3b, "\xe2\x8a\xac", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 829}, {0x72, NULL, 0, 0, 0, 830},
	{0x72, NULL, 0, 0, 0, 831}, {0x3b, "\xe2\xa4\x84", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 833}, {0x73, NULL, 0, 0, 0, 834},
	{0x68, NULL, 0, 0, 0, 835}, {0x3b, "\xe2\x8a\xad", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 837}, {0x6d, NULL, 0, 0, 0, 838},
	{0x3b, "\xe2\x88\xbc\xe2\x83\x92", 6, 0, 0, 0}, {0x65, NULL, 0, 841, 840, 842},
	{0x74, NULL, 0, 0, 0, 843}, {0x41, NULL, 0, 0, 0, 848},
	{0x3b, "\xe2\x89\xa4\xe2\x83\x92", 6, 0, 0, 0}, {0x72, NULL, 0, 844, 0, 845},
	{0x3b, "\x3c\xe2\x83\x92", 4, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 846},
	{0x65, NULL, 0, 0, 0, 847}, {0x3b, "\xe2\x8a\xb4\xe2\x83\x92", 6, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 849}, {0x72, NULL, 0, 0, 0, 850},
	{0x3b, "\xe2\xa4\x82", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 852},
	{0x66, NULL, 0, 0, 0, 853}, {0x69, NULL, 0, 0, 0, 854},
	{0x6e, NULL, 0, 0, 0, 855}, {0x3b, "\xe2\xa7\x9e", 3, 0, 0, 0},
	{0x66, NULL, 0, 858, 857, 865}, {0x74, NULL, 0, 863, 862, 867},
	{0x63, NULL, 0, 860, 859, 872}, {0x65, NULL, 0, 0, 0, 884},
	{0x61, NULL, 0, 861, 0, 968}, {0x4a, NULL, 0, 0, 0, 973},
	{0x75, NULL, 0, 0, 0, 976}, {0x73, NULL, 0, 864, 0, 977},
	{0x6f, NULL, 0, 0, 0, 980}, {0x72, NULL, 0, 0, 0, 866},
	{0x3b, "\xf0\x9d\x94\x91", 4, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 868},
	{0x6c, NULL, 0, 0, 0, 869}, {0x64, NULL, 0, 0, 0, 870},
	{0x65, "\xc3\x91", 2, 0, 0, 871}, {0x3b, "\xc3\x91", 2, 0, 0, 0},
	{0x65, NULL, 0, 874, 873, 875}, {0x79, NULL, 0, 0, 0, 879},
	{0x61, NULL, 0, 0, 0, 880}, {0x64, NULL, 0, 0, 0, 876},
	{0x69, NULL, 0, 0, 0, 877}, {0x6c, NULL, 0, 0, 0, 878},
	{0x3b, "\xc5\x85", 2, 0, 0, 0}, {0x3b, "\xd0\x9d", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 881}, {0x6f, NULL, 0, 0, 0, 882},
	{0x6e, NULL, 0, 0, 0, 883}, {0x3b, "\xc5\x87", 2, 0, 0, 0},
	{0x73, NULL, 0, 886, 885, 887}, {0x77, NULL, 0, 0, 0, 914},
	{0x67, NULL, 0, 0, 0, 919}, {0x74, NULL, 0, 0, 0, 888},
	{0x65, NULL, 0, 0, 0, 889}, {0x64, NULL, 0, 0, 0, 890},
	{0x4c, NULL, 0, 891, 0, 892}, {0x47, NULL, 0, 0, 0, 900},
	{0x65, NULL, 0, 0, 0, 893}, {0x73, NULL, 0, 0, 0, 894},
	{0x73, NULL, 0, 0, 0, 895}, {0x4c, NULL, 0, 0, 0, 896},
	{0x65, NULL, 0, 0, 0, 897}, {0x73, NULL, 0, 0, 0, 898},
	{0x73, NULL, 0, 0, 0, 899}, {0x3b, "\xe2\x89\xaa", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 901}, {0x65, NULL, 0, 0, 0, 902},
	{0x61, NULL, 0, 0, 0, 903}, {0x74, NULL, 0, 0, 0, 904},
	{0x65, NULL, 0, 0, 0, 905}, {0x72, NULL, 0, 0, 0, 906},
	{0x47, NULL, 0, 0, 0, 907}, {0x72, NULL, 0, 0, 0, 908},
	{0x65, NULL, 0, 0, 0, 909}, {0x61, NULL, 0, 0, 0, 910},
	{0x74, NULL, 0, 0, 0, 911}, {0x65, NULL, 0, 0, 0, 912},
	{0x72, NULL, 0, 0, 0, 913}, {0x3b, "\xe2\x89\xab", 3, 0, 0, 0},
	{0x4c, NULL, 0, 0, 0, 915}, {0x69, NULL, 0, 0, 0, 916},
	{0x6e, NULL, 0, 0, 0, 917}, {0x65, NULL, 0, 0, 0, 918},
	{0x3b, "\xa", 1, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 920},
	{0x74, NULL, 0, 0, 0, 921}, {0x69, NULL, 0, 0, 0, 922},
	{0x76, NULL, 0, 0, 0, 923}, {0x65, NULL, 0, 0, 0, 924},
	{0x54, NULL, 0, 926, 925, 927}, {0x56, NULL, 0, 0, 0, 944},
	{0x4d, NULL, 0, 0, 0, 957}, {0x68, NULL, 0, 0, 0, 928},
	{0x69, NULL, 0, 0, 0, 929}, {0x6e, NULL, 0, 930, 0, 931},
	{0x63, NULL, 0, 0, 0, 937}, {0x53, NULL, 0, 0, 0, 932},
	{0x70, NULL, 0, 0, 0, 933}, {0x61, NULL, 0, 0, 0, 934},
	{0x63, NULL, 0, 0, 0, 935}, {0x65, NULL, 0, 0, 0, 936},
	{0x3b, "\xe2\x80\x8b", 3, 0, 0, 0}, {0x6b, NULL, 0, 0, 0, 938},
	{0x53, NULL, 0, 0, 0, 939}, {0x70, NULL, 0, 0, 0, 940},
	{0x61, NULL, 0, 0, 0, 941}, {0x63, NULL, 0, 0, 0, 942},
	{0x65, NULL, 0, 0, 0, 943}, {0x3b, "\xe2\x80\x8b", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 945}, {0x72, NULL, 0, 0, 0, 946},
	{0x79, NULL, 0, 0, 0, 947}, {0x54, NULL, 0, 0, 0, 948},
	{0x68, NULL, 0, 0, 0, 949}, {0x69, NULL, 0, 0, 0, 950},
	{0x6e, NULL, 0, 0, 0, 951}, {0x53, NULL, 0, 0, 0, 952},
	{0x70, NULL, 0, 0, 0, 953}, {0x61, NULL, 0, 0, 0, 954},
	{0x63, NULL, 0, 0, 0, 955}, {0x65, NULL, 0, 0, 0, 956},
	{0x3b, "\xe2\x80\x8b", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 958},
	{0x64, NULL, 0, 0, 0, 959}, {0x69, NULL, 0, 0, 0, 960},
	{0x75, NULL, 0, 0, 0, 961}, {0x6d, NULL, 0, 0, 0, 962},
	{0x53, NULL, 0, 0, 0, 963}, {0x70, NULL, 0, 0, 0, 964},
	{0x61, NULL, 0, 0, 0, 965}, {0x63, NULL, 0, 0, 0, 966},
	{0x65, NULL, 0, 0, 0, 967}, {0x3b, "\xe2\x80\x8b", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 969}, {0x75, NULL, 0, 0, 0, 970},
	{0x74, NULL, 0, 0, 0, 971}, {0x65, NULL, 0, 0, 0, 972},
	{0x3b, "\xc5\x83", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 974},
	{0x79, NULL, 0, 0, 0, 975}, {0x3b, "\xd0\x8a", 2, 0, 0, 0},
	{0x3b, "\xce\x9d", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 978},
	{0x72, NULL, 0, 0, 0, 979}, {0x3b, "\xf0\x9d\x92\xa9", 4, 0, 0, 0},
	{0x70, NULL, 0, 982, 981, 984}, {0x74, NULL, 0, 0, 0, 986},
	{0x6e, NULL, 0, 983, 0, 1402}, {0x42, NULL, 0, 0, 0, 1416},
	{0x66, NULL, 0, 0, 0, 985}, {0x3b, "\xe2\x84\x95", 3, 0, 0, 0},
	{0x4c, NULL, 0, 988, 987, 999}, {0x53, NULL, 0, 995, 994, 1060},
	{0x45, NULL, 0, 990, 989, 1146}, {0x48, NULL, 0, 993, 0, 1170},
	{0x43, NULL, 0, 992, 991, 1188}, {0x44, NULL, 0, 0, 0, 1203},
	{0x3b, "\xe2\xab\xac", 3, 0, 0, 0}, {0x47, NULL, 0, 0, 0, 1220},
	{0x56, NULL, 0, 998, 0, 1273}, {0x50, NULL, 0, 997, 996, 1284},
	{0x52, NULL, 0, 0, 0, 1309}, {0x4e, NULL, 0, 0, 0, 1346},
	{0x54, NULL, 0, 0, 0, 1375}, {0x65, NULL, 0, 0, 0, 1000},
	{0x73, NULL, 0, 1001, 0, 1002}, {0x66, NULL, 0, 0, 0, 1040},
	{0x73, NULL, 0, 0, 0, 1003}, {0x4c, NULL, 0, 1005, 1004, 1009},
	{0x54, NULL, 0, 1008, 0, 1013}, {0x45, NULL, 0, 1007, 1006, 1018},
	{0x47, NULL, 0, 0, 0, 1023}, {0x3b, "\xe2\x89\xae", 3, 0, 0, 0},
	{0x53, NULL, 0, 0, 0, 1030}, {0x65, NULL, 0, 0, 0, 1010},
	{0x73, NULL, 0, 0, 0, 1011}, {0x73, NULL, 0, 0, 0, 1012},
	{0x3b, "\xe2\x89\xaa\xcc\xb8", 5, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 1014},
	{0x6c, NULL, 0, 0, 0, 1015}, {0x64, NULL, 0, 0, 0, 1016},
	{0x65, NULL, 0, 0, 0, 1017}, {0x3b, "\xe2\x89\xb4", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 1019}, {0x75, NULL, 0, 0, 0, 1020},
	{0x61, NULL, 0, 0, 0, 1021}, {0x6c, NULL, 0, 0, 0, 1022},
	{0x3b, "\xe2\x89\xb0", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 1024},
	{0x65, NULL, 0, 0, 0, 1025}, {0x61, NULL, 0, 0, 0, 1026},
	{0x74, NULL, 0, 0, 0, 1027}, {0x65, NULL, 0, 0, 0, 1028},
	{0x72, NULL, 0, 0, 0, 1029}, {0x3b, "\xe2\x89\xb8", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 1031}, {0x61, NULL, 0, 0, 0, 1032},
	{0x6e, NULL, 0, 0, 0, 1033}, {0x74, NULL, 0, 0, 0, 1034},
	{0x45, NULL, 0, 0, 0, 1035}, {0x71, NULL, 0, 0, 0, 1036},
	{0x75, NULL, 0, 0, 0, 1037}, {0x61, NULL, 0, 0, 0, 1038},
	{0x6c, NULL, 0, 0, 0, 1039}, {0x3b, "\xe2\xa9\xbd\xcc\xb8", 5, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 1041}, {0x54, NULL, 0, 0, 0, 1042},
	{0x72, NULL, 0, 0, 0, 1043}, {0x69, NULL, 0, 0, 0, 1044},
	{0x61, NULL, 0, 0, 0, 1045}, {0x6e, NULL, 0, 0, 0, 1046},
	{0x67, NULL, 0, 0, 0, 1047}, {0x6c, NULL, 0, 0, 0, 1048},
	{0x65, NULL, 0, 0, 0, 1049}, {0x42, NULL, 0, 1051, 1050, 1052},
	{0x45, NULL, 0, 0, 0, 1055}, {0x3b, "\xe2\x8b\xaa", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 1053}, {0x72, NULL, 0, 0, 0, 1054},
	{0x3b, "\xe2\xa7\x8f\xcc\xb8", 5, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 1056},
	{0x75, NULL, 0, 0, 0, 1057}, {0x61, NULL, 0, 0, 0, 1058},
	{0x6c, NULL, 0, 0, 0, 1059}, {0x3b, "\xe2\x8b\xac", 3, 0, 0, 0},
	{0x75, NULL, 0, 1061, 0, 1062}, {0x71, NULL, 0, 0, 0, 1116},
	{0x63, NULL, 0, 1064, 1063, 1065}, {0x70, NULL, 0, 0, 0, 1094},
	{0x62, NULL, 0, 0, 0, 1106}, {0x63, NULL, 0, 0, 0, 1066},
	{0x65, NULL, 0, 0, 0, 1067}, {0x65, NULL, 0, 0, 0, 1068},
	{0x64, NULL, 0, 0, 0, 1069}, {0x73, NULL, 0, 0, 0, 1070},
	{0x53, NULL, 0, 1072, 1071, 1074}, {0x54, NULL, 0, 0, 0, 1084},
	{0x45, NULL, 0, 1073, 0, 1089}, {0x3b, "\xe2\x8a\x81", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 1075}, {0x61, NULL, 0, 0, 0, 1076},
	{0x6e, NULL, 0, 0, 0, 1077}, {0x74, NULL, 0, 0, 0, 1078},
	{0x45, NULL, 0, 0, 0, 1079}, {0x71, NULL, 0, 0, 0, 1080},
	{0x75, NULL, 0, 0, 0, 1081}, {0x61, NULL, 0, 0, 0, 1082},
	{0x6c, NULL, 0, 0, 0, 1083}, {0x3b, "\xe2\x8b\xa1", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 1085}, {0x6c, NULL, 0, 0, 0, 1086},
	{0x64, NULL, 0, 0, 0, 1087}, {0x65, NULL, 0, 0, 0, 1088},
	{0x3b, "\xe2\x89\xbf\xcc\xb8", 5, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 1090},
	{0x75, NULL, 0, 0, 0, 1091}, {0x61, NULL, 0, 0, 0, 1092},
	{0x6c, NULL, 0, 0, 0, 1093}, {0x3b, "\xe2\xaa\xb0\xcc\xb8", 5, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 1095}, {0x72, NULL, 0, 0, 0, 1096},
	{0x73, NULL, 0, 0, 0, 1097}, {0x65, NULL, 0, 0, 0, 1098},
	{0x74, NULL, 0, 0, 0, 1099}, {0x45, NULL, 0, 1100, 0, 1101},
	{0x3b, "\xe2\x8a\x83\xe2\x83\x92", 6, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 1102},
	{0x75, NULL, 0, 0, 0, 1103}, {0x61, NULL, 0, 0, 0, 1104},
	{0x6c, NULL, 0, 0, 0, 1105}, {0x3b, "\xe2\x8a\x89", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 1107}, {0x65, NULL, 0, 0, 0, 1108},
	{0x74, NULL, 0, 0, 0, 1109}, {0x45, NULL, 0, 1110, 0, 1111},
	{0x3b, "\xe2\x8a\x82\xe2\x83\x92", 6, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 1112},
	{0x75, NULL, 0, 0, 0, 1113}, {0x61, NULL, 0, 0, 0, 1114},
	{0x6c, NULL, 0, 0, 0, 1115}, {0x3b, "\xe2\x8a\x88", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 1117}, {0x61, NULL, 0, 0, 0, 1118},
	{0x72, NULL, 0, 0, 0, 1119}, {0x65, NULL, 0, 0, 0, 1120},
	{0x53, NULL, 0, 0, 0, 1121}, {0x75, NULL, 0, 0, 0, 1122},
	{0x70, NULL, 0, 1123, 0, 1124}, {0x62, NULL, 0, 0, 0, 1136},
	{0x65, NULL, 0, 0, 0, 1125}, {0x72, NULL, 0, 0, 0, 1126},
	{0x73, NULL, 0, 0, 0, 1127}, {0x65, NULL, 0, 0, 0, 1128},
	{0x74, NULL, 0, 0, 0, 1129}, {0x45, NULL, 0, 1130, 0, 1131},
	{0x3b, "\xe2\x8a\x90\xcc\xb8", 5, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 1132},
	{0x75, NULL, 0, 0, 0, 1133}, {0x61, NULL, 0, 0, 0, 1134},
	{0x6c, NULL, 0, 0, 0, 1135}, {0x3b, "\xe2\x8b\xa3", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 1137}, {0x65, NULL, 0, 0, 0, 1138},
	{0x74, NULL, 0, 0, 0, 1139}, {0x45, NULL, 0, 1140, 0, 1141},
	{0x3b, "\xe2\x8a\x8f\xcc\xb8", 5, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 1142},
	{0x75, NULL, 0, 0, 0, 1143}, {0x61, NULL, 0, 0, 0, 1144},
	{0x6c, NULL, 0, 0, 0, 1145}, {0x3b, "\xe2\x8b\xa2", 3, 0, 0, 0},
	{0x71, NULL, 0, 1148, 1147, 1149}, {0x78, NULL, 0, 0, 0, 1159},
	{0x6c, NULL, 0, 0, 0, 1164}, {0x75, NULL, 0, 0, 0, 1150},
	{0x61, NULL, 0, 0, 0, 1151}, {0x6c, NULL, 0, 0, 0, 1152},
	{0x54, NULL, 0, 1153, 0, 1154}, {0x3b, "\xe2\x89\xa0", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 1155}, {0x6c, NULL, 0, 0, 0, 1156},
	{0x64, NULL, 0, 0, 0, 1157}, {0x65, NULL, 0, 0, 0, 1158},
	{0x3b, "\xe2\x89\x82\xcc\xb8", 5, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 1160},
	{0x73, NULL, 0, 0, 0, 1161}, {0x74, NULL, 0, 0, 0, 1162},
	{0x73, NULL, 0, 0, 0, 1163}, {0x3b, "\xe2\x88\x84", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 1165}, {0x6d, NULL, 0, 0, 0, 1166},
	{0x65, NULL, 0, 0, 0, 1167}, {0x6e, NULL, 0, 0, 0, 1168},
	{0x74, NULL, 0, 0, 0, 1169}, {0x3b, "\xe2\x88\x89", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 1171}, {0x6d, NULL, 0, 0, 0, 1172},
	{0x70, NULL, 0, 0, 0, 1173}, {0x45, NULL, 0, 1174, 0, 1175},
	{0x44, NULL, 0, 0, 0, 1180}, {0x71, NULL, 0, 0, 0, 1176},
	{0x75, NULL, 0, 0, 0, 1177}, {0x61, NULL, 0, 0, 0, 1178},
	{0x6c, NULL, 0, 0, 0, 1179}, {0x3b, "\xe2\x89\x8f\xcc\xb8", 5, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 1181}, {0x77, NULL, 0, 0, 0, 1182},
	{0x6e, NULL, 0, 0, 0, 1183}, {0x48, NULL, 0, 0, 0, 1184},
	{0x75, NULL, 0, 0, 0, 1185}, {0x6d, NULL, 0, 0, 0, 1186},
	{0x70, NULL, 0, 0, 0, 1187}, {0x3b, "\xe2\x89\x8e\xcc\xb8", 5, 0, 0, 0},
	{0x75, NULL, 0, 1189, 0, 1190}, {0x6f, NULL, 0, 0, 0, 1195},
	{0x70, NULL, 0, 0, 0, 1191}, {0x43, NULL, 0, 0, 0, 1192},
	{0x61, NULL, 0, 0, 0, 1193}, {0x70, NULL, 0, 0, 0, 1194},
	{0x3b, "\xe2\x89\xad", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 1196},
	{0x67, NULL, 0, 0, 0, 1197}, {0x72, NULL, 0, 0, 0, 1198},
	{0x75, NULL, 0, 0, 0, 1199}, {0x65, NULL, 0, 0, 0, 1200},
	{0x6e, NULL, 0, 0, 0, 1201}, {0x74, NULL, 0, 0, 0, 1202},
	{0x3b, "\xe2\x89\xa2", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 1204},
	{0x75, NULL, 0, 0, 0, 1205}, {0x62, NULL, 0, 0, 0, 1206},
	{0x6c, NULL, 0, 0, 0, 1207}, {0x65, NULL, 0, 0, 0, 1208},
	{0x56, NULL, 0, 0, 0, 1209}, {0x65, NULL, 0, 0, 0, 1210},
	{0x72, NULL, 0, 0, 0, 1211}, {0x74, NULL, 0, 0, 0, 1212},
	{0x69, NULL, 0, 0, 0, 1213}, {0x63, NULL, 0, 0, 0, 1214},
	{0x61, NULL, 0, 0, 0, 1215}, {0x6c, NULL, 0, 0, 0, 1216},
	{0x42, NULL, 0, 0, 0, 1217}, {0x61, NULL, 0, 0, 0, 1218},
	{0x72, NULL, 0, 0, 0, 1219}, {0x3b, "\xe2\x88\xa6", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 1221}, {0x65, NULL, 0, 0, 0, 1222},
	{0x61, NULL, 0, 0, 0, 1223}, {0x74, NULL, 0, 0, 0, 1224},
	{0x65, NULL, 0, 0, 0, 1225}, {0x72, NULL, 0, 0, 0, 1226},
	{0x47, NULL, 0, 1228, 1227, 1233}, {0x53, NULL, 0, 1232, 1231, 1240},
	{0x45, NULL, 0, 1230, 1229, 1250}, {0x46, NULL, 0, 0, 0, 1255},
	{0x3b, "\xe2\x89\xaf", 3, 0, 0, 0}, {0x54, NULL, 0, 0, 0, 1264},
	{0x4c, NULL, 0, 0, 0, 1269}, {0x72, NULL, 0, 0, 0, 1234},
	{0x65, NULL, 0, 0, 0, 1235}, {0x61, NULL, 0, 0, 0, 1236},
	{0x74, NULL, 0, 0, 0, 1237}, {0x65, NULL, 0, 0, 0, 1238},
	{0x72, NULL, 0, 0, 0, 1239}, {0x3b, "\xe2\x89\xab\xcc\xb8", 5, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 1241}, {0x61, NULL, 0, 0, 0, 1242},
	{0x6e, NULL, 0, 0, 0, 1243}, {0x74, NULL, 0, 0, 0, 1244},
	{0x45, NULL, 0, 0, 0, 1245}, {0x71, NULL, 0, 0, 0, 1246},
	{0x75, NULL, 0, 0, 0, 1247}, {0x61, NULL, 0, 0, 0, 1248},
	{0x6c, NULL, 0, 0, 0, 1249}, {0x3b, "\xe2\xa9\xbe\xcc\xb8", 5, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 1251}, {0x75, NULL, 0, 0, 0, 1252},
	{0x61, NULL, 0, 0, 0, 1253}, {0x6c, NULL, 0, 0, 0, 1254},
	{0x3b, "\xe2\x89\xb1", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 1256},
	{0x6c, NULL, 0, 0, 0, 1257}, {0x6c, NULL, 0, 0, 0, 1258},
	{0x45, NULL, 0, 0, 0, 1259}, {0x71, NULL, 0, 0, 0, 1260},
	{0x75, NULL, 0, 0, 0, 1261}, {0x61, NULL, 0, 0, 0, 1262},
	{0x6c, NULL, 0, 0, 0, 1263}, {0x3b, "\xe2\x89\xa7\xcc\xb8", 5, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 1265}, {0x6c, NULL, 0, 0, 0, 1266},
	{0x64, NULL, 0, 0, 0, 1267}, {0x65, NULL, 0, 0, 0, 1268},
	{0x3b, "\xe2\x89\xb5", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 1270},
	{0x73, NULL, 0, 0, 0, 1271}, {0x73, NULL, 0, 0, 0, 1272},
	{0x3b, "\xe2\x89\xb9", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 1274},
	{0x72, NULL, 0, 0, 0, 1275}, {0x74, NULL, 0, 0, 0, 1276},
	{0x69, NULL, 0, 0, 0, 1277}, {0x63, NULL, 0, 0, 0, 1278},
	{0x61, NULL, 0, 0, 0, 1279}, {0x6c, NULL, 0, 0, 0, 1280},
	{0x42, NULL, 0, 0, 0, 1281}, {0x61, NULL, 0, 0, 0, 1282},
	{0x72, NULL, 0, 0, 0, 1283}, {0x3b, "\xe2\x88\xa4", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 1285}, {0x65, NULL, 0, 0, 0, 1286},
	{0x63, NULL, 0, 0, 0, 1287}, {0x65, NULL, 0, 0, 0, 1288},
	{0x64, NULL, 0, 0, 0, 1289}, {0x65, NULL, 0, 0, 0, 1290},
	{0x73, NULL, 0, 0, 0, 1291}, {0x45, NULL, 0, 1293, 1292, 1294},
	{0x53, NULL, 0, 0, 0, 1299}, {0x3b, "\xe2\x8a\x80", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 1295}, {0x75, NULL, 0, 0, 0, 1296},
	{0x61, NULL, 0, 0, 0, 1297}, {0x6c, NULL, 0, 0, 0, 1298},
	{0x3b, "\xe2\xaa\xaf\xcc\xb8", 5, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 1300},
	{0x61, NULL, 0, 0, 0, 1301}, {0x6e, NULL, 0, 0, 0, 1302},
	{0x74, NULL, 0, 0, 0, 1303}, {0x45, NULL, 0, 0, 0, 1304},
	{0x71, NULL, 0, 0, 0, 1305}, {0x75, NULL, 0, 0, 0, 1306},
	{0x61, NULL, 0, 0, 0, 1307}, {0x6c, NULL, 0, 0, 0, 1308},
	{0x3b, "\xe2\x8b\xa0", 3, 0, 0, 0}, {0x69, NULL, 0, 1310, 0, 1311},
	{0x65, NULL, 0, 0, 0, 1333}, {0x67, NULL, 0, 0, 0, 1312},
	{0x68, NULL, 0, 0, 0, 1313}, {0x74, NULL, 0, 0, 0, 1314},
	{0x54, NULL, 0, 0, 0, 1315}, {0x72, NULL, 0, 0, 0, 1316},
	{0x69, NULL, 0, 0, 0, 1317}, {0x61, NULL, 0, 0, 0, 1318},
	{0x6e, NULL, 0, 0, 0, 1319}, {0x67, NULL, 0, 0, 0, 1320},
	{0x6c, NULL, 0, 0, 0, 1321}, {0x65, NULL, 0, 0, 0, 1322},
	{0x42, NULL, 0, 1324, 1323, 1325}, {0x45, NULL, 0, 0, 0, 1328},
	{0x3b, "\xe2\x8b\xab", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 1326},
	{0x72, NULL, 0, 0, 0, 1327}, {0x3b, "\xe2\xa7\x90\xcc\xb8", 5, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 1329}, {0x75, NULL, 0, 0, 0, 1330},
	{0x61, NULL, 0, 0, 0, 1331}, {0x6c, NULL, 0, 0, 0, 1332},
	{0x3b, "\xe2\x8b\xad", 3, 0, 0, 0}, {0x76, NULL, 0, 0, 0, 1334},
	{0x65, NULL, 0, 0, 0, 1335}, {0x72, NULL, 0, 0, 0, 1336},
	{0x73, NULL, 0, 0, 0, 1337}, {0x65, NULL, 0, 0, 0, 1338},
	{0x45, NULL, 0, 0, 0, 1339}, {0x6c, NULL, 0, 0, 0, 1340},
	{0x65, NULL, 0, 0, 0, 1341}, {0x6d, NULL, 0, 0, 0, 1342},
	{0x65, NULL, 0, 0, 0, 1343}, {0x6e, NULL, 0, 0, 0, 1344},
	{0x74, NULL, 0, 0, 0, 1345}, {0x3b, "\xe2\x88\x8c", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 1347}, {0x73, NULL, 0, 0, 0, 1348},
	{0x74, NULL, 0, 0, 0, 1349}, {0x65, NULL, 0, 0, 0, 1350},
	{0x64, NULL, 0, 0, 0, 1351}, {0x4c, NULL, 0, 1352, 0, 1353},
	{0x47, NULL, 0, 0, 0, 1361}, {0x65, NULL, 0, 0, 0, 1354},
	{0x73, NULL, 0, 0, 0, 1355}, {0x73, NULL, 0, 0, 0, 1356},
	{0x4c, NULL, 0, 0, 0, 1357}, {0x65, NULL, 0, 0, 0, 1358},
	{0x73, NULL, 0, 0, 0, 1359}, {0x73, NULL, 0, 0, 0, 1360},
	{0x3b, "\xe2\xaa\xa1\xcc\xb8", 5, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 1362},
	{0x65, NULL, 0, 0, 0, 1363}, {0x61, NULL, 0, 0, 0, 1364},
	{0x74, NULL, 0, 0, 0, 1365}, {0x65, NULL, 0, 0, 0, 1366},
	{0x72, NULL, 0, 0, 0, 1367}, {0x47, NULL, 0, 0, 0, 1368},
	{0x72, NULL, 0, 0, 0, 1369}, {0x65, NULL, 0, 0, 0, 1370},
	{0x61, NULL, 0, 0, 0, 1371}, {0x74, NULL, 0, 0, 0, 1372},
	{0x65, NULL, 0, 0, 0, 1373}, {0x72, NULL, 0, 0, 0, 1374},
	{0x3b, "\xe2\xaa\xa2\xcc\xb8", 5, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 1376},
	{0x6c, NULL, 0, 0, 0, 1377}, {0x64, NULL, 0, 0, 0, 1378},
	{0x65, NULL, 0, 0, 0, 1379}, {0x46, NULL, 0, 1381, 1380, 1383},
	{0x54, NULL, 0, 0, 0, 1392}, {0x45, NULL, 0, 1382, 0, 1397},
	{0x3b, "\xe2\x89\x81", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 1384},
	{0x6c, NULL, 0, 0, 0, 1385}, {0x6c, NULL, 0, 0, 0, 1386},
	{0x45, NULL, 0, 0, 0, 1387}, {0x71, NULL, 0, 0, 0, 1388},
	{0x75, NULL, 0, 0, 0, 1389}, {0x61, NULL, 0, 0, 0, 1390},
	{0x6c, NULL, 0, 0, 0, 1391}, {0x3b, "\xe2\x89\x87", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 1393}, {0x6c, NULL, 0, 0, 0, 1394},
	{0x64, NULL, 0, 0, 0, 1395}, {0x65, NULL, 0, 0, 0, 1396},
	{0x3b, "\xe2\x89\x89", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 1398},
	{0x75, NULL, 0, 0, 0, 1399}, {0x61, NULL, 0, 0, 0, 1400},
	{0x6c, NULL, 0, 0, 0, 1401}, {0x3b, "\xe2\x89\x84", 3, 0, 0, 0},
	{0x42, NULL, 0, 0, 0, 1403}, {0x72, NULL, 0, 0, 0, 1404},
	{0x65, NULL, 0, 0, 0, 1405}, {0x61, NULL, 0, 0, 0, 1406},
	{0x6b, NULL, 0, 0, 0, 1407}, {0x69, NULL, 0, 0, 0, 1408},
	{0x6e, NULL, 0, 0, 0, 1409}, {0x67, NULL, 0, 0, 0, 1410},
	{0x53, NULL, 0, 0, 0, 1411}, {0x70, NULL, 0, 0, 0, 1412},
	{0x61, NULL, 0, 0, 0, 1413}, {0x63, NULL, 0, 0, 0, 1414},
	{0x65, NULL, 0, 0, 0, 1415}, {0x3b, "\xc2\xa0", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 1417}, {0x65, NULL, 0, 0, 0, 1418},
	{0x61, NULL, 0, 0, 0, 1419}, {0x6b, NULL, 0, 0, 0, 1420},
	{0x3b, "\xe2\x81\xa0", 3, 0, 0, 0}, {0x6e, NULL, 0, 1423, 1422, 1435},
	{0x73, NULL, 0, 1431, 1430, 1472}, {0x64, NULL, 0, 1425, 1424, 1475},
	{0x67, NULL, 0, 1429, 1428, 1480}, {0x62, NULL, 0, 1427, 1426, 1485},
	{0x63, NULL, 0, 0, 0, 1493}, {0x61, NULL, 0, 0, 0, 1499},
	{0x6d, NULL, 0, 0, 0, 1512}, {0x66, NULL, 0, 0, 0, 1516},
	{0x75, NULL, 0, 1434, 0, 1518}, {0x70, NULL, 0, 1433, 1432, 1521},
	{0x72, NULL, 0, 0, 0, 1620}, {0x6f, NULL, 0, 0, 0, 1624},
	{0x74, NULL, 0, 0, 0, 1631}, {0x69, NULL, 0, 1436, 0, 1437},
	{0x64, NULL, 0, 0, 0, 1445}, {0x6f, NULL, 0, 0, 0, 1438},
	{0x6e, NULL, 0, 0, 0, 1439}, {0x50, NULL, 0, 1440, 0, 1441},
	{0x3b, "\xe2\x8b\x83", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 1442},
	{0x75, NULL, 0, 0, 0, 1443}, {0x73, NULL, 0, 0, 0, 1444},
	{0x3b, "\xe2\x8a\x8e", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 1446},
	{0x72, NULL, 0, 0, 0, 1447}, {0x50, NULL, 0, 1448, 0, 1449},
	{0x42, NULL, 0, 0, 0, 1460}, {0x61, NULL, 0, 0, 0, 1450},
	{0x72, NULL, 0, 0, 0, 1451}, {0x65, NULL, 0, 0, 0, 1452},
	{0x6e, NULL, 0, 0, 0, 1453}, {0x74, NULL, 0, 0, 0, 1454},
	{0x68, NULL, 0, 0, 0, 1455}, {0x65, NULL, 0, 0, 0, 1456},
	{0x73, NULL, 0, 0, 0, 1457}, {0x69, NULL, 0, 0, 0, 1458},
	{0x73, NULL, 0, 0, 0, 1459}, {0x3b, "\xe2\x8f\x9d", 3, 0, 0, 0},
	{0x72, NULL, 0, 1461, 0, 1462}, {0x61, NULL, 0, 0, 0, 1470},
	{0x61, NULL, 0, 0, 0, 1463}, {0x63, NULL, 0, 0, 0, 1464},
	{0x6b, NULL, 0, 1465, 0, 1466}, {0x65, NULL, 0, 0, 0, 1469},
	{0x65, NULL, 0, 0, 0, 1467}, {0x74, NULL, 0, 0, 0, 1468},
	{0x3b, "\xe2\x8e\xb5", 3, 0, 0, 0}, {0x3b, "\xe2\x8f\x9f", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 1471}, {0x3b, "\x5f", 1, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 1473}, {0x72, NULL, 0, 0, 0, 1474},
	{0x3b, "\xf0\x9d\x92\xb0", 4, 0, 0, 0}, {0x62, NULL, 0, 0, 0, 1476},
	{0x6c, NULL, 0, 0, 0, 1477}, {0x61, NULL, 0, 0, 0, 1478},
	{0x63, NULL, 0, 0, 0, 1479}, {0x3b, "\xc5\xb0", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 1481}, {0x61, NULL, 0, 0, 0, 1482},
	{0x76, NULL, 0, 0, 0, 1483}, {0x65, "\xc3\x99", 2, 0, 0, 1484},
	{0x3b, "\xc3\x99", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 1486},
	{0x65, NULL, 0, 1487, 0, 1488}, {0x63, NULL, 0, 0, 0, 1491},
	{0x76, NULL, 0, 0, 0, 1489}, {0x65, NULL, 0, 0, 0, 1490},
	{0x3b, "\xc5\xac", 2, 0, 0, 0}, {0x79, NULL, 0, 0, 0, 1492},
	{0x3b, "\xd0\x8e", 2, 0, 0, 0}, {0x79, NULL, 0, 1494, 0, 1495},
	{0x69, NULL, 0, 0, 0, 1496}, {0x3b, "\xd0\xa3", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 1497}, {0x63, "\xc3\x9b", 2, 0, 0, 1498},
	{0x3b, "\xc3\x9b", 2, 0, 0, 0}, {0x72, NULL, 0, 1500, 0, 1501},
	{0x63, NULL, 0, 0, 0, 1508}, {0x72, NULL, 0, 0, 0, 1502},
	{0x6f, NULL, 0, 1503, 0, 1504}, {0x3b, "\xe2\x86\x9f", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 1505}, {0x69, NULL, 0, 0, 0, 1506},
	{0x72, NULL, 0, 0, 0, 1507}, {0x3b, "\xe2\xa5\x89", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 1509}, {0x74, NULL, 0, 0, 0, 1510},
	{0x65, "\xc3\x9a", 2, 0, 0, 1511}, {0x3b, "\xc3\x9a", 2, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 1513}, {0x63, NULL, 0, 0, 0, 1514},
	{0x72, NULL, 0, 0, 0, 1515}, {0x3b, "\xc5\xaa", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 1517}, {0x3b, "\xf0\x9d\x94\x98", 4, 0, 0, 0},
	{0x6d, NULL, 0, 0, 0, 1519}, {0x6c, "\xc3\x9c", 2, 0, 0, 1520},
	{0x3b, "\xc3\x9c", 2, 0, 0, 0}, {0x61, NULL, 0, 1523, 1522, 1529},
	{0x70, NULL, 0, 1528, 1527, 1534}, {0x45, NULL, 0, 1525, 1524, 1557},
	{0x54, NULL, 0, 0, 0, 1568}, {0x44, NULL, 0, 1526, 0, 1577},
	{0x41, NULL, 0, 0, 0, 1586}, {0x73, NULL, 0, 0, 0, 1605},
	{0x64, NULL, 0, 0, 0, 1611}, {0x72, NULL, 0, 0, 0, 1530},
	{0x72, NULL, 0, 0, 0, 1531}, {0x6f, NULL, 0, 0, 0, 1532},
	{0x77, NULL, 0, 0, 0, 1533}, {0x3b, "\xe2\x87\x91", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 1535}, {0x72, NULL, 0, 0, 0, 1536},
	{0x52, NULL, 0, 1537, 0, 1538}, {0x4c, NULL, 0, 0, 0, 1548},
	{0x69, NULL, 0, 0, 0, 1539}, {0x67, NULL, 0, 0, 0, 1540},
	{0x68, NULL, 0, 0, 0, 1541}, {0x74, NULL, 0, 0, 0, 1542},
	{0x41, NULL, 0, 0, 0, 1543}, {0x72, NULL, 0, 0, 0, 1544},
	{0x72, NULL, 0, 0, 0, 1545}, {0x6f, NULL, 0, 0, 0, 1546},
	{0x77, NULL, 0, 0, 0, 1547}, {0x3b, "\xe2\x86\x97", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 1549}, {0x66, NULL, 0, 0, 0, 1550},
	{0x74, NULL, 0, 0, 0, 1551}, {0x41, NULL, 0, 0, 0, 1552},
	{0x72, NULL, 0, 0, 0, 1553}, {0x72, NULL, 0, 0, 0, 1554},
	{0x6f, NULL, 0, 0, 0, 1555}, {0x77, NULL, 0, 0, 0, 1556},
	{0x3b, "\xe2\x86\x96", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 1558},
	{0x75, NULL, 0, 0, 0, 1559}, {0x69, NULL, 0, 0, 0, 1560},
	{0x6c, NULL, 0, 0, 0, 1561}, {0x69, NULL, 0, 0, 0, 1562},
	{0x62, NULL, 0, 0, 0, 1563}, {0x72, NULL, 0, 0, 0, 1564},
	{0x69, NULL, 0, 0, 0, 1565}, {0x75, NULL, 0, 0, 0, 1566},
	{0x6d, NULL, 0, 0, 0, 1567}, {0x3b, "\xe2\xa5\xae", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 1569}, {0x65, NULL, 0, 0, 0, 1570},
	{0x41, NULL, 0, 1571, 0, 1572}, {0x3b, "\xe2\x8a\xa5", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 1573}, {0x72, NULL, 0, 0, 0, 1574},
	{0x6f, NULL, 0, 0, 0, 1575}, {0x77, NULL, 0, 0, 0, 1576},
	{0x3b, "\xe2\x86\xa5", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 1578},
	{0x77, NULL, 0, 0, 0, 1579}, {0x6e, NULL, 0, 0, 0, 1580},
	{0x41, NULL, 0, 0, 0, 1581}, {0x72, NULL, 0, 0, 0, 1582},
	{0x72, NULL, 0, 0, 0, 1583}, {0x6f, NULL, 0, 0, 0, 1584},
	{0x77, NULL, 0, 0, 0, 1585}, {0x3b, "\xe2\x86\x95", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 1587}, {0x72, NULL, 0, 0, 0, 1588},
	{0x6f, NULL, 0, 0, 0, 1589}, {0x77, NULL, 0, 0, 0, 1590},
	{0x42, NULL, 0, 1592, 1591, 1593}, {0x44, NULL, 0, 0, 0, 1596},
	{0x3b, "\xe2\x86\x91", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 1594},
	{0x72, NULL, 0, 0, 0, 1595}, {0x3b, "\xe2\xa4\x92", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 1597}, {0x77, NULL, 0, 0, 0, 1598},
	{0x6e, NULL, 0, 0, 0, 1599}, {0x41, NULL, 0, 0, 0, 1600},
	{0x72, NULL, 0, 0, 0, 1601}, {0x72, NULL, 0, 0, 0, 1602},
	{0x6f, NULL, 0, 0, 0, 1603}, {0x77, NULL, 0, 0, 0, 1604},
	{0x3b, "\xe2\x87\x85", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 1606},
	{0x6c, NULL, 0, 1607, 0, 1608}, {0x3b, "\xcf\x92", 2, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 1609}, {0x6e, NULL, 0, 0, 0, 1610},
	{0x3b, "\xce\xa5", 2, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 1612},
	{0x77, NULL, 0, 0, 0, 1613}, {0x6e, NULL, 0, 0, 0, 1614},
	{0x61, NULL, 0, 0, 0, 1615}, {0x72, NULL, 0, 0, 0, 1616},
	{0x72, NULL, 0, 0, 0, 1617}, {0x6f, NULL, 0, 0, 0, 1618},
	{0x77, NULL, 0, 0, 0, 1619}, {0x3b, "\xe2\x87\x95", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 1621}, {0x6e, NULL, 0, 0, 0, 1622},
	{0x67, NULL, 0, 0, 0, 1623}, {0x3b, "\xc5\xae", 2, 0, 0, 0},
	{0x70, NULL, 0, 1625, 0, 1626}, {0x67, NULL, 0, 0, 0, 1628},
	{0x66, NULL, 0, 0, 0, 1627}, {0x3b, "\xf0\x9d\x95\x8c", 4, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 1629}, {0x6e, NULL, 0, 0, 0, 1630},
	{0x3b, "\xc5\xb2", 2, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 1632},
	{0x6c, NULL, 0, 0, 0, 1633}, {0x64, NULL, 0, 0, 0, 1634},
	{0x65, NULL, 0, 0, 0, 1635}, {0x3b, "\xc5\xa8", 2, 0, 0, 0},
	{0x66, NULL, 0, 1638, 1637, 1648}, {0x72, NULL, 0, 1645, 1644, 1650},
	{0x62, NULL, 0, 1640, 1639, 1706}, {0x64, NULL, 0, 1643, 0, 1711},
	{0x54, "\x3e", 1, 1642, 1641, 1714}, {0x61, NULL, 0, 0, 0, 1715},
	{0x4a, NULL, 0, 0, 0, 1721}, {0x63, NULL, 0, 0, 0, 1724},
	{0x74, NULL, 0, 1647, 0, 1735}, {0x6f, NULL, 0, 1646, 0, 1736},
	{0x67, NULL, 0, 0, 0, 1739}, {0x73, NULL, 0, 0, 0, 1740},
	{0x72, NULL, 0, 0, 0, 1649}, {0x3b, "\xf0\x9d\x94\x8a", 4, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 1651}, {0x61, NULL, 0, 0, 0, 1652},
	{0x74, NULL, 0, 0, 0, 1653}, {0x65, NULL, 0, 0, 0, 1654},
	{0x72, NULL, 0, 0, 0, 1655}, {0x4c, NULL, 0, 1657, 1656, 1661},
	{0x54, NULL, 0, 1660, 0, 1665}, {0x46, NULL, 0, 1659, 1658, 1670},
	{0x47, NULL, 0, 0, 0, 1679}, {0x45, NULL, 0, 0, 0, 1686},
	{0x53, NULL, 0, 0, 0, 1696}, {0x65, NULL, 0, 0, 0, 1662},
	{0x73, NULL, 0, 0, 0, 1663}, {0x73, NULL, 0, 0, 0, 1664},
	{0x3b, "\xe2\x89\xb7", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 1666},
	{0x6c, NULL, 0, 0, 0, 1667}, {0x64, NULL, 0, 0, 0, 1668},
	{0x65, NULL, 0, 0, 0, 1669}, {0x3b, "\xe2\x89\xb3", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 1671}, {0x6c, NULL, 0, 0, 0, 1672},
	{0x6c, NULL, 0, 0, 0, 1673}, {0x45, NULL, 0, 0, 0, 1674},
	{0x71, NULL, 0, 0, 0, 1675}, {0x75, NULL, 0, 0, 0, 1676},
	{0x61, NULL, 0, 0, 0, 1677}, {0x6c, NULL, 0, 0, 0, 1678},
	{0x3b, "\xe2\x89\xa7", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 1680},
	{0x65, NULL, 0, 0, 0, 1681}, {0x61, NULL, 0, 0, 0, 1682},
	{0x74, NULL, 0, 0, 0, 1683}, {0x65, NULL, 0, 0, 0, 1684},
	{0x72, NULL, 0, 0, 0, 1685}, {0x3b, "\xe2\xaa\xa2", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 1687}, {0x75, NULL, 0, 0, 0, 1688},
	{0x61, NULL, 0, 0, 0, 1689}, {0x6c, NULL, 0, 0, 0, 1690},
	{0x4c, NULL, 0, 1691, 0, 1692}, {0x3b, "\xe2\x89\xa5", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 1693}, {0x73, NULL, 0, 0, 0, 1694},
	{0x73, NULL, 0, 0, 0, 1695}, {0x3b, "\xe2\x8b\x9b", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 1697}, {0x61, NULL, 0, 0, 0, 1698},
	{0x6e, NULL, 0, 0, 0, 1699}, {0x74, NULL, 0, 0, 0, 1700},
	{0x45, NULL, 0, 0, 0, 1701}, {0x71, NULL, 0, 0, 0, 1702},
	{0x75, NULL, 0, 0, 0, 1703}, {0x61, NULL, 0, 0, 0, 1704},
	{0x6c, NULL, 0, 0, 0, 1705}, {0x3b, "\xe2\xa9\xbe", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 1707}, {0x65, NULL, 0, 0, 0, 1708},
	{0x76, NULL, 0, 0, 0, 1709}, {0x65, NULL, 0, 0, 0, 1710},
	{0x3b, "\xc4\x9e", 2, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 1712},
	{0x74, NULL, 0, 0, 0, 1713}, {0x3b, "\xc4\xa0", 2, 0, 0, 0},
	{0x3b, "\x3e", 1, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 1716},
	{0x6d, NULL, 0, 0, 0, 1717}, {0x61, NULL, 0, 0, 0, 1718},
	{0x64, NULL, 0, 1719, 0, 1720}, {0x3b, "\xce\x93", 2, 0, 0, 0},
	{0x3b, "\xcf\x9c", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 1722},
	{0x79, NULL, 0, 0, 0, 1723}, {0x3b, "\xd0\x83", 2, 0, 0, 0},
	{0x69, NULL, 0, 1726, 1725, 1727}, {0x79, NULL, 0, 0, 0, 1730},
	{0x65, NULL, 0, 0, 0, 1731}, {0x72, NULL, 0, 0, 0, 1728},
	{0x63, NULL, 0, 0, 0, 1729}, {0x3b, "\xc4\x9c", 2, 0, 0, 0},
	{0x3b, "\xd0\x93", 2, 0, 0, 0}, {0x64, NULL, 0, 0, 0, 1732},
	{0x69, NULL, 0, 0, 0, 1733}, {0x6c, NULL, 0, 0, 0, 1734},
	{0x3b, "\xc4\xa2", 2, 0, 0, 0}, {0x3b, "\xe2\x89\xab", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 1737}, {0x66, NULL, 0, 0, 0, 1738},
	{0x3b, "\xf0\x9d\x94\xbe", 4, 0, 0, 0}, {0x3b, "\xe2\x8b\x99", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 1741}, {0x72, NULL, 0, 0, 0, 1742},
	{0x3b, "\xf0\x9d\x92\xa2", 4, 0, 0, 0}, {0x63, NULL, 0, 1745, 1744, 1750},
	{0x6f, NULL, 0, 1749, 1748, 1757}, {0x4a, NULL, 0, 1747, 1746, 1760},
	{0x61, NULL, 0, 0, 0, 1763}, {0x48, NULL, 0, 0, 0, 1767},
	{0x73, NULL, 0, 0, 0, 1770}, {0x66, NULL, 0, 0, 0, 1773},
	{0x79, NULL, 0, 1751, 0, 1752}, {0x65, NULL, 0, 0, 0, 1753},
	{0x3b, "\xd0\x9a", 2, 0, 0, 0}, {0x64, NULL, 0, 0, 0, 1754},
	{0x69, NULL, 0, 0, 0, 1755}, {0x6c, NULL, 0, 0, 0, 1756},
	{0x3b, "\xc4\xb6", 2, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 1758},
	{0x66, NULL, 0, 0, 0, 1759}, {0x3b, "\xf0\x9d\x95\x82", 4, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 1761}, {0x79, NULL, 0, 0, 0, 1762},
	{0x3b, "\xd0\x8c", 2, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 1764},
	{0x70, NULL, 0, 0, 0, 1765}, {0x61, NULL, 0, 0, 0, 1766},
	{0x3b, "\xce\x9a", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 1768},
	{0x79, NULL, 0, 0, 0, 1769}, {0x3b, "\xd0\xa5", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 1771}, {0x72, NULL, 0, 0, 0, 1772},
	{0x3b, "\xf0\x9d\x92\xa6", 4, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 1774},
	{0x3b, "\xf0\x9d\x94\x8e", 4, 0, 0, 0}, {0x63, NULL, 0, 1777, 1776, 1786},
	{0x69, NULL, 0, 1783, 1782, 1793}, {0x53, NULL, 0, 1779, 1778, 1851},
	{0x61, NULL, 0, 1781, 0, 1854}, {0x4a, NULL, 0, 1780, 0, 1866},
	{0x44, NULL, 0, 0, 0, 1869}, {0x5a, NULL, 0, 0, 0, 1877},
	{0x73, NULL, 0, 1785, 0, 1880}, {0x66, NULL, 0, 1784, 0, 1888},
	{0x65, NULL, 0, 0, 0, 1890}, {0x6f, NULL, 0, 0, 0, 1895},
	{0x79, NULL, 0, 1787, 0, 1788}, {0x61, NULL, 0, 0, 0, 1789},
	{0x3b, "\xd0\x94", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 1790},
	{0x6f, NULL, 0, 0, 0, 1791}, {0x6e, NULL, 0, 0, 0, 1792},
	{0x3b, "\xc4\x8e", 2, 0, 0, 0}, {0x66, NULL, 0, 1794, 0, 1795},
	{0x61, NULL, 0, 0, 0, 1806}, {0x66, NULL, 0, 0, 0, 1796},
	{0x65, NULL, 0, 0, 0, 1797}, {0x72, NULL, 0, 0, 0, 1798},
	{0x65, NULL, 0, 0, 0, 1799}, {0x6e, NULL, 0, 0, 0, 1800},
	{0x74, NULL, 0, 0, 0, 1801}, {0x69, NULL, 0, 0, 0, 1802},
	{0x61, NULL, 0, 0, 0, 1803}, {0x6c, NULL, 0, 0, 0, 1804},
	{0x44, NULL, 0, 0, 0, 1805}, {0x3b, "\xe2\x85\x86", 3, 0, 0, 0},
	{0x6d, NULL, 0, 1807, 0, 1808}, {0x63, NULL, 0, 0, 0, 1812},
	{0x6f, NULL, 0, 0, 0, 1809}, {0x6e, NULL, 0, 0, 0, 1810},
	{0x64, NULL, 0, 0, 0, 1811}, {0x3b, "\xe2\x8b\x84", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 1813}, {0x69, NULL, 0, 0, 0, 1814},
	{0x74, NULL, 0, 0, 0, 1815}, {0x69, NULL, 0, 0, 0, 1816},
	{0x63, NULL, 0, 0, 0, 1817}, {0x61, NULL, 0, 0, 0, 1818},
	{0x6c, NULL, 0, 0, 0, 1819}, {0x47, NULL, 0, 1821, 1820, 1823},
	{0x54, NULL, 0, 0, 0, 1828}, {0x44, NULL, 0, 1822, 0, 1833},
	{0x41, NULL, 0, 0, 0, 1846}, {0x72, NULL, 0, 0, 0, 1824},
	{0x61, NULL, 0, 0, 0, 1825}, {0x76, NULL, 0, 0, 0, 1826},
	{0x65, NULL, 0, 0, 0, 1827}, {0x3b, "\x60", 1, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 1829}, {0x6c, NULL, 0, 0, 0, 1830},
	{0x64, NULL, 0, 0, 0, 1831}, {0x65, NULL, 0, 0, 0, 1832},
	{0x3b, "\xcb\x9c", 2, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 1834},
	{0x75, NULL, 0, 1835, 0, 1836}, {0x74, NULL, 0, 0, 0, 1845},
	{0x62, NULL, 0, 0, 0, 1837}, {0x6c, NULL, 0, 0, 0, 1838},
	{0x65, NULL, 0, 0, 0, 1839}, {0x41, NULL, 0, 0, 0, 1840},
	{0x63, NULL, 0, 0, 0, 1841}, {0x75, NULL, 0, 0, 0, 1842},
	{0x74, NULL, 0, 0, 0, 1843}, {0x65, NULL, 0, 0, 0, 1844},
	{0x3b, "\xcb\x9d", 2, 0, 0, 0}, {0x3b, "\xcb\x99", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 1847}, {0x75, NULL, 0, 0, 0, 1848},
	{0x74, NULL, 0, 0, 0, 1849}, {0x65, NULL, 0, 0, 0, 1850},
	{0x3b, "\xc2\xb4", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 1852},
	{0x79, NULL, 0, 0, 0, 1853}, {0x3b, "\xd0\x85", 2, 0, 0, 0},
	{0x72, NULL, 0, 1856, 1855, 1857}, {0x73, NULL, 0, 0, 0, 1859},
	{0x67, NULL, 0, 0, 0, 1862}, {0x72, NULL, 0, 0, 0, 1858},
	{0x3b, "\xe2\x86\xa1", 3, 0, 0, 0}, {0x68, NULL, 0, 0, 0, 1860},
	{0x76, NULL, 0, 0, 0, 1861}, {0x3b, "\xe2\xab\xa4", 3, 0, 0, 0},
	{0x67, NULL, 0, 0, 0, 1863}, {0x65, NULL, 0, 0, 0, 1864},
	{0x72, NULL, 0, 0, 0, 1865}, {0x3b, "\xe2\x80\xa1", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 1867}, {0x79, NULL, 0, 0, 0, 1868},
	{0x3b, "\xd0\x82", 2, 0, 0, 0}, {0x6f, NULL, 0, 1870, 0, 1871},
	{0x3b, "\xe2\x85\x85", 3, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 1872},
	{0x72, NULL, 0, 0, 0, 1873}, {0x61, NULL, 0, 0, 0, 1874},
	{0x68, NULL, 0, 0, 0, 1875}, {0x64, NULL, 0, 0, 0, 1876},
	{0x3b, "\xe2\xa4\x91", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 1878},
	{0x79, NULL, 0, 0, 0, 1879}, {0x3b, "\xd0\x8f", 2, 0, 0, 0},
	{0x74, NULL, 0, 1881, 0, 1882}, {0x63, NULL, 0, 0, 0, 1886},
	{0x72, NULL, 0, 0, 0, 1883}, {0x6f, NULL, 0, 0, 0, 1884},
	{0x6b, NULL, 0, 0, 0, 1885}, {0x3b, "\xc4\x90", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 1887}, {0x3b, "\xf0\x9d\x92\x9f", 4, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 1889}, {0x3b, "\xf0\x9d\x94\x87", 4, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 1891}, {0x74, NULL, 0, 1892, 0, 1893},
	{0x3b, "\xe2\x88\x87", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 1894},
	{0x3b, "\xce\x94", 2, 0, 0, 0}, {0x75, NULL, 0, 1897, 1896, 1899},
	{0x77, NULL, 0, 0, 0, 2035}, {0x74, NULL, 0, 1898, 0, 2139},
	{0x70, NULL, 0, 0, 0, 2150}, {0x62, NULL, 0, 0, 0, 1900},
	{0x6c, NULL, 0, 0, 0, 1901}, {0x65, NULL, 0, 0, 0, 1902},
	{0x52, NULL, 0, 1904, 1903, 1908}, {0x56, NULL, 0, 1907, 0, 1922},
	{0x44, NULL, 0, 1906, 1905, 1933}, {0x4c, NULL, 0, 0, 0, 1944},
	{0x43, NULL, 0, 0, 0, 2003}, {0x55, NULL, 0, 0, 0, 2018},
	{0x69, NULL, 0, 0, 0, 1909}, {0x67, NULL, 0, 0, 0, 1910},
	{0x68, NULL, 0, 0, 0, 1911}, {0x74, NULL, 0, 0, 0, 1912},
	{0x54, NULL, 0, 1913, 0, 1914}, {0x41, NULL, 0, 0, 0, 1917},
	{0x65, NULL, 0, 0, 0, 1915}, {0x65, NULL, 0, 0, 0, 1916},
	{0x3b, "\xe2\x8a\xa8", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 1918},
	{0x72, NULL, 0, 0, 0, 1919}, {0x6f, NULL, 0, 0, 0, 1920},
	{0x77, NULL, 0, 0, 0, 1921}, {0x3b, "\xe2\x87\x92", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 1923}, {0x72, NULL, 0, 0, 0, 1924},
	{0x74, NULL, 0, 0, 0, 1925}, {0x69, NULL, 0, 0, 0, 1926},
	{0x63, NULL, 0, 0, 0, 1927}, {0x61, NULL, 0, 0, 0, 1928},
	{0x6c, NULL, 0, 0, 0, 1929}, {0x42, NULL, 0, 0, 0, 1930},
	{0x61, NULL, 0, 0, 0, 1931}, {0x72, NULL, 0, 0, 0, 1932},
	{0x3b, "\xe2\x88\xa5", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 1934},
	{0x77, NULL, 0, 1935, 0, 1936}, {0x74, NULL, 0, 0, 0, 1943},
	{0x6e, NULL, 0, 0, 0, 1937}, {0x41, NULL, 0, 0, 0, 1938},
	{0x72, NULL, 0, 0, 0, 1939}, {0x72, NULL, 0, 0, 0, 1940},
	{0x6f, NULL, 0, 0, 0, 1941}, {0x77, NULL, 0, 0, 0, 1942},
	{0x3b, "\xe2\x87\x93", 3, 0, 0, 0}, {0x3b, "\xc2\xa8", 2, 0, 0, 0},
	{0x6f, NULL, 0, 1945, 0, 1946}, {0x65, NULL, 0, 0, 0, 1980},
	{0x6e, NULL, 0, 0, 0, 1947}, {0x67, NULL, 0, 0, 0, 1948},
	{0x52, NULL, 0, 1949, 0, 1950}, {0x4c, NULL, 0, 0, 0, 1960},
	{0x69, NULL, 0, 0, 0, 1951}, {0x67, NULL, 0, 0, 0, 1952},
	{0x68, NULL, 0, 0, 0, 1953}, {0x74, NULL, 0, 0, 0, 1954},
	{0x41, NULL, 0, 0, 0, 1955}, {0x72, NULL, 0, 0, 0, 1956},
	{0x72, NULL, 0, 0, 0, 1957}, {0x6f, NULL, 0, 0, 0, 1958},
	{0x77, NULL, 0, 0, 0, 1959}, {0x3b, "\xe2\x9f\xb9", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 1961}, {0x66, NULL, 0, 0, 0, 1962},
	{0x74, NULL, 0, 0, 0, 1963}, {0x52, NULL, 0, 1964, 0, 1965},
	{0x41, NULL, 0, 0, 0, 1975}, {0x69, NULL, 0, 0, 0, 1966},
	{0x67, NULL, 0, 0, 0, 1967}, {0x68, NULL, 0, 0, 0, 1968},
	{0x74, NULL, 0, 0, 0, 1969}, {0x41, NULL, 0, 0, 0, 1970},
	{0x72, NULL, 0, 0, 0, 1971}, {0x72, NULL, 0, 0, 0, 1972},
	{0x6f, NULL, 0, 0, 0, 1973}, {0x77, NULL, 0, 0, 0, 1974},
	{0x3b, "\xe2\x9f\xba", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 1976},
	{0x72, NULL, 0, 0, 0, 1977}, {0x6f, NULL, 0, 0, 0, 1978},
	{0x77, NULL, 0, 0, 0, 1979}, {0x3b, "\xe2\x9f\xb8", 3, 0, 0, 0},
	{0x66, NULL, 0, 0, 0, 1981}, {0x74, NULL, 0, 0, 0, 1982},
	{0x52, NULL, 0, 1984, 1983, 1985}, {0x54, NULL, 0, 0, 0, 1995},
	{0x41, NULL, 0, 0, 0, 1998}, {0x69, NULL, 0, 0, 0, 1986},
	{0x67, NULL, 0, 0, 0, 1987}, {0x68, NULL, 0, 0, 0, 1988},
	{0x74, NULL, 0, 0, 0, 1989}, {0x41, NULL, 0, 0, 0, 1990},
	{0x72, NULL, 0, 0, 0, 1991}, {0x72, NULL, 0, 0, 0, 1992},
	{0x6f, NULL, 0, 0, 0, 1993}, {0x77, NULL, 0, 0, 0, 1994},
	{0x3b, "\xe2\x87\x94", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 1996},
	{0x65, NULL, 0, 0, 0, 1997}, {0x3b, "\xe2\xab\xa4", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 1999}, {0x72, NULL, 0, 0, 0, 2000},
	{0x6f, NULL, 0, 0, 0, 2001}, {0x77, NULL, 0, 0, 0, 2002},
	{0x3b, "\xe2\x87\x90", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 2004},
	{0x6e, NULL, 0, 0, 0, 2005}, {0x74, NULL, 0, 0, 0, 2006},
	{0x6f, NULL, 0, 0, 0, 2007}, {0x75, NULL, 0, 0, 0, 2008},
	{0x72, NULL, 0, 0, 0, 2009}, {0x49, NULL, 0, 0, 0, 2010},
	{0x6e, NULL, 0, 0, 0, 2011}, {0x74, NULL, 0, 0, 0, 2012},
	{0x65, NULL, 0, 0, 0, 2013}, {0x67, NULL, 0, 0, 0, 2014},
	{0x72, NULL, 0, 0, 0, 2015}, {0x61, NULL, 0, 0, 0, 2016},
	{0x6c, NULL, 0, 0, 0, 2017}, {0x3b, "\xe2\x88\xaf", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 2019}, {0x44, NULL, 0, 2020, 0, 2021},
	{0x41, NULL, 0, 0, 0, 2030}, {0x6f, NULL, 0, 0, 0, 2022},
	{0x77, NULL, 0, 0, 0, 2023}, {0x6e, NULL, 0, 0, 0, 2024},
	{0x41, NULL, 0, 0, 0, 2025}, {0x72, NULL, 0, 0, 0, 2026},
	{0x72, NULL, 0, 0, 0, 2027}, {0x6f, NULL, 0, 0, 0, 2028},
	{0x77, NULL, 0, 0, 0, 2029}, {0x3b, "\xe2\x87\x95", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2031}, {0x72, NULL, 0, 0, 0, 2032},
	{0x6f, NULL, 0, 0, 0, 2033}, {0x77, NULL, 0, 0, 0, 2034},
	{0x3b, "\xe2\x87\x91", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 2036},
	{0x52, NULL, 0, 2038, 2037, 2042}, {0x61, NULL, 0, 2041, 0, 2067},
	{0x42, NULL, 0, 2040, 2039, 2072}, {0x4c, NULL, 0, 0, 0, 2077},
	{0x41, NULL, 0, 0, 0, 2113}, {0x54, NULL, 0, 0, 0, 2130},
	{0x69, NULL, 0, 0, 0, 2043}, {0x67, NULL, 0, 0, 0, 2044},
	{0x68, NULL, 0, 0, 0, 2045}, {0x74, NULL, 0, 0, 0, 2046},
	{0x56, NULL, 0, 2047, 0, 2048}, {0x54, NULL, 0, 0, 0, 2058},
	{0x65, NULL, 0, 0, 0, 2049}, {0x63, NULL, 0, 0, 0, 2050},
	{0x74, NULL, 0, 0, 0, 2051}, {0x6f, NULL, 0, 0, 0, 2052},
	{0x72, NULL, 0, 0, 0, 2053}, {0x42, NULL, 0, 2054, 0, 2055},
	{0x3b, "\xe2\x87\x81", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 2056},
	{0x72, NULL, 0, 0, 0, 2057}, {0x3b, "\xe2\xa5\x97", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 2059}, {0x65, NULL, 0, 0, 0, 2060},
	{0x56, NULL, 0, 0, 0, 2061}, {0x65, NULL, 0, 0, 0, 2062},
	{0x63, NULL, 0, 0, 0, 2063}, {0x74, NULL, 0, 0, 0, 2064},
	{0x6f, NULL, 0, 0, 0, 2065}, {0x72, NULL, 0, 0, 0, 2066},
	{0x3b, "\xe2\xa5\x9f", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2068},
	{0x72, NULL, 0, 0, 0, 2069}, {0x6f, NULL, 0, 0, 0, 2070},
	{0x77, NULL, 0, 0, 0, 2071}, {0x3b, "\xe2\x87\x93", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2073}, {0x65, NULL, 0, 0, 0, 2074},
	{0x76, NULL, 0, 0, 0, 2075}, {0x65, NULL, 0, 0, 0, 2076},
	{0x3b, "\xcc\x91", 2, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 2078},
	{0x66, NULL, 0, 0, 0, 2079}, {0x74, NULL, 0, 0, 0, 2080},
	{0x54, NULL, 0, 2082, 2081, 2083}, {0x56, NULL, 0, 0, 0, 2092},
	{0x52, NULL, 0, 0, 0, 2102}, {0x65, NULL, 0, 0, 0, 2084},
	{0x65, NULL, 0, 0, 0, 2085}, {0x56, NULL, 0, 0, 0, 2086},
	{0x65, NULL, 0, 0, 0, 2087}, {0x63, NULL, 0, 0, 0, 2088},
	{0x74, NULL, 0, 0, 0, 2089}, {0x6f, NULL, 0, 0, 0, 2090},
	{0x72, NULL, 0, 0, 0, 2091}, {0x3b, "\xe2\xa5\x9e", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 2093}, {0x63, NULL, 0, 0, 0, 2094},
	{0x74, NULL, 0, 0, 0, 2095}, {0x6f, NULL, 0, 0, 0, 2096},
	{0x72, NULL, 0, 0, 0, 2097}, {0x42, NULL, 0, 2098, 0, 2099},
	{0x3b, "\xe2\x86\xbd", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 2100},
	{0x72, NULL, 0, 0, 0, 2101}, {0x3b, "\xe2\xa5\x96", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 2103}, {0x67, NULL, 0, 0, 0, 2104},
	{0x68, NULL, 0, 0, 0, 2105}, {0x74, NULL, 0, 0, 0, 2106},
	{0x56, NULL, 0, 0, 0, 2107}, {0x65, NULL, 0, 0, 0, 2108},
	{0x63, NULL, 0, 0, 0, 2109}, {0x74, NULL, 0, 0, 0, 2110},
	{0x6f, NULL, 0, 0, 0, 2111}, {0x72, NULL, 0, 0, 0, 2112},
	{0x3b, "\xe2\xa5\x90", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2114},
	{0x72, NULL, 0, 0, 0, 2115}, {0x6f, NULL, 0, 0, 0, 2116},
	{0x77, NULL, 0, 0, 0, 2117}, {0x42, NULL, 0, 2119, 2118, 2120},
	{0x55, NULL, 0, 0, 0, 2123}, {0x3b, "\xe2\x86\x93", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 2121}, {0x72, NULL, 0, 0, 0, 2122},
	{0x3b, "\xe2\xa4\x93", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 2124},
	{0x41, NULL, 0, 0, 0, 2125}, {0x72, NULL, 0, 0, 0, 2126},
	{0x72, NULL, 0, 0, 0, 2127}, {0x6f, NULL, 0, 0, 0, 2128},
	{0x77, NULL, 0, 0, 0, 2129}, {0x3b, "\xe2\x87\xb5", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 2131}, {0x65, NULL, 0, 0, 0, 2132},
	{0x41, NULL, 0, 2133, 0, 2134}, {0x3b, "\xe2\x8a\xa4", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2135}, {0x72, NULL, 0, 0, 0, 2136},
	{0x6f, NULL, 0, 0, 0, 2137}, {0x77, NULL, 0, 0, 0, 2138},
	{0x3b, "\xe2\x86\xa7", 3, 0, 0, 0}, {0x44, NULL, 0, 2141, 2140, 2142},
	{0x45, NULL, 0, 0, 0, 2145}, {0x3b, "\xc2\xa8", 2, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 2143}, {0x74, NULL, 0, 0, 0, 2144},
	{0x3b, "\xe2\x83\x9c", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 2146},
	{0x75, NULL, 0, 0, 0, 2147}, {0x61, NULL, 0, 0, 0, 2148},
	{0x6c, NULL, 0, 0, 0, 2149}, {0x3b, "\xe2\x89\x90", 3, 0, 0, 0},
	{0x66, NULL, 0, 0, 0, 2151}, {0x3b, "\xf0\x9d\x94\xbb", 4, 0, 0, 0},
	{0x69, NULL, 0, 2154, 2153, 2157}, {0x73, NULL, 0, 2156, 0, 2189},
	{0x66, NULL, 0, 2155, 0, 2192}, {0x63, NULL, 0, 0, 0, 2194},
	{0x6f, NULL, 0, 0, 0, 2196}, {0x6c, NULL, 0, 0, 0, 2158},
	{0x6c, NULL, 0, 0, 0, 2159}, {0x65, NULL, 0, 0, 0, 2160},
	{0x64, NULL, 0, 0, 0, 2161}, {0x56, NULL, 0, 2162, 0, 2163},
	{0x53, NULL, 0, 0, 0, 2178}, {0x65, NULL, 0, 0, 0, 2164},
	{0x72, NULL, 0, 0, 0, 2165}, {0x79, NULL, 0, 0, 0, 2166},
	{0x53, NULL, 0, 0, 0, 2167}, {0x6d, NULL, 0, 0, 0, 2168},
	{0x61, NULL, 0, 0, 0, 2169}, {0x6c, NULL, 0, 0, 0, 2170},
	{0x6c, NULL, 0, 0, 0, 2171}, {0x53, NULL, 0, 0, 0, 2172},
	{0x71, NULL, 0, 0, 0, 2173}, {0x75, NULL, 0, 0, 0, 2174},
	{0x61, NULL, 0, 0, 0, 2175}, {0x72, NULL, 0, 0, 0, 2176},
	{0x65, NULL, 0, 0, 0, 2177}, {0x3b, "\xe2\x96\xaa", 3, 0, 0, 0},
	{0x6d, NULL, 0, 0, 0, 2179}, {0x61, NULL, 0, 0, 0, 2180},
	{0x6c, NULL, 0, 0, 0, 2181}, {0x6c, NULL, 0, 0, 0, 2182},
	{0x53, NULL, 0, 0, 0, 2183}, {0x71, NULL, 0, 0, 0, 2184},
	{0x75, NULL, 0, 0, 0, 2185}, {0x61, NULL, 0, 0, 0, 2186},
	{0x72, NULL, 0, 0, 0, 2187}, {0x65, NULL, 0, 0, 0, 2188},
	{0x3b, "\xe2\x97\xbc", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 2190},
	{0x72, NULL, 0, 0, 0, 2191}, {0x3b, "\xe2\x84\xb1", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2193}, {0x3b, "\xf0\x9d\x94\x89", 4, 0, 0, 0},
	{0x79, NULL, 0, 0, 0, 2195}, {0x3b, "\xd0\xa4", 2, 0, 0, 0},
	{0x72, NULL, 0, 2198, 2197, 2199}, {0x75, NULL, 0, 0, 0, 2203},
	{0x70, NULL, 0, 0, 0, 2211}, {0x41, NULL, 0, 0, 0, 2200},
	{0x6c, NULL, 0, 0, 0, 2201}, {0x6c, NULL, 0, 0, 0, 2202},
	{0x3b, "\xe2\x88\x80", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2204},
	{0x69, NULL, 0, 0, 0, 2205}, {0x65, NULL, 0, 0, 0, 2206},
	{0x72, NULL, 0, 0, 0, 2207}, {0x74, NULL, 0, 0, 0, 2208},
	{0x72, NULL, 0, 0, 0, 2209}, {0x66, NULL, 0, 0, 0, 2210},
	{0x3b, "\xe2\x84\xb1", 3, 0, 0, 0}, {0x66, NULL, 0, 0, 0, 2212},
	{0x3b, "\xf0\x9d\x94\xbd", 4, 0, 0, 0}, {0x6f, NULL, 0, 2215, 2214, 2221},
	{0x73, NULL, 0, 2220, 2219, 2224}, {0x65, NULL, 0, 2217, 2216, 2227},
	{0x66, NULL, 0, 0, 0, 2245}, {0x63, NULL, 0, 2218, 0, 2247},
	{0x61, NULL, 0, 0, 0, 2249}, {0x75, NULL, 0, 0, 0, 2264},
	{0x72, NULL, 0, 0, 0, 2269}, {0x70, NULL, 0, 0, 0, 2222},
	{0x66, NULL, 0, 0, 0, 2223}, {0x3b, "\xf0\x9d\x94\xb9", 4, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 2225}, {0x72, NULL, 0, 0, 0, 2226},
	{0x3b, "\xe2\x84\xac", 3, 0, 0, 0}, {0x72, NULL, 0, 2229, 2228, 2230},
	{0x74, NULL, 0, 0, 0, 2238}, {0x63, NULL, 0, 0, 0, 2240},
	{0x6e, NULL, 0, 0, 0, 2231}, {0x6f, NULL, 0, 0, 0, 2232},
	{0x75, NULL, 0, 0, 0, 2233}, {0x6c, NULL, 0, 0, 0, 2234},
	{0x6c, NULL, 0, 0, 0, 2235}, {0x69, NULL, 0, 0, 0, 2236},
	{0x73, NULL, 0, 0, 0, 2237}, {0x3b, "\xe2\x84\xac", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 2239}, {0x3b, "\xce\x92", 2, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 2241}, {0x75, NULL, 0, 0, 0, 2242},
	{0x73, NULL, 0, 0, 0, 2243}, {0x65, NULL, 0, 0, 0, 2244},
	{0x3b, "\xe2\x88\xb5", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2246},
	{0x3b, "\xf0\x9d\x94\x85", 4, 0, 0, 0}, {0x79, NULL, 0, 0, 0, 2248},
	{0x3b, "\xd0\x91", 2, 0, 0, 0}, {0x72, NULL, 0, 2250, 0, 2251},
	{0x63, NULL, 0, 0, 0, 2257}, {0x77, NULL, 0, 2252, 0, 2253},
	{0x76, NULL, 0, 0, 0, 2256}, {0x65, NULL, 0, 0, 0, 2254},
	{0x64, NULL, 0, 0, 0, 2255}, {0x3b, "\xe2\x8c\x86", 3, 0, 0, 0},
	{0x3b, "\xe2\xab\xa7", 3, 0, 0, 0}, {0x6b, NULL, 0, 0, 0, 2258},
	{0x73, NULL, 0, 0, 0, 2259}, {0x6c, NULL, 0, 0, 0, 2260},
	{0x61, NULL, 0, 0, 0, 2261}, {0x73, NULL, 0, 0, 0, 2262},
	{0x68, NULL, 0, 0, 0, 2263}, {0x3b, "\xe2\x88\x96", 3, 0, 0, 0},
	{0x6d, NULL, 0, 0, 0, 2265}, {0x70, NULL, 0, 0, 0, 2266},
	{0x65, NULL, 0, 0, 0, 2267}, {0x71, NULL, 0, 0, 0, 2268},
	{0x3b, "\xe2\x89\x8e", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 2270},
	{0x76, NULL, 0, 0, 0, 2271}, {0x65, NULL, 0, 0, 0, 2272},
	{0x3b, "\xcb\x98", 2, 0, 0, 0}, {0x68, NULL, 0, 2275, 2274, 2287},
	{0x72, NULL, 0, 2283, 2282, 2289}, {0x63, NULL, 0, 2277, 2276, 2293},
	{0x65, NULL, 0, 2281, 2280, 2313}, {0x4f, NULL, 0, 2279, 2278, 2327},
	{0x61, NULL, 0, 0, 0, 2330}, {0x48, NULL, 0, 0, 0, 2361},
	{0x66, NULL, 0, 0, 0, 2364}, {0x64, NULL, 0, 0, 0, 2366},
	{0x75, NULL, 0, 2286, 0, 2369}, {0x6c, NULL, 0, 2285, 2284, 2375},
	{0x6f, NULL, 0, 0, 0, 2423}, {0x69, NULL, 0, 0, 0, 2494},
	{0x73, NULL, 0, 0, 0, 2519}, {0x69, NULL, 0, 0, 0, 2288},
	{0x3b, "\xce\xa7", 2, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 2290},
	{0x73, NULL, 0, 0, 0, 2291}, {0x73, NULL, 0, 0, 0, 2292},
	{0x3b, "\xe2\xa8\xaf", 3, 0, 0, 0}, {0x69, NULL, 0, 2295, 2294, 2297},
	{0x6f, NULL, 0, 0, 0, 2300}, {0x65, NULL, 0, 2296, 0, 2305},
	{0x61, NULL, 0, 0, 0, 2309}, {0x72, NULL, 0, 0, 0, 2298},
	{0x63, NULL, 0, 0, 0, 2299}, {0x3b, "\xc4\x88", 2, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 2301}, {0x69, NULL, 0, 0, 0, 2302},
	{0x6e, NULL, 0, 0, 0, 2303}, {0x74, NULL, 0, 0, 0, 2304},
	{0x3b, "\xe2\x88\xb0", 3, 0, 0, 0}, {0x64, NULL, 0, 0, 0, 2306},
	{0x69, NULL, 0, 0, 0, 2307}, {0x6c, "\xc3\x87", 2, 0, 0, 2308},
	{0x3b, "\xc3\x87", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2310},
	{0x6f, NULL, 0, 0, 0, 2311}, {0x6e, NULL, 0, 0, 0, 2312},
	{0x3b, "\xc4\x8c", 2, 0, 0, 0}, {0x6e, NULL, 0, 2314, 0, 2315},
	{0x64, NULL, 0, 0, 0, 2322}, {0x74, NULL, 0, 0, 0, 2316},
	{0x65, NULL, 0, 0, 0, 2317}, {0x72, NULL, 0, 0, 0, 2318},
	{0x44, NULL, 0, 0, 0, 2319}, {0x6f, NULL, 0, 0, 0, 2320},
	{0x74, NULL, 0, 0, 0, 2321}, {0x3b, "\xc2\xb7", 2, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 2323}, {0x6c, NULL, 0, 0, 0, 2324},
	{0x6c, NULL, 0, 0, 0, 2325}, {0x61, NULL, 0, 0, 0, 2326},
	{0x3b, "\xc2\xb8", 2, 0, 0, 0}, {0x50, NULL, 0, 0, 0, 2328},
	{0x59, "\xc2\xa9", 2, 0, 0, 2329}, {0x3b, "\xc2\xa9", 2, 0, 0, 0},
	{0x70, NULL, 0, 2332, 2331, 2333}, {0x79, NULL, 0, 0, 0, 2352},
	{0x63, NULL, 0, 0, 0, 2357}, {0x69, NULL, 0, 2334, 0, 2335},
	{0x3b, "\xe2\x8b\x92", 3, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 2336},
	{0x61, NULL, 0, 0, 0, 2337}, {0x6c, NULL, 0, 0, 0, 2338},
	{0x44, NULL, 0, 0, 0, 2339}, {0x69, NULL, 0, 0, 0, 2340},
	{0x66, NULL, 0, 0, 0, 2341}, {0x66, NULL, 0, 0, 0, 2342},
	{0x65, NULL, 0, 0, 0, 2343}, {0x72, NULL, 0, 0, 0, 2344},
	{0x65, NULL, 0, 0, 0, 2345}, {0x6e, NULL, 0, 0, 0, 2346},
	{0x74, NULL, 0, 0, 0, 2347}, {0x69, NULL, 0, 0, 0, 2348},
	{0x61, NULL, 0, 0, 0, 2349}, {0x6c, NULL, 0, 0, 0, 2350},
	{0x44, NULL, 0, 0, 0, 2351}, {0x3b, "\xe2\x85\x85", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 2353}, {0x65, NULL, 0, 0, 0, 2354},
	{0x79, NULL, 0, 0, 0, 2355}, {0x73, NULL, 0, 0, 0, 2356},
	{0x3b, "\xe2\x84\xad", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 2358},
	{0x74, NULL, 0, 0, 0, 2359}, {0x65, NULL, 0, 0, 0, 2360},
	{0x3b, "\xc4\x86", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 2362},
	{0x79, NULL, 0, 0, 0, 2363}, {0x3b, "\xd0\xa7", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2365}, {0x3b, "\xe2\x84\xad", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 2367}, {0x74, NULL, 0, 0, 0, 2368},
	{0x3b, "\xc4\x8a", 2, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 2370},
	{0x43, NULL, 0, 2371, 0, 2372}, {0x3b, "\xe2\x8b\x93", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 2373}, {0x70, NULL, 0, 0, 0, 2374},
	{0x3b, "\xe2\x89\x8d", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 2376},
	{0x73, NULL, 0, 2377, 0, 2378}, {0x63, NULL, 0, 0, 0, 2402},
	{0x65, NULL, 0, 0, 0, 2379}, {0x43, NULL, 0, 0, 0, 2380},
	{0x75, NULL, 0, 0, 0, 2381}, {0x72, NULL, 0, 0, 0, 2382},
	{0x6c, NULL, 0, 0, 0, 2383}, {0x79, NULL, 0, 0, 0, 2384},
	{0x51, NULL, 0, 2385, 0, 2386}, {0x44, NULL, 0, 0, 0, 2391},
	{0x75, NULL, 0, 0, 0, 2387}, {0x6f, NULL, 0, 0, 0, 2388},
	{0x74, NULL, 0, 0, 0, 2389}, {0x65, NULL, 0, 0, 0, 2390},
	{0x3b, "\xe2\x80\x99", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 2392},
	{0x75, NULL, 0, 0, 0, 2393}, {0x62, NULL, 0, 0, 0, 2394},
	{0x6c, NULL, 0, 0, 0, 2395}, {0x65, NULL, 0, 0, 0, 2396},
	{0x51, NULL, 0, 0, 0, 2397}, {0x75, NULL, 0, 0, 0, 2398},
	{0x6f, NULL, 0, 0, 0, 2399}, {0x74, NULL, 0, 0, 0, 2400},
	{0x65, NULL, 0, 0, 0, 2401}, {0x3b, "\xe2\x80\x9d", 3, 0, 0, 0},
	{0x6b, NULL, 0, 0, 0, 2403}, {0x77, NULL, 0, 0, 0, 2404},
	{0x69, NULL, 0, 0, 0, 2405}, {0x73, NULL, 0, 0, 0, 2406},
	{0x65, NULL, 0, 0, 0, 2407}, {0x43, NULL, 0, 0, 0, 2408},
	{0x6f, NULL, 0, 0, 0, 2409}, {0x6e, NULL, 0, 0, 0, 2410},
	{0x74, NULL, 0, 0, 0, 2411}, {0x6f, NULL, 0, 0, 0, 2412},
	{0x75, NULL, 0, 0, 0, 2413}, {0x72, NULL, 0, 0, 0, 2414},
	{0x49, NULL, 0, 0, 0, 2415}, {0x6e, NULL, 0, 0, 0, 2416},
	{0x74, NULL, 0, 0, 0, 2417}, {0x65, NULL, 0, 0, 0, 2418},
	{0x67, NULL, 0, 0, 0, 2419}, {0x72, NULL, 0, 0, 0, 2420},
	{0x61, NULL, 0, 0, 0, 2421}, {0x6c, NULL, 0, 0, 0, 2422},
	{0x3b, "\xe2\x88\xb2", 3, 0, 0, 0}, {0x70, NULL, 0, 2425, 2424, 2427},
	{0x75, NULL, 0, 0, 0, 2436}, {0x6e, NULL, 0, 2426, 0, 2465},
	{0x6c, NULL, 0, 0, 0, 2489}, {0x72, NULL, 0, 2428, 0, 2429},
	{0x66, NULL, 0, 0, 0, 2435}, {0x6f, NULL, 0, 0, 0, 2430},
	{0x64, NULL, 0, 0, 0, 2431}, {0x75, NULL, 0, 0, 0, 2432},
	{0x63, NULL, 0, 0, 0, 2433}, {0x74, NULL, 0, 0, 0, 2434},
	{0x3b, "\xe2\x88\x90", 3, 0, 0, 0}, {0x3b, "\xe2\x84\x82", 3, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 2437}, {0x74, NULL, 0, 0, 0, 2438},
	{0x65, NULL, 0, 0, 0, 2439}, {0x72, NULL, 0, 0, 0, 2440},
	{0x43, NULL, 0, 0, 0, 2441}, {0x6c, NULL, 0, 0, 0, 2442},
	{0x6f, NULL, 0, 0, 0, 2443}, {0x63, NULL, 0, 0, 0, 2444},
	{0x6b, NULL, 0, 0, 0, 2445}, {0x77, NULL, 0, 0, 0, 2446},
	{0x69, NULL, 0, 0, 0, 2447}, {0x73, NULL, 0, 0, 0, 2448},
	{0x65, NULL, 0, 0, 0, 2449}, {0x43, NULL, 0, 0, 0, 2450},
	{0x6f, NULL, 0, 0, 0, 2451}, {0x6e, NULL, 0, 0, 0, 2452},
	{0x74, NULL, 0, 0, 0, 2453}, {0x6f, NULL, 0, 0, 0, 2454},
	{0x75, NULL, 0, 0, 0, 2455}, {0x72, NULL, 0, 0, 0, 2456},
	{0x49, NULL, 0, 0, 0, 2457}, {0x6e, NULL, 0, 0, 0, 2458},
	{0x74, NULL, 0, 0, 0, 2459}, {0x65, NULL, 0, 0, 0, 2460},
	{0x67, NULL, 0, 0, 0, 2461}, {0x72, NULL, 0, 0, 0, 2462},
	{0x61, NULL, 0, 0, 0, 2463}, {0x6c, NULL, 0, 0, 0, 2464},
	{0x3b, "\xe2\x88\xb3", 3, 0, 0, 0}, {0x69, NULL, 0, 2467, 2466, 2468},
	{0x74, NULL, 0, 0, 0, 2471}, {0x67, NULL, 0, 0, 0, 2483},
	{0x6e, NULL, 0, 0, 0, 2469}, {0x74, NULL, 0, 0, 0, 2470},
	{0x3b, "\xe2\x88\xaf", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 2472},
	{0x75, NULL, 0, 0, 0, 2473}, {0x72, NULL, 0, 0, 0, 2474},
	{0x49, NULL, 0, 0, 0, 2475}, {0x6e, NULL, 0, 0, 0, 2476},
	{0x74, NULL, 0, 0, 0, 2477}, {0x65, NULL, 0, 0, 0, 2478},
	{0x67, NULL, 0, 0, 0, 2479}, {0x72, NULL, 0, 0, 0, 2480},
	{0x61, NULL, 0, 0, 0, 2481}, {0x6c, NULL, 0, 0, 0, 2482},
	{0x3b, "\xe2\x88\xae", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2484},
	{0x75, NULL, 0, 0, 0, 2485}, {0x65, NULL, 0, 0, 0, 2486},
	{0x6e, NULL, 0, 0, 0, 2487}, {0x74, NULL, 0, 0, 0, 2488},
	{0x3b, "\xe2\x89\xa1", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 2490},
	{0x6e, NULL, 0, 0, 0, 2491}, {0x65, NULL, 0, 2492, 0, 2493},
	{0x3b, "\xe2\x88\xb7", 3, 0, 0, 0}, {0x3b, "\xe2\xa9\xb4", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2495}, {0x63, NULL, 0, 0, 0, 2496},
	{0x6c, NULL, 0, 0, 0, 2497}, {0x65, NULL, 0, 0, 0, 2498},
	{0x50, NULL, 0, 2500, 2499, 2502}, {0x54, NULL, 0, 0, 0, 2506},
	{0x4d, NULL, 0, 2501, 0, 2511}, {0x44, NULL, 0, 0, 0, 2516},
	{0x6c, NULL, 0, 0, 0, 2503}, {0x75, NULL, 0, 0, 0, 2504},
	{0x73, NULL, 0, 0, 0, 2505}, {0x3b, "\xe2\x8a\x95", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 2507}, {0x6d, NULL, 0, 0, 0, 2508},
	{0x65, NULL, 0, 0, 0, 2509}, {0x73, NULL, 0, 0, 0, 2510},
	{0x3b, "\xe2\x8a\x97", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 2512},
	{0x6e, NULL, 0, 0, 0, 2513}, {0x75, NULL, 0, 0, 0, 2514},
	{0x73, NULL, 0, 0, 0, 2515}, {0x3b, "\xe2\x8a\x96", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 2517}, {0x74, NULL, 0, 0, 0, 2518},
	{0x3b, "\xe2\x8a\x99", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 2520},
	{0x72, NULL, 0, 0, 0, 2521}, {0x3b, "\xf0\x9d\x92\x9e", 4, 0, 0, 0},
	{0x6d, NULL, 0, 2524, 2523, 2538}, {0x72, NULL, 0, 2533, 2532, 2542},
	{0x63, NULL, 0, 2526, 2525, 2546}, {0x67, NULL, 0, 2531, 2530, 2552},
	{0x61, NULL, 0, 2528, 2527, 2557}, {0x62, NULL, 0, 0, 0, 2562},
	{0x4d, NULL, 0, 2529, 0, 2567}, {0x45, NULL, 0, 0, 0, 2569},
	{0x6c, NULL, 0, 0, 0, 2573}, {0x66, NULL, 0, 0, 0, 2577},
	{0x74, NULL, 0, 2537, 2536, 2579}, {0x6f, NULL, 0, 2535, 2534, 2584},
	{0x70, NULL, 0, 0, 0, 2591}, {0x6e, NULL, 0, 0, 0, 2603},
	{0x75, NULL, 0, 0, 0, 2605}, {0x73, NULL, 0, 0, 0, 2608},
	{0x61, NULL, 0, 0, 0, 2539}, {0x63, NULL, 0, 0, 0, 2540},
	{0x72, NULL, 0, 0, 0, 2541}, {0x3b, "\xc4\x80", 2, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 2543}, {0x6e, NULL, 0, 0, 0, 2544},
	{0x67, "\xc3\x85", 2, 0, 0, 2545}, {0x3b, "\xc3\x85", 2, 0, 0, 0},
	{0x79, NULL, 0, 2547, 0, 2548}, {0x69, NULL, 0, 0, 0, 2549},
	{0x3b, "\xd0\x90", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2550},
	{0x63, "\xc3\x82", 2, 0, 0, 2551}, {0x3b, "\xc3\x82", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2553}, {0x61, NULL, 0, 0, 0, 2554},
	{0x76, NULL, 0, 0, 0, 2555}, {0x65, "\xc3\x80", 2, 0, 0, 2556},
	{0x3b, "\xc3\x80", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 2558},
	{0x75, NULL, 0, 0, 0, 2559}, {0x74, NULL, 0, 0, 0, 2560},
	{0x65, "\xc3\x81", 2, 0, 0, 2561}, {0x3b, "\xc3\x81", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2563}, {0x65, NULL, 0, 0, 0, 2564},
	{0x76, NULL, 0, 0, 0, 2565}, {0x65, NULL, 0, 0, 0, 2566},
	{0x3b, "\xc4\x82", 2, 0, 0, 0}, {0x50, "\x26", 1, 0, 0, 2568},
	{0x3b, "\x26", 1, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 2570},
	{0x69, NULL, 0, 0, 0, 2571}, {0x67, "\xc3\x86", 2, 0, 0, 2572},
	{0x3b, "\xc3\x86", 2, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 2574},
	{0x68, NULL, 0, 0, 0, 2575}, {0x61, NULL, 0, 0, 0, 2576},
	{0x3b, "\xce\x91", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2578},
	{0x3b, "\xf0\x9d\x94\x84", 4, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 2580},
	{0x6c, NULL, 0, 0, 0, 2581}, {0x64, NULL, 0, 0, 0, 2582},
	{0x65, "\xc3\x83", 2, 0, 0, 2583}, {0x3b, "\xc3\x83", 2, 0, 0, 0},
	{0x70, NULL, 0, 2585, 0, 2586}, {0x67, NULL, 0, 0, 0, 2588},
	{0x66, NULL, 0, 0, 0, 2587}, {0x3b, "\xf0\x9d\x94\xb8", 4, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 2589}, {0x6e, NULL, 0, 0, 0, 2590},
	{0x3b, "\xc4\x84", 2, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 2592},
	{0x6c, NULL, 0, 0, 0, 2593}, {0x79, NULL, 0, 0, 0, 2594},
	{0x46, NULL, 0, 0, 0, 2595}, {0x75, NULL, 0, 0, 0, 2596},
	{0x6e, NULL, 0, 0, 0, 2597}, {0x63, NULL, 0, 0, 0, 2598},
	{0x74, NULL, 0, 0, 0, 2599}, {0x69, NULL, 0, 0, 0, 2600},
	{0x6f, NULL, 0, 0, 0, 2601}, {0x6e, NULL, 0, 0, 0, 2602},
	{0x3b, "\xe2\x81\xa1", 3, 0, 0, 0}, {0x64, NULL, 0, 0, 0, 2604},
	{0x3b, "\xe2\xa9\x93", 3, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 2606},
	{0x6c, "\xc3\x84", 2, 0, 0, 2607}, {0x3b, "\xc3\x84", 2, 0, 0, 0},
	{0x73, NULL, 0, 2609, 0, 2610}, {0x63, NULL, 0, 0, 0, 2614},
	{0x69, NULL, 0, 0, 0, 2611}, {0x67, NULL, 0, 0, 0, 2612},
	{0x6e, NULL, 0, 0, 0, 2613}, {0x3b, "\xe2\x89\x94", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2615}, {0x3b, "\xf0\x9d\x92\x9c", 4, 0, 0, 0},
	{0x6d, NULL, 0, 2618, 2617, 2632}, {0x73, NULL, 0, 2627, 2626, 2667},
	{0x64, NULL, 0, 2620, 2619, 2673}, {0x67, NULL, 0, 2625, 2624, 2676},
	{0x61, NULL, 0, 2622, 2621, 2681}, {0x63, NULL, 0, 0, 0, 2686},
	{0x54, NULL, 0, 2623, 0, 2697}, {0x4e, NULL, 0, 0, 0, 2699},
	{0x6c, NULL, 0, 0, 0, 2701}, {0x66, NULL, 0, 0, 0, 2707},
	{0x75, NULL, 0, 2631, 2630, 2709}, {0x70, NULL, 0, 2629, 2628, 2712},
	{0x71, NULL, 0, 0, 0, 2718}, {0x6f, NULL, 0, 0, 0, 2737},
	{0x78, NULL, 0, 0, 0, 2744}, {0x74, NULL, 0, 0, 0, 2760},
	{0x70, NULL, 0, 2633, 0, 2634}, {0x61, NULL, 0, 0, 0, 2664},
	{0x74, NULL, 0, 0, 0, 2635}, {0x79, NULL, 0, 0, 0, 2636},
	{0x56, NULL, 0, 2637, 0, 2638}, {0x53, NULL, 0, 0, 0, 2653},
	{0x65, NULL, 0, 0, 0, 2639}, {0x72, NULL, 0, 0, 0, 2640},
	{0x79, NULL, 0, 0, 0, 2641}, {0x53, NULL, 0, 0, 0, 2642},
	{0x6d, NULL, 0, 0, 0, 2643}, {0x61, NULL, 0, 0, 0, 2644},
	{0x6c, NULL, 0, 0, 0, 2645}, {0x6c, NULL, 0, 0, 0, 2646},
	{0x53, NULL, 0, 0, 0, 2647}, {0x71, NULL, 0, 0, 0, 2648},
	{0x75, NULL, 0, 0, 0, 2649}, {0x61, NULL, 0, 0, 0, 2650},
	{0x72, NULL, 0, 0, 0, 2651}, {0x65, NULL, 0, 0, 0, 2652},
	{0x3b, "\xe2\x96\xab", 3, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 2654},
	{0x61, NULL, 0, 0, 0, 2655}, {0x6c, NULL, 0, 0, 0, 2656},
	{0x6c, NULL, 0, 0, 0, 2657}, {0x53, NULL, 0, 0, 0, 2658},
	{0x71, NULL, 0, 0, 0, 2659}, {0x75, NULL, 0, 0, 0, 2660},
	{0x61, NULL, 0, 0, 0, 2661}, {0x72, NULL, 0, 0, 0, 2662},
	{0x65, NULL, 0, 0, 0, 2663}, {0x3b, "\xe2\x97\xbb", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 2665}, {0x72, NULL, 0, 0, 0, 2666},
	{0x3b, "\xc4\x92", 2, 0, 0, 0}, {0x69, NULL, 0, 2668, 0, 2669},
	{0x63, NULL, 0, 0, 0, 2671}, {0x6d, NULL, 0, 0, 0, 2670},
	{0x3b, "\xe2\xa9\xb3", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2672},
	{0x3b, "\xe2\x84\xb0", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 2674},
	{0x74, NULL, 0, 0, 0, 2675}, {0x3b, "\xc4\x96", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2677}, {0x61, NULL, 0, 0, 0, 2678},
	{0x76, NULL, 0, 0, 0, 2679}, {0x65, "\xc3\x88", 2, 0, 0, 2680},
	{0x3b, "\xc3\x88", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 2682},
	{0x75, NULL, 0, 0, 0, 2683}, {0x74, NULL, 0, 0, 0, 2684},
	{0x65, "\xc3\x89", 2, 0, 0, 2685}, {0x3b, "\xc3\x89", 2, 0, 0, 0},
	{0x69, NULL, 0, 2688, 2687, 2689}, {0x79, NULL, 0, 0, 0, 2692},
	{0x61, NULL, 0, 0, 0, 2693}, {0x72, NULL, 0, 0, 0, 2690},
	{0x63, "\xc3\x8a", 2, 0, 0, 2691}, {0x3b, "\xc3\x8a", 2, 0, 0, 0},
	{0x3b, "\xd0\xad", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2694},
	{0x6f, NULL, 0, 0, 0, 2695}, {0x6e, NULL, 0, 0, 0, 2696},
	{0x3b, "\xc4\x9a", 2, 0, 0, 0}, {0x48, "\xc3\x90", 2, 0, 0, 2698},
	{0x3b, "\xc3\x90", 2, 0, 0, 0}, {0x47, NULL, 0, 0, 0, 2700},
	{0x3b, "\xc5\x8a", 2, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 2702},
	{0x6d, NULL, 0, 0, 0, 2703}, {0x65, NULL, 0, 0, 0, 2704},
	{0x6e, NULL, 0, 0, 0, 2705}, {0x74, NULL, 0, 0, 0, 2706},
	{0x3b, "\xe2\x88\x88", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2708},
	{0x3b, "\xf0\x9d\x94\x88", 4, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 2710},
	{0x6c, "\xc3\x8b", 2, 0, 0, 2711}, {0x3b, "\xc3\x8b", 2, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 2713}, {0x69, NULL, 0, 0, 0, 2714},
	{0x6c, NULL, 0, 0, 0, 2715}, {0x6f, NULL, 0, 0, 0, 2716},
	{0x6e, NULL, 0, 0, 0, 2717}, {0x3b, "\xce\x95", 2, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 2719}, {0x69, NULL, 0, 2720, 0, 2721},
	{0x61, NULL, 0, 0, 0, 2729}, {0x6c, NULL, 0, 0, 0, 2722},
	{0x69, NULL, 0, 0, 0, 2723}, {0x62, NULL, 0, 0, 0, 2724},
	{0x72, NULL, 0, 0, 0, 2725}, {0x69, NULL, 0, 0, 0, 2726},
	{0x75, NULL, 0, 0, 0, 2727}, {0x6d, NULL, 0, 0, 0, 2728},
	{0x3b, "\xe2\x87\x8c", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 2730},
	{0x54, NULL, 0, 2731, 0, 2732}, {0x3b, "\xe2\xa9\xb5", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 2733}, {0x6c, NULL, 0, 0, 0, 2734},
	{0x64, NULL, 0, 0, 0, 2735}, {0x65, NULL, 0, 0, 0, 2736},
	{0x3b, "\xe2\x89\x82", 3, 0, 0, 0}, {0x70, NULL, 0, 2738, 0, 2739},
	{0x67, NULL, 0, 0, 0, 2741}, {0x66, NULL, 0, 0, 0, 2740},
	{0x3b, "\xf0\x9d\x94\xbc", 4, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 2742},
	{0x6e, NULL, 0, 0, 0, 2743}, {0x3b, "\xc4\x98", 2, 0, 0, 0},
	{0x70, NULL, 0, 2745, 0, 2746}, {0x69, NULL, 0, 0, 0, 2756},
	{0x6f, NULL, 0, 0, 0, 2747}, {0x6e, NULL, 0, 0, 0, 2748},
	{0x65, NULL, 0, 0, 0, 2749}, {0x6e, NULL, 0, 0, 0, 2750},
	{0x74, NULL, 0, 0, 0, 2751}, {0x69, NULL, 0, 0, 0, 2752},
	{0x61, NULL, 0, 0, 0, 2753}, {0x6c, NULL, 0, 0, 0, 2754},
	{0x45, NULL, 0, 0, 0, 2755}, {0x3b, "\xe2\x85\x87", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 2757}, {0x74, NULL, 0, 0, 0, 2758},
	{0x73, NULL, 0, 0, 0, 2759}, {0x3b, "\xe2\x88\x83", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 2761}, {0x3b, "\xce\x97", 2, 0, 0, 0},
	{0x69, NULL, 0, 2764, 2763, 2770}, {0x73, NULL, 0, 2769, 2768, 2778},
	{0x65, NULL, 0, 2766, 2765, 2781}, {0x66, NULL, 0, 0, 0, 2799},
	{0x63, NULL, 0, 2767, 0, 2801}, {0x61, NULL, 0, 0, 0, 2803},
	{0x75, NULL, 0, 0, 0, 2805}, {0x6f, NULL, 0, 0, 0, 2806},
	{0x6e, NULL, 0, 0, 0, 2771}, {0x75, NULL, 0, 0, 0, 2772},
	{0x73, NULL, 0, 0, 0, 2773}, {0x50, NULL, 0, 0, 0, 2774},
	{0x6c, NULL, 0, 0, 0, 2775}, {0x75, NULL, 0, 0, 0, 2776},
	{0x73, NULL, 0, 0, 0, 2777}, {0x3b, "\xe2\x88\x93", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 2779}, {0x72, NULL, 0, 0, 0, 2780},
	{0x3b, "\xe2\x84\xb3", 3, 0, 0, 0}, {0x6c, NULL, 0, 2782, 0, 2783},
	{0x64, NULL, 0, 0, 0, 2790}, {0x6c, NULL, 0, 0, 0, 2784},
	{0x69, NULL, 0, 0, 0, 2785}, {0x6e, NULL, 0, 0, 0, 2786},
	{0x74, NULL, 0, 0, 0, 2787}, {0x72, NULL, 0, 0, 0, 2788},
	{0x66, NULL, 0, 0, 0, 2789}, {0x3b, "\xe2\x84\xb3", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 2791}, {0x75, NULL, 0, 0, 0, 2792},
	{0x6d, NULL, 0, 0, 0, 2793}, {0x53, NULL, 0, 0, 0, 2794},
	{0x70, NULL, 0, 0, 0, 2795}, {0x61, NULL, 0, 0, 0, 2796},
	{0x63, NULL, 0, 0, 0, 2797}, {0x65, NULL, 0, 0, 0, 2798},
	{0x3b, "\xe2\x81\x9f", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2800},
	{0x3b, "\xf0\x9d\x94\x90", 4, 0, 0, 0}, {0x79, NULL, 0, 0, 0, 2802},
	{0x3b, "\xd0\x9c", 2, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 2804},
	{0x3b, "\xe2\xa4\x85", 3, 0, 0, 0}, {0x3b, "\xce\x9c", 2, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 2807}, {0x66, NULL, 0, 0, 0, 2808},
	{0x3b, "\xf0\x9d\x95\x84", 4, 0, 0, 0}, {0x67, NULL, 0, 2811, 2810, 2823},
	{0x73, NULL, 0, 2819, 2818, 2828}, {0x61, NULL, 0, 2813, 2812, 2831},
	{0x64, NULL, 0, 2817, 2816, 2836}, {0x4a, NULL, 0, 2815, 2814, 2839},
	{0x4f, NULL, 0, 0, 0, 2843}, {0x45, NULL, 0, 0, 0, 2846},
	{0x66, NULL, 0, 0, 0, 2849}, {0x63, NULL, 0, 0, 0, 2851},
	{0x75, NULL, 0, 2822, 0, 2857}, {0x6e, NULL, 0, 2821, 2820, 2864},
	{0x6f, NULL, 0, 0, 0, 2900}, {0x6d, NULL, 0, 0, 0, 2910},
	{0x74, NULL, 0, 0, 0, 2929}, {0x72, NULL, 0, 0, 0, 2824},
	{0x61, NULL, 0, 0, 0, 2825}, {0x76, NULL, 0, 0, 0, 2826},
	{0x65, "\xc3\x8c", 2, 0, 0, 2827}, {0x3b, "\xc3\x8c", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 2829}, {0x72, NULL, 0, 0, 0, 2830},
	{0x3b, "\xe2\x84\x90", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 2832},
	{0x75, NULL, 0, 0, 0, 2833}, {0x74, NULL, 0, 0, 0, 2834},
	{0x65, "\xc3\x8d", 2, 0, 0, 2835}, {0x3b, "\xc3\x8d", 2, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 2837}, {0x74, NULL, 0, 0, 0, 2838},
	{0x3b, "\xc4\xb0", 2, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 2840},
	{0x69, NULL, 0, 0, 0, 2841}, {0x67, NULL, 0, 0, 0, 2842},
	{0x3b, "\xc4\xb2", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 2844},
	{0x79, NULL, 0, 0, 0, 2845}, {0x3b, "\xd0\x81", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 2847}, {0x79, NULL, 0, 0, 0, 2848},
	{0x3b, "\xd0\x95", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2850},
	{0x3b, "\xe2\x84\x91", 3, 0, 0, 0}, {0x79, NULL, 0, 2852, 0, 2853},
	{0x69, NULL, 0, 0, 0, 2854}, {0x3b, "\xd0\x98", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2855}, {0x63, "\xc3\x8e", 2, 0, 0, 2856},
	{0x3b, "\xc3\x8e", 2, 0, 0, 0}, {0x6d, NULL, 0, 2858, 0, 2859},
	{0x6b, NULL, 0, 0, 0, 2861}, {0x6c, "\xc3\x8f", 2, 0, 0, 2860},
	{0x3b, "\xc3\x8f", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 2862},
	{0x79, NULL, 0, 0, 0, 2863}, {0x3b, "\xd0\x86", 2, 0, 0, 0},
	{0x76, NULL, 0, 2865, 0, 2866}, {0x74, NULL, 0, 0, 0, 2884},
	{0x69, NULL, 0, 0, 0, 2867}, {0x73, NULL, 0, 0, 0, 2868},
	{0x69, NULL, 0, 0, 0, 2869}, {0x62, NULL, 0, 0, 0, 2870},
	{0x6c, NULL, 0, 0, 0, 2871}, {0x65, NULL, 0, 0, 0, 2872},
	{0x54, NULL, 0, 2873, 0, 2874}, {0x43, NULL, 0, 0, 0, 2879},
	{0x69, NULL, 0, 0, 0, 2875}, {0x6d, NULL, 0, 0, 0, 2876},
	{0x65, NULL, 0, 0, 0, 2877}, {0x73, NULL, 0, 0, 0, 2878},
	{0x3b, "\xe2\x81\xa2", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 2880},
	{0x6d, NULL, 0, 0, 0, 2881}, {0x6d, NULL, 0, 0, 0, 2882},
	{0x61, NULL, 0, 0, 0, 2883}, {0x3b, "\xe2\x81\xa3", 3, 0, 0, 0},
	{0x65, NULL, 0, 2885, 0, 2886}, {0x3b, "\xe2\x88\xac", 3, 0, 0, 0},
	{0x72, NULL, 0, 2887, 0, 2888}, {0x67, NULL, 0, 0, 0, 2896},
	{0x73, NULL, 0, 0, 0, 2889}, {0x65, NULL, 0, 0, 0, 2890},
	{0x63, NULL, 0, 0, 0, 2891}, {0x74, NULL, 0, 0, 0, 2892},
	{0x69, NULL, 0, 0, 0, 2893}, {0x6f, NULL, 0, 0, 0, 2894},
	{0x6e, NULL, 0, 0, 0, 2895}, {0x3b, "\xe2\x8b\x82", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2897}, {0x61, NULL, 0, 0, 0, 2898},
	{0x6c, NULL, 0, 0, 0, 2899}, {0x3b, "\xe2\x88\xab", 3, 0, 0, 0},
	{0x70, NULL, 0, 2902, 2901, 2903}, {0x74, NULL, 0, 0, 0, 2905},
	{0x67, NULL, 0, 0, 0, 2907}, {0x66, NULL, 0, 0, 0, 2904},
	{0x3b, "\xf0\x9d\x95\x80", 4, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 2906},
	{0x3b, "\xce\x99", 2, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 2908},
	{0x6e, NULL, 0, 0, 0, 2909}, {0x3b, "\xc4\xae", 2, 0, 0, 0},
	{0x61, NULL, 0, 2912, 2911, 2913}, {0x70, NULL, 0, 0, 0, 2924},
	{0x3b, "\xe2\x84\x91", 3, 0, 0, 0}, {0x67, NULL, 0, 2914, 0, 2915},
	{0x63, NULL, 0, 0, 0, 2922}, {0x69, NULL, 0, 0, 0, 2916},
	{0x6e, NULL, 0, 0, 0, 2917}, {0x61, NULL, 0, 0, 0, 2918},
	{0x72, NULL, 0, 0, 0, 2919}, {0x79, NULL, 0, 0, 0, 2920},
	{0x49, NULL, 0, 0, 0, 2921}, {0x3b, "\xe2\x85\x88", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2923}, {0x3b, "\xc4\xaa", 2, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 2925}, {0x69, NULL, 0, 0, 0, 2926},
	{0x65, NULL, 0, 0, 0, 2927}, {0x73, NULL, 0, 0, 0, 2928},
	{0x3b, "\xe2\x87\x92", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 2930},
	{0x6c, NULL, 0, 0, 0, 2931}, {0x64, NULL, 0, 0, 0, 2932},
	{0x65, NULL, 0, 0, 0, 2933}, {0x3b, "\xc4\xa8", 2, 0, 0, 0},
	{0x6f, NULL, 0, 2936, 2935, 2939}, {0x75, NULL, 0, 2938, 0, 2942},
	{0x66, NULL, 0, 2937, 0, 2946}, {0x63, NULL, 0, 0, 0, 2948},
	{0x73, NULL, 0, 0, 0, 2954}, {0x70, NULL, 0, 0, 0, 2940},
	{0x66, NULL, 0, 0, 0, 2941}, {0x3b, "\xf0\x9d\x95\x81", 4, 0, 0, 0},
	{0x6b, NULL, 0, 0, 0, 2943}, {0x63, NULL, 0, 0, 0, 2944},
	{0x79, NULL, 0, 0, 0, 2945}, {0x3b, "\xd0\x84", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2947}, {0x3b, "\xf0\x9d\x94\x8d", 4, 0, 0, 0},
	{0x79, NULL, 0, 2949, 0, 2950}, {0x69, NULL, 0, 0, 0, 2951},
	{0x3b, "\xd0\x99", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2952},
	{0x63, NULL, 0, 0, 0, 2953}, {0x3b, "\xc4\xb4", 2, 0, 0, 0},
	{0x65, NULL, 0, 2955, 0, 2956}, {0x63, NULL, 0, 0, 0, 2960},
	{0x72, NULL, 0, 0, 0, 2957}, {0x63, NULL, 0, 0, 0, 2958},
	{0x79, NULL, 0, 0, 0, 2959}, {0x3b, "\xd0\x88", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 2961}, {0x3b, "\xf0\x9d\x92\xa5", 4, 0, 0, 0},
	{0x69, NULL, 0, 2964, 2963, 2970}, {0x73, NULL, 0, 2969, 2968, 2981},
	{0x63, NULL, 0, 2966, 2965, 2989}, {0x66, NULL, 0, 0, 0, 2993},
	{0x61, NULL, 0, 2967, 0, 2995}, {0x41, NULL, 0, 0, 0, 3001},
	{0x75, NULL, 0, 0, 0, 3006}, {0x6f, NULL, 0, 0, 0, 3023},
	{0x6c, NULL, 0, 0, 0, 2971}, {0x62, NULL, 0, 0, 0, 2972},
	{0x65, NULL, 0, 0, 0, 2973}, {0x72, NULL, 0, 0, 0, 2974},
	{0x74, NULL, 0, 0, 0, 2975}, {0x53, NULL, 0, 0, 0, 2976},
	{0x70, NULL, 0, 0, 0, 2977}, {0x61, NULL, 0, 0, 0, 2978},
	{0x63, NULL, 0, 0, 0, 2979}, {0x65, NULL, 0, 0, 0, 2980},
	{0x3b, "\xe2\x84\x8b", 3, 0, 0, 0}, {0x74, NULL, 0, 2982, 0, 2983},
	{0x63, NULL, 0, 0, 0, 2987}, {0x72, NULL, 0, 0, 0, 2984},
	{0x6f, NULL, 0, 0, 0, 2985}, {0x6b, NULL, 0, 0, 0, 2986},
	{0x3b, "\xc4\xa6", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2988},
	{0x3b, "\xe2\x84\x8b", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 2990},
	{0x72, NULL, 0, 0, 0, 2991}, {0x63, NULL, 0, 0, 0, 2992},
	{0x3b, "\xc4\xa4", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 2994},
	{0x3b, "\xe2\x84\x8c", 3, 0, 0, 0}, {0x74, NULL, 0, 2996, 0, 2997},
	{0x63, NULL, 0, 0, 0, 2998}, {0x3b, "\x5e", 1, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 2999}, {0x6b, NULL, 0, 0, 0, 3000},
	{0x3b, "\xcb\x87", 2, 0, 0, 0}, {0x52, NULL, 0, 0, 0, 3002},
	{0x44, NULL, 0, 0, 0, 3003}, {0x63, NULL, 0, 0, 0, 3004},
	{0x79, NULL, 0, 0, 0, 3005}, {0x3b, "\xd0\xaa", 2, 0, 0, 0},
	{0x6d, NULL, 0, 0, 0, 3007}, {0x70, NULL, 0, 0, 0, 3008},
	{0x45, NULL, 0, 3009, 0, 3010}, {0x44, NULL, 0, 0, 0, 3015},
	{0x71, NULL, 0, 0, 0, 3011}, {0x75, NULL, 0, 0, 0, 3012},
	{0x61, NULL, 0, 0, 0, 3013}, {0x6c, NULL, 0, 0, 0, 3014},
	{0x3b, "\xe2\x89\x8f", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 3016},
	{0x77, NULL, 0, 0, 0, 3017}, {0x6e, NULL, 0, 0, 0, 3018},
	{0x48, NULL, 0, 0, 0, 3019}, {0x75, NULL, 0, 0, 0, 3020},
	{0x6d, NULL, 0, 0, 0, 3021}, {0x70, NULL, 0, 0, 0, 3022},
	{0x3b, "\xe2\x89\x8e", 3, 0, 0, 0}, {0x72, NULL, 0, 3024, 0, 3025},
	{0x70, NULL, 0, 0, 0, 3037}, {0x69, NULL, 0, 0, 0, 3026},
	{0x7a, NULL, 0, 0, 0, 3027}, {0x6f, NULL, 0, 0, 0, 3028},
	{0x6e, NULL, 0, 0, 0, 3029}, {0x74, NULL, 0, 0, 0, 3030},
	{0x61, NULL, 0, 0, 0, 3031}, {0x6c, NULL, 0, 0, 0, 3032},
	{0x4c, NULL, 0, 0, 0, 3033}, {0x69, NULL, 0, 0, 0, 3034},
	{0x6e, NULL, 0, 0, 0, 3035}, {0x65, NULL, 0, 0, 0, 3036},
	{0x3b, "\xe2\x94\x80", 3, 0, 0, 0}, {0x66, NULL, 0, 0, 0, 3038},
	{0x3b, "\xe2\x84\x8d", 3, 0, 0, 0}, {0x66, NULL, 0, 3041, 3040, 3050},
	{0x6f, NULL, 0, 3047, 3046, 3052}, {0x61, NULL, 0, 3043, 3042, 3145},
	{0x65, NULL, 0, 3045, 0, 3170}, {0x54, "\x3c", 1, 3044, 0, 3426},
	{0x4a, NULL, 0, 0, 0, 3427}, {0x63, NULL, 0, 0, 0, 3430},
	{0x74, NULL, 0, 3049, 0, 3442}, {0x6d, NULL, 0, 3048, 0, 3443},
	{0x6c, NULL, 0, 0, 0, 3448}, {0x73, NULL, 0, 0, 0, 3458},
	{0x72, NULL, 0, 0, 0, 3051}, {0x3b, "\xf0\x9d\x94\x8f", 4, 0, 0, 0},
	{0x70, NULL, 0, 3054, 3053, 3055}, {0x77, NULL, 0, 0, 0, 3057},
	{0x6e, NULL, 0, 0, 0, 3080}, {0x66, NULL, 0, 0, 0, 3056},
	{0x3b, "\xf0\x9d\x95\x83", 4, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 3058},
	{0x72, NULL, 0, 0, 0, 3059}, {0x52, NULL, 0, 3060, 0, 3061},
	{0x4c, NULL, 0, 0, 0, 3071}, {0x69, NULL, 0, 0, 0, 3062},
	{0x67, NULL, 0, 0, 0, 3063}, {0x68, NULL, 0, 0, 0, 3064},
	{0x74, NULL, 0, 0, 0, 3065}, {0x41, NULL, 0, 0, 0, 3066},
	{0x72, NULL, 0, 0, 0, 3067}, {0x72, NULL, 0, 0, 0, 3068},
	{0x6f, NULL, 0, 0, 0, 3069}, {0x77, NULL, 0, 0, 0, 3070},
	{0x3b, "\xe2\x86\x98", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 3072},
	{0x66, NULL, 0, 0, 0, 3073}, {0x74, NULL, 0, 0, 0, 3074},
	{0x41, NULL, 0, 0, 0, 3075}, {0x72, NULL, 0, 0, 0, 3076},
	{0x72, NULL, 0, 0, 0, 3077}, {0x6f, NULL, 0, 0, 0, 3078},
	{0x77, NULL, 0, 0, 0, 3079}, {0x3b, "\xe2\x86\x99", 3, 0, 0, 0},
	{0x67, NULL, 0, 0, 0, 3081}, {0x6c, NULL, 0, 3083, 3082, 3085},
	{0x72, NULL, 0, 0, 0, 3105}, {0x52, NULL, 0, 3084, 0, 3115},
	{0x4c, NULL, 0, 0, 0, 3125}, {0x65, NULL, 0, 0, 0, 3086},
	{0x66, NULL, 0, 0, 0, 3087}, {0x74, NULL, 0, 0, 0, 3088},
	{0x72, NULL, 0, 3089, 0, 3090}, {0x61, NULL, 0, 0, 0, 3100},
	{0x69, NULL, 0, 0, 0, 3091}, {0x67, NULL, 0, 0, 0, 3092},
	{0x68, NULL, 0, 0, 0, 3093}, {0x74, NULL, 0, 0, 0, 3094},
	{0x61, NULL, 0, 0, 0, 3095}, {0x72, NULL, 0, 0, 0, 3096},
	{0x72, NULL, 0, 0, 0, 3097}, {0x6f, NULL, 0, 0, 0, 3098},
	{0x77, NULL, 0, 0, 0, 3099}, {0x3b, "\xe2\x9f\xba", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 3101}, {0x72, NULL, 0, 0, 0, 3102},
	{0x6f, NULL, 0, 0, 0, 3103}, {0x77, NULL, 0, 0, 0, 3104},
	{0x3b, "\xe2\x9f\xb8", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 3106},
	{0x67, NULL, 0, 0, 0, 3107}, {0x68, NULL, 0, 0, 0, 3108},
	{0x74, NULL, 0, 0, 0, 3109}, {0x61, NULL, 0, 0, 0, 3110},
	{0x72, NULL, 0, 0, 0, 3111}, {0x72, NULL, 0, 0, 0, 3112},
	{0x6f, NULL, 0, 0, 0, 3113}, {0x77, NULL, 0, 0, 0, 3114},
	{0x3b, "\xe2\x9f\xb9", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 3116},
	{0x67, NULL, 0, 0, 0, 3117}, {0x68, NULL, 0, 0, 0, 3118},
	{0x74, NULL, 0, 0, 0, 3119}, {0x41, NULL, 0, 0, 0, 3120},
	{0x72, NULL, 0, 0, 0, 3121}, {0x72, NULL, 0, 0, 0, 3122},
	{0x6f, NULL, 0, 0, 0, 3123}, {0x77, NULL, 0, 0, 0, 3124},
	{0x3b, "\xe2\x9f\xb6", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 3126},
	{0x66, NULL, 0, 0, 0, 3127}, {0x74, NULL, 0, 0, 0, 3128},
	{0x52, NULL, 0, 3129, 0, 3130}, {0x41, NULL, 0, 0, 0, 3140},
	{0x69, NULL, 0, 0, 0, 3131}, {0x67, NULL, 0, 0, 0, 3132},
	{0x68, NULL, 0, 0, 0, 3133}, {0x74, NULL, 0, 0, 0, 3134},
	{0x41, NULL, 0, 0, 0, 3135}, {0x72, NULL, 0, 0, 0, 3136},
	{0x72, NULL, 0, 0, 0, 3137}, {0x6f, NULL, 0, 0, 0, 3138},
	{0x77, NULL, 0, 0, 0, 3139}, {0x3b, "\xe2\x9f\xb7", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 3141}, {0x72, NULL, 0, 0, 0, 3142},
	{0x6f, NULL, 0, 0, 0, 3143}, {0x77, NULL, 0, 0, 0, 3144},
	{0x3b, "\xe2\x9f\xb5", 3, 0, 0, 0}, {0x6e, NULL, 0, 3147, 3146, 3150},
	{0x72, NULL, 0, 3149, 0, 3152}, {0x6d, NULL, 0, 3148, 0, 3154},
	{0x63, NULL, 0, 0, 0, 3158}, {0x70, NULL, 0, 0, 0, 3162},
	{0x67, NULL, 0, 0, 0, 3151}, {0x3b, "\xe2\x9f\xaa", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 3153}, {0x3b, "\xe2\x86\x9e", 3, 0, 0, 0},
	{0x62, NULL, 0, 0, 0, 3155}, {0x64, NULL, 0, 0, 0, 3156},
	{0x61, NULL, 0, 0, 0, 3157}, {0x3b, "\xce\x9b", 2, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 3159}, {0x74, NULL, 0, 0, 0, 3160},
	{0x65, NULL, 0, 0, 0, 3161}, {0x3b, "\xc4\xb9", 2, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 3163}, {0x61, NULL, 0, 0, 0, 3164},
	{0x63, NULL, 0, 0, 0, 3165}, {0x65, NULL, 0, 0, 0, 3166},
	{0x74, NULL, 0, 0, 0, 3167}, {0x72, NULL, 0, 0, 0, 3168},
	{0x66, NULL, 0, 0, 0, 3169}, {0x3b, "\xe2\x84\x92", 3, 0, 0, 0},
	{0x73, NULL, 0, 3171, 0, 3172}, {0x66, NULL, 0, 0, 0, 3226},
	{0x73, NULL, 0, 0, 0, 3173}, {0x4c, NULL, 0, 3175, 3174, 3179},
	{0x54, NULL, 0, 3178, 0, 3183}, {0x46, NULL, 0, 3177, 3176, 3188},
	{0x47, NULL, 0, 0, 0, 3197}, {0x45, NULL, 0, 0, 0, 3204},
	{0x53, NULL, 0, 0, 0, 3216}, {0x65, NULL, 0, 0, 0, 3180},
	{0x73, NULL, 0, 0, 0, 3181}, {0x73, NULL, 0, 0, 0, 3182},
	{0x3b, "\xe2\xaa\xa1", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 3184},
	{0x6c, NULL, 0, 0, 0, 3185}, {0x64, NULL, 0, 0, 0, 3186},
	{0x65, NULL, 0, 0, 0, 3187}, {0x3b, "\xe2\x89\xb2", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 3189}, {0x6c, NULL, 0, 0, 0, 3190},
	{0x6c, NULL, 0, 0, 0, 3191}, {0x45, NULL, 0, 0, 0, 3192},
	{0x71, NULL, 0, 0, 0, 3193}, {0x75, NULL, 0, 0, 0, 3194},
	{0x61, NULL, 0, 0, 0, 3195}, {0x6c, NULL, 0, 0, 0, 3196},
	{0x3b, "\xe2\x89\xa6", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 3198},
	{0x65, NULL, 0, 0, 0, 3199}, {0x61, NULL, 0, 0, 0, 3200},
	{0x74, NULL, 0, 0, 0, 3201}, {0x65, NULL, 0, 0, 0, 3202},
	{0x72, NULL, 0, 0, 0, 3203}, {0x3b, "\xe2\x89\xb6", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 3205}, {0x75, NULL, 0, 0, 0, 3206},
	{0x61, NULL, 0, 0, 0, 3207}, {0x6c, NULL, 0, 0, 0, 3208},
	{0x47, NULL, 0, 0, 0, 3209}, {0x72, NULL, 0, 0, 0, 3210},
	{0x65, NULL, 0, 0, 0, 3211}, {0x61, NULL, 0, 0, 0, 3212},
	{0x74, NULL, 0, 0, 0, 3213}, {0x65, NULL, 0, 0, 0, 3214},
	{0x72, NULL, 0, 0, 0, 3215}, {0x3b, "\xe2\x8b\x9a", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 3217}, {0x61, NULL, 0, 0, 0, 3218},
	{0x6e, NULL, 0, 0, 0, 3219}, {0x74, NULL, 0, 0, 0, 3220},
	{0x45, NULL, 0, 0, 0, 3221}, {0x71, NULL, 0, 0, 0, 3222},
	{0x75, NULL, 0, 0, 0, 3223}, {0x61, NULL, 0, 0, 0, 3224},
	{0x6c, NULL, 0, 0, 0, 3225}, {0x3b, "\xe2\xa9\xbd", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 3227}, {0x54, NULL, 0, 3229, 3228, 3237},
	{0x61, NULL, 0, 3235, 3234, 3271}, {0x44, NULL, 0, 3231, 3230, 3276},
	{0x52, NULL, 0, 3233, 0, 3312}, {0x43, NULL, 0, 3232, 0, 3329},
	{0x41, NULL, 0, 0, 0, 3336}, {0x46, NULL, 0, 0, 0, 3368},
	{0x72, NULL, 0, 0, 0, 3373}, {0x56, NULL, 0, 3236, 0, 3383},
	{0x55, NULL, 0, 0, 0, 3393}, {0x72, NULL, 0, 3238, 0, 3239},
	{0x65, NULL, 0, 0, 0, 3256}, {0x69, NULL, 0, 0, 0, 3240},
	{0x61, NULL, 0, 0, 0, 3241}, {0x6e, NULL, 0, 0, 0, 3242},
	{0x67, NULL, 0, 0, 0, 3243}, {0x6c, NULL, 0, 0, 0, 3244},
	{0x65, NULL, 0, 0, 0, 3245}, {0x42, NULL, 0, 3247, 3246, 3248},
	{0x45, NULL, 0, 0, 0, 3251}, {0x3b, "\xe2\x8a\xb2", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 3249}, {0x72, NULL, 0, 0, 0, 3250},
	{0x3b, "\xe2\xa7\x8f", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 3252},
	{0x75, NULL, 0, 0, 0, 3253}, {0x61, NULL, 0, 0, 0, 3254},
	{0x6c, NULL, 0, 0, 0, 3255}, {0x3b, "\xe2\x8a\xb4", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 3257}, {0x41, NULL, 0, 3259, 3258, 3260},
	{0x56, NULL, 0, 0, 0, 3265}, {0x3b, "\xe2\x8a\xa3", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 3261}, {0x72, NULL, 0, 0, 0, 3262},
	{0x6f, NULL, 0, 0, 0, 3263}, {0x77, NULL, 0, 0, 0, 3264},
	{0x3b, "\xe2\x86\xa4", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 3266},
	{0x63, NULL, 0, 0, 0, 3267}, {0x74, NULL, 0, 0, 0, 3268},
	{0x6f, NULL, 0, 0, 0, 3269}, {0x72, NULL, 0, 0, 0, 3270},
	{0x3b, "\xe2\xa5\x9a", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 3272},
	{0x72, NULL, 0, 0, 0, 3273}, {0x6f, NULL, 0, 0, 0, 3274},
	{0x77, NULL, 0, 0, 0, 3275}, {0x3b, "\xe2\x87\x90", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 3277}, {0x77, NULL, 0, 3278, 0, 3279},
	{0x75, NULL, 0, 0, 0, 3301}, {0x6e, NULL, 0, 0, 0, 3280},
	{0x56, NULL, 0, 3281, 0, 3282}, {0x54, NULL, 0, 0, 0, 3292},
	{0x65, NULL, 0, 0, 0, 3283}, {0x63, NULL, 0, 0, 0, 3284},
	{0x74, NULL, 0, 0, 0, 3285}, {0x6f, NULL, 0, 0, 0, 3286},
	{0x72, NULL, 0, 0, 0, 3287}, {0x42, NULL, 0, 3288, 0, 3289},
	{0x3b, "\xe2\x87\x83", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 3290},
	{0x72, NULL, 0, 0, 0, 3291}, {0x3b, "\xe2\xa5\x99", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 3293}, {0x65, NULL, 0, 0, 0, 3294},
	{0x56, NULL, 0, 0, 0, 3295}, {0x65, NULL, 0, 0, 0, 3296},
	{0x63, NULL, 0, 0, 0, 3297}, {0x74, NULL, 0, 0, 0, 3298},
	{0x6f, NULL, 0, 0, 0, 3299}, {0x72, NULL, 0, 0, 0, 3300},
	{0x3b, "\xe2\xa5\xa1", 3, 0, 0, 0}, {0x62, NULL, 0, 0, 0, 3302},
	{0x6c, NULL, 0, 0, 0, 3303}, {0x65, NULL, 0, 0, 0, 3304},
	{0x42, NULL, 0, 0, 0, 3305}, {0x72, NULL, 0, 0, 0, 3306},
	{0x61, NULL, 0, 0, 0, 3307}, {0x63, NULL, 0, 0, 0, 3308},
	{0x6b, NULL, 0, 0, 0, 3309}, {0x65, NULL, 0, 0, 0, 3310},
	{0x74, NULL, 0, 0, 0, 3311}, {0x3b, "\xe2\x9f\xa6", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 3313}, {0x67, NULL, 0, 0, 0, 3314},
	{0x68, NULL, 0, 0, 0, 3315}, {0x74, NULL, 0, 0, 0, 3316},
	{0x56, NULL, 0, 3317, 0, 3318}, {0x41, NULL, 0, 0, 0, 3324},
	{0x65, NULL, 0, 0, 0, 3319}, {0x63, NULL, 0, 0, 0, 3320},
	{0x74, NULL, 0, 0, 0, 3321}, {0x6f, NULL, 0, 0, 0, 3322},
	{0x72, NULL, 0, 0, 0, 3323}, {0x3b, "\xe2\xa5\x8e", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 3325}, {0x72, NULL, 0, 0, 0, 3326},
	{0x6f, NULL, 0, 0, 0, 3327}, {0x77, NULL, 0, 0, 0, 3328},
	{0x3b, "\xe2\x86\x94", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 3330},
	{0x69, NULL, 0, 0, 0, 3331}, {0x6c, NULL, 0, 0, 0, 3332},
	{0x69, NULL, 0, 0, 0, 3333}, {0x6e, NULL, 0, 0, 0, 3334},
	{0x67, NULL, 0, 0, 0, 3335}, {0x3b, "\xe2\x8c\x88", 3, 0, 0, 0},
	{0x72, NULL, 0, 3337, 0, 3338}, {0x6e, NULL, 0, 0, 0, 3357},
	{0x72, NULL, 0, 0, 0, 3339}, {0x6f, NULL, 0, 0, 0, 3340},
	{0x77, NULL, 0, 0, 0, 3341}, {0x42, NULL, 0, 3343, 3342, 3344},
	{0x52, NULL, 0, 0, 0, 3347}, {0x3b, "\xe2\x86\x90", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 3345}, {0x72, NULL, 0, 0, 0, 3346},
	{0x3b, "\xe2\x87\xa4", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 3348},
	{0x67, NULL, 0, 0, 0, 3349}, {0x68, NULL, 0, 0, 0, 3350},
	{0x74, NULL, 0, 0, 0, 3351}, {0x41, NULL, 0, 0, 0, 3352},
	{0x72, NULL, 0, 0, 0, 3353}, {0x72, NULL, 0, 0, 0, 3354},
	{0x6f, NULL, 0, 0, 0, 3355}, {0x77, NULL, 0, 0, 0, 3356},
	{0x3b, "\xe2\x87\x86", 3, 0, 0, 0}, {0x67, NULL, 0, 0, 0, 3358},
	{0x6c, NULL, 0, 0, 0, 3359}, {0x65, NULL, 0, 0, 0, 3360},
	{0x42, NULL, 0, 0, 0, 3361}, {0x72, NULL, 0, 0, 0, 3362},
	{0x61, NULL, 0, 0, 0, 3363}, {0x63, NULL, 0, 0, 0, 3364},
	{0x6b, NULL, 0, 0, 0, 3365}, {0x65, NULL, 0, 0, 0, 3366},
	{0x74, NULL, 0, 0, 0, 3367}, {0x3b, "\xe2\x9f\xa8", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 3369}, {0x6f, NULL, 0, 0, 0, 3370},
	{0x6f, NULL, 0, 0, 0, 3371}, {0x72, NULL, 0, 0, 0, 3372},
	{0x3b, "\xe2\x8c\x8a", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 3374},
	{0x67, NULL, 0, 0, 0, 3375}, {0x68, NULL, 0, 0, 0, 3376},
	{0x74, NULL, 0, 0, 0, 3377}, {0x61, NULL, 0, 0, 0, 3378},
	{0x72, NULL, 0, 0, 0, 3379}, {0x72, NULL, 0, 0, 0, 3380},
	{0x6f, NULL, 0, 0, 0, 3381}, {0x77, NULL, 0, 0, 0, 3382},
	{0x3b, "\xe2\x87\x94", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 3384},
	{0x63, NULL, 0, 0, 0, 3385}, {0x74, NULL, 0, 0, 0, 3386},
	{0x6f, NULL, 0, 0, 0, 3387}, {0x72, NULL, 0, 0, 0, 3388},
	{0x42, NULL, 0, 3389, 0, 3390}, {0x3b, "\xe2\x86\xbc", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 3391}, {0x72, NULL, 0, 0, 0, 3392},
	{0x3b, "\xe2\xa5\x92", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 3394},
	{0x54, NULL, 0, 3396, 3395, 3397}, {0x56, NULL, 0, 0, 0, 3406},
	{0x44, NULL, 0, 0, 0, 3416}, {0x65, NULL, 0, 0, 0, 3398},
	{0x65, NULL, 0, 0, 0, 3399}, {0x56, NULL, 0, 0, 0, 3400},
	{0x65, NULL, 0, 0, 0, 3401}, {0x63, NULL, 0, 0, 0, 3402},
	{0x74, NULL, 0, 0, 0, 3403}, {0x6f, NULL, 0, 0, 0, 3404},
	{0x72, NULL, 0, 0, 0, 3405}, {0x3b, "\xe2\xa5\xa0", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 3407}, {0x63, NULL, 0, 0, 0, 3408},
	{0x74, NULL, 0, 0, 0, 3409}, {0x6f, NULL, 0, 0, 0, 3410},
	{0x72, NULL, 0, 0, 0, 3411}, {0x42, NULL, 0, 3412, 0, 3413},
	{0x3b, "\xe2\x86\xbf", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 3414},
	{0x72, NULL, 0, 0, 0, 3415}, {0x3b, "\xe2\xa5\x98", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 3417}, {0x77, NULL, 0, 0, 0, 3418},
	{0x6e, NULL, 0, 0, 0, 3419}, {0x56, NULL, 0, 0, 0, 3420},
	{0x65, NULL, 0, 0, 0, 3421}, {0x63, NULL, 0, 0, 0, 3422},
	{0x74, NULL, 0, 0, 0, 3423}, {0x6f, NULL, 0, 0, 0, 3424},
	{0x72, NULL, 0, 0, 0, 3425}, {0x3b, "\xe2\xa5\x91", 3, 0, 0, 0},
	{0x3b, "\x3c", 1, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 3428},
	{0x79, NULL, 0, 0, 0, 3429}, {0x3b, "\xd0\x89", 2, 0, 0, 0},
	{0x65, NULL, 0, 3432, 3431, 3433}, {0x79, NULL, 0, 0, 0, 3437},
	{0x61, NULL, 0, 0, 0, 3438}, {0x64, NULL, 0, 0, 0, 3434},
	{0x69, NULL, 0, 0, 0, 3435}, {0x6c, NULL, 0, 0, 0, 3436},
	{0x3b, "\xc4\xbb", 2, 0, 0, 0}, {0x3b, "\xd0\x9b", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 3439}, {0x6f, NULL, 0, 0, 0, 3440},
	{0x6e, NULL, 0, 0, 0, 3441}, {0x3b, "\xc4\xbd", 2, 0, 0, 0},
	{0x3b, "\xe2\x89\xaa", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 3444},
	{0x64, NULL, 0, 0, 0, 3445}, {0x6f, NULL, 0, 0, 0, 3446},
	{0x74, NULL, 0, 0, 0, 3447}, {0x3b, "\xc4\xbf", 2, 0, 0, 0},
	{0x65, NULL, 0, 3449, 0, 3450}, {0x3b, "\xe2\x8b\x98", 3, 0, 0, 0},
	{0x66, NULL, 0, 0, 0, 3451}, {0x74, NULL, 0, 0, 0, 3452},
	{0x61, NULL, 0, 0, 0, 3453}, {0x72, NULL, 0, 0, 0, 3454},
	{0x72, NULL, 0, 0, 0, 3455}, {0x6f, NULL, 0, 0, 0, 3456},
	{0x77, NULL, 0, 0, 0, 3457}, {0x3b, "\xe2\x87\x9a", 3, 0, 0, 0},
	{0x68, NULL, 0, 3460, 3459, 3461}, {0x74, NULL, 0, 0, 0, 3462},
	{0x63, NULL, 0, 0, 0, 3466}, {0x3b, "\xe2\x86\xb0", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 3463}, {0x6f, NULL, 0, 0, 0, 3464},
	{0x6b, NULL, 0, 0, 0, 3465}, {0x3b, "\xc5\x81", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 3467}, {0x3b, "\xe2\x84\x92", 3, 0, 0, 0},
	{0x6f, NULL, 0, 3470, 3469, 3472}, {0x73, NULL, 0, 0, 0, 3475},
	{0x69, NULL, 0, 3471, 0, 3478}, {0x66, NULL, 0, 0, 0, 3479},
	{0x70, NULL, 0, 0, 0, 3473}, {0x66, NULL, 0, 0, 0, 3474},
	{0x3b, "\xf0\x9d\x95\x8f", 4, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 3476},
	{0x72, NULL, 0, 0, 0, 3477}, {0x3b, "\xf0\x9d\x92\xb3", 4, 0, 0, 0},
	{0x3b, "\xce\x9e", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 3480},
	{0x3b, "\xf0\x9d\x94\x9b", 4, 0, 0, 0}, {0x68, NULL, 0, 3483, 3482, 3493},
	{0x72, NULL, 0, 3490, 3489, 3495}, {0x63, NULL, 0, 3485, 3484, 3505},
	{0x66, NULL, 0, 3488, 0, 3517}, {0x45, NULL, 0, 3487, 3486, 3519},
	{0x61, NULL, 0, 0, 0, 3521}, {0x42, NULL, 0, 0, 0, 3535},
	{0x65, NULL, 0, 0, 0, 3539}, {0x75, NULL, 0, 3492, 0, 3578},
	{0x6f, NULL, 0, 3491, 0, 3588}, {0x69, NULL, 0, 0, 0, 3602},
	{0x73, NULL, 0, 0, 0, 3774}, {0x6f, NULL, 0, 0, 0, 3494},
	{0x3b, "\xce\xa1", 2, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 3496},
	{0x67, NULL, 0, 0, 0, 3497}, {0x68, NULL, 0, 0, 0, 3498},
	{0x74, NULL, 0, 0, 0, 3499}, {0x61, NULL, 0, 0, 0, 3500},
	{0x72, NULL, 0, 0, 0, 3501}, {0x72, NULL, 0, 0, 0, 3502},
	{0x6f, NULL, 0, 0, 0, 3503}, {0x77, NULL, 0, 0, 0, 3504},
	{0x3b, "\xe2\x87\x9b", 3, 0, 0, 0}, {0x65, NULL, 0, 3507, 3506, 3508},
	{0x79, NULL, 0, 0, 0, 3512}, {0x61, NULL, 0, 0, 0, 3513},
	{0x64, NULL, 0, 0, 0, 3509}, {0x69, NULL, 0, 0, 0, 3510},
	{0x6c, NULL, 0, 0, 0, 3511}, {0x3b, "\xc5\x96", 2, 0, 0, 0},
	{0x3b, "\xd0\xa0", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 3514},
	{0x6f, NULL, 0, 0, 0, 3515}, {0x6e, NULL, 0, 0, 0, 3516},
	{0x3b, "\xc5\x98", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 3518},
	{0x3b, "\xe2\x84\x9c", 3, 0, 0, 0}, {0x47, "\xc2\xae", 2, 0, 0, 3520},
	{0x3b, "\xc2\xae", 2, 0, 0, 0}, {0x6e, NULL, 0, 3523, 3522, 3524},
	{0x72, NULL, 0, 0, 0, 3526}, {0x63, NULL, 0, 0, 0, 3531},
	{0x67, NULL, 0, 0, 0, 3525}, {0x3b, "\xe2\x9f\xab", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 3527}, {0x74, NULL, 0, 3528, 0, 3529},
	{0x3b, "\xe2\x86\xa0", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 3530},
	{0x3b, "\xe2\xa4\x96", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 3532},
	{0x74, NULL, 0, 0, 0, 3533}, {0x65, NULL, 0, 0, 0, 3534},
	{0x3b, "\xc5\x94", 2, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 3536},
	{0x72, NULL, 0, 0, 0, 3537}, {0x72, NULL, 0, 0, 0, 3538},
	{0x3b, "\xe2\xa4\x90", 3, 0, 0, 0}, {0x76, NULL, 0, 3540, 0, 3541},
	{0x3b, "\xe2\x84\x9c", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 3542},
	{0x72, NULL, 0, 0, 0, 3543}, {0x73, NULL, 0, 0, 0, 3544},
	{0x65, NULL, 0, 0, 0, 3545}, {0x55, NULL, 0, 3546, 0, 3547},
	{0x45, NULL, 0, 0, 0, 3560}, {0x70, NULL, 0, 0, 0, 3548},
	{0x45, NULL, 0, 0, 0, 3549}, {0x71, NULL, 0, 0, 0, 3550},
	{0x75, NULL, 0, 0, 0, 3551}, {0x69, NULL, 0, 0, 0, 3552},
	{0x6c, NULL, 0, 0, 0, 3553}, {0x69, NULL, 0, 0, 0, 3554},
	{0x62, NULL, 0, 0, 0, 3555}, {0x72, NULL, 0, 0, 0, 3556},
	{0x69, NULL, 0, 0, 0, 3557}, {0x75, NULL, 0, 0, 0, 3558},
	{0x6d, NULL, 0, 0, 0, 3559}, {0x3b, "\xe2\xa5\xaf", 3, 0, 0, 0},
	{0x71, NULL, 0, 3561, 0, 3562}, {0x6c, NULL, 0, 0, 0, 3572},
	{0x75, NULL, 0, 0, 0, 3563}, {0x69, NULL, 0, 0, 0, 3564},
	{0x6c, NULL, 0, 0, 0, 3565}, {0x69, NULL, 0, 0, 0, 3566},
	{0x62, NULL, 0, 0, 0, 3567}, {0x72, NULL, 0, 0, 0, 3568},
	{0x69, NULL, 0, 0, 0, 3569}, {0x75, NULL, 0, 0, 0, 3570},
	{0x6d, NULL, 0, 0, 0, 3571}, {0x3b, "\xe2\x87\x8b", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 3573}, {0x6d, NULL, 0, 0, 0, 3574},
	{0x65, NULL, 0, 0, 0, 3575}, {0x6e, NULL, 0, 0, 0, 3576},
	{0x74, NULL, 0, 0, 0, 3577}, {0x3b, "\xe2\x88\x8b", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 3579}, {0x65, NULL, 0, 0, 0, 3580},
	{0x44, NULL, 0, 0, 0, 3581}, {0x65, NULL, 0, 0, 0, 3582},
	{0x6c, NULL, 0, 0, 0, 3583}, {0x61, NULL, 0, 0, 0, 3584},
	{0x79, NULL, 0, 0, 0, 3585}, {0x65, NULL, 0, 0, 0, 3586},
	{0x64, NULL, 0, 0, 0, 3587}, {0x3b, "\xe2\xa7\xb4", 3, 0, 0, 0},
	{0x75, NULL, 0, 3589, 0, 3590}, {0x70, NULL, 0, 0, 0, 3600},
	{0x6e, NULL, 0, 0, 0, 3591}, {0x64, NULL, 0, 0, 0, 3592},
	{0x49, NULL, 0, 0, 0, 3593}, {0x6d, NULL, 0, 0, 0, 3594},
	{0x70, NULL, 0, 0, 0, 3595}, {0x6c, NULL, 0, 0, 0, 3596},
	{0x69, NULL, 0, 0, 0, 3597}, {0x65, NULL, 0, 0, 0, 3598},
	{0x73, NULL, 0, 0, 0, 3599}, {0x3b, "\xe2\xa5\xb0", 3, 0, 0, 0},
	{0x66, NULL, 0, 0, 0, 3601}, {0x3b, "\xe2\x84\x9d", 3, 0, 0, 0},
	{0x67, NULL, 0, 0, 0, 3603}, {0x68, NULL, 0, 0, 0, 3604},
	{0x74, NULL, 0, 0, 0, 3605}, {0x54, NULL, 0, 3607, 3606, 3613},
	{0x56, NULL, 0, 3612, 3611, 3647}, {0x44, NULL, 0, 3609, 3608, 3657},
	{0x46, NULL, 0, 0, 0, 3693}, {0x43, NULL, 0, 3610, 0, 3698},
	{0x41, NULL, 0, 0, 0, 3705}, {0x61, NULL, 0, 0, 0, 3736},
	{0x55, NULL, 0, 0, 0, 3741}, {0x72, NULL, 0, 3614, 0, 3615},
	{0x65, NULL, 0, 0, 0, 3632}, {0x69, NULL, 0, 0, 0, 3616},
	{0x61, NULL, 0, 0, 0, 3617}, {0x6e, NULL, 0, 0, 0, 3618},
	{0x67, NULL, 0, 0, 0, 3619}, {0x6c, NULL, 0, 0, 0, 3620},
	{0x65, NULL, 0, 0, 0, 3621}, {0x42, NULL, 0, 3623, 3622, 3624},
	{0x45, NULL, 0, 0, 0, 3627}, {0x3b, "\xe2\x8a\xb3", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 3625}, {0x72, NULL, 0, 0, 0, 3626},
	{0x3b, "\xe2\xa7\x90", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 3628},
	{0x75, NULL, 0, 0, 0, 3629}, {0x61, NULL, 0, 0, 0, 3630},
	{0x6c, NULL, 0, 0, 0, 3631}, {0x3b, "\xe2\x8a\xb5", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 3633}, {0x41, NULL, 0, 3635, 3634, 3636},
	{0x56, NULL, 0, 0, 0, 3641}, {0x3b, "\xe2\x8a\xa2", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 3637}, {0x72, NULL, 0, 0, 0, 3638},
	{0x6f, NULL, 0, 0, 0, 3639}, {0x77, NULL, 0, 0, 0, 3640},
	{0x3b, "\xe2\x86\xa6", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 3642},
	{0x63, NULL, 0, 0, 0, 3643}, {0x74, NULL, 0, 0, 0, 3644},
	{0x6f, NULL, 0, 0, 0, 3645}, {0x72, NULL, 0, 0, 0, 3646},
	{0x3b, "\xe2\xa5\x9b", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 3648},
	{0x63, NULL, 0, 0, 0, 3649}, {0x74, NULL, 0, 0, 0, 3650},
	{0x6f, NULL, 0, 0, 0, 3651}, {0x72, NULL, 0, 0, 0, 3652},
	{0x42, NULL, 0, 3653, 0, 3654}, {0x3b, "\xe2\x87\x80", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 3655}, {0x72, NULL, 0, 0, 0, 3656},
	{0x3b, "\xe2\xa5\x93", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 3658},
	{0x77, NULL, 0, 3659, 0, 3660}, {0x75, NULL, 0, 0, 0, 3682},
	{0x6e, NULL, 0, 0, 0, 3661}, {0x56, NULL, 0, 3662, 0, 3663},
	{0x54, NULL, 0, 0, 0, 3673}, {0x65, NULL, 0, 0, 0, 3664},
	{0x63, NULL, 0, 0, 0, 3665}, {0x74, NULL, 0, 0, 0, 3666},
	{0x6f, NULL, 0, 0, 0, 3667}, {0x72, NULL, 0, 0, 0, 3668},
	{0x42, NULL, 0, 3669, 0, 3670}, {0x3b, "\xe2\x87\x82", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 3671}, {0x72, NULL, 0, 0, 0, 3672},
	{0x3b, "\xe2\xa5\x95", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 3674},
	{0x65, NULL, 0, 0, 0, 3675}, {0x56, NULL, 0, 0, 0, 3676},
	{0x65, NULL, 0, 0, 0, 3677}, {0x63, NULL, 0, 0, 0, 3678},
	{0x74, NULL, 0, 0, 0, 3679}, {0x6f, NULL, 0, 0, 0, 3680},
	{0x72, NULL, 0, 0, 0, 3681}, {0x3b, "\xe2\xa5\x9d", 3, 0, 0, 0},
	{0x62, NULL, 0, 0, 0, 3683}, {0x6c, NULL, 0, 0, 0, 3684},
	{0x65, NULL, 0, 0, 0, 3685}, {0x42, NULL, 0, 0, 0, 3686},
	{0x72, NULL, 0, 0, 0, 3687}, {0x61, NULL, 0, 0, 0, 3688},
	{0x63, NULL, 0, 0, 0, 3689}, {0x6b, NULL, 0, 0, 0, 3690},
	{0x65, NULL, 0, 0, 0, 3691}, {0x74, NULL, 0, 0, 0, 3692},
	{0x3b, "\xe2\x9f\xa7", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 3694},
	{0x6f, NULL, 0, 0, 0, 3695}, {0x6f, NULL, 0, 0, 0, 3696},
	{0x72, NULL, 0, 0, 0, 3697}, {0x3b, "\xe2\x8c\x8b", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 3699}, {0x69, NULL, 0, 0, 0, 3700},
	{0x6c, NULL, 0, 0, 0, 3701}, {0x69, NULL, 0, 0, 0, 3702},
	{0x6e, NULL, 0, 0, 0, 3703}, {0x67, NULL, 0, 0, 0, 3704},
	{0x3b, "\xe2\x8c\x89", 3, 0, 0, 0}, {0x72, NULL, 0, 3706, 0, 3707},
	{0x6e, NULL, 0, 0, 0, 3725}, {0x72, NULL, 0, 0, 0, 3708},
	{0x6f, NULL, 0, 0, 0, 3709}, {0x77, NULL, 0, 0, 0, 3710},
	{0x42, NULL, 0, 3712, 3711, 3713}, {0x4c, NULL, 0, 0, 0, 3716},
	{0x3b, "\xe2\x86\x92", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 3714},
	{0x72, NULL, 0, 0, 0, 3715}, {0x3b, "\xe2\x87\xa5", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 3717}, {0x66, NULL, 0, 0, 0, 3718},
	{0x74, NULL, 0, 0, 0, 3719}, {0x41, NULL, 0, 0, 0, 3720},
	{0x72, NULL, 0, 0, 0, 3721}, {0x72, NULL, 0, 0, 0, 3722},
	{0x6f, NULL, 0, 0, 0, 3723}, {0x77, NULL, 0, 0, 0, 3724},
	{0x3b, "\xe2\x87\x84", 3, 0, 0, 0}, {0x67, NULL, 0, 0, 0, 3726},
	{0x6c, NULL, 0, 0, 0, 3727}, {0x65, NULL, 0, 0, 0, 3728},
	{0x42, NULL, 0, 0, 0, 3729}, {0x72, NULL, 0, 0, 0, 3730},
	{0x61, NULL, 0, 0, 0, 3731}, {0x63, NULL, 0, 0, 0, 3732},
	{0x6b, NULL, 0, 0, 0, 3733}, {0x65, NULL, 0, 0, 0, 3734},
	{0x74, NULL, 0, 0, 0, 3735}, {0x3b, "\xe2\x9f\xa9", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 3737}, {0x72, NULL, 0, 0, 0, 3738},
	{0x6f, NULL, 0, 0, 0, 3739}, {0x77, NULL, 0, 0, 0, 3740},
	{0x3b, "\xe2\x87\x92", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 3742},
	{0x54, NULL, 0, 3744, 3743, 3745}, {0x56, NULL, 0, 0, 0, 3754},
	{0x44, NULL, 0, 0, 0, 3764}, {0x65, NULL, 0, 0, 0, 3746},
	{0x65, NULL, 0, 0, 0, 3747}, {0x56, NULL, 0, 0, 0, 3748},
	{0x65, NULL, 0, 0, 0, 3749}, {0x63, NULL, 0, 0, 0, 3750},
	{0x74, NULL, 0, 0, 0, 3751}, {0x6f, NULL, 0, 0, 0, 3752},
	{0x72, NULL, 0, 0, 0, 3753}, {0x3b, "\xe2\xa5\x9c", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 3755}, {0x63, NULL, 0, 0, 0, 3756},
	{0x74, NULL, 0, 0, 0, 3757}, {0x6f, NULL, 0, 0, 0, 3758},
	{0x72, NULL, 0, 0, 0, 3759}, {0x42, NULL, 0, 3760, 0, 3761},
	{0x3b, "\xe2\x86\xbe", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 3762},
	{0x72, NULL, 0, 0, 0, 3763}, {0x3b, "\xe2\xa5\x94", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 3765}, {0x77, NULL, 0, 0, 0, 3766},
	{0x6e, NULL, 0, 0, 0, 3767}, {0x56, NULL, 0, 0, 0, 3768},
	{0x65, NULL, 0, 0, 0, 3769}, {0x63, NULL, 0, 0, 0, 3770},
	{0x74, NULL, 0, 0, 0, 3771}, {0x6f, NULL, 0, 0, 0, 3772},
	{0x72, NULL, 0, 0, 0, 3773}, {0x3b, "\xe2\xa5\x8f", 3, 0, 0, 0},
	{0x68, NULL, 0, 3775, 0, 3776}, {0x63, NULL, 0, 0, 0, 3777},
	{0x3b, "\xe2\x86\xb1", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 3778},
	{0x3b, "\xe2\x84\x9b", 3, 0, 0, 0}, {0x66, NULL, 0, 3781, 3780, 3790},
	{0x6f, NULL, 0, 3787, 3786, 3792}, {0x53, NULL, 0, 3783, 3782, 3795},
	{0x63, NULL, 0, 3785, 0, 3802}, {0x52, NULL, 0, 3784, 0, 3814},
	{0x48, NULL, 0, 0, 0, 3818}, {0x61, NULL, 0, 0, 0, 3822},
	{0x73, NULL, 0, 3789, 0, 3826}, {0x69, NULL, 0, 3788, 0, 3834},
	{0x68, NULL, 0, 0, 0, 3860}, {0x72, NULL, 0, 0, 0, 3887},
	{0x72, NULL, 0, 0, 0, 3791}, {0x3b, "\xf0\x9d\x94\x97", 4, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 3793}, {0x66, NULL, 0, 0, 0, 3794},
	{0x3b, "\xf0\x9d\x95\x8b", 4, 0, 0, 0}, {0x63, NULL, 0, 3796, 0, 3797},
	{0x48, NULL, 0, 0, 0, 3799}, {0x79, NULL, 0, 0, 0, 3798},
	{0x3b, "\xd0\xa6", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 3800},
	{0x79, NULL, 0, 0, 0, 3801}, {0x3b, "\xd0\x8b", 2, 0, 0, 0},
	{0x65, NULL, 0, 3804, 3803, 3805}, {0x79, NULL, 0, 0, 0, 3809},
	{0x61, NULL, 0, 0, 0, 3810}, {0x64, NULL, 0, 0, 0, 3806},
	{0x69, NULL, 0, 0, 0, 3807}, {0x6c, NULL, 0, 0, 0, 3808},
	{0x3b, "\xc5\xa2", 2, 0, 0, 0}, {0x3b, "\xd0\xa2", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 3811}, {0x6f, NULL, 0, 0, 0, 3812},
	{0x6e, NULL, 0, 0, 0, 3813}, {0x3b, "\xc5\xa4", 2, 0, 0, 0},
	{0x41, NULL, 0, 0, 0, 3815}, {0x44, NULL, 0, 0, 0, 3816},
	{0x45, NULL, 0, 0, 0, 3817}, {0x3b, "\xe2\x84\xa2", 3, 0, 0, 0},
	{0x4f, NULL, 0, 0, 0, 3819}, {0x52, NULL, 0, 0, 0, 3820},
	{0x4e, "\xc3\x9e", 2, 0, 0, 3821}, {0x3b, "\xc3\x9e", 2, 0, 0, 0},
	{0x75, NULL, 0, 3823, 0, 3824}, {0x62, NULL, 0, 0, 0, 3825},
	{0x3b, "\xce\xa4", 2, 0, 0, 0}, {0x3b, "\x9", 1, 0, 0, 0},
	{0x74, NULL, 0, 3827, 0, 3828}, {0x63, NULL, 0, 0, 0, 3832},
	{0x72, NULL, 0, 0, 0, 3829}, {0x6f, NULL, 0, 0, 0, 3830},
	{0x6b, NULL, 0, 0, 0, 3831}, {0x3b, "\xc5\xa6", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 3833}, {0x3b, "\xf0\x9d\x92\xaf", 4, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 3835}, {0x64, NULL, 0, 0, 0, 3836},
	{0x65, NULL, 0, 0, 0, 3837}, {0x46, NULL, 0, 3839, 3838, 3841},
	{0x54, NULL, 0, 0, 0, 3850}, {0x45, NULL, 0, 3840, 0, 3855},
	{0x3b, "\xe2\x88\xbc", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 3842},
	{0x6c, NULL, 0, 0, 0, 3843}, {0x6c, NULL, 0, 0, 0, 3844},
	{0x45, NULL, 0, 0, 0, 3845}, {0x71, NULL, 0, 0, 0, 3846},
	{0x75, NULL, 0, 0, 0, 3847}, {0x61, NULL, 0, 0, 0, 3848},
	{0x6c, NULL, 0, 0, 0, 3849}, {0x3b, "\xe2\x89\x85", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 3851}, {0x6c, NULL, 0, 0, 0, 3852},
	{0x64, NULL, 0, 0, 0, 3853}, {0x65, NULL, 0, 0, 0, 3854},
	{0x3b, "\xe2\x89\x88", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 3856},
	{0x75, NULL, 0, 0, 0, 3857}, {0x61, NULL, 0, 0, 0, 3858},
	{0x6c, NULL, 0, 0, 0, 3859}, {0x3b, "\xe2\x89\x83", 3, 0, 0, 0},
	{0x69, NULL, 0, 3861, 0, 3862}, {0x65, NULL, 0, 0, 0, 3877},
	{0x6e, NULL, 0, 3863, 0, 3864}, {0x63, NULL, 0, 0, 0, 3870},
	{0x53, NULL, 0, 0, 0, 3865}, {0x70, NULL, 0, 0, 0, 3866},
	{0x61, NULL, 0, 0, 0, 3867}, {0x63, NULL, 0, 0, 0, 3868},
	{0x65, NULL, 0, 0, 0, 3869}, {0x3b, "\xe2\x80\x89", 3, 0, 0, 0},
	{0x6b, NULL, 0, 0, 0, 3871}, {0x53, NULL, 0, 0, 0, 3872},
	{0x70, NULL, 0, 0, 0, 3873}, {0x61, NULL, 0, 0, 0, 3874},
	{0x63, NULL, 0, 0, 0, 3875}, {0x65, NULL, 0, 0, 0, 3876},
	{0x3b, "\xe2\x81\x9f\xe2\x80\x8a", 6, 0, 0, 0}, {0x74, NULL, 0, 3878, 0, 3879},
	{0x72, NULL, 0, 0, 0, 3881}, {0x61, NULL, 0, 0, 0, 3880},
	{0x3b, "\xce\x98", 2, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 3882},
	{0x66, NULL, 0, 0, 0, 3883}, {0x6f, NULL, 0, 0, 0, 3884},
	{0x72, NULL, 0, 0, 0, 3885}, {0x65, NULL, 0, 0, 0, 3886},
	{0x3b, "\xe2\x88\xb4", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 3888},
	{0x70, NULL, 0, 0, 0, 3889}, {0x6c, NULL, 0, 0, 0, 3890},
	{0x65, NULL, 0, 0, 0, 3891}, {0x44, NULL, 0, 0, 0, 3892},
	{0x6f, NULL, 0, 0, 0, 3893}, {0x74, NULL, 0, 0, 0, 3894},
	{0x3b, "\xe2\x83\x9b", 3, 0, 0, 0}, {0x69, NULL, 0, 3897, 3896, 3904},
	{0x72, NULL, 0, 3902, 3901, 3905}, {0x66, NULL, 0, 3899, 3898, 3957},
	{0x68, NULL, 0, 0, 0, 3959}, {0x63, NULL, 0, 3900, 0, 3961},
	{0x61, NULL, 0, 0, 0, 3963}, {0x73, NULL, 0, 0, 0, 3970},
	{0x6f, NULL, 0, 3903, 0, 3975}, {0x6c, NULL, 0, 0, 0, 3990},
	{0x3b, "\xce\xa0", 2, 0, 0, 0}, {0x69, NULL, 0, 3907, 3906, 3909},
	{0x6f, NULL, 0, 0, 0, 3912}, {0x65, NULL, 0, 3908, 0, 3928},
	{0x3b, "\xe2\xaa\xbb", 3, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 3910},
	{0x65, NULL, 0, 0, 0, 3911}, {0x3b, "\xe2\x80\xb3", 3, 0, 0, 0},
	{0x70, NULL, 0, 3913, 0, 3914}, {0x64, NULL, 0, 0, 0, 3924},
	{0x6f, NULL, 0, 0, 0, 3915}, {0x72, NULL, 0, 0, 0, 3916},
	{0x74, NULL, 0, 0, 0, 3917}, {0x69, NULL, 0, 0, 0, 3918},
	{0x6f, NULL, 0, 0, 0, 3919}, {0x6e, NULL, 0, 0, 0, 3920},
	{0x61, NULL, 0, 3921, 0, 3922}, {0x3b, "\xe2\x88\xb7", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 3923}, {0x3b, "\xe2\x88\x9d", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 3925}, {0x63, NULL, 0, 0, 0, 3926},
	{0x74, NULL, 0, 0, 0, 3927}, {0x3b, "\xe2\x88\x8f", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 3929}, {0x65, NULL, 0, 0, 0, 3930},
	{0x64, NULL, 0, 0, 0, 3931}, {0x65, NULL, 0, 0, 0, 3932},
	{0x73, NULL, 0, 0, 0, 3933}, {0x53, NULL, 0, 3935, 3934, 3937},
	{0x54, NULL, 0, 0, 0, 3947}, {0x45, NULL, 0, 3936, 0, 3952},
	{0x3b, "\xe2\x89\xba", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 3938},
	{0x61, NULL, 0, 0, 0, 3939}, {0x6e, NULL, 0, 0, 0, 3940},
	{0x74, NULL, 0, 0, 0, 3941}, {0x45, NULL, 0, 0, 0, 3942},
	{0x71, NULL, 0, 0, 0, 3943}, {0x75, NULL, 0, 0, 0, 3944},
	{0x61, NULL, 0, 0, 0, 3945}, {0x6c, NULL, 0, 0, 0, 3946},
	{0x3b, "\xe2\x89\xbc", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 3948},
	{0x6c, NULL, 0, 0, 0, 3949}, {0x64, NULL, 0, 0, 0, 3950},
	{0x65, NULL, 0, 0, 0, 3951}, {0x3b, "\xe2\x89\xbe", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 3953}, {0x75, NULL, 0, 0, 0, 3954},
	{0x61, NULL, 0, 0, 0, 3955}, {0x6c, NULL, 0, 0, 0, 3956},
	{0x3b, "\xe2\xaa\xaf", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 3958},
	{0x3b, "\xf0\x9d\x94\x93", 4, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 3960},
	{0x3b, "\xce\xa6", 2, 0, 0, 0}, {0x79, NULL, 0, 0, 0, 3962},
	{0x3b, "\xd0\x9f", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 3964},
	{0x74, NULL, 0, 0, 0, 3965}, {0x69, NULL, 0, 0, 0, 3966},
	{0x61, NULL, 0, 0, 0, 3967}, {0x6c, NULL, 0, 0, 0, 3968},
	{0x44, NULL, 0, 0, 0, 3969}, {0x3b, "\xe2\x88\x82", 3, 0, 0, 0},
	{0x69, NULL, 0, 3971, 0, 3972}, {0x63, NULL, 0, 0, 0, 3973},
	{0x3b, "\xce\xa8", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 3974},
	{0x3b, "\xf0\x9d\x92\xab", 4, 0, 0, 0}, {0x70, NULL, 0, 3976, 0, 3977},
	{0x69, NULL, 0, 0, 0, 3979}, {0x66, NULL, 0, 0, 0, 3978},
	{0x3b, "\xe2\x84\x99", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 3980},
	{0x63, NULL, 0, 0, 0, 3981}, {0x61, NULL, 0, 0, 0, 3982},
	{0x72, NULL, 0, 0, 0, 3983}, {0x65, NULL, 0, 0, 0, 3984},
	{0x70, NULL, 0, 0, 0, 3985}, {0x6c, NULL, 0, 0, 0, 3986},
	{0x61, NULL, 0, 0, 0, 3987}, {0x6e, NULL, 0, 0, 0, 3988},
	{0x65, NULL, 0, 0, 0, 3989}, {0x3b, "\xe2\x84\x8c", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 3991}, {0x73, NULL, 0, 0, 0, 3992},
	{0x4d, NULL, 0, 0, 0, 3993}, {0x69, NULL, 0, 0, 0, 3994},
	{0x6e, NULL, 0, 0, 0, 3995}, {0x75, NULL, 0, 0, 0, 3996},
	{0x73, NULL, 0, 0, 0, 3997}, {0x3b, "\xc2\xb1", 2, 0, 0, 0},
	{0x6f, NULL, 0, 4000, 3999, 4002}, {0x73, NULL, 0, 0, 0, 4005},
	{0x66, NULL, 0, 4001, 0, 4008}, {0x55, NULL, 0, 0, 0, 4010},
	{0x70, NULL, 0, 0, 0, 4003}, {0x66, NULL, 0, 0, 0, 4004},
	{0x3b, "\xe2\x84\x9a", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 4006},
	{0x72, NULL, 0, 0, 0, 4007}, {0x3b, "\xf0\x9d\x92\xac", 4, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4009}, {0x3b, "\xf0\x9d\x94\x94", 4, 0, 0, 0},
	{0x4f, NULL, 0, 0, 0, 4011}, {0x54, "\x22", 1, 0, 0, 4012},
	{0x3b, "\x22", 1, 0, 0, 0}, {0x6f, NULL, 0, 4015, 4014, 4027},
	{0x74, NULL, 0, 4023, 4022, 4030}, {0x64, NULL, 0, 4017, 4016, 4039},
	{0x67, NULL, 0, 4021, 4020, 4044}, {0x61, NULL, 0, 4019, 4018, 4049},
	{0x63, NULL, 0, 0, 0, 4054}, {0x45, NULL, 0, 0, 0, 4060},
	{0x6d, NULL, 0, 0, 0, 4064}, {0x66, NULL, 0, 0, 0, 4078},
	{0x76, NULL, 0, 4026, 0, 4080}, {0x72, NULL, 0, 4025, 4024, 4107},
	{0x73, NULL, 0, 0, 0, 4108}, {0x70, NULL, 0, 0, 0, 4116},
	{0x75, NULL, 0, 0, 0, 4141}, {0x70, NULL, 0, 0, 0, 4028},
	{0x66, NULL, 0, 0, 0, 4029}, {0x3b, "\xf0\x9d\x95\x86", 4, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 4031}, {0x6d, NULL, 0, 4032, 0, 4033},
	{0x6c, NULL, 0, 0, 0, 4036}, {0x65, NULL, 0, 0, 0, 4034},
	{0x73, NULL, 0, 0, 0, 4035}, {0x3b, "\xe2\xa8\xb7", 3, 0, 0, 0},
	{0x64, NULL, 0, 0, 0, 4037}, {0x65, "\xc3\x95", 2, 0, 0, 4038},
	{0x3b, "\xc3\x95", 2, 0, 0, 0}, {0x62, NULL, 0, 0, 0, 4040},
	{0x6c, NULL, 0, 0, 0, 4041}, {0x61, NULL, 0, 0, 0, 4042},
	{0x63, NULL, 0, 0, 0, 4043}, {0x3b, "\xc5\x90", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4045}, {0x61, NULL, 0, 0, 0, 4046},
	{0x76, NULL, 0, 0, 0, 4047}, {0x65, "\xc3\x92", 2, 0, 0, 4048},
	{0x3b, "\xc3\x92", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 4050},
	{0x75, NULL, 0, 0, 0, 4051}, {0x74, NULL, 0, 0, 0, 4052},
	{0x65, "\xc3\x93", 2, 0, 0, 4053}, {0x3b, "\xc3\x93", 2, 0, 0, 0},
	{0x79, NULL, 0, 4055, 0, 4056}, {0x69, NULL, 0, 0, 0, 4057},
	{0x3b, "\xd0\x9e", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 4058},
	{0x63, "\xc3\x94", 2, 0, 0, 4059}, {0x3b, "\xc3\x94", 2, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 4061}, {0x69, NULL, 0, 0, 0, 4062},
	{0x67, NULL, 0, 0, 0, 4063}, {0x3b, "\xc5\x92", 2, 0, 0, 0},
	{0x65, NULL, 0, 4066, 4065, 4067}, {0x69, NULL, 0, 0, 0, 4070},
	{0x61, NULL, 0, 0, 0, 4075}, {0x67, NULL, 0, 0, 0, 4068},
	{0x61, NULL, 0, 0, 0, 4069}, {0x3b, "\xce\xa9", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 4071}, {0x72, NULL, 0, 0, 0, 4072},
	{0x6f, NULL, 0, 0, 0, 4073}, {0x6e, NULL, 0, 0, 0, 4074},
	{0x3b, "\xce\x9f", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 4076},
	{0x72, NULL, 0, 0, 0, 4077}, {0x3b, "\xc5\x8c", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4079}, {0x3b, "\xf0\x9d\x94\x92", 4, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 4081}, {0x72, NULL, 0, 0, 0, 4082},
	{0x50, NULL, 0, 4083, 0, 4084}, {0x42, NULL, 0, 0, 0, 4095},
	{0x61, NULL, 0, 0, 0, 4085}, {0x72, NULL, 0, 0, 0, 4086},
	{0x65, NULL, 0, 0, 0, 4087}, {0x6e, NULL, 0, 0, 0, 4088},
	{0x74, NULL, 0, 0, 0, 4089}, {0x68, NULL, 0, 0, 0, 4090},
	{0x65, NULL, 0, 0, 0, 4091}, {0x73, NULL, 0, 0, 0, 4092},
	{0x69, NULL, 0, 0, 0, 4093}, {0x73, NULL, 0, 0, 0, 4094},
	{0x3b, "\xe2\x8f\x9c", 3, 0, 0, 0}, {0x72, NULL, 0, 4096, 0, 4097},
	{0x61, NULL, 0, 0, 0, 4105}, {0x61, NULL, 0, 0, 0, 4098},
	{0x63, NULL, 0, 0, 0, 4099}, {0x6b, NULL, 0, 4100, 0, 4101},
	{0x65, NULL, 0, 0, 0, 4104}, {0x65, NULL, 0, 0, 0, 4102},
	{0x74, NULL, 0, 0, 0, 4103}, {0x3b, "\xe2\x8e\xb4", 3, 0, 0, 0},
	{0x3b, "\xe2\x8f\x9e", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 4106},
	{0x3b, "\xe2\x80\xbe", 3, 0, 0, 0}, {0x3b, "\xe2\xa9\x94", 3, 0, 0, 0},
	{0x6c, NULL, 0, 4109, 0, 4110}, {0x63, NULL, 0, 0, 0, 4114},
	{0x61, NULL, 0, 0, 0, 4111}, {0x73, NULL, 0, 0, 0, 4112},
	{0x68, "\xc3\x98", 2, 0, 0, 4113}, {0x3b, "\xc3\x98", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4115}, {0x3b, "\xf0\x9d\x92\xaa", 4, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 4117}, {0x6e, NULL, 0, 0, 0, 4118},
	{0x43, NULL, 0, 0, 0, 4119}, {0x75, NULL, 0, 0, 0, 4120},
	{0x72, NULL, 0, 0, 0, 4121}, {0x6c, NULL, 0, 0, 0, 4122},
	{0x79, NULL, 0, 0, 0, 4123}, {0x51, NULL, 0, 4124, 0, 4125},
	{0x44, NULL, 0, 0, 0, 4130}, {0x75, NULL, 0, 0, 0, 4126},
	{0x6f, NULL, 0, 0, 0, 4127}, {0x74, NULL, 0, 0, 0, 4128},
	{0x65, NULL, 0, 0, 0, 4129}, {0x3b, "\xe2\x80\x98", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 4131}, {0x75, NULL, 0, 0, 0, 4132},
	{0x62, NULL, 0, 0, 0, 4133}, {0x6c, NULL, 0, 0, 0, 4134},
	{0x65, NULL, 0, 0, 0, 4135}, {0x51, NULL, 0, 0, 0, 4136},
	{0x75, NULL, 0, 0, 0, 4137}, {0x6f, NULL, 0, 0, 0, 4138},
	{0x74, NULL, 0, 0, 0, 4139}, {0x65, NULL, 0, 0, 0, 4140},
	{0x3b, "\xe2\x80\x9c", 3, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 4142},
	{0x6c, "\xc3\x96", 2, 0, 0, 4143}, {0x3b, "\xc3\x96", 2, 0, 0, 0},
	{0x69, NULL, 0, 4146, 4145, 4157}, {0x73, NULL, 0, 4153, 4152, 4161},
	{0x63, NULL, 0, 4148, 4147, 4164}, {0x68, NULL, 0, 4151, 0, 4181},
	{0x4f, NULL, 0, 4150, 4149, 4223}, {0x61, NULL, 0, 0, 0, 4228},
	{0x48, NULL, 0, 0, 0, 4233}, {0x66, NULL, 0, 0, 0, 4241},
	{0x75, NULL, 0, 4156, 0, 4243}, {0x6f, NULL, 0, 4155, 4154, 4311},
	{0x71, NULL, 0, 0, 0, 4314}, {0x6d, NULL, 0, 0, 0, 4367},
	{0x74, NULL, 0, 0, 0, 4377}, {0x67, NULL, 0, 0, 0, 4158},
	{0x6d, NULL, 0, 0, 0, 4159}, {0x61, NULL, 0, 0, 0, 4160},
	{0x3b, "\xce\xa3", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 4162},
	{0x72, NULL, 0, 0, 0, 4163}, {0x3b, "\xf0\x9d\x92\xae", 4, 0, 0, 0},
	{0x65, NULL, 0, 4166, 4165, 4169}, {0x79, NULL, 0, 4168, 0, 4173},
	{0x61, NULL, 0, 4167, 0, 4174}, {0x3b, "\xe2\xaa\xbc", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 4178}, {0x64, NULL, 0, 0, 0, 4170},
	{0x69, NULL, 0, 0, 0, 4171}, {0x6c, NULL, 0, 0, 0, 4172},
	{0x3b, "\xc5\x9e", 2, 0, 0, 0}, {0x3b, "\xd0\xa1", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4175}, {0x6f, NULL, 0, 0, 0, 4176},
	{0x6e, NULL, 0, 0, 0, 4177}, {0x3b, "\xc5\xa0", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4179}, {0x63, NULL, 0, 0, 0, 4180},
	{0x3b, "\xc5\x9c", 2, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 4182},
	{0x72, NULL, 0, 0, 0, 4183}, {0x74, NULL, 0, 0, 0, 4184},
	{0x52, NULL, 0, 4186, 4185, 4188}, {0x55, NULL, 0, 0, 0, 4198},
	{0x4c, NULL, 0, 4187, 0, 4205}, {0x44, NULL, 0, 0, 0, 4214},
	{0x69, NULL, 0, 0, 0, 4189}, {0x67, NULL, 0, 0, 0, 4190},
	{0x68, NULL, 0, 0, 0, 4191}, {0x74, NULL, 0, 0, 0, 4192},
	{0x41, NULL, 0, 0, 0, 4193}, {0x72, NULL, 0, 0, 0, 4194},
	{0x72, NULL, 0, 0, 0, 4195}, {0x6f, NULL, 0, 0, 0, 4196},
	{0x77, NULL, 0, 0, 0, 4197}, {0x3b, "\xe2\x86\x92", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 4199}, {0x41, NULL, 0, 0, 0, 4200},
	{0x72, NULL, 0, 0, 0, 4201}, {0x72, NULL, 0, 0, 0, 4202},
	{0x6f, NULL, 0, 0, 0, 4203}, {0x77, NULL, 0, 0, 0, 4204},
	{0x3b, "\xe2\x86\x91", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 4206},
	{0x66, NULL, 0, 0, 0, 4207}, {0x74, NULL, 0, 0, 0, 4208},
	{0x41, NULL, 0, 0, 0, 4209}, {0x72, NULL, 0, 0, 0, 4210},
	{0x72, NULL, 0, 0, 0, 4211}, {0x6f, NULL, 0, 0, 0, 4212},
	{0x77, NULL, 0, 0, 0, 4213}, {0x3b, "\xe2\x86\x90", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 4215}, {0x77, NULL, 0, 0, 0, 4216},
	{0x6e, NULL, 0, 0, 0, 4217}, {0x41, NULL, 0, 0, 0, 4218},
	{0x72, NULL, 0, 0, 0, 4219}, {0x72, NULL, 0, 0, 0, 4220},
	{0x6f, NULL, 0, 0, 0, 4221}, {0x77, NULL, 0, 0, 0, 4222},
	{0x3b, "\xe2\x86\x93", 3, 0, 0, 0}, {0x46, NULL, 0, 0, 0, 4224},
	{0x54, NULL, 0, 0, 0, 4225}, {0x63, NULL, 0, 0, 0, 4226},
	{0x79, NULL, 0, 0, 0, 4227}, {0x3b, "\xd0\xac", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 4229}, {0x75, NULL, 0, 0, 0, 4230},
	{0x74, NULL, 0, 0, 0, 4231}, {0x65, NULL, 0, 0, 0, 4232},
	{0x3b, "\xc5\x9a", 2, 0, 0, 0}, {0x63, NULL, 0, 4234, 0, 4235},
	{0x43, NULL, 0, 0, 0, 4237}, {0x79, NULL, 0, 0, 0, 4236},
	{0x3b, "\xd0\xa8", 2, 0, 0, 0}, {0x48, NULL, 0, 0, 0, 4238},
	{0x63, NULL, 0, 0, 0, 4239}, {0x79, NULL, 0, 0, 0, 4240},
	{0x3b, "\xd0\xa9", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 4242},
	{0x3b, "\xf0\x9d\x94\x96", 4, 0, 0, 0}, {0x6d, NULL, 0, 4245, 4244, 4247},
	{0x70, NULL, 0, 0, 0, 4248}, {0x63, NULL, 0, 4246, 0, 4265},
	{0x62, NULL, 0, 0, 0, 4300}, {0x3b, "\xe2\x88\x91", 3, 0, 0, 0},
	{0x65, NULL, 0, 4250, 4249, 4251}, {0x73, NULL, 0, 0, 0, 4262},
	{0x3b, "\xe2\x8b\x91", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 4252},
	{0x73, NULL, 0, 0, 0, 4253}, {0x65, NULL, 0, 0, 0, 4254},
	{0x74, NULL, 0, 0, 0, 4255}, {0x45, NULL, 0, 4256, 0, 4257},
	{0x3b, "\xe2\x8a\x83", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 4258},
	{0x75, NULL, 0, 0, 0, 4259}, {0x61, NULL, 0, 0, 0, 4260},
	{0x6c, NULL, 0, 0, 0, 4261}, {0x3b, "\xe2\x8a\x87", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 4263}, {0x74, NULL, 0, 0, 0, 4264},
	{0x3b, "\xe2\x8b\x91", 3, 0, 0, 0}, {0x68, NULL, 0, 4266, 0, 4267},
	{0x63, NULL, 0, 0, 0, 4272}, {0x54, NULL, 0, 0, 0, 4268},
	{0x68, NULL, 0, 0, 0, 4269}, {0x61, NULL, 0, 0, 0, 4270},
	{0x74, NULL, 0, 0, 0, 4271}, {0x3b, "\xe2\x88\x8b", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 4273}, {0x65, NULL, 0, 0, 0, 4274},
	{0x64, NULL, 0, 0, 0, 4275}, {0x73, NULL, 0, 0, 0, 4276},
	{0x53, NULL, 0, 4278, 4277, 4280}, {0x54, NULL, 0, 0, 0, 4290},
	{0x45, NULL, 0, 4279, 0, 4295}, {0x3b, "\xe2\x89\xbb", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 4281}, {0x61, NULL, 0, 0, 0, 4282},
	{0x6e, NULL, 0, 0, 0, 4283}, {0x74, NULL, 0, 0, 0, 4284},
	{0x45, NULL, 0, 0, 0, 4285}, {0x71, NULL, 0, 0, 0, 4286},
	{0x75, NULL, 0, 0, 0, 4287}, {0x61, NULL, 0, 0, 0, 4288},
	{0x6c, NULL, 0, 0, 0, 4289}, {0x3b, "\xe2\x89\xbd", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 4291}, {0x6c, NULL, 0, 0, 0, 4292},
	{0x64, NULL, 0, 0, 0, 4293}, {0x65, NULL, 0, 0, 0, 4294},
	{0x3b, "\xe2\x89\xbf", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 4296},
	{0x75, NULL, 0, 0, 0, 4297}, {0x61, NULL, 0, 0, 0, 4298},
	{0x6c, NULL, 0, 0, 0, 4299}, {0x3b, "\xe2\xaa\xb0", 3, 0, 0, 0},
	{0x73, NULL, 0, 4301, 0, 4302}, {0x3b, "\xe2\x8b\x90", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 4303}, {0x74, NULL, 0, 0, 0, 4304},
	{0x45, NULL, 0, 4305, 0, 4306}, {0x3b, "\xe2\x8b\x90", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 4307}, {0x75, NULL, 0, 0, 0, 4308},
	{0x61, NULL, 0, 0, 0, 4309}, {0x6c, NULL, 0, 0, 0, 4310},
	{0x3b, "\xe2\x8a\x86", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 4312},
	{0x66, NULL, 0, 0, 0, 4313}, {0x3b, "\xf0\x9d\x95\x8a", 4, 0, 0, 0},
	{0x75, NULL, 0, 4315, 0, 4316}, {0x72, NULL, 0, 0, 0, 4365},
	{0x61, NULL, 0, 0, 0, 4317}, {0x72, NULL, 0, 0, 0, 4318},
	{0x65, NULL, 0, 0, 0, 4319}, {0x53, NULL, 0, 4321, 4320, 4323},
	{0x55, NULL, 0, 0, 0, 4348}, {0x49, NULL, 0, 4322, 0, 4353},
	{0x3b, "\xe2\x96\xa1", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 4324},
	{0x70, NULL, 0, 4325, 0, 4326}, {0x62, NULL, 0, 0, 0, 4338},
	{0x65, NULL, 0, 0, 0, 4327}, {0x72, NULL, 0, 0, 0, 4328},
	{0x73, NULL, 0, 0, 0, 4329}, {0x65, NULL, 0, 0, 0, 4330},
	{0x74, NULL, 0, 0, 0, 4331}, {0x45, NULL, 0, 4332, 0, 4333},
	{0x3b, "\xe2\x8a\x90", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 4334},
	{0x75, NULL, 0, 0, 0, 4335}, {0x61, NULL, 0, 0, 0, 4336},
	{0x6c, NULL, 0, 0, 0, 4337}, {0x3b, "\xe2\x8a\x92", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 4339}, {0x65, NULL, 0, 0, 0, 4340},
	{0x74, NULL, 0, 0, 0, 4341}, {0x45, NULL, 0, 4342, 0, 4343},
	{0x3b, "\xe2\x8a\x8f", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 4344},
	{0x75, NULL, 0, 0, 0, 4345}, {0x61, NULL, 0, 0, 0, 4346},
	{0x6c, NULL, 0, 0, 0, 4347}, {0x3b, "\xe2\x8a\x91", 3, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 4349}, {0x69, NULL, 0, 0, 0, 4350},
	{0x6f, NULL, 0, 0, 0, 4351}, {0x6e, NULL, 0, 0, 0, 4352},
	{0x3b, "\xe2\x8a\x94", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 4354},
	{0x74, NULL, 0, 0, 0, 4355}, {0x65, NULL, 0, 0, 0, 4356},
	{0x72, NULL, 0, 0, 0, 4357}, {0x73, NULL, 0, 0, 0, 4358},
	{0x65, NULL, 0, 0, 0, 4359}, {0x63, NULL, 0, 0, 0, 4360},
	{0x74, NULL, 0, 0, 0, 4361}, {0x69, NULL, 0, 0, 0, 4362},
	{0x6f, NULL, 0, 0, 0, 4363}, {0x6e, NULL, 0, 0, 0, 4364},
	{0x3b, "\xe2\x8a\x93", 3, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 4366},
	{0x3b, "\xe2\x88\x9a", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 4368},
	{0x6c, NULL, 0, 0, 0, 4369}, {0x6c, NULL, 0, 0, 0, 4370},
	{0x43, NULL, 0, 0, 0, 4371}, {0x69, NULL, 0, 0, 0, 4372},
	{0x72, NULL, 0, 0, 0, 4373}, {0x63, NULL, 0, 0, 0, 4374},
	{0x6c, NULL, 0, 0, 0, 4375}, {0x65, NULL, 0, 0, 0, 4376},
	{0x3b, "\xe2\x88\x98", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 4378},
	{0x72, NULL, 0, 0, 0, 4379}, {0x3b, "\xe2\x8b\x86", 3, 0, 0, 0},
	{0x65, NULL, 0, 4382, 4381, 4388}, {0x6f, NULL, 0, 4387, 4386, 4404},
	{0x63, NULL, 0, 4384, 4383, 4407}, {0x64, NULL, 0, 0, 0, 4414},
	{0x61, NULL, 0, 4385, 0, 4417}, {0x48, NULL, 0, 0, 0, 4422},
	{0x73, NULL, 0, 0, 0, 4425}, {0x66, NULL, 0, 0, 0, 4428},
	{0x74, NULL, 0, 4389, 0, 4390}, {0x72, NULL, 0, 0, 0, 4392},
	{0x61, NULL, 0, 0, 0, 4391}, {0x3b, "\xce\x96", 2, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 4393}, {0x57, NULL, 0, 0, 0, 4394},
	{0x69, NULL, 0, 0, 0, 4395}, {0x64, NULL, 0, 0, 0, 4396},
	{0x74, NULL, 0, 0, 0, 4397}, {0x68, NULL, 0, 0, 0, 4398},
	{0x53, NULL, 0, 0, 0, 4399}, {0x70, NULL, 0, 0, 0, 4400},
	{0x61, NULL, 0, 0, 0, 4401}, {0x63, NULL, 0, 0, 0, 4402},
	{0x65, NULL, 0, 0, 0, 4403}, {0x3b, "\xe2\x80\x8b", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 4405}, {0x66, NULL, 0, 0, 0, 4406},
	{0x3b, "\xe2\x84\xa4", 3, 0, 0, 0}, {0x79, NULL, 0, 4408, 0, 4409},
	{0x61, NULL, 0, 0, 0, 4410}, {0x3b, "\xd0\x97", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4411}, {0x6f, NULL, 0, 0, 0, 4412},
	{0x6e, NULL, 0, 0, 0, 4413}, {0x3b, "\xc5\xbd", 2, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 4415}, {0x74, NULL, 0, 0, 0, 4416},
	{0x3b, "\xc5\xbb", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 4418},
	{0x75, NULL, 0, 0, 0, 4419}, {0x74, NULL, 0, 0, 0, 4420},
	{0x65, NULL, 0, 0, 0, 4421}, {0x3b, "\xc5\xb9", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 4423}, {0x79, NULL, 0, 0, 0, 4424},
	{0x3b, "\xd0\x96", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 4426},
	{0x72, NULL, 0, 0, 0, 4427}, {0x3b, "\xf0\x9d\x92\xb5", 4, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4429}, {0x3b, "\xe2\x84\xa8", 3, 0, 0, 0},
	{0x66, NULL, 0, 4432, 4431, 4435}, {0x73, NULL, 0, 4434, 0, 4437},
	{0x65, NULL, 0, 4433, 0, 4440}, {0x63, NULL, 0, 0, 0, 4444},
	{0x6f, NULL, 0, 0, 0, 4448}, {0x72, NULL, 0, 0, 0, 4436},
	{0x3b, "\xf0\x9d\x94\x9a", 4, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 4438},
	{0x72, NULL, 0, 0, 0, 4439}, {0x3b, "\xf0\x9d\x92\xb2", 4, 0, 0, 0},
	{0x64, NULL, 0, 0, 0, 4441}, {0x67, NULL, 0, 0, 0, 4442},
	{0x65, NULL, 0, 0, 0, 4443}, {0x3b, "\xe2\x8b\x80", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 4445}, {0x72, NULL, 0, 0, 0, 4446},
	{0x63, NULL, 0, 0, 0, 4447}, {0x3b, "\xc5\xb4", 2, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 4449}, {0x66, NULL, 0, 0, 0, 4450},
	{0x3b, "\xf0\x9d\x95\x8e", 4, 0, 0, 0}, {0x65, NULL, 0, 4453, 4452, 4460},
	{0x73, NULL, 0, 4458, 4457, 4509}, {0x63, NULL, 0, 4455, 4454, 4512},
	{0x64, NULL, 0, 0, 0, 4514}, {0x62, NULL, 0, 4456, 0, 4520},
	{0x44, NULL, 0, 0, 0, 4523}, {0x76, NULL, 0, 0, 0, 4527},
	{0x6f, NULL, 0, 4459, 0, 4532}, {0x66, NULL, 0, 0, 0, 4535},
	{0x72, NULL, 0, 4461, 0, 4462}, {0x65, NULL, 0, 0, 0, 4508},
	{0x74, NULL, 0, 4464, 4463, 4465}, {0x79, NULL, 0, 0, 0, 4495},
	{0x62, NULL, 0, 0, 0, 4505}, {0x69, NULL, 0, 4466, 0, 4467},
	{0x3b, "\xe2\x80\x96", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 4468},
	{0x61, NULL, 0, 0, 0, 4469}, {0x6c, NULL, 0, 0, 0, 4470},
	{0x53, NULL, 0, 4472, 4471, 4474}, {0x54, NULL, 0, 0, 0, 4483},
	{0x4c, NULL, 0, 4473, 0, 4488}, {0x42, NULL, 0, 0, 0, 4492},
	{0x65, NULL, 0, 0, 0, 4475}, {0x70, NULL, 0, 0, 0, 4476},
	{0x61, NULL, 0, 0, 0, 4477}, {0x72, NULL, 0, 0, 0, 4478},
	{0x61, NULL, 0, 0, 0, 4479}, {0x74, NULL, 0, 0, 0, 4480},
	{0x6f, NULL, 0, 0, 0, 4481}, {0x72, NULL, 0, 0, 0, 4482},
	{0x3b, "\xe2\x9d\x98", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 4484},
	{0x6c, NULL, 0, 0, 0, 4485}, {0x64, NULL, 0, 0, 0, 4486},
	{0x65, NULL, 0, 0, 0, 4487}, {0x3b, "\xe2\x89\x80", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 4489}, {0x6e, NULL, 0, 0, 0, 4490},
	{0x65, NULL, 0, 0, 0, 4491}, {0x3b, "\x7c", 1, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 4493}, {0x72, NULL, 0, 0, 0, 4494},
	{0x3b, "\xe2\x88\xa3", 3, 0, 0, 0}, {0x54, NULL, 0, 0, 0, 4496},
	{0x68, NULL, 0, 0, 0, 4497}, {0x69, NULL, 0, 0, 0, 4498},
	{0x6e, NULL, 0, 0, 0, 4499}, {0x53, NULL, 0, 0, 0, 4500},
	{0x70, NULL, 0, 0, 0, 4501}, {0x61, NULL, 0, 0, 0, 4502},
	{0x63, NULL, 0, 0, 0, 4503}, {0x65, NULL, 0, 0, 0, 4504},
	{0x3b, "\xe2\x80\x8a", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 4506},
	{0x72, NULL, 0, 0, 0, 4507}, {0x3b, "\xe2\x80\x96", 3, 0, 0, 0},
	{0x3b, "\xe2\x8b\x81", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 4510},
	{0x72, NULL, 0, 0, 0, 4511}, {0x3b, "\xf0\x9d\x92\xb1", 4, 0, 0, 0},
	{0x79, NULL, 0, 0, 0, 4513}, {0x3b, "\xd0\x92", 2, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 4515}, {0x73, NULL, 0, 0, 0, 4516},
	{0x68, NULL, 0, 0, 0, 4517}, {0x6c, NULL, 0, 4518, 0, 4519},
	{0x3b, "\xe2\x8a\xa9", 3, 0, 0, 0}, {0x3b, "\xe2\xab\xa6", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 4521}, {0x72, NULL, 0, 0, 0, 4522},
	{0x3b, "\xe2\xab\xab", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 4524},
	{0x73, NULL, 0, 0, 0, 4525}, {0x68, NULL, 0, 0, 0, 4526},
	{0x3b, "\xe2\x8a\xab", 3, 0, 0, 0}, {0x64, NULL, 0, 0, 0, 4528},
	{0x61, NULL, 0, 0, 0, 4529}, {0x73, NULL, 0, 0, 0, 4530},
	{0x68, NULL, 0, 0, 0, 4531}, {0x3b, "\xe2\x8a\xaa", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 4533}, {0x66, NULL, 0, 0, 0, 4534},
	{0x3b, "\xf0\x9d\x95\x8d", 4, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 4536},
	{0x3b, "\xf0\x9d\x94\x99", 4, 0, 0, 0}, {0x63, NULL, 0, 4539, 4538, 4546},
	{0x73, NULL, 0, 4544, 4543, 4552}, {0x55, NULL, 0, 4541, 4540, 4555},
	{0x61, NULL, 0, 0, 0, 4558}, {0x49, NULL, 0, 4542, 0, 4563},
	{0x41, NULL, 0, 0, 0, 4566}, {0x75, NULL, 0, 0, 0, 4569},
	{0x6f, NULL, 0, 4545, 0, 4572}, {0x66, NULL, 0, 0, 0, 4575},
	{0x79, NULL, 0, 4547, 0, 4548}, {0x69, NULL, 0, 0, 0, 4549},
	{0x3b, "\xd0\xab", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 4550},
	{0x63, NULL, 0, 0, 0, 4551}, {0x3b, "\xc5\xb6", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 4553}, {0x72, NULL, 0, 0, 0, 4554},
	{0x3b, "\xf0\x9d\x92\xb4", 4, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 4556},
	{0x79, NULL, 0, 0, 0, 4557}, {0x3b, "\xd0\xae", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 4559}, {0x75, NULL, 0, 0, 0, 4560},
	{0x74, NULL, 0, 0, 0, 4561}, {0x65, "\xc3\x9d", 2, 0, 0, 4562},
	{0x3b, "\xc3\x9d", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 4564},
	{0x79, NULL, 0, 0, 0, 4565}, {0x3b, "\xd0\x87", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 4567}, {0x79, NULL, 0, 0, 0, 4568},
	{0x3b, "\xd0\xaf", 2, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 4570},
	{0x6c, NULL, 0, 0, 0, 4571}, {0x3b, "\xc5\xb8", 2, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 4573}, {0x66, NULL, 0, 0, 0, 4574},
	{0x3b, "\xf0\x9d\x95\x90", 4, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 4576},
	{0x3b, "\xf0\x9d\x94\x9c", 4, 0, 0, 0}, {0x6c, NULL, 0, 4579, 4578, 4595},
	{0x73, NULL, 0, 4589, 4588, 4611}, {0x63, NULL, 0, 4581, 4580, 4614},
	{0x67, NULL, 0, 4586, 4585, 4620}, {0x61, NULL, 0, 4583, 4582, 4625},
	{0x62, NULL, 0, 0, 0, 4633}, {0x48, NULL, 0, 4584, 0, 4641},
	{0x41, NULL, 0, 0, 0, 4644}, {0x68, NULL, 0, 0, 0, 4647},
	{0x66, NULL, 0, 4587, 0, 4657}, {0x64, NULL, 0, 0, 0, 4664},
	{0x75, NULL, 0, 4594, 4593, 4677}, {0x70, NULL, 0, 4591, 4590, 4684},
	{0x72, NULL, 0, 0, 0, 4740}, {0x6f, NULL, 0, 4592, 0, 4760},
	{0x6d, NULL, 0, 0, 0, 4767}, {0x77, NULL, 0, 0, 0, 4773},
	{0x74, NULL, 0, 0, 0, 4779}, {0x74, NULL, 0, 4596, 0, 4597},
	{0x63, NULL, 0, 0, 0, 4600}, {0x72, NULL, 0, 0, 0, 4598},
	{0x69, NULL, 0, 0, 0, 4599}, {0x3b, "\xe2\x97\xb8", 3, 0, 0, 0},
	{0x72, NULL, 0, 4601, 0, 4602}, {0x6f, NULL, 0, 0, 0, 4605},
	{0x6f, NULL, 0, 0, 0, 4603}, {0x70, NULL, 0, 0, 0, 4604},
	{0x3b, "\xe2\x8c\x8f", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 4606},
	{0x6e, NULL, 0, 0, 0, 4607}, {0x65, NULL, 0, 4608, 0, 4609},
	{0x3b, "\xe2\x8c\x9c", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 4610},
	{0x3b, "\xe2\x8c\x9c", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 4612},
	{0x72, NULL, 0, 0, 0, 4613}, {0x3b, "\xf0\x9d\x93\x8a", 4, 0, 0, 0},
	{0x79, NULL, 0, 4615, 0, 4616}, {0x69, NULL, 0, 0, 0, 4617},
	{0x3b, "\xd1\x83", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 4618},
	{0x63, "\xc3\xbb", 2, 0, 0, 4619}, {0x3b, "\xc3\xbb", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4621}, {0x61, NULL, 0, 0, 0, 4622},
	{0x76, NULL, 0, 0, 0, 4623}, {0x65, "\xc3\xb9", 2, 0, 0, 4624},
	{0x3b, "\xc3\xb9", 2, 0, 0, 0}, {0x72, NULL, 0, 4626, 0, 4627},
	{0x63, NULL, 0, 0, 0, 4629}, {0x72, NULL, 0, 0, 0, 4628},
	{0x3b, "\xe2\x86\x91", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 4630},
	{0x74, NULL, 0, 0, 0, 4631}, {0x65, "\xc3\xba", 2, 0, 0, 4632},
	{0x3b, "\xc3\xba", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 4634},
	{0x65, NULL, 0, 4635, 0, 4636}, {0x63, NULL, 0, 0, 0, 4639},
	{0x76, NULL, 0, 0, 0, 4637}, {0x65, NULL, 0, 0, 0, 4638},
	{0x3b, "\xc5\xad", 2, 0, 0, 0}, {0x79, NULL, 0, 0, 0, 4640},
	{0x3b, "\xd1\x9e", 2, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 4642},
	{0x72, NULL, 0, 0, 0, 4643}, {0x3b, "\xe2\xa5\xa3", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4645}, {0x72, NULL, 0, 0, 0, 4646},
	{0x3b, "\xe2\x87\x91", 3, 0, 0, 0}, {0x62, NULL, 0, 4648, 0, 4649},
	{0x61, NULL, 0, 0, 0, 4652}, {0x6c, NULL, 0, 0, 0, 4650},
	{0x6b, NULL, 0, 0, 0, 4651}, {0x3b, "\xe2\x96\x80", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4653}, {0x72, NULL, 0, 4654, 0, 4655},
	{0x6c, NULL, 0, 0, 0, 4656}, {0x3b, "\xe2\x86\xbe", 3, 0, 0, 0},
	{0x3b, "\xe2\x86\xbf", 3, 0, 0, 0}, {0x72, NULL, 0, 4658, 0, 4659},
	{0x69, NULL, 0, 0, 0, 4660}, {0x3b, "\xf0\x9d\x94\xb2", 4, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 4661}, {0x68, NULL, 0, 0, 0, 4662},
	{0x74, NULL, 0, 0, 0, 4663}, {0x3b, "\xe2\xa5\xbe", 3, 0, 0, 0},
	{0x62, NULL, 0, 4666, 4665, 4667}, {0x68, NULL, 0, 0, 0, 4671},
	{0x61, NULL, 0, 0, 0, 4674}, {0x6c, NULL, 0, 0, 0, 4668},
	{0x61, NULL, 0, 0, 0, 4669}, {0x63, NULL, 0, 0, 0, 4670},
	{0x3b, "\xc5\xb1", 2, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 4672},
	{0x72, NULL, 0, 0, 0, 4673}, {0x3b, "\xe2\xa5\xae", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4675}, {0x72, NULL, 0, 0, 0, 4676},
	{0x3b, "\xe2\x87\x85", 3, 0, 0, 0}, {0x6d, NULL, 0, 4678, 0, 4679},
	{0x61, NULL, 0, 0, 0, 4681}, {0x6c, "\xc3\xbc", 2, 0, 0, 4680},
	{0x3b, "\xc3\xbc", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 4682},
	{0x72, NULL, 0, 0, 0, 4683}, {0x3b, "\xe2\x87\x88", 3, 0, 0, 0},
	{0x6c, NULL, 0, 4686, 4685, 4690}, {0x75, NULL, 0, 4689, 0, 4693},
	{0x64, NULL, 0, 4688, 4687, 4701}, {0x68, NULL, 0, 0, 0, 4710},
	{0x61, NULL, 0, 0, 0, 4727}, {0x73, NULL, 0, 0, 0, 4732},
	{0x75, NULL, 0, 0, 0, 4691}, {0x73, NULL, 0, 0, 0, 4692},
	{0x3b, "\xe2\x8a\x8e", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 4694},
	{0x61, NULL, 0, 0, 0, 4695}, {0x72, NULL, 0, 0, 0, 4696},
	{0x72, NULL, 0, 0, 0, 4697}, {0x6f, NULL, 0, 0, 0, 4698},
	{0x77, NULL, 0, 0, 0, 4699}, {0x73, NULL, 0, 0, 0, 4700},
	{0x3b, "\xe2\x87\x88", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 4702},
	{0x77, NULL, 0, 0, 0, 4703}, {0x6e, NULL, 0, 0, 0, 4704},
	{0x61, NULL, 0, 0, 0, 4705}, {0x72, NULL, 0, 0, 0, 4706},
	{0x72, NULL, 0, 0, 0, 4707}, {0x6f, NULL, 0, 0, 0, 4708},
	{0x77, NULL, 0, 0, 0, 4709}, {0x3b, "\xe2\x86\x95", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 4711}, {0x72, NULL, 0, 0, 0, 4712},
	{0x70, NULL, 0, 0, 0, 4713}, {0x6f, NULL, 0, 0, 0, 4714},
	{0x6f, NULL, 0, 0, 0, 4715}, {0x6e, NULL, 0, 0, 0, 4716},
	{0x72, NULL, 0, 4717, 0, 4718}, {0x6c, NULL, 0, 0, 0, 4723},
	{0x69, NULL, 0, 0, 0, 4719}, {0x67, NULL, 0, 0, 0, 4720},
	{0x68, NULL, 0, 0, 0, 4721}, {0x74, NULL, 0, 0, 0, 4722},
	{0x3b, "\xe2\x86\xbe", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 4724},
	{0x66, NULL, 0, 0, 0, 4725}, {0x74, NULL, 0, 0, 0, 4726},
	{0x3b, "\xe2\x86\xbf", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 4728},
	{0x72, NULL, 0, 0, 0, 4729}, {0x6f, NULL, 0, 0, 0, 4730},
	{0x77, NULL, 0, 0, 0, 4731}, {0x3b, "\xe2\x86\x91", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 4733}, {0x68, NULL, 0, 4735, 4734, 4736},
	{0x6c, NULL, 0, 0, 0, 4737}, {0x3b, "\xcf\x85", 2, 0, 0, 0},
	{0x3b, "\xcf\x92", 2, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 4738},
	{0x6e, NULL, 0, 0, 0, 4739}, {0x3b, "\xcf\x85", 2, 0, 0, 0},
	{0x69, NULL, 0, 4742, 4741, 4743}, {0x74, NULL, 0, 0, 0, 4746},
	{0x63, NULL, 0, 0, 0, 4749}, {0x6e, NULL, 0, 0, 0, 4744},
	{0x67, NULL, 0, 0, 0, 4745}, {0x3b, "\xc5\xaf", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4747}, {0x69, NULL, 0, 0, 0, 4748},
	{0x3b, "\xe2\x97\xb9", 3, 0, 0, 0}, {0x72, NULL, 0, 4750, 0, 4751},
	{0x6f, NULL, 0, 0, 0, 4754}, {0x6f, NULL, 0, 0, 0, 4752},
	{0x70, NULL, 0, 0, 0, 4753}, {0x3b, "\xe2\x8c\x8e", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4755}, {0x6e, NULL, 0, 0, 0, 4756},
	{0x65, NULL, 0, 4757, 0, 4758}, {0x3b, "\xe2\x8c\x9d", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4759}, {0x3b, "\xe2\x8c\x9d", 3, 0, 0, 0},
	{0x70, NULL, 0, 4761, 0, 4762}, {0x67, NULL, 0, 0, 0, 4764},
	{0x66, NULL, 0, 0, 0, 4763}, {0x3b, "\xf0\x9d\x95\xa6", 4, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 4765}, {0x6e, NULL, 0, 0, 0, 4766},
	{0x3b, "\xc5\xb3", 2, 0, 0, 0}, {0x6c, "\xc2\xa8", 2, 4768, 0, 4769},
	{0x61, NULL, 0, 0, 0, 4770}, {0x3b, "\xc2\xa8", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 4771}, {0x72, NULL, 0, 0, 0, 4772},
	{0x3b, "\xc5\xab", 2, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 4774},
	{0x6e, NULL, 0, 0, 0, 4775}, {0x67, NULL, 0, 0, 0, 4776},
	{0x6c, NULL, 0, 0, 0, 4777}, {0x65, NULL, 0, 0, 0, 4778},
	{0x3b, "\xe2\xa6\xa7", 3, 0, 0, 0}, {0x69, NULL, 0, 4781, 4780, 4782},
	{0x72, NULL, 0, 0, 0, 4786}, {0x64, NULL, 0, 0, 0, 4790},
	{0x6c, NULL, 0, 0, 0, 4783}, {0x64, NULL, 0, 0, 0, 4784},
	{0x65, NULL, 0, 0, 0, 4785}, {0x3b, "\xc5\xa9", 2, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 4787}, {0x66, NULL, 0, 4788, 0, 4789},
	{0x3b, "\xe2\x96\xb5", 3, 0, 0, 0}, {0x3b, "\xe2\x96\xb4", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 4791}, {0x74, NULL, 0, 0, 0, 4792},
	{0x3b, "\xe2\x8b\xb0", 3, 0, 0, 0}, {0x66, NULL, 0, 4795, 4794, 4803},
	{0x73, NULL, 0, 4801, 4800, 4805}, {0x62, NULL, 0, 4797, 4796, 4818},
	{0x65, NULL, 0, 4799, 0, 4821}, {0x61, NULL, 0, 4798, 0, 4840},
	{0x41, NULL, 0, 0, 0, 4866}, {0x63, NULL, 0, 0, 0, 4869},
	{0x79, NULL, 0, 0, 0, 4873}, {0x6f, NULL, 0, 4802, 0, 4883},
	{0x6b, NULL, 0, 0, 0, 4923}, {0x72, NULL, 0, 0, 0, 4804},
	{0x3b, "\xf0\x9d\x94\xa5", 4, 0, 0, 0}, {0x6c, NULL, 0, 4807, 4806, 4808},
	{0x74, NULL, 0, 0, 0, 4812}, {0x63, NULL, 0, 0, 0, 4816},
	{0x61, NULL, 0, 0, 0, 4809}, {0x73, NULL, 0, 0, 0, 4810},
	{0x68, NULL, 0, 0, 0, 4811}, {0x3b, "\xe2\x84\x8f", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4813}, {0x6f, NULL, 0, 0, 0, 4814},
	{0x6b, NULL, 0, 0, 0, 4815}, {0x3b, "\xc4\xa7", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4817}, {0x3b, "\xf0\x9d\x92\xbd", 4, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 4819}, {0x72, NULL, 0, 0, 0, 4820},
	{0x3b, "\xe2\x84\x8f", 3, 0, 0, 0}, {0x6c, NULL, 0, 4823, 4822, 4824},
	{0x72, NULL, 0, 0, 0, 4828}, {0x61, NULL, 0, 0, 0, 4832},
	{0x6c, NULL, 0, 0, 0, 4825}, {0x69, NULL, 0, 0, 0, 4826},
	{0x70, NULL, 0, 0, 0, 4827}, {0x3b, "\xe2\x80\xa6", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 4829}, {0x6f, NULL, 0, 0, 0, 4830},
	{0x6e, NULL, 0, 0, 0, 4831}, {0x3b, "\xe2\x8a\xb9", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4833}, {0x74, NULL, 0, 0, 0, 4834},
	{0x73, NULL, 0, 0, 0, 4835}, {0x75, NULL, 0, 4836, 0, 4837},
	{0x3b, "\xe2\x99\xa5", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 4838},
	{0x74, NULL, 0, 0, 0, 4839}, {0x3b, "\xe2\x99\xa5", 3, 0, 0, 0},
	{0x6d, NULL, 0, 4842, 4841, 4844}, {0x72, NULL, 0, 0, 0, 4848},
	{0x6c, NULL, 0, 4843, 0, 4860}, {0x69, NULL, 0, 0, 0, 4862},
	{0x69, NULL, 0, 0, 0, 4845}, {0x6c, NULL, 0, 0, 0, 4846},
	{0x74, NULL, 0, 0, 0, 4847}, {0x3b, "\xe2\x84\x8b", 3, 0, 0, 0},
	{0x72, NULL, 0, 4849, 0, 4850}, {0x64, NULL, 0, 0, 0, 4857},
	{0x63, NULL, 0, 4852, 4851, 4853}, {0x77, NULL, 0, 0, 0, 4856},
	{0x3b, "\xe2\x86\x94", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 4854},
	{0x72, NULL, 0, 0, 0, 4855}, {0x3b, "\xe2\xa5\x88", 3, 0, 0, 0},
	{0x3b, "\xe2\x86\xad", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 4858},
	{0x79, NULL, 0, 0, 0, 4859}, {0x3b, "\xd1\x8a", 2, 0, 0, 0},
	{0x66, NULL, 0, 0, 0, 4861}, {0x3b, "\xc2\xbd", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4863}, {0x73, NULL, 0, 0, 0, 4864},
	{0x70, NULL, 0, 0, 0, 4865}, {0x3b, "\xe2\x80\x8a", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4867}, {0x72, NULL, 0, 0, 0, 4868},
	{0x3b, "\xe2\x87\x94", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 4870},
	{0x72, NULL, 0, 0, 0, 4871}, {0x63, NULL, 0, 0, 0, 4872},
	{0x3b, "\xc4\xa5", 2, 0, 0, 0}, {0x70, NULL, 0, 4874, 0, 4875},
	{0x62, NULL, 0, 0, 0, 4879}, {0x68, NULL, 0, 0, 0, 4876},
	{0x65, NULL, 0, 0, 0, 4877}, {0x6e, NULL, 0, 0, 0, 4878},
	{0x3b, "\xe2\x80\x90", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 4880},
	{0x6c, NULL, 0, 0, 0, 4881}, {0x6c, NULL, 0, 0, 0, 4882},
	{0x3b, "\xe2\x81\x83", 3, 0, 0, 0}, {0x6f, NULL, 0, 4885, 4884, 4888},
	{0x72, NULL, 0, 4887, 0, 4910}, {0x6d, NULL, 0, 4886, 0, 4914},
	{0x61, NULL, 0, 0, 0, 4918}, {0x70, NULL, 0, 0, 0, 4921},
	{0x6b, NULL, 0, 0, 0, 4889}, {0x72, NULL, 0, 4890, 0, 4891},
	{0x6c, NULL, 0, 0, 0, 4901}, {0x69, NULL, 0, 0, 0, 4892},
	{0x67, NULL, 0, 0, 0, 4893}, {0x68, NULL, 0, 0, 0, 4894},
	{0x74, NULL, 0, 0, 0, 4895}, {0x61, NULL, 0, 0, 0, 4896},
	{0x72, NULL, 0, 0, 0, 4897}, {0x72, NULL, 0, 0, 0, 4898},
	{0x6f, NULL, 0, 0, 0, 4899}, {0x77, NULL, 0, 0, 0, 4900},
	{0x3b, "\xe2\x86\xaa", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 4902},
	{0x66, NULL, 0, 0, 0, 4903}, {0x74, NULL, 0, 0, 0, 4904},
	{0x61, NULL, 0, 0, 0, 4905}, {0x72, NULL, 0, 0, 0, 4906},
	{0x72, NULL, 0, 0, 0, 4907}, {0x6f, NULL, 0, 0, 0, 4908},
	{0x77, NULL, 0, 0, 0, 4909}, {0x3b, "\xe2\x86\xa9", 3, 0, 0, 0},
	{0x62, NULL, 0, 0, 0, 4911}, {0x61, NULL, 0, 0, 0, 4912},
	{0x72, NULL, 0, 0, 0, 4913}, {0x3b, "\xe2\x80\x95", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 4915}, {0x68, NULL, 0, 0, 0, 4916},
	{0x74, NULL, 0, 0, 0, 4917}, {0x3b, "\xe2\x88\xbb", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4919}, {0x72, NULL, 0, 0, 0, 4920},
	{0x3b, "\xe2\x87\xbf", 3, 0, 0, 0}, {0x66, NULL, 0, 0, 0, 4922},
	{0x3b, "\xf0\x9d\x95\x99", 4, 0, 0, 0}, {0x73, NULL, 0, 0, 0, 4924},
	{0x77, NULL, 0, 4925, 0, 4926}, {0x65, NULL, 0, 0, 0, 4931},
	{0x61, NULL, 0, 0, 0, 4927}, {0x72, NULL, 0, 0, 0, 4928},
	{0x6f, NULL, 0, 0, 0, 4929}, {0x77, NULL, 0, 0, 0, 4930},
	{0x3b, "\xe2\xa4\xa6", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 4932},
	{0x72, NULL, 0, 0, 0, 4933}, {0x6f, NULL, 0, 0, 0, 4934},
	{0x77, NULL, 0, 0, 0, 4935}, {0x3b, "\xe2\xa4\xa5", 3, 0, 0, 0},
	{0x68, NULL, 0, 4938, 4937, 4944}, {0x6f, NULL, 0, 4943, 4942, 4947},
	{0x66, NULL, 0, 4940, 4939, 4950}, {0x67, NULL, 0, 0, 0, 4952},
	{0x63, NULL, 0, 4941, 0, 4957}, {0x61, NULL, 0, 0, 0, 4964},
	{0x73, NULL, 0, 0, 0, 4970}, {0x6a, NULL, 0, 0, 0, 4973},
	{0x63, NULL, 0, 0, 0, 4945}, {0x79, NULL, 0, 0, 0, 4946},
	{0x3b, "\xd1\x85", 2, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 4948},
	{0x66, NULL, 0, 0, 0, 4949}, {0x3b, "\xf0\x9d\x95\x9c", 4, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4951}, {0x3b, "\xf0\x9d\x94\xa8", 4, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 4953}, {0x65, NULL, 0, 0, 0, 4954},
	{0x65, NULL, 0, 0, 0, 4955}, {0x6e, NULL, 0, 0, 0, 4956},
	{0x3b, "\xc4\xb8", 2, 0, 0, 0}, {0x79, NULL, 0, 4958, 0, 4959},
	{0x65, NULL, 0, 0, 0, 4960}, {0x3b, "\xd0\xba", 2, 0, 0, 0},
	{0x64, NULL, 0, 0, 0, 4961}, {0x69, NULL, 0, 0, 0, 4962},
	{0x6c, NULL, 0, 0, 0, 4963}, {0x3b, "\xc4\xb7", 2, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 4965}, {0x70, NULL, 0, 0, 0, 4966},
	{0x61, NULL, 0, 0, 0, 4967}, {0x76, NULL, 0, 4968, 0, 4969},
	{0x3b, "\xce\xba", 2, 0, 0, 0}, {0x3b, "\xcf\xb0", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 4971}, {0x72, NULL, 0, 0, 0, 4972},
	{0x3b, "\xf0\x9d\x93\x80", 4, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 4974},
	{0x79, NULL, 0, 0, 0, 4975}, {0x3b, "\xd1\x9c", 2, 0, 0, 0},
	{0x6e, NULL, 0, 4978, 4977, 4994}, {0x73, NULL, 0, 4988, 4987, 4999},
	{0x65, NULL, 0, 4980, 4979, 5009}, {0x6c, NULL, 0, 4985, 4984, 5010},
	{0x63, NULL, 0, 4982, 4981, 5026}, {0x64, NULL, 0, 0, 0, 5043},
	{0x61, NULL, 0, 4983, 0, 5046}, {0x44, NULL, 0, 0, 0, 5056},
	{0x6d, NULL, 0, 0, 0, 5063}, {0x67, NULL, 0, 4986, 0, 5085},
	{0x66, NULL, 0, 0, 0, 5097}, {0x75, NULL, 0, 4993, 4992, 5103},
	{0x71, NULL, 0, 4990, 4989, 5109}, {0x72, NULL, 0, 0, 0, 5158},
	{0x70, NULL, 0, 4991, 0, 5166}, {0x6f, NULL, 0, 0, 0, 5185},
	{0x78, NULL, 0, 0, 0, 5192}, {0x74, NULL, 0, 0, 0, 5219},
	{0x73, NULL, 0, 4995, 0, 4996}, {0x67, NULL, 0, 0, 0, 4998},
	{0x70, NULL, 0, 0, 0, 4997}, {0x3b, "\xe2\x80\x82", 3, 0, 0, 0},
	{0x3b, "\xc5\x8b", 2, 0, 0, 0}, {0x64, NULL, 0, 5001, 5000, 5002},
	{0x69, NULL, 0, 0, 0, 5005}, {0x63, NULL, 0, 0, 0, 5007},
	{0x6f, NULL, 0, 0, 0, 5003}, {0x74, NULL, 0, 0, 0, 5004},
	{0x3b, "\xe2\x89\x90", 3, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 5006},
	{0x3b, "\xe2\x89\x82", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5008},
	{0x3b, "\xe2\x84\xaf", 3, 0, 0, 0}, {0x3b, "\xe2\x85\x87", 3, 0, 0, 0},
	{0x6c, NULL, 0, 5012, 5011, 5014}, {0x73, NULL, 0, 0, 0, 5015},
	{0x69, NULL, 0, 5013, 0, 5020}, {0x3b, "\xe2\xaa\x99", 3, 0, 0, 0},
	{0x3b, "\xe2\x84\x93", 3, 0, 0, 0}, {0x64, NULL, 0, 5016, 0, 5017},
	{0x3b, "\xe2\xaa\x95", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 5018},
	{0x74, NULL, 0, 0, 0, 5019}, {0x3b, "\xe2\xaa\x97", 3, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 5021}, {0x74, NULL, 0, 0, 0, 5022},
	{0x65, NULL, 0, 0, 0, 5023}, {0x72, NULL, 0, 0, 0, 5024},
	{0x73, NULL, 0, 0, 0, 5025}, {0x3b, "\xe2\x8f\xa7", 3, 0, 0, 0},
	{0x6f, NULL, 0, 5028, 5027, 5030}, {0x79, NULL, 0, 0, 0, 5034},
	{0x69, NULL, 0, 5029, 0, 5035}, {0x61, NULL, 0, 0, 0, 5039},
	{0x6c, NULL, 0, 0, 0, 5031}, {0x6f, NULL, 0, 0, 0, 5032},
	{0x6e, NULL, 0, 0, 0, 5033}, {0x3b, "\xe2\x89\x95", 3, 0, 0, 0},
	{0x3b, "\xd1\x8d", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5036},
	{0x63, "\xc3\xaa", 2, 5037, 0, 5038}, {0x3b, "\xe2\x89\x96", 3, 0, 0, 0},
	{0x3b, "\xc3\xaa", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5040},
	{0x6f, NULL, 0, 0, 0, 5041}, {0x6e, NULL, 0, 0, 0, 5042},
	{0x3b, "\xc4\x9b", 2, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 5044},
	{0x74, NULL, 0, 0, 0, 5045}, {0x3b, "\xc4\x97", 2, 0, 0, 0},
	{0x73, NULL, 0, 5047, 0, 5048}, {0x63, NULL, 0, 0, 0, 5052},
	{0x74, NULL, 0, 0, 0, 5049}, {0x65, NULL, 0, 0, 0, 5050},
	{0x72, NULL, 0, 0, 0, 5051}, {0x3b, "\xe2\xa9\xae", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 5053}, {0x74, NULL, 0, 0, 0, 5054},
	{0x65, "\xc3\xa9", 2, 0, 0, 5055}, {0x3b, "\xc3\xa9", 2, 0, 0, 0},
	{0x6f, NULL, 0, 5057, 0, 5058}, {0x44, NULL, 0, 0, 0, 5060},
	{0x74, NULL, 0, 0, 0, 5059}, {0x3b, "\xe2\x89\x91", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 5061}, {0x74, NULL, 0, 0, 0, 5062},
	{0x3b, "\xe2\xa9\xb7", 3, 0, 0, 0}, {0x70, NULL, 0, 5065, 5064, 5066},
	{0x73, NULL, 0, 0, 0, 5075}, {0x61, NULL, 0, 0, 0, 5082},
	{0x74, NULL, 0, 0, 0, 5067}, {0x79, NULL, 0, 0, 0, 5068},
	{0x73, NULL, 0, 5070, 5069, 5071}, {0x76, NULL, 0, 0, 0, 5074},
	{0x3b, "\xe2\x88\x85", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 5072},
	{0x74, NULL, 0, 0, 0, 5073}, {0x3b, "\xe2\x88\x85", 3, 0, 0, 0},
	{0x3b, "\xe2\x88\x85", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 5076},
	{0x3b, "\xe2\x80\x83", 3, 5077, 0, 0}, {0x31, NULL, 0, 0, 0, 5078},
	{0x34, NULL, 0, 5079, 0, 5080}, {0x33, NULL, 0, 0, 0, 5081},
	{0x3b, "\xe2\x80\x85", 3, 0, 0, 0}, {0x3b, "\xe2\x80\x84", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 5083}, {0x72, NULL, 0, 0, 0, 5084},
	{0x3b, "\xc4\x93", 2, 0, 0, 0}, {0x72, NULL, 0, 5087, 5086, 5088},
	{0x73, NULL, 0, 0, 0, 5092}, {0x3b, "\xe2\xaa\x9a", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 5089}, {0x76, NULL, 0, 0, 0, 5090},
	{0x65, "\xc3\xa8", 2, 0, 0, 5091}, {0x3b, "\xc3\xa8", 2, 0, 0, 0},
	{0x64, NULL, 0, 5093, 0, 5094}, {0x3b, "\xe2\xaa\x96", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 5095}, {0x74, NULL, 0, 0, 0, 5096},
	{0x3b, "\xe2\xaa\x98", 3, 0, 0, 0}, {0x72, NULL, 0, 5098, 0, 5099},
	{0x44, NULL, 0, 0, 0, 5100}, {0x3b, "\xf0\x9d\x94\xa2", 4, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 5101}, {0x74, NULL, 0, 0, 0, 5102},
	{0x3b, "\xe2\x89\x92", 3, 0, 0, 0}, {0x72, NULL, 0, 5104, 0, 5105},
	{0x6d, NULL, 0, 0, 0, 5107}, {0x6f, NULL, 0, 0, 0, 5106},
	{0x3b, "\xe2\x82\xac", 3, 0, 0, 0}, {0x6c, "\xc3\xab", 2, 0, 0, 5108},
	{0x3b, "\xc3\xab", 2, 0, 0, 0}, {0x75, NULL, 0, 5111, 5110, 5113},
	{0x76, NULL, 0, 0, 0, 5127}, {0x73, NULL, 0, 5112, 0, 5133},
	{0x63, NULL, 0, 0, 0, 5149}, {0x65, NULL, 0, 5115, 5114, 5116},
	{0x69, NULL, 0, 0, 0, 5119}, {0x61, NULL, 0, 0, 0, 5124},
	{0x73, NULL, 0, 0, 0, 5117}, {0x74, NULL, 0, 0, 0, 5118},
	{0x3b, "\xe2\x89\x9f", 3, 0, 0, 0}, {0x76, NULL, 0, 0, 0, 5120},
	{0x44, NULL, 0, 5121, 0, 5122}, {0x3b, "\xe2\x89\xa1", 3, 0, 0, 0},
	{0x44, NULL, 0, 0, 0, 5123}, {0x3b, "\xe2\xa9\xb8", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 5125}, {0x73, NULL, 0, 0, 0, 5126},
	{0x3b, "\x3d", 1, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 5128},
	{0x61, NULL, 0, 0, 0, 5129}, {0x72, NULL, 0, 0, 0, 5130},
	{0x73, NULL, 0, 0, 0, 5131}, {0x6c, NULL, 0, 0, 0, 5132},
	{0x3b, "\xe2\xa7\xa5", 3, 0, 0, 0}, {0x6c, NULL, 0, 5134, 0, 5135},
	{0x69, NULL, 0, 0, 0, 5147}, {0x61, NULL, 0, 0, 0, 5136},
	{0x6e, NULL, 0, 0, 0, 5137}, {0x74, NULL, 0, 0, 0, 5138},
	{0x6c, NULL, 0, 5139, 0, 5140}, {0x67, NULL, 0, 0, 0, 5144},
	{0x65, NULL, 0, 0, 0, 5141}, {0x73, NULL, 0, 0, 0, 5142},
	{0x73, NULL, 0, 0, 0, 5143}, {0x3b, "\xe2\xaa\x95", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 5145}, {0x72, NULL, 0, 0, 0, 5146},
	{0x3b, "\xe2\xaa\x96", 3, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 5148},
	{0x3b, "\xe2\x89\x82", 3, 0, 0, 0}, {0x6f, NULL, 0, 5150, 0, 5151},
	{0x69, NULL, 0, 0, 0, 5155}, {0x6c, NULL, 0, 0, 0, 5152},
	{0x6f, NULL, 0, 0, 0, 5153}, {0x6e, NULL, 0, 0, 0, 5154},
	{0x3b, "\xe2\x89\x95", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5156},
	{0x63, NULL, 0, 0, 0, 5157}, {0x3b, "\xe2\x89\x96", 3, 0, 0, 0},
	{0x61, NULL, 0, 5159, 0, 5160}, {0x44, NULL, 0, 0, 0, 5163},
	{0x72, NULL, 0, 0, 0, 5161}, {0x72, NULL, 0, 0, 0, 5162},
	{0x3b, "\xe2\xa5\xb1", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 5164},
	{0x74, NULL, 0, 0, 0, 5165}, {0x3b, "\xe2\x89\x93", 3, 0, 0, 0},
	{0x6c, NULL, 0, 5168, 5167, 5169}, {0x73, NULL, 0, 0, 0, 5172},
	{0x61, NULL, 0, 0, 0, 5180}, {0x75, NULL, 0, 0, 0, 5170},
	{0x73, NULL, 0, 0, 0, 5171}, {0x3b, "\xe2\xa9\xb1", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 5173}, {0x6c, NULL, 0, 5175, 5174, 5176},
	{0x76, NULL, 0, 0, 0, 5179}, {0x3b, "\xce\xb5", 2, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 5177}, {0x6e, NULL, 0, 0, 0, 5178},
	{0x3b, "\xce\xb5", 2, 0, 0, 0}, {0x3b, "\xcf\xb5", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 5181}, {0x73, NULL, 0, 5182, 0, 5183},
	{0x3b, "\xe2\x8b\x95", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 5184},
	{0x3b, "\xe2\xa7\xa3", 3, 0, 0, 0}, {0x70, NULL, 0, 5186, 0, 5187},
	{0x67, NULL, 0, 0, 0, 5189}, {0x66, NULL, 0, 0, 0, 5188},
	{0x3b, "\xf0\x9d\x95\x96", 4, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 5190},
	{0x6e, NULL, 0, 0, 0, 5191}, {0x3b, "\xc4\x99", 2, 0, 0, 0},
	{0x69, NULL, 0, 5194, 5193, 5195}, {0x70, NULL, 0, 0, 0, 5198},
	{0x63, NULL, 0, 0, 0, 5217}, {0x73, NULL, 0, 0, 0, 5196},
	{0x74, NULL, 0, 0, 0, 5197}, {0x3b, "\xe2\x88\x83", 3, 0, 0, 0},
	{0x6f, NULL, 0, 5199, 0, 5200}, {0x65, NULL, 0, 0, 0, 5209},
	{0x6e, NULL, 0, 0, 0, 5201}, {0x65, NULL, 0, 0, 0, 5202},
	{0x6e, NULL, 0, 0, 0, 5203}, {0x74, NULL, 0, 0, 0, 5204},
	{0x69, NULL, 0, 0, 0, 5205}, {0x61, NULL, 0, 0, 0, 5206},
	{0x6c, NULL, 0, 0, 0, 5207}, {0x65, NULL, 0, 0, 0, 5208},
	{0x3b, "\xe2\x85\x87", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 5210},
	{0x74, NULL, 0, 0, 0, 5211}, {0x61, NULL, 0, 0, 0, 5212},
	{0x74, NULL, 0, 0, 0, 5213}, {0x69, NULL, 0, 0, 0, 5214},
	{0x6f, NULL, 0, 0, 0, 5215}, {0x6e, NULL, 0, 0, 0, 5216},
	{0x3b, "\xe2\x84\xb0", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 5218},
	{0x3b, "\x21", 1, 0, 0, 0}, {0x68, "\xc3\xb0", 2, 5220, 0, 5221},
	{0x61, NULL, 0, 0, 0, 5222}, {0x3b, "\xc3\xb0", 2, 0, 0, 0},
	{0x3b, "\xce\xb7", 2, 0, 0, 0}, {0x69, NULL, 0, 5225, 5224, 5240},
	{0x72, NULL, 0, 5234, 5233, 5244}, {0x64, NULL, 0, 5227, 5226, 5248},
	{0x66, NULL, 0, 5232, 5231, 5251}, {0x62, NULL, 0, 5229, 5228, 5253},
	{0x63, NULL, 0, 0, 0, 5258}, {0x61, NULL, 0, 5230, 0, 5264},
	{0x45, NULL, 0, 0, 0, 5277}, {0x67, NULL, 0, 0, 0, 5280},
	{0x65, NULL, 0, 0, 0, 5283}, {0x74, "\x3e", 1, 5239, 5238, 5314},
	{0x6e, NULL, 0, 5236, 5235, 5373}, {0x6f, NULL, 0, 0, 0, 5393},
	{0x6c, NULL, 0, 5237, 0, 5396}, {0x6a, NULL, 0, 0, 0, 5403},
	{0x76, NULL, 0, 0, 0, 5406}, {0x73, NULL, 0, 0, 0, 5417},
	{0x6d, NULL, 0, 0, 0, 5241}, {0x65, NULL, 0, 0, 0, 5242},
	{0x6c, NULL, 0, 0, 0, 5243}, {0x3b, "\xe2\x84\xb7", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 5245}, {0x76, NULL, 0, 0, 0, 5246},
	{0x65, NULL, 0, 0, 0, 5247}, {0x3b, "\x60", 1, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 5249}, {0x74, NULL, 0, 0, 0, 5250},
	{0x3b, "\xc4\xa1", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5252},
	{0x3b, "\xf0\x9d\x94\xa4", 4, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5254},
	{0x65, NULL, 0, 0, 0, 5255}, {0x76, NULL, 0, 0, 0, 5256},
	{0x65, NULL, 0, 0, 0, 5257}, {0x3b, "\xc4\x9f", 2, 0, 0, 0},
	{0x79, NULL, 0, 5259, 0, 5260}, {0x69, NULL, 0, 0, 0, 5261},
	{0x3b, "\xd0\xb3", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5262},
	{0x63, NULL, 0, 0, 0, 5263}, {0x3b, "\xc4\x9d", 2, 0, 0, 0},
	{0x6d, NULL, 0, 5266, 5265, 5267}, {0x70, NULL, 0, 0, 0, 5272},
	{0x63, NULL, 0, 0, 0, 5273}, {0x6d, NULL, 0, 0, 0, 5268},
	{0x61, NULL, 0, 0, 0, 5269}, {0x64, NULL, 0, 5270, 0, 5271},
	{0x3b, "\xce\xb3", 2, 0, 0, 0}, {0x3b, "\xcf\x9d", 2, 0, 0, 0},
	{0x3b, "\xe2\xaa\x86", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 5274},
	{0x74, NULL, 0, 0, 0, 5275}, {0x65, NULL, 0, 0, 0, 5276},
	{0x3b, "\xc7\xb5", 2, 0, 0, 0}, {0x6c, NULL, 0, 5278, 0, 5279},
	{0x3b, "\xe2\x89\xa7", 3, 0, 0, 0}, {0x3b, "\xe2\xaa\x8c", 3, 0, 0, 0},
	{0x67, NULL, 0, 5281, 0, 5282}, {0x3b, "\xe2\x89\xab", 3, 0, 0, 0},
	{0x3b, "\xe2\x8b\x99", 3, 0, 0, 0}, {0x71, NULL, 0, 5285, 5284, 5287},
	{0x73, NULL, 0, 0, 0, 5296}, {0x6c, NULL, 0, 5286, 0, 5313},
	{0x3b, "\xe2\x89\xa5", 3, 0, 0, 0}, {0x71, NULL, 0, 5289, 5288, 5290},
	{0x73, NULL, 0, 0, 0, 5291}, {0x3b, "\xe2\x89\xa5", 3, 0, 0, 0},
	{0x3b, "\xe2\x89\xa7", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 5292},
	{0x61, NULL, 0, 0, 0, 5293}, {0x6e, NULL, 0, 0, 0, 5294},
	{0x74, NULL, 0, 0, 0, 5295}, {0x3b, "\xe2\xa9\xbe", 3, 0, 0, 0},
	{0x64, NULL, 0, 5298, 5297, 5300}, {0x6c, NULL, 0, 0, 0, 5307},
	{0x63, NULL, 0, 5299, 0, 5311}, {0x3b, "\xe2\xa9\xbe", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 5301}, {0x74, NULL, 0, 0, 0, 5302},
	{0x6f, NULL, 0, 5303, 0, 5304}, {0x3b, "\xe2\xaa\x80", 3, 0, 0, 0},
	{0x6c, NULL, 0, 5305, 0, 5306}, {0x3b, "\xe2\xaa\x82", 3, 0, 0, 0},
	{0x3b, "\xe2\xaa\x84", 3, 0, 0, 0}, {0x65, NULL, 0, 5308, 0, 5309},
	{0x3b, "\xe2\x8b\x9b\xef\xb8\x80", 6, 0, 0, 0}, {0x73, NULL, 0, 0, 0, 5310},
	{0x3b, "\xe2\xaa\x94", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 5312},
	{0x3b, "\xe2\xaa\xa9", 3, 0, 0, 0}, {0x3b, "\xe2\x8b\x9b", 3, 0, 0, 0},
	{0x6c, NULL, 0, 5316, 5315, 5320}, {0x72, NULL, 0, 5319, 0, 5324},
	{0x63, NULL, 0, 5318, 5317, 5360}, {0x64, NULL, 0, 0, 0, 5365},
	{0x3b, "\x3e", 1, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 5368},
	{0x50, NULL, 0, 0, 0, 5321}, {0x61, NULL, 0, 0, 0, 5322},
	{0x72, NULL, 0, 0, 0, 5323}, {0x3b, "\xe2\xa6\x95", 3, 0, 0, 0},
	{0x65, NULL, 0, 5326, 5325, 5329}, {0x73, NULL, 0, 5328, 0, 5341},
	{0x64, NULL, 0, 5327, 0, 5344}, {0x61, NULL, 0, 0, 0, 5347},
	{0x6c, NULL, 0, 0, 0, 5356}, {0x71, NULL, 0, 0, 0, 5330},
	{0x71, NULL, 0, 5331, 0, 5332}, {0x6c, NULL, 0, 0, 0, 5337},
	{0x6c, NULL, 0, 0, 0, 5333}, {0x65, NULL, 0, 0, 0, 5334},
	{0x73, NULL, 0, 0, 0, 5335}, {0x73, NULL, 0, 0, 0, 5336},
	{0x3b, "\xe2\xaa\x8c", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 5338},
	{0x73, NULL, 0, 0, 0, 5339}, {0x73, NULL, 0, 0, 0, 5340},
	{0x3b, "\xe2\x8b\x9b", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 5342},
	{0x6d, NULL, 0, 0, 0, 5343}, {0x3b, "\xe2\x89\xb3", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 5345}, {0x74, NULL, 0, 0, 0, 5346},
	{0x3b, "\xe2\x8b\x97", 3, 0, 0, 0}, {0x72, NULL, 0, 5348, 0, 5349},
	{0x70, NULL, 0, 0, 0, 5351}, {0x72, NULL, 0, 0, 0, 5350},
	{0x3b, "\xe2\xa5\xb8", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 5352},
	{0x72, NULL, 0, 0, 0, 5353}, {0x6f, NULL, 0, 0, 0, 5354},
	{0x78, NULL, 0, 0, 0, 5355}, {0x3b, "\xe2\xaa\x86", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 5357}, {0x73, NULL, 0, 0, 0, 5358},
	{0x73, NULL, 0, 0, 0, 5359}, {0x3b, "\xe2\x89\xb7", 3, 0, 0, 0},
	{0x69, NULL, 0, 5361, 0, 5362}, {0x63, NULL, 0, 0, 0, 5364},
	{0x72, NULL, 0, 0, 0, 5363}, {0x3b, "\xe2\xa9\xba", 3, 0, 0, 0},
	{0x3b, "\xe2\xaa\xa7", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 5366},
	{0x74, NULL, 0, 0, 0, 5367}, {0x3b, "\xe2\x8b\x97", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 5369}, {0x65, NULL, 0, 0, 0, 5370},
	{0x73, NULL, 0, 0, 0, 5371}, {0x74, NULL, 0, 0, 0, 5372},
	{0x3b, "\xe2\xa9\xbc", 3, 0, 0, 0}, {0x65, NULL, 0, 5375, 5374, 5377},
	{0x73, NULL, 0, 0, 0, 5382}, {0x61, NULL, 0, 5376, 0, 5385},
	{0x45, NULL, 0, 0, 0, 5392}, {0x71, NULL, 0, 5378, 0, 5379},
	{0x3b, "\xe2\xaa\x88", 3, 0, 0, 0}, {0x71, NULL, 0, 5380, 0, 5381},
	{0x3b, "\xe2\xaa\x88", 3, 0, 0, 0}, {0x3b, "\xe2\x89\xa9", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 5383}, {0x6d, NULL, 0, 0, 0, 5384},
	{0x3b, "\xe2\x8b\xa7", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 5386},
	{0x70, NULL, 0, 5387, 0, 5388}, {0x3b, "\xe2\xaa\x8a", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 5389}, {0x6f, NULL, 0, 0, 0, 5390},
	{0x78, NULL, 0, 0, 0, 5391}, {0x3b, "\xe2\xaa\x8a", 3, 0, 0, 0},
	{0x3b, "\xe2\x89\xa9", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 5394},
	{0x66, NULL, 0, 0, 0, 5395}, {0x3b, "\xf0\x9d\x95\x98", 4, 0, 0, 0},
	{0x61, NULL, 0, 5398, 5397, 5400}, {0x6a, NULL, 0, 0, 0, 5401},
	{0x45, NULL, 0, 5399, 0, 5402}, {0x3b, "\xe2\x89\xb7", 3, 0, 0, 0},
	{0x3b, "\xe2\xaa\xa5", 3, 0, 0, 0}, {0x3b, "\xe2\xaa\xa4", 3, 0, 0, 0},
	{0x3b, "\xe2\xaa\x92", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 5404},
	{0x79, NULL, 0, 0, 0, 5405}, {0x3b, "\xd1\x93", 2, 0, 0, 0},
	{0x6e, NULL, 0, 5407, 0, 5408}, {0x65, NULL, 0, 0, 0, 5410},
	{0x45, NULL, 0, 0, 0, 5409}, {0x3b, "\xe2\x89\xa9\xef\xb8\x80", 6, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 5411}, {0x74, NULL, 0, 0, 0, 5412},
	{0x6e, NULL, 0, 0, 0, 5413}, {0x65, NULL, 0, 0, 0, 5414},
	{0x71, NULL, 0, 0, 0, 5415}, {0x71, NULL, 0, 0, 0, 5416},
	{0x3b, "\xe2\x89\xa9\xef\xb8\x80", 6, 0, 0, 0}, {0x69, NULL, 0, 5418, 0, 5419},
	{0x63, NULL, 0, 0, 0, 5425}, {0x6d, NULL, 0, 0, 0, 5420},
	{0x65, NULL, 0, 5422, 5421, 5423}, {0x6c, NULL, 0, 0, 0, 5424},
	{0x3b, "\xe2\x89\xb3", 3, 0, 0, 0}, {0x3b, "\xe2\xaa\x8e", 3, 0, 0, 0},
	{0x3b, "\xe2\xaa\x90", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5426},
	{0x3b, "\xe2\x84\x8a", 3, 0, 0, 0}, {0x6c, NULL, 0, 5429, 5428, 5442},
	{0x74, NULL, 0, 5437, 5436, 5450}, {0x65, NULL, 0, 5431, 5430, 5454},
	{0x68, NULL, 0, 5435, 5434, 5473}, {0x63, NULL, 0, 5433, 5432, 5487},
	{0x64, NULL, 0, 0, 0, 5511}, {0x61, NULL, 0, 0, 0, 5514},
	{0x69, NULL, 0, 0, 0, 5551}, {0x66, NULL, 0, 0, 0, 5614},
	{0x77, NULL, 0, 5441, 5440, 5616}, {0x72, NULL, 0, 5439, 5438, 5627},
	{0x73, NULL, 0, 0, 0, 5635}, {0x6f, NULL, 0, 0, 0, 5647},
	{0x79, NULL, 0, 0, 0, 5700}, {0x75, NULL, 0, 0, 0, 5705},
	{0x75, NULL, 0, 0, 0, 5443}, {0x62, NULL, 0, 0, 0, 5444},
	{0x73, NULL, 0, 0, 0, 5445}, {0x75, NULL, 0, 5446, 0, 5447},
	{0x3b, "\xe2\x99\xa3", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 5448},
	{0x74, NULL, 0, 0, 0, 5449}, {0x3b, "\xe2\x99\xa3", 3, 0, 0, 0},
	{0x64, NULL, 0, 0, 0, 5451}, {0x6f, NULL, 0, 0, 0, 5452},
	{0x74, NULL, 0, 0, 0, 5453}, {0x3b, "\xe2\x8b\xaf", 3, 0, 0, 0},
	{0x6d, NULL, 0, 5456, 5455, 5457}, {0x6e, NULL, 0, 0, 0, 5462},
	{0x64, NULL, 0, 0, 0, 5470}, {0x70, NULL, 0, 0, 0, 5458},
	{0x74, NULL, 0, 0, 0, 5459}, {0x79, NULL, 0, 0, 0, 5460},
	{0x76, NULL, 0, 0, 0, 5461}, {0x3b, "\xe2\xa6\xb2", 3, 0, 0, 0},
	{0x74, "\xc2\xa2", 2, 0, 0, 5463}, {0x65, NULL, 0, 5464, 0, 5465},
	{0x3b, "\xc2\xa2", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5466},
	{0x64, NULL, 0, 0, 0, 5467}, {0x6f, NULL, 0, 0, 0, 5468},
	{0x74, NULL, 0, 0, 0, 5469}, {0x3b, "\xc2\xb7", 2, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 5471}, {0x6c, "\xc2\xb8", 2, 0, 0, 5472},
	{0x3b, "\xc2\xb8", 2, 0, 0, 0}, {0x65, NULL, 0, 5475, 5474, 5476},
	{0x69, NULL, 0, 0, 0, 5484}, {0x63, NULL, 0, 0, 0, 5485},
	{0x63, NULL, 0, 0, 0, 5477}, {0x6b, NULL, 0, 0, 0, 5478},
	{0x6d, NULL, 0, 5479, 0, 5480}, {0x3b, "\xe2\x9c\x93", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 5481}, {0x72, NULL, 0, 0, 0, 5482},
	{0x6b, NULL, 0, 0, 0, 5483}, {0x3b, "\xe2\x9c\x93", 3, 0, 0, 0},
	{0x3b, "\xcf\x87", 2, 0, 0, 0}, {0x79, NULL, 0, 0, 0, 5486},
	{0x3b, "\xd1\x87", 2, 0, 0, 0}, {0x69, NULL, 0, 5489, 5488, 5491},
	{0x75, NULL, 0, 0, 0, 5494}, {0x65, NULL, 0, 5490, 0, 5500},
	{0x61, NULL, 0, 0, 0, 5504}, {0x72, NULL, 0, 0, 0, 5492},
	{0x63, NULL, 0, 0, 0, 5493}, {0x3b, "\xc4\x89", 2, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 5495}, {0x73, NULL, 0, 0, 0, 5496},
	{0x73, NULL, 0, 5497, 0, 5498}, {0x3b, "\xe2\xa9\x8c", 3, 0, 0, 0},
	{0x6d, NULL, 0, 0, 0, 5499}, {0x3b, "\xe2\xa9\x90", 3, 0, 0, 0},
	{0x64, NULL, 0, 0, 0, 5501}, {0x69, NULL, 0, 0, 0, 5502},
	{0x6c, "\xc3\xa7", 2, 0, 0, 5503}, {0x3b, "\xc3\xa7", 2, 0, 0, 0},
	{0x72, NULL, 0, 5505, 0, 5506}, {0x70, NULL, 0, 0, 0, 5509},
	{0x6f, NULL, 0, 0, 0, 5507}, {0x6e, NULL, 0, 0, 0, 5508},
	{0x3b, "\xc4\x8d", 2, 0, 0, 0}, {0x73, NULL, 0, 0, 0, 5510},
	{0x3b, "\xe2\xa9\x8d", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 5512},
	{0x74, NULL, 0, 0, 0, 5513}, {0x3b, "\xc4\x8b", 2, 0, 0, 0},
	{0x70, NULL, 0, 5516, 5515, 5517}, {0x72, NULL, 0, 0, 0, 5541},
	{0x63, NULL, 0, 0, 0, 5547}, {0x63, NULL, 0, 5519, 5518, 5523},
	{0x73, NULL, 0, 5522, 0, 5529}, {0x61, NULL, 0, 5521, 5520, 5530},
	{0x62, NULL, 0, 0, 0, 5533}, {0x3b, "\xe2\x88\xa9", 3, 0, 0, 0},
	{0x64, NULL, 0, 0, 0, 5538}, {0x75, NULL, 0, 5524, 0, 5525},
	{0x61, NULL, 0, 0, 0, 5527}, {0x70, NULL, 0, 0, 0, 5526},
	{0x3b, "\xe2\xa9\x87", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 5528},
	{0x3b, "\xe2\xa9\x8b", 3, 0, 0, 0}, {0x3b, "\xe2\x88\xa9\xef\xb8\x80", 6, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 5531}, {0x64, NULL, 0, 0, 0, 5532},
	{0x3b, "\xe2\xa9\x84", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5534},
	{0x63, NULL, 0, 0, 0, 5535}, {0x75, NULL, 0, 0, 0, 5536},
	{0x70, NULL, 0, 0, 0, 5537}, {0x3b, "\xe2\xa9\x89", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 5539}, {0x74, NULL, 0, 0, 0, 5540},
	{0x3b, "\xe2\xa9\x80", 3, 0, 0, 0}, {0x6f, NULL, 0, 5542, 0, 5543},
	{0x65, NULL, 0, 0, 0, 5545}, {0x6e, NULL, 0, 0, 0, 5544},
	{0x3b, "\xcb\x87", 2, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 5546},
	{0x3b, "\xe2\x81\x81", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 5548},
	{0x74, NULL, 0, 0, 0, 5549}, {0x65, NULL, 0, 0, 0, 5550},
	{0x3b, "\xc4\x87", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5552},
	{0x65, NULL, 0, 5554, 5553, 5559}, {0x6d, NULL, 0, 5558, 5557, 5560},
	{0x45, NULL, 0, 5556, 5555, 5563}, {0x63, NULL, 0, 0, 0, 5564},
	{0x3b, "\xe2\x97\x8b", 3, 0, 0, 0}, {0x73, NULL, 0, 0, 0, 5605},
	{0x66, NULL, 0, 0, 0, 5609}, {0x3b, "\xe2\x89\x97", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 5561}, {0x64, NULL, 0, 0, 0, 5562},
	{0x3b, "\xe2\xab\xaf", 3, 0, 0, 0}, {0x3b, "\xe2\xa7\x83", 3, 0, 0, 0},
	{0x65, NULL, 0, 5566, 5565, 5567}, {0x6c, NULL, 0, 0, 0, 5569},
	{0x3b, "\xcb\x86", 2, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 5568},
	{0x3b, "\xe2\x89\x97", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 5570},
	{0x64, NULL, 0, 5571, 0, 5572}, {0x61, NULL, 0, 0, 0, 5590},
	{0x61, NULL, 0, 5574, 5573, 5577}, {0x64, NULL, 0, 5576, 0, 5580},
	{0x53, NULL, 0, 5575, 0, 5584}, {0x52, NULL, 0, 0, 0, 5585},
	{0x63, NULL, 0, 0, 0, 5586}, {0x73, NULL, 0, 0, 0, 5578},
	{0x74, NULL, 0, 0, 0, 5579}, {0x3b, "\xe2\x8a\x9b", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 5581}, {0x73, NULL, 0, 0, 0, 5582},
	{0x68, NULL, 0, 0, 0, 5583}, {0x3b, "\xe2\x8a\x9d", 3, 0, 0, 0},
	{0x3b, "\xe2\x93\x88", 3, 0, 0, 0}, {0x3b, "\xc2\xae", 2, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 5587}, {0x72, NULL, 0, 0, 0, 5588},
	{0x63, NULL, 0, 0, 0, 5589}, {0x3b, "\xe2\x8a\x9a", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 5591}, {0x72, NULL, 0, 0, 0, 5592},
	{0x6f, NULL, 0, 0, 0, 5593}, {0x77, NULL, 0, 0, 0, 5594},
	{0x72, NULL, 0, 5595, 0, 5596}, {0x6c, NULL, 0, 0, 0, 5601},
	{0x69, NULL, 0, 0, 0, 5597}, {0x67, NULL, 0, 0, 0, 5598},
	{0x68, NULL, 0, 0, 0, 5599}, {0x74, NULL, 0, 0, 0, 5600},
	{0x3b, "\xe2\x86\xbb", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 5602},
	{0x66, NULL, 0, 0, 0, 5603}, {0x74, NULL, 0, 0, 0, 5604},
	{0x3b, "\xe2\x86\xba", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 5606},
	{0x69, NULL, 0, 0, 0, 5607}, {0x72, NULL, 0, 0, 0, 5608},
	{0x3b, "\xe2\xa7\x82", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 5610},
	{0x69, NULL, 0, 0, 0, 5611}, {0x6e, NULL, 0, 0, 0, 5612},
	{0x74, NULL, 0, 0, 0, 5613}, {0x3b, "\xe2\xa8\x90", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 5615}, {0x3b, "\xf0\x9d\x94\xa0", 4, 0, 0, 0},
	{0x69, NULL, 0, 5617, 0, 5618}, {0x63, NULL, 0, 0, 0, 5621},
	{0x6e, NULL, 0, 0, 0, 5619}, {0x74, NULL, 0, 0, 0, 5620},
	{0x3b, "\xe2\x88\xb1", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 5622},
	{0x6e, NULL, 0, 0, 0, 5623}, {0x69, NULL, 0, 0, 0, 5624},
	{0x6e, NULL, 0, 0, 0, 5625}, {0x74, NULL, 0, 0, 0, 5626},
	{0x3b, "\xe2\x88\xb2", 3, 0, 0, 0}, {0x6f, NULL, 0, 5628, 0, 5629},
	{0x61, NULL, 0, 0, 0, 5632}, {0x73, NULL, 0, 0, 0, 5630},
	{0x73, NULL, 0, 0, 0, 5631}, {0x3b, "\xe2\x9c\x97", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 5633}, {0x72, NULL, 0, 0, 0, 5634},
	{0x3b, "\xe2\x86\xb5", 3, 0, 0, 0}, {0x75, NULL, 0, 5636, 0, 5637},
	{0x63, NULL, 0, 0, 0, 5645}, {0x70, NULL, 0, 5638, 0, 5639},
	{0x62, NULL, 0, 0, 0, 5642}, {0x65, NULL, 0, 5640, 0, 5641},
	{0x3b, "\xe2\xab\x90", 3, 0, 0, 0}, {0x3b, "\xe2\xab\x92", 3, 0, 0, 0},
	{0x65, NULL, 0, 5643, 0, 5644}, {0x3b, "\xe2\xab\x8f", 3, 0, 0, 0},
	{0x3b, "\xe2\xab\x91", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5646},
	{0x3b, "\xf0\x9d\x92\xb8", 4, 0, 0, 0}, {0x6e, NULL, 0, 5649, 5648, 5651},
	{0x70, NULL, 0, 0, 0, 5661}, {0x6d, NULL, 0, 5650, 0, 5672},
	{0x6c, NULL, 0, 0, 0, 5693}, {0x69, NULL, 0, 5652, 0, 5653},
	{0x67, NULL, 0, 0, 0, 5656}, {0x6e, NULL, 0, 0, 0, 5654},
	{0x74, NULL, 0, 0, 0, 5655}, {0x3b, "\xe2\x88\xae", 3, 0, 0, 0},
	{0x64, NULL, 0, 5657, 0, 5658}, {0x3b, "\xe2\x89\x85", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 5659}, {0x74, NULL, 0, 0, 0, 5660},
	{0x3b, "\xe2\xa9\xad", 3, 0, 0, 0}, {0x72, NULL, 0, 5663, 5662, 5664},
	{0x79, "\xc2\xa9", 2, 0, 0, 5667}, {0x66, NULL, 0, 0, 0, 5671},
	{0x6f, NULL, 0, 0, 0, 5665}, {0x64, NULL, 0, 0, 0, 5666},
	{0x3b, "\xe2\x88\x90", 3, 0, 0, 0}, {0x73, NULL, 0, 5668, 0, 5669},
	{0x3b, "\xc2\xa9", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5670},
	{0x3b, "\xe2\x84\x97", 3, 0, 0, 0}, {0x3b, "\xf0\x9d\x95\x94", 4, 0, 0, 0},
	{0x70, NULL, 0, 5673, 0, 5674}, {0x6d, NULL, 0, 0, 0, 5689},
	{0x66, NULL, 0, 5676, 5675, 5677}, {0x6c, NULL, 0, 0, 0, 5679},
	{0x3b, "\xe2\x88\x81", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 5678},
	{0x3b, "\xe2\x88\x98", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 5680},
	{0x78, NULL, 0, 5681, 0, 5682}, {0x6d, NULL, 0, 0, 0, 5685},
	{0x65, NULL, 0, 0, 0, 5683}, {0x73, NULL, 0, 0, 0, 5684},
	{0x3b, "\xe2\x84\x82", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 5686},
	{0x6e, NULL, 0, 0, 0, 5687}, {0x74, NULL, 0, 0, 0, 5688},
	{0x3b, "\xe2\x88\x81", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 5690},
	{0x74, NULL, 0, 5691, 0, 5692}, {0x3b, "\x2c", 1, 0, 0, 0},
	{0x3b, "\x40", 1, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 5694},
	{0x6e, NULL, 0, 0, 0, 5695}, {0x65, NULL, 0, 5696, 0, 5697},
	{0x3b, "\x3a", 1, 0, 0, 0}, {0x71, NULL, 0, 5698, 0, 5699},
	{0x3b, "\xe2\x89\x94", 3, 0, 0, 0}, {0x3b, "\xe2\x89\x94", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 5701}, {0x63, NULL, 0, 0, 0, 5702},
	{0x74, NULL, 0, 0, 0, 5703}, {0x79, NULL, 0, 0, 0, 5704},
	{0x3b, "\xe2\x8c\xad", 3, 0, 0, 0}, {0x70, NULL, 0, 5707, 5706, 5712},
	{0x76, NULL, 0, 5711, 5710, 5735}, {0x65, NULL, 0, 5709, 5708, 5738},
	{0x6c, NULL, 0, 0, 0, 5744}, {0x64, NULL, 0, 0, 0, 5750},
	{0x77, NULL, 0, 0, 0, 5757}, {0x72, NULL, 0, 0, 0, 5760},
	{0x64, NULL, 0, 5714, 5713, 5718}, {0x73, NULL, 0, 5717, 0, 5721},
	{0x62, NULL, 0, 5716, 5715, 5722}, {0x63, NULL, 0, 0, 0, 5727},
	{0x3b, "\xe2\x88\xaa", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 5733},
	{0x6f, NULL, 0, 0, 0, 5719}, {0x74, NULL, 0, 0, 0, 5720},
	{0x3b, "\xe2\x8a\x8d", 3, 0, 0, 0}, {0x3b, "\xe2\x88\xaa\xef\xb8\x80", 6, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 5723}, {0x63, NULL, 0, 0, 0, 5724},
	{0x61, NULL, 0, 0, 0, 5725}, {0x70, NULL, 0, 0, 0, 5726},
	{0x3b, "\xe2\xa9\x88", 3, 0, 0, 0}, {0x75, NULL, 0, 5728, 0, 5729},
	{0x61, NULL, 0, 0, 0, 5731}, {0x70, NULL, 0, 0, 0, 5730},
	{0x3b, "\xe2\xa9\x8a", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 5732},
	{0x3b, "\xe2\xa9\x86", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5734},
	{0x3b, "\xe2\xa9\x85", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 5736},
	{0x65, NULL, 0, 0, 0, 5737}, {0x3b, "\xe2\x8b\x8e", 3, 0, 0, 0},
	{0x73, NULL, 0, 5739, 0, 5740}, {0x70, NULL, 0, 0, 0, 5742},
	{0x63, NULL, 0, 0, 0, 5741}, {0x3b, "\xe2\x8b\x9f", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 5743}, {0x3b, "\xe2\x8b\x9e", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 5745}, {0x72, NULL, 0, 0, 0, 5746},
	{0x72, NULL, 0, 0, 0, 5747}, {0x70, NULL, 0, 5748, 0, 5749},
	{0x3b, "\xe2\x86\xb6", 3, 0, 0, 0}, {0x3b, "\xe2\xa4\xbd", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 5751}, {0x72, NULL, 0, 0, 0, 5752},
	{0x72, NULL, 0, 0, 0, 5753}, {0x72, NULL, 0, 5754, 0, 5755},
	{0x6c, NULL, 0, 0, 0, 5756}, {0x3b, "\xe2\xa4\xb5", 3, 0, 0, 0},
	{0x3b, "\xe2\xa4\xb8", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 5758},
	{0x64, NULL, 0, 0, 0, 5759}, {0x3b, "\xe2\x8b\x8f", 3, 0, 0, 0},
	{0x72, NULL, 0, 5762, 5761, 5764}, {0x76, NULL, 0, 0, 0, 5767},
	{0x6c, NULL, 0, 5763, 0, 5784}, {0x61, NULL, 0, 0, 0, 5807},
	{0x65, NULL, 0, 0, 0, 5765}, {0x6e, "\xc2\xa4", 2, 0, 0, 5766},
	{0x3b, "\xc2\xa4", 2, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 5768},
	{0x61, NULL, 0, 0, 0, 5769}, {0x72, NULL, 0, 0, 0, 5770},
	{0x72, NULL, 0, 0, 0, 5771}, {0x6f, NULL, 0, 0, 0, 5772},
	{0x77, NULL, 0, 0, 0, 5773}, {0x72, NULL, 0, 5774, 0, 5775},
	{0x6c, NULL, 0, 0, 0, 5780}, {0x69, NULL, 0, 0, 0, 5776},
	{0x67, NULL, 0, 0, 0, 5777}, {0x68, NULL, 0, 0, 0, 5778},
	{0x74, NULL, 0, 0, 0, 5779}, {0x3b, "\xe2\x86\xb7", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 5781}, {0x66, NULL, 0, 0, 0, 5782},
	{0x74, NULL, 0, 0, 0, 5783}, {0x3b, "\xe2\x86\xb6", 3, 0, 0, 0},
	{0x79, NULL, 0, 0, 0, 5785}, {0x76, NULL, 0, 5787, 5786, 5788},
	{0x77, NULL, 0, 0, 0, 5791}, {0x65, NULL, 0, 0, 0, 5796},
	{0x65, NULL, 0, 0, 0, 5789}, {0x65, NULL, 0, 0, 0, 5790},
	{0x3b, "\xe2\x8b\x8e", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 5792},
	{0x64, NULL, 0, 0, 0, 5793}, {0x67, NULL, 0, 0, 0, 5794},
	{0x65, NULL, 0, 0, 0, 5795}, {0x3b, "\xe2\x8b\x8f", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 5797}, {0x73, NULL, 0, 5798, 0, 5799},
	{0x70, NULL, 0, 0, 0, 5803}, {0x75, NULL, 0, 0, 0, 5800},
	{0x63, NULL, 0, 0, 0, 5801}, {0x63, NULL, 0, 0, 0, 5802},
	{0x3b, "\xe2\x8b\x9f", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5804},
	{0x65, NULL, 0, 0, 0, 5805}, {0x63, NULL, 0, 0, 0, 5806},
	{0x3b, "\xe2\x8b\x9e", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5808},
	{0x72, NULL, 0, 0, 0, 5809}, {0x6d, NULL, 0, 5810, 0, 5811},
	{0x3b, "\xe2\x86\xb7", 3, 0, 0, 0}, {0x3b, "\xe2\xa4\xbc", 3, 0, 0, 0},
	{0x69, NULL, 0, 5814, 5813, 5831}, {0x73, NULL, 0, 5824, 5823, 5875},
	{0x63, NULL, 0, 5816, 5815, 5888}, {0x66, NULL, 0, 5821, 5820, 5895},
	{0x61, NULL, 0, 5818, 5817, 5902}, {0x62, NULL, 0, 0, 0, 5920},
	{0x48, NULL, 0, 5819, 0, 5930}, {0x41, NULL, 0, 0, 0, 5933},
	{0x68, NULL, 0, 0, 0, 5936}, {0x65, NULL, 0, 5822, 0, 5942},
	{0x64, NULL, 0, 0, 0, 5954}, {0x77, NULL, 0, 5829, 5828, 5970},
	{0x6f, NULL, 0, 5826, 5825, 5976}, {0x72, NULL, 0, 0, 0, 6061},
	{0x6c, NULL, 0, 5827, 0, 6077}, {0x6a, NULL, 0, 0, 0, 6086},
	{0x7a, NULL, 0, 0, 0, 6089}, {0x75, NULL, 0, 5830, 0, 6099},
	{0x74, NULL, 0, 0, 0, 6107}, {0x67, NULL, 0, 5833, 5832, 5836},
	{0x76, NULL, 0, 5835, 0, 5841}, {0x65, NULL, 0, 5834, 0, 5858},
	{0x61, NULL, 0, 0, 0, 5859}, {0x73, NULL, 0, 0, 0, 5872},
	{0x61, NULL, 0, 0, 0, 5837}, {0x6d, NULL, 0, 0, 0, 5838},
	{0x6d, NULL, 0, 0, 0, 5839}, {0x61, NULL, 0, 0, 0, 5840},
	{0x3b, "\xcf\x9d", 2, 0, 0, 0}, {0x69, NULL, 0, 5843, 5842, 5844},
	{0x6f, NULL, 0, 0, 0, 5855}, {0x3b, "\xc3\xb7", 2, 0, 0, 0},
	{0x64, NULL, 0, 0, 0, 5845}, {0x65, "\xc3\xb7", 2, 0, 0, 5846},
	{0x6f, NULL, 0, 5847, 0, 5848}, {0x3b, "\xc3\xb7", 2, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 5849}, {0x74, NULL, 0, 0, 0, 5850},
	{0x69, NULL, 0, 0, 0, 5851}, {0x6d, NULL, 0, 0, 0, 5852},
	{0x65, NULL, 0, 0, 0, 5853}, {0x73, NULL, 0, 0, 0, 5854},
	{0x3b, "\xe2\x8b\x87", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 5856},
	{0x78, NULL, 0, 0, 0, 5857}, {0x3b, "\xe2\x8b\x87", 3, 0, 0, 0},
	{0x3b, "\xc2\xa8", 2, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 5860},
	{0x6f, NULL, 0, 5862, 5861, 5863}, {0x73, NULL, 0, 0, 0, 5871},
	{0x3b, "\xe2\x8b\x84", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 5864},
	{0x64, NULL, 0, 0, 0, 5865}, {0x73, NULL, 0, 5866, 0, 5867},
	{0x3b, "\xe2\x8b\x84", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 5868},
	{0x69, NULL, 0, 0, 0, 5869}, {0x74, NULL, 0, 0, 0, 5870},
	{0x3b, "\xe2\x99\xa6", 3, 0, 0, 0}, {0x3b, "\xe2\x99\xa6", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 5873}, {0x6e, NULL, 0, 0, 0, 5874},
	{0x3b, "\xe2\x8b\xb2", 3, 0, 0, 0}, {0x6f, NULL, 0, 5877, 5876, 5878},
	{0x74, NULL, 0, 0, 0, 5880}, {0x63, NULL, 0, 0, 0, 5884},
	{0x6c, NULL, 0, 0, 0, 5879}, {0x3b, "\xe2\xa7\xb6", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 5881}, {0x6f, NULL, 0, 0, 0, 5882},
	{0x6b, NULL, 0, 0, 0, 5883}, {0x3b, "\xc4\x91", 2, 0, 0, 0},
	{0x79, NULL, 0, 5885, 0, 5886}, {0x72, NULL, 0, 0, 0, 5887},
	{0x3b, "\xd1\x95", 2, 0, 0, 0}, {0x3b, "\xf0\x9d\x92\xb9", 4, 0, 0, 0},
	{0x79, NULL, 0, 5889, 0, 5890}, {0x61, NULL, 0, 0, 0, 5891},
	{0x3b, "\xd0\xb4", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5892},
	{0x6f, NULL, 0, 0, 0, 5893}, {0x6e, NULL, 0, 0, 0, 5894},
	{0x3b, "\xc4\x8f", 2, 0, 0, 0}, {0x72, NULL, 0, 5896, 0, 5897},
	{0x69, NULL, 0, 0, 0, 5898}, {0x3b, "\xf0\x9d\x94\xa1", 4, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 5899}, {0x68, NULL, 0, 0, 0, 5900},
	{0x74, NULL, 0, 0, 0, 5901}, {0x3b, "\xe2\xa5\xbf", 3, 0, 0, 0},
	{0x72, NULL, 0, 5904, 5903, 5906}, {0x73, NULL, 0, 0, 0, 5908},
	{0x6c, NULL, 0, 5905, 0, 5912}, {0x67, NULL, 0, 0, 0, 5916},
	{0x72, NULL, 0, 0, 0, 5907}, {0x3b, "\xe2\x86\x93", 3, 0, 0, 0},
	{0x68, NULL, 0, 0, 0, 5909}, {0x76, NULL, 0, 5910, 0, 5911},
	{0x3b, "\xe2\x80\x90", 3, 0, 0, 0}, {0x3b, "\xe2\x8a\xa3", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 5913}, {0x74, NULL, 0, 0, 0, 5914},
	{0x68, NULL, 0, 0, 0, 5915}, {0x3b, "\xe2\x84\xb8", 3, 0, 0, 0},
	{0x67, NULL, 0, 0, 0, 5917}, {0x65, NULL, 0, 0, 0, 5918},
	{0x72, NULL, 0, 0, 0, 5919}, {0x3b, "\xe2\x80\xa0", 3, 0, 0, 0},
	{0x6c, NULL, 0, 5921, 0, 5922}, {0x6b, NULL, 0, 0, 0, 5925},
	{0x61, NULL, 0, 0, 0, 5923}, {0x63, NULL, 0, 0, 0, 5924},
	{0x3b, "\xcb\x9d", 2, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 5926},
	{0x72, NULL, 0, 0, 0, 5927}, {0x6f, NULL, 0, 0, 0, 5928},
	{0x77, NULL, 0, 0, 0, 5929}, {0x3b, "\xe2\xa4\x8f", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 5931}, {0x72, NULL, 0, 0, 0, 5932},
	{0x3b, "\xe2\xa5\xa5", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 5934},
	{0x72, NULL, 0, 0, 0, 5935}, {0x3b, "\xe2\x87\x93", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 5937}, {0x72, NULL, 0, 0, 0, 5938},
	{0x72, NULL, 0, 5939, 0, 5940}, {0x6c, NULL, 0, 0, 0, 5941},
	{0x3b, "\xe2\x87\x82", 3, 0, 0, 0}, {0x3b, "\xe2\x87\x83", 3, 0, 0, 0},
	{0x6c, NULL, 0, 5944, 5943, 5945}, {0x6d, NULL, 0, 0, 0, 5948},
	{0x67, "\xc2\xb0", 2, 0, 0, 5953}, {0x74, NULL, 0, 0, 0, 5946},
	{0x61, NULL, 0, 0, 0, 5947}, {0x3b, "\xce\xb4", 2, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 5949}, {0x74, NULL, 0, 0, 0, 5950},
	{0x79, NULL, 0, 0, 0, 5951}, {0x76, NULL, 0, 0, 0, 5952},
	{0x3b, "\xe2\xa6\xb1", 3, 0, 0, 0}, {0x3b, "\xc2\xb0", 2, 0, 0, 0},
	{0x61, NULL, 0, 5956, 5955, 5957}, {0x6f, NULL, 0, 0, 0, 5965},
	{0x3b, "\xe2\x85\x86", 3, 0, 0, 0}, {0x72, NULL, 0, 5958, 0, 5959},
	{0x67, NULL, 0, 0, 0, 5961}, {0x72, NULL, 0, 0, 0, 5960},
	{0x3b, "\xe2\x87\x8a", 3, 0, 0, 0}, {0x67, NULL, 0, 0, 0, 5962},
	{0x65, NULL, 0, 0, 0, 5963}, {0x72, NULL, 0, 0, 0, 5964},
	{0x3b, "\xe2\x80\xa1", 3, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 5966},
	{0x73, NULL, 0, 0, 0, 5967}, {0x65, NULL, 0, 0, 0, 5968},
	{0x71, NULL, 0, 0, 0, 5969}, {0x3b, "\xe2\xa9\xb7", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 5971}, {0x6e, NULL, 0, 0, 0, 5972},
	{0x67, NULL, 0, 0, 0, 5973}, {0x6c, NULL, 0, 0, 0, 5974},
	{0x65, NULL, 0, 0, 0, 5975}, {0x3b, "\xe2\xa6\xa6", 3, 0, 0, 0},
	{0x74, NULL, 0, 5978, 5977, 5981}, {0x77, NULL, 0, 5980, 0, 6007},
	{0x70, NULL, 0, 5979, 0, 6043}, {0x6c, NULL, 0, 0, 0, 6045},
	{0x75, NULL, 0, 0, 0, 6049}, {0x6d, NULL, 0, 5983, 5982, 5986},
	{0x73, NULL, 0, 5985, 0, 5991}, {0x65, NULL, 0, 5984, 0, 5997},
	{0x3b, "\xcb\x99", 2, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 6003},
	{0x69, NULL, 0, 0, 0, 5987}, {0x6e, NULL, 0, 0, 0, 5988},
	{0x75, NULL, 0, 0, 0, 5989}, {0x73, NULL, 0, 0, 0, 5990},
	{0x3b, "\xe2\x88\xb8", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 5992},
	{0x75, NULL, 0, 0, 0, 5993}, {0x61, NULL, 0, 0, 0, 5994},
	{0x72, NULL, 0, 0, 0, 5995}, {0x65, NULL, 0, 0, 0, 5996},
	{0x3b, "\xe2\x8a\xa1", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 5998},
	{0x64, NULL, 0, 5999, 0, 6000}, {0x3b, "\xe2\x89\x90", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 6001}, {0x74, NULL, 0, 0, 0, 6002},
	{0x3b, "\xe2\x89\x91", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 6004},
	{0x75, NULL, 0, 0, 0, 6005}, {0x73, NULL, 0, 0, 0, 6006},
	{0x3b, "\xe2\x88\x94", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 6008},
	{0x64, NULL, 0, 6010, 6009, 6011}, {0x68, NULL, 0, 0, 0, 6021},
	{0x61, NULL, 0, 0, 0, 6038}, {0x6f, NULL, 0, 0, 0, 6012},
	{0x77, NULL, 0, 0, 0, 6013}, {0x6e, NULL, 0, 0, 0, 6014},
	{0x61, NULL, 0, 0, 0, 6015}, {0x72, NULL, 0, 0, 0, 6016},
	{0x72, NULL, 0, 0, 0, 6017}, {0x6f, NULL, 0, 0, 0, 6018},
	{0x77, NULL, 0, 0, 0, 6019}, {0x73, NULL, 0, 0, 0, 6020},
	{0x3b, "\xe2\x87\x8a", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 6022},
	{0x72, NULL, 0, 0, 0, 6023}, {0x70, NULL, 0, 0, 0, 6024},
	{0x6f, NULL, 0, 0, 0, 6025}, {0x6f, NULL, 0, 0, 0, 6026},
	{0x6e, NULL, 0, 0, 0, 6027}, {0x72, NULL, 0, 6028, 0, 6029},
	{0x6c, NULL, 0, 0, 0, 6034}, {0x69, NULL, 0, 0, 0, 6030},
	{0x67, NULL, 0, 0, 0, 6031}, {0x68, NULL, 0, 0, 0, 6032},
	{0x74, NULL, 0, 0, 0, 6033}, {0x3b, "\xe2\x87\x82", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 6035}, {0x66, NULL, 0, 0, 0, 6036},
	{0x74, NULL, 0, 0, 0, 6037}, {0x3b, "\xe2\x87\x83", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 6039}, {0x72, NULL, 0, 0, 0, 6040},
	{0x6f, NULL, 0, 0, 0, 6041}, {0x77, NULL, 0, 0, 0, 6042},
	{0x3b, "\xe2\x86\x93", 3, 0, 0, 0}, {0x66, NULL, 0, 0, 0, 6044},
	{0x3b, "\xf0\x9d\x95\x95", 4, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 6046},
	{0x61, NULL, 0, 0, 0, 6047}, {0x72, NULL, 0, 0, 0, 6048},
	{0x3b, "\x24", 1, 0, 0, 0}, {0x62, NULL, 0, 0, 0, 6050},
	{0x6c, NULL, 0, 0, 0, 6051}, {0x65, NULL, 0, 0, 0, 6052},
	{0x62, NULL, 0, 0, 0, 6053}, {0x61, NULL, 0, 0, 0, 6054},
	{0x72, NULL, 0, 0, 0, 6055}, {0x77, NULL, 0, 0, 0, 6056},
	{0x65, NULL, 0, 0, 0, 6057}, {0x64, NULL, 0, 0, 0, 6058},
	{0x67, NULL, 0, 0, 0, 6059}, {0x65, NULL, 0, 0, 0, 6060},
	{0x3b, "\xe2\x8c\x86", 3, 0, 0, 0}, {0x63, NULL, 0, 6062, 0, 6063},
	{0x62, NULL, 0, 0, 0, 6071}, {0x72, NULL, 0, 6064, 0, 6065},
	{0x6f, NULL, 0, 0, 0, 6068}, {0x6f, NULL, 0, 0, 0, 6066},
	{0x70, NULL, 0, 0, 0, 6067}, {0x3b, "\xe2\x8c\x8c", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 6069}, {0x6e, NULL, 0, 0, 0, 6070},
	{0x3b, "\xe2\x8c\x9f", 3, 0, 0, 0}, {0x6b, NULL, 0, 0, 0, 6072},
	{0x61, NULL, 0, 0, 0, 6073}, {0x72, NULL, 0, 0, 0, 6074},
	{0x6f, NULL, 0, 0, 0, 6075}, {0x77, NULL, 0, 0, 0, 6076},
	{0x3b, "\xe2\xa4\x90", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 6078},
	{0x72, NULL, 0, 6079, 0, 6080}, {0x6f, NULL, 0, 0, 0, 6083},
	{0x6f, NULL, 0, 0, 0, 6081}, {0x70, NULL, 0, 0, 0, 6082},
	{0x3b, "\xe2\x8c\x8d", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 6084},
	{0x6e, NULL, 0, 0, 0, 6085}, {0x3b, "\xe2\x8c\x9e", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 6087}, {0x79, NULL, 0, 0, 0, 6088},
	{0x3b, "\xd1\x92", 2, 0, 0, 0}, {0x69, NULL, 0, 6090, 0, 6091},
	{0x63, NULL, 0, 0, 0, 6097}, {0x67, NULL, 0, 0, 0, 6092},
	{0x72, NULL, 0, 0, 0, 6093}, {0x61, NULL, 0, 0, 0, 6094},
	{0x72, NULL, 0, 0, 0, 6095}, {0x72, NULL, 0, 0, 0, 6096},
	{0x3b, "\xe2\x9f\xbf", 3, 0, 0, 0}, {0x79, NULL, 0, 0, 0, 6098},
	{0x3b, "\xd1\x9f", 2, 0, 0, 0}, {0x68, NULL, 0, 6100, 0, 6101},
	{0x61, NULL, 0, 0, 0, 6104}, {0x61, NULL, 0, 0, 0, 6102},
	{0x72, NULL, 0, 0, 0, 6103}, {0x3b, "\xe2\xa5\xaf", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 6105}, {0x72, NULL, 0, 0, 0, 6106},
	{0x3b, "\xe2\x87\xb5", 3, 0, 0, 0}, {0x72, NULL, 0, 6108, 0, 6109},
	{0x64, NULL, 0, 0, 0, 6113}, {0x69, NULL, 0, 0, 0, 6110},
	{0x66, NULL, 0, 6111, 0, 6112}, {0x3b, "\xe2\x96\xbf", 3, 0, 0, 0},
	{0x3b, "\xe2\x96\xbe", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 6114},
	{0x74, NULL, 0, 0, 0, 6115}, {0x3b, "\xe2\x8b\xb1", 3, 0, 0, 0},
	{0x6b, NULL, 0, 6118, 6117, 6132}, {0x70, NULL, 0, 6127, 6126, 6137},
	{0x64, NULL, 0, 6120, 6119, 6142}, {0x66, NULL, 0, 6125, 6124, 6146},
	{0x62, NULL, 0, 6122, 6121, 6148}, {0x63, NULL, 0, 0, 0, 6156},
	{0x61, NULL, 0, 6123, 0, 6162}, {0x4e, NULL, 0, 0, 0, 6202},
	{0x69, NULL, 0, 0, 0, 6205}, {0x65, NULL, 0, 0, 0, 6275},
	{0x73, NULL, 0, 6131, 6130, 6307}, {0x6e, NULL, 0, 6129, 6128, 6329},
	{0x6f, NULL, 0, 0, 0, 6339}, {0x6c, NULL, 0, 0, 0, 6459},
	{0x75, NULL, 0, 0, 0, 6518}, {0x72, NULL, 0, 0, 0, 6533},
	{0x61, NULL, 0, 0, 0, 6133}, {0x72, NULL, 0, 0, 0, 6134},
	{0x6f, NULL, 0, 0, 0, 6135}, {0x77, NULL, 0, 0, 0, 6136},
	{0x3b, "\xe2\xa4\x8d", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 6138},
	{0x69, NULL, 0, 0, 0, 6139}, {0x6d, NULL, 0, 0, 0, 6140},
	{0x65, NULL, 0, 0, 0, 6141}, {0x3b, "\xe2\x80\xb5", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 6143}, {0x75, NULL, 0, 0, 0, 6144},
	{0x6f, NULL, 0, 0, 0, 6145}, {0x3b, "\xe2\x80\x9e", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 6147}, {0x3b, "\xf0\x9d\x94\x9f", 4, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 6149}, {0x6b, NULL, 0, 0, 0, 6150},
	{0x74, NULL, 0, 6151, 0, 6152}, {0x3b, "\xe2\x8e\xb5", 3, 0, 0, 0},
	{0x62, NULL, 0, 0, 0, 6153}, {0x72, NULL, 0, 0, 0, 6154},
	{0x6b, NULL, 0, 0, 0, 6155}, {0x3b, "\xe2\x8e\xb6", 3, 0, 0, 0},
	{0x79, NULL, 0, 6157, 0, 6158}, {0x6f, NULL, 0, 0, 0, 6159},
	{0x3b, "\xd0\xb1", 2, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 6160},
	{0x67, NULL, 0, 0, 0, 6161}, {0x3b, "\xe2\x89\x8c", 3, 0, 0, 0},
	{0x72, NULL, 0, 6163, 0, 6164}, {0x63, NULL, 0, 0, 0, 6175},
	{0x77, NULL, 0, 6165, 0, 6166}, {0x76, NULL, 0, 0, 0, 6172},
	{0x65, NULL, 0, 0, 0, 6167}, {0x64, NULL, 0, 0, 0, 6168},
	{0x67, NULL, 0, 6169, 0, 6170}, {0x3b, "\xe2\x8c\x85", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 6171}, {0x3b, "\xe2\x8c\x85", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 6173}, {0x65, NULL, 0, 0, 0, 6174},
	{0x3b, "\xe2\x8a\xbd", 3, 0, 0, 0}, {0x6b, NULL, 0, 0, 0, 6176},
	{0x70, NULL, 0, 6178, 6177, 6180}, {0x73, NULL, 0, 0, 0, 6185},
	{0x65, NULL, 0, 6179, 0, 6191}, {0x63, NULL, 0, 0, 0, 6198},
	{0x72, NULL, 0, 0, 0, 6181}, {0x69, NULL, 0, 0, 0, 6182},
	{0x6d, NULL, 0, 0, 0, 6183}, {0x65, NULL, 0, 0, 0, 6184},
	{0x3b, "\xe2\x80\xb5", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 6186},
	{0x6d, NULL, 0, 0, 0, 6187}, {0x65, NULL, 0, 6188, 0, 6189},
	{0x3b, "\xe2\x88\xbd", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 6190},
	{0x3b, "\xe2\x8b\x8d", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 6192},
	{0x73, NULL, 0, 0, 0, 6193}, {0x69, NULL, 0, 0, 0, 6194},
	{0x6c, NULL, 0, 0, 0, 6195}, {0x6f, NULL, 0, 0, 0, 6196},
	{0x6e, NULL, 0, 0, 0, 6197}, {0x3b, "\xcf\xb6", 2, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 6199}, {0x6e, NULL, 0, 0, 0, 6200},
	{0x67, NULL, 0, 0, 0, 6201}, {0x3b, "\xe2\x89\x8c", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 6203}, {0x74, NULL, 0, 0, 0, 6204},
	{0x3b, "\xe2\xab\xad", 3, 0, 0, 0}, {0x67, NULL, 0, 0, 0, 6206},
	{0x74, NULL, 0, 6208, 6207, 6213}, {0x76, NULL, 0, 6212, 6211, 6228},
	{0x6f, NULL, 0, 6210, 6209, 6231}, {0x73, NULL, 0, 0, 0, 6246},
	{0x63, NULL, 0, 0, 0, 6255}, {0x77, NULL, 0, 0, 0, 6265},
	{0x75, NULL, 0, 0, 0, 6270}, {0x72, NULL, 0, 0, 0, 6214},
	{0x69, NULL, 0, 0, 0, 6215}, {0x61, NULL, 0, 0, 0, 6216},
	{0x6e, NULL, 0, 0, 0, 6217}, {0x67, NULL, 0, 0, 0, 6218},
	{0x6c, NULL, 0, 0, 0, 6219}, {0x65, NULL, 0, 0, 0, 6220},
	{0x75, NULL, 0, 6221, 0, 6222}, {0x64, NULL, 0, 0, 0, 6224},
	{0x70, NULL, 0, 0, 0, 6223}, {0x3b, "\xe2\x96\xb3", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 6225}, {0x77, NULL, 0, 0, 0, 6226},
	{0x6e, NULL, 0, 0, 0, 6227}, {0x3b, "\xe2\x96\xbd", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 6229}, {0x65, NULL, 0, 0, 0, 6230},
	{0x3b, "\xe2\x8b\x81", 3, 0, 0, 0}, {0x70, NULL, 0, 6233, 6232, 6234},
	{0x74, NULL, 0, 0, 0, 6238}, {0x64, NULL, 0, 0, 0, 6243},
	{0x6c, NULL, 0, 0, 0, 6235}, {0x75, NULL, 0, 0, 0, 6236},
	{0x73, NULL, 0, 0, 0, 6237}, {0x3b, "\xe2\xa8\x81", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 6239}, {0x6d, NULL, 0, 0, 0, 6240},
	{0x65, NULL, 0, 0, 0, 6241}, {0x73, NULL, 0, 0, 0, 6242},
	{0x3b, "\xe2\xa8\x82", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 6244},
	{0x74, NULL, 0, 0, 0, 6245}, {0x3b, "\xe2\xa8\x80", 3, 0, 0, 0},
	{0x74, NULL, 0, 6247, 0, 6248}, {0x71, NULL, 0, 0, 0, 6251},
	{0x61, NULL, 0, 0, 0, 6249}, {0x72, NULL, 0, 0, 0, 6250},
	{0x3b, "\xe2\x98\x85", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 6252},
	{0x75, NULL, 0, 0, 0, 6253}, {0x70, NULL, 0, 0, 0, 6254},
	{0x3b, "\xe2\xa8\x86", 3, 0, 0, 0}, {0x69, NULL, 0, 6257, 6256, 6258},
	{0x75, NULL, 0, 0, 0, 6261}, {0x61, NULL, 0, 0, 0, 6263},
	{0x72, NULL, 0, 0, 0, 6259}, {0x63, NULL, 0, 0, 0, 6260},
	{0x3b, "\xe2\x97\xaf", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 6262},
	{0x3b, "\xe2\x8b\x83", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 6264},
	{0x3b, "\xe2\x8b\x82", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 6266},
	{0x64, NULL, 0, 0, 0, 6267}, {0x67, NULL, 0, 0, 0, 6268},
	{0x65, NULL, 0, 0, 0, 6269}, {0x3b, "\xe2\x8b\x80", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 6271}, {0x6c, NULL, 0, 0, 0, 6272},
	{0x75, NULL, 0, 0, 0, 6273}, {0x73, NULL, 0, 0, 0, 6274},
	{0x3b, "\xe2\xa8\x84", 3, 0, 0, 0}, {0x70, NULL, 0, 6277, 6276, 6280},
	{0x74, NULL, 0, 6279, 0, 6283}, {0x6d, NULL, 0, 6278, 0, 6292},
	{0x63, NULL, 0, 0, 0, 6297}, {0x72, NULL, 0, 0, 0, 6303},
	{0x73, NULL, 0, 0, 0, 6281}, {0x69, NULL, 0, 0, 0, 6282},
	{0x3b, "\xcf\xb6", 2, 0, 0, 0}, {0x68, NULL, 0, 6285, 6284, 6286},
	{0x77, NULL, 0, 0, 0, 6287}, {0x61, NULL, 0, 0, 0, 6291},
	{0x3b, "\xe2\x84\xb6", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 6288},
	{0x65, NULL, 0, 0, 0, 6289}, {0x6e, NULL, 0, 0, 0, 6290},
	{0x3b, "\xe2\x89\xac", 3, 0, 0, 0}, {0x3b, "\xce\xb2", 2, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 6293}, {0x74, NULL, 0, 0, 0, 6294},
	{0x79, NULL, 0, 0, 0, 6295}, {0x76, NULL, 0, 0, 0, 6296},
	{0x3b, "\xe2\xa6\xb0", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 6298},
	{0x75, NULL, 0, 0, 0, 6299}, {0x73, NULL, 0, 0, 0, 6300},
	{0x65, NULL, 0, 6301, 0, 6302}, {0x3b, "\xe2\x88\xb5", 3, 0, 0, 0},
	{0x3b, "\xe2\x88\xb5", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 6304},
	{0x6f, NULL, 0, 0, 0, 6305}, {0x75, NULL, 0, 0, 0, 6306},
	{0x3b, "\xe2\x84\xac", 3, 0, 0, 0}, {0x69, NULL, 0, 6309, 6308, 6311},
	{0x6f, NULL, 0, 0, 0, 6315}, {0x65, NULL, 0, 6310, 0, 6324},
	{0x63, NULL, 0, 0, 0, 6327}, {0x6d, NULL, 0, 0, 0, 6312},
	{0x65, NULL, 0, 6313, 0, 6314}, {0x3b, "\xe2\x88\xbd", 3, 0, 0, 0},
	{0x3b, "\xe2\x8b\x8d", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 6316},
	{0x62, NULL, 0, 6318, 6317, 6319}, {0x68, NULL, 0, 0, 0, 6320},
	{0x3b, "\x5c", 1, 0, 0, 0}, {0x3b, "\xe2\xa7\x85", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 6321}, {0x75, NULL, 0, 0, 0, 6322},
	{0x62, NULL, 0, 0, 0, 6323}, {0x3b, "\xe2\x9f\x88", 3, 0, 0, 0},
	{0x6d, NULL, 0, 0, 0, 6325}, {0x69, NULL, 0, 0, 0, 6326},
	{0x3b, "\xe2\x81\x8f", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 6328},
	{0x3b, "\xf0\x9d\x92\xb7", 4, 0, 0, 0}, {0x6f, NULL, 0, 6330, 0, 6331},
	{0x65, NULL, 0, 0, 0, 6333}, {0x74, NULL, 0, 0, 0, 6332},
	{0x3b, "\xe2\x8c\x90", 3, 0, 0, 0}, {0x71, NULL, 0, 6334, 0, 6335},
	{0x3b, "\x3d\xe2\x83\xa5", 4, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 6336},
	{0x69, NULL, 0, 0, 0, 6337}, {0x76, NULL, 0, 0, 0, 6338},
	{0x3b, "\xe2\x89\xa1\xe2\x83\xa5", 6, 0, 0, 0}, {0x77, NULL, 0, 6341, 6340, 6343},
	{0x78, NULL, 0, 0, 0, 6347}, {0x74, NULL, 0, 6342, 0, 6452},
	{0x70, NULL, 0, 0, 0, 6457}, {0x74, NULL, 0, 0, 0, 6344},
	{0x69, NULL, 0, 0, 0, 6345}, {0x65, NULL, 0, 0, 0, 6346},
	{0x3b, "\xe2\x8b\x88", 3, 0, 0, 0}, {0x68, NULL, 0, 6349, 6348, 6359},
	{0x74, NULL, 0, 6356, 6355, 6368}, {0x56, NULL, 0, 6351, 6350, 6373},
	{0x64, NULL, 0, 6354, 0, 6386}, {0x48, NULL, 0, 6353, 6352, 6394},
	{0x55, NULL, 0, 0, 0, 6403}, {0x44, NULL, 0, 0, 0, 6411},
	{0x62, NULL, 0, 0, 0, 6419}, {0x76, NULL, 0, 6358, 0, 6422},
	{0x70, NULL, 0, 6357, 0, 6435}, {0x6d, NULL, 0, 0, 0, 6439},
	{0x75, NULL, 0, 0, 0, 6444}, {0x55, NULL, 0, 6361, 6360, 6364},
	{0x75, NULL, 0, 6363, 0, 6365}, {0x44, NULL, 0, 6362, 0, 6366},
	{0x3b, "\xe2\x94\x80", 3, 0, 0, 0}, {0x64, NULL, 0, 0, 0, 6367},
	{0x3b, "\xe2\x95\xa8", 3, 0, 0, 0}, {0x3b, "\xe2\x94\xb4", 3, 0, 0, 0},
	{0x3b, "\xe2\x95\xa5", 3, 0, 0, 0}, {0x3b, "\xe2\x94\xac", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 6369}, {0x6d, NULL, 0, 0, 0, 6370},
	{0x65, NULL, 0, 0, 0, 6371}, {0x73, NULL, 0, 0, 0, 6372},
	{0x3b, "\xe2\x8a\xa0", 3, 0, 0, 0}, {0x52, NULL, 0, 6375, 6374, 6380},
	{0x6c, NULL, 0, 6379, 6378, 6381}, {0x48, NULL, 0, 6377, 6376, 6382},
	{0x4c, NULL, 0, 0, 0, 6383}, {0x3b, "\xe2\x95\x91", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 6384}, {0x68, NULL, 0, 0, 0, 6385},
	{0x3b, "\xe2\x95\xa0", 3, 0, 0, 0}, {0x3b, "\xe2\x95\xa2", 3, 0, 0, 0},
	{0x3b, "\xe2\x95\xac", 3, 0, 0, 0}, {0x3b, "\xe2\x95\xa3", 3, 0, 0, 0},
	{0x3b, "\xe2\x95\x9f", 3, 0, 0, 0}, {0x3b, "\xe2\x95\xab", 3, 0, 0, 0},
	{0x6c, NULL, 0, 6388, 6387, 6390}, {0x72, NULL, 0, 0, 0, 6391},
	{0x52, NULL, 0, 6389, 0, 6392}, {0x4c, NULL, 0, 0, 0, 6393},
	{0x3b, "\xe2\x94\x90", 3, 0, 0, 0}, {0x3b, "\xe2\x94\x8c", 3, 0, 0, 0},
	{0x3b, "\xe2\x95\x92", 3, 0, 0, 0}, {0x3b, "\xe2\x95\x95", 3, 0, 0, 0},
	{0x55, NULL, 0, 6396, 6395, 6399}, {0x75, NULL, 0, 6398, 0, 6400},
	{0x44, NULL, 0, 6397, 0, 6401}, {0x3b, "\xe2\x95\x90", 3, 0, 0, 0},
	{0x64, NULL, 0, 0, 0, 6402}, {0x3b, "\xe2\x95\xa9", 3, 0, 0, 0},
	{0x3b, "\xe2\x95\xa7", 3, 0, 0, 0}, {0x3b, "\xe2\x95\xa6", 3, 0, 0, 0},
	{0x3b, "\xe2\x95\xa4", 3, 0, 0, 0}, {0x6c, NULL, 0, 6405, 6404, 6407},
	{0x72, NULL, 0, 0, 0, 6408}, {0x52, NULL, 0, 6406, 0, 6409},
	{0x4c, NULL, 0, 0, 0, 6410}, {0x3b, "\xe2\x95\x9c", 3, 0, 0, 0},
	{0x3b, "\xe2\x95\x99", 3, 0, 0, 0}, {0x3b, "\xe2\x95\x9a", 3, 0, 0, 0},
	{0x3b, "\xe2\x95\x9d", 3, 0, 0, 0}, {0x6c, NULL, 0, 6413, 6412, 6415},
	{0x72, NULL, 0, 0, 0, 6416}, {0x52, NULL, 0, 6414, 0, 6417},
	{0x4c, NULL, 0, 0, 0, 6418}, {0x3b, "\xe2\x95\x96", 3, 0, 0, 0},
	{0x3b, "\xe2\x95\x93", 3, 0, 0, 0}, {0x3b, "\xe2\x95\x94", 3, 0, 0, 0},
	{0x3b, "\xe2\x95\x97", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 6420},
	{0x78, NULL, 0, 0, 0, 6421}, {0x3b, "\xe2\xa7\x89", 3, 0, 0, 0},
	{0x52, NULL, 0, 6424, 6423, 6429}, {0x6c, NULL, 0, 6428, 6427, 6430},
	{0x48, NULL, 0, 6426, 6425, 6431}, {0x4c, NULL, 0, 0, 0, 6432},
	{0x3b, "\xe2\x94\x82", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 6433},
	{0x68, NULL, 0, 0, 0, 6434}, {0x3b, "\xe2\x95\x9e", 3, 0, 0, 0},
	{0x3b, "\xe2\x94\xa4", 3, 0, 0, 0}, {0x3b, "\xe2\x95\xaa", 3, 0, 0, 0},
	{0x3b, "\xe2\x95\xa1", 3, 0, 0, 0}, {0x3b, "\xe2\x94\x9c", 3, 0, 0, 0},
	{0x3b, "\xe2\x94\xbc", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 6436},
	{0x75, NULL, 0, 0, 0, 6437}, {0x73, NULL, 0, 0, 0, 6438},
	{0x3b, "\xe2\x8a\x9e", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 6440},
	{0x6e, NULL, 0, 0, 0, 6441}, {0x75, NULL, 0, 0, 0, 6442},
	{0x73, NULL, 0, 0, 0, 6443}, {0x3b, "\xe2\x8a\x9f", 3, 0, 0, 0},
	{0x6c, NULL, 0, 6446, 6445, 6448}, {0x72, NULL, 0, 0, 0, 6449},
	{0x52, NULL, 0, 6447, 0, 6450}, {0x4c, NULL, 0, 0, 0, 6451},
	{0x3b, "\xe2\x94\x98", 3, 0, 0, 0}, {0x3b, "\xe2\x94\x94", 3, 0, 0, 0},
	{0x3b, "\xe2\x95\x98", 3, 0, 0, 0}, {0x3b, "\xe2\x95\x9b", 3, 0, 0, 0},
	{0x74, NULL, 0, 6453, 0, 6454}, {0x3b, "\xe2\x8a\xa5", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 6455}, {0x6d, NULL, 0, 0, 0, 6456},
	{0x3b, "\xe2\x8a\xa5", 3, 0, 0, 0}, {0x66, NULL, 0, 0, 0, 6458},
	{0x3b, "\xf0\x9d\x95\x93", 4, 0, 0, 0}, {0x6b, NULL, 0, 6461, 6460, 6462},
	{0x6f, NULL, 0, 0, 0, 6470}, {0x61, NULL, 0, 0, 0, 6473},
	{0x33, NULL, 0, 6463, 0, 6464}, {0x31, NULL, 0, 0, 0, 6466},
	{0x34, NULL, 0, 0, 0, 6465}, {0x3b, "\xe2\x96\x93", 3, 0, 0, 0},
	{0x34, NULL, 0, 6467, 0, 6468}, {0x32, NULL, 0, 0, 0, 6469},
	{0x3b, "\xe2\x96\x91", 3, 0, 0, 0}, {0x3b, "\xe2\x96\x92", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 6471}, {0x6b, NULL, 0, 0, 0, 6472},
	{0x3b, "\xe2\x96\x88", 3, 0, 0, 0}, {0x6e, NULL, 0, 6474, 0, 6475},
	{0x63, NULL, 0, 0, 0, 6477}, {0x6b, NULL, 0, 0, 0, 6476},
	{0x3b, "\xe2\x90\xa3", 3, 0, 0, 0}, {0x6b, NULL, 0, 0, 0, 6478},
	{0x73, NULL, 0, 6480, 6479, 6481}, {0x74, NULL, 0, 0, 0, 6487},
	{0x6c, NULL, 0, 0, 0, 6511}, {0x71, NULL, 0, 0, 0, 6482},
	{0x75, NULL, 0, 0, 0, 6483}, {0x61, NULL, 0, 0, 0, 6484},
	{0x72, NULL, 0, 0, 0, 6485}, {0x65, NULL, 0, 0, 0, 6486},
	{0x3b, "\xe2\x96\xaa", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 6488},
	{0x69, NULL, 0, 0, 0, 6489}, {0x61, NULL, 0, 0, 0, 6490},
	{0x6e, NULL, 0, 0, 0, 6491}, {0x67, NULL, 0, 0, 0, 6492},
	{0x6c, NULL, 0, 0, 0, 6493}, {0x65, NULL, 0, 0, 0, 6494},
	{0x6c, NULL, 0, 6496, 6495, 6498}, {0x72, NULL, 0, 0, 0, 6502},
	{0x64, NULL, 0, 6497, 0, 6507}, {0x3b, "\xe2\x96\xb4", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 6499}, {0x66, NULL, 0, 0, 0, 6500},
	{0x74, NULL, 0, 0, 0, 6501}, {0x3b, "\xe2\x97\x82", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 6503}, {0x67, NULL, 0, 0, 0, 6504},
	{0x68, NULL, 0, 0, 0, 6505}, {0x74, NULL, 0, 0, 0, 6506},
	{0x3b, "\xe2\x96\xb8", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 6508},
	{0x77, NULL, 0, 0, 0, 6509}, {0x6e, NULL, 0, 0, 0, 6510},
	{0x3b, "\xe2\x96\xbe", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 6512},
	{0x7a, NULL, 0, 0, 0, 6513}, {0x65, NULL, 0, 0, 0, 6514},
	{0x6e, NULL, 0, 0, 0, 6515}, {0x67, NULL, 0, 0, 0, 6516},
	{0x65, NULL, 0, 0, 0, 6517}, {0x3b, "\xe2\xa7\xab", 3, 0, 0, 0},
	{0x6d, NULL, 0, 6519, 0, 6520}, {0x6c, NULL, 0, 0, 0, 6528},
	{0x70, NULL, 0, 0, 0, 6521}, {0x45, NULL, 0, 6523, 6522, 6524},
	{0x65, NULL, 0, 0, 0, 6525}, {0x3b, "\xe2\x89\x8e", 3, 0, 0, 0},
	{0x3b, "\xe2\xaa\xae", 3, 0, 0, 0}, {0x71, NULL, 0, 6526, 0, 6527},
	{0x3b, "\xe2\x89\x8f", 3, 0, 0, 0}, {0x3b, "\xe2\x89\x8f", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 6529}, {0x65, NULL, 0, 6530, 0, 6531},
	{0x3b, "\xe2\x80\xa2", 3, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 6532},
	{0x3b, "\xe2\x80\xa2", 3, 0, 0, 0}, {0x76, NULL, 0, 6534, 0, 6535},
	{0x65, NULL, 0, 0, 0, 6539}, {0x62, NULL, 0, 0, 0, 6536},
	{0x61, NULL, 0, 0, 0, 6537}, {0x72, "\xc2\xa6", 2, 0, 0, 6538},
	{0x3b, "\xc2\xa6", 2, 0, 0, 0}, {0x76, NULL, 0, 0, 0, 6540},
	{0x65, NULL, 0, 0, 0, 6541}, {0x3b, "\xcb\x98", 2, 0, 0, 0},
	{0x6c, NULL, 0, 6544, 6543, 6554}, {0x70, NULL, 0, 6551, 6550, 6565},
	{0x66, NULL, 0, 6546, 6545, 6572}, {0x6a, NULL, 0, 6549, 0, 6587},
	{0x63, NULL, 0, 6548, 6547, 6591}, {0x65, NULL, 0, 0, 0, 6593},
	{0x61, NULL, 0, 0, 0, 6598}, {0x69, NULL, 0, 0, 0, 6610},
	{0x73, NULL, 0, 6553, 0, 6614}, {0x6f, NULL, 0, 6552, 0, 6617},
	{0x6e, NULL, 0, 0, 0, 6629}, {0x72, NULL, 0, 0, 0, 6632},
	{0x6c, NULL, 0, 6556, 6555, 6557}, {0x74, NULL, 0, 0, 0, 6560},
	{0x61, NULL, 0, 0, 0, 6563}, {0x69, NULL, 0, 0, 0, 6558},
	{0x67, NULL, 0, 0, 0, 6559}, {0x3b, "\xef\xac\x82", 3, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 6561}, {0x73, NULL, 0, 0, 0, 6562},
	{0x3b, "\xe2\x96\xb1", 3, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 6564},
	{0x3b, "\xe2\x99\xad", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 6566},
	{0x72, NULL, 0, 0, 0, 6567}, {0x74, NULL, 0, 0, 0, 6568},
	{0x69, NULL, 0, 0, 0, 6569}, {0x6e, NULL, 0, 0, 0, 6570},
	{0x74, NULL, 0, 0, 0, 6571}, {0x3b, "\xe2\xa8\x8d", 3, 0, 0, 0},
	{0x6c, NULL, 0, 6574, 6573, 6575}, {0x72, NULL, 0, 0, 0, 6582},
	{0x69, NULL, 0, 0, 0, 6583}, {0x6c, NULL, 0, 6576, 0, 6577},
	{0x69, NULL, 0, 0, 0, 6580}, {0x69, NULL, 0, 0, 0, 6578},
	{0x67, NULL, 0, 0, 0, 6579}, {0x3b, "\xef\xac\x84", 3, 0, 0, 0},
	{0x67, NULL, 0, 0, 0, 6581}, {0x3b, "\xef\xac\x80", 3, 0, 0, 0},
	{0x3b, "\xf0\x9d\x94\xa3", 4, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 6584},
	{0x69, NULL, 0, 0, 0, 6585}, {0x67, NULL, 0, 0, 0, 6586},
	{0x3b, "\xef\xac\x83", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 6588},
	{0x69, NULL, 0, 0, 0, 6589}, {0x67, NULL, 0, 0, 0, 6590},
	{0x3b, "\x66\x6a", 2, 0, 0, 0}, {0x79, NULL, 0, 0, 0, 6592},
	{0x3b, "\xd1\x84", 2, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 6594},
	{0x61, NULL, 0, 0, 0, 6595}, {0x6c, NULL, 0, 0, 0, 6596},
	{0x65, NULL, 0, 0, 0, 6597}, {0x3b, "\xe2\x99\x80", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 6599}, {0x6c, NULL, 0, 0, 0, 6600},
	{0x69, NULL, 0, 0, 0, 6601}, {0x6e, NULL, 0, 0, 0, 6602},
	{0x67, NULL, 0, 0, 0, 6603}, {0x64, NULL, 0, 0, 0, 6604},
	{0x6f, NULL, 0, 0, 0, 6605}, {0x74, NULL, 0, 0, 0, 6606},
	{0x73, NULL, 0, 0, 0, 6607}, {0x65, NULL, 0, 0, 0, 6608},
	{0x71, NULL, 0, 0, 0, 6609}, {0x3b, "\xe2\x89\x92", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 6611}, {0x69, NULL, 0, 0, 0, 6612},
	{0x67, NULL, 0, 0, 0, 6613}, {0x3b, "\xef\xac\x81", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 6615}, {0x72, NULL, 0, 0, 0, 6616},
	{0x3b, "\xf0\x9d\x92\xbb", 4, 0, 0, 0}, {0x72, NULL, 0, 6618, 0, 6619},
	{0x70, NULL, 0, 0, 0, 6627}, {0x6b, NULL, 0, 6620, 0, 6621},
	{0x61, NULL, 0, 0, 0, 6624}, {0x76, NULL, 0, 6622, 0, 6623},
	{0x3b, "\xe2\x8b\x94", 3, 0, 0, 0}, {0x3b, "\xe2\xab\x99", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 6625}, {0x6c, NULL, 0, 0, 0, 6626},
	{0x3b, "\xe2\x88\x80", 3, 0, 0, 0}, {0x66, NULL, 0, 0, 0, 6628},
	{0x3b, "\xf0\x9d\x95\x97", 4, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 6630},
	{0x66, NULL, 0, 0, 0, 6631}, {0x3b, "\xc6\x92", 2, 0, 0, 0},
	{0x6f, NULL, 0, 6633, 0, 6634}, {0x61, NULL, 0, 0, 0, 6637},
	{0x77, NULL, 0, 0, 0, 6635}, {0x6e, NULL, 0, 0, 0, 6636},
	{0x3b, "\xe2\x8c\xa2", 3, 0, 0, 0}, {0x73, NULL, 0, 6638, 0, 6639},
	{0x63, NULL, 0, 0, 0, 6641}, {0x6c, NULL, 0, 0, 0, 6640},
	{0x3b, "\xe2\x81\x84", 3, 0, 0, 0}, {0x34, NULL, 0, 6643, 6642, 6647},
	{0x37, NULL, 0, 6646, 0, 6649}, {0x32, NULL, 0, 6645, 6644, 6651},
	{0x33, NULL, 0, 0, 0, 6655}, {0x31, NULL, 0, 0, 0, 6661},
	{0x35, NULL, 0, 0, 0, 6673}, {0x35, NULL, 0, 0, 0, 6648},
	{0x3b, "\xe2\x85\x98", 3, 0, 0, 0}, {0x38, NULL, 0, 0, 0, 6650},
	{0x3b, "\xe2\x85\x9e", 3, 0, 0, 0}, {0x35, NULL, 0, 6652, 0, 6653},
	{0x33, NULL, 0, 0, 0, 6654}, {0x3b, "\xe2\x85\x96", 3, 0, 0, 0},
	{0x3b, "\xe2\x85\x94", 3, 0, 0, 0}, {0x35, NULL, 0, 6657, 6656, 6658},
	{0x38, NULL, 0, 0, 0, 6659}, {0x34, "\xc2\xbe", 2, 0, 0, 6660},
	{0x3b, "\xe2\x85\x97", 3, 0, 0, 0}, {0x3b, "\xe2\x85\x9c", 3, 0, 0, 0},
	{0x3b, "\xc2\xbe", 2, 0, 0, 0}, {0x35, NULL, 0, 6663, 6662, 6667},
	{0x38, NULL, 0, 6666, 0, 6668}, {0x33, NULL, 0, 6665, 6664, 6669},
	{0x34, "\xc2\xbc", 2, 0, 0, 6670}, {0x32, "\xc2\xbd", 2, 0, 0, 6671},
	{0x36, NULL, 0, 0, 0, 6672}, {0x3b, "\xe2\x85\x95", 3, 0, 0, 0},
	{0x3b, "\xe2\x85\x9b", 3, 0, 0, 0}, {0x3b, "\xe2\x85\x93", 3, 0, 0, 0},
	{0x3b, "\xc2\xbc", 2, 0, 0, 0}, {0x3b, "\xc2\xbd", 2, 0, 0, 0},
	{0x3b, "\xe2\x85\x99", 3, 0, 0, 0}, {0x38, NULL, 0, 6674, 0, 6675},
	{0x36, NULL, 0, 0, 0, 6676}, {0x3b, "\xe2\x85\x9d", 3, 0, 0, 0},
	{0x3b, "\xe2\x85\x9a", 3, 0, 0, 0}, {0x69, NULL, 0, 6679, 6678, 6691},
	{0x70, NULL, 0, 6687, 6686, 6719}, {0x64, NULL, 0, 6681, 6680, 6720},
	{0x66, NULL, 0, 6685, 6684, 6724}, {0x61, NULL, 0, 6683, 6682, 6726},
	{0x63, NULL, 0, 0, 0, 6762}, {0x44, NULL, 0, 0, 0, 6769},
	{0x68, NULL, 0, 0, 0, 6773}, {0x65, NULL, 0, 0, 0, 6775},
	{0x75, NULL, 0, 6690, 0, 6787}, {0x6e, NULL, 0, 6689, 6688, 6799},
	{0x6f, NULL, 0, 0, 0, 6804}, {0x6c, NULL, 0, 0, 0, 6812},
	{0x73, NULL, 0, 0, 0, 6818}, {0x64, NULL, 0, 6693, 6692, 6694},
	{0x6e, NULL, 0, 0, 0, 6707}, {0x63, NULL, 0, 0, 0, 6716},
	{0x63, NULL, 0, 6696, 6695, 6698}, {0x64, NULL, 0, 0, 0, 6701},
	{0x61, NULL, 0, 6697, 0, 6704}, {0x3b, "\xe2\x88\xa3", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 6699}, {0x72, NULL, 0, 0, 0, 6700},
	{0x3b, "\xe2\xab\xb0", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 6702},
	{0x74, "\xc2\xb7", 2, 0, 0, 6703}, {0x3b, "\xc2\xb7", 2, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 6705}, {0x74, NULL, 0, 0, 0, 6706},
	{0x3b, "\x2a", 1, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 6708},
	{0x73, NULL, 0, 0, 0, 6709}, {0x62, NULL, 0, 6711, 6710, 6712},
	{0x64, NULL, 0, 0, 0, 6713}, {0x3b, "\xe2\x88\x92", 3, 0, 0, 0},
	{0x3b, "\xe2\x8a\x9f", 3, 0, 0, 0}, {0x75, NULL, 0, 6714, 0, 6715},
	{0x3b, "\xe2\x88\xb8", 3, 0, 0, 0}, {0x3b, "\xe2\xa8\xaa", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 6717}, {0x6f, "\xc2\xb5", 2, 0, 0, 6718},
	{0x3b, "\xc2\xb5", 2, 0, 0, 0}, {0x3b, "\xe2\x88\x93", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 6721}, {0x73, NULL, 0, 0, 0, 6722},
	{0x68, NULL, 0, 0, 0, 6723}, {0x3b, "\xe2\x80\x94", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 6725}, {0x3b, "\xf0\x9d\x94\xaa", 4, 0, 0, 0},
	{0x70, NULL, 0, 6728, 6727, 6730}, {0x72, NULL, 0, 0, 0, 6748},
	{0x6c, NULL, 0, 6729, 0, 6752}, {0x63, NULL, 0, 0, 0, 6760},
	{0x73, NULL, 0, 6731, 0, 6732}, {0x3b, "\xe2\x86\xa6", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 6733}, {0x6f, NULL, 0, 0, 0, 6734},
	{0x6c, NULL, 0, 6736, 6735, 6738}, {0x75, NULL, 0, 0, 0, 6742},
	{0x64, NULL, 0, 6737, 0, 6744}, {0x3b, "\xe2\x86\xa6", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 6739}, {0x66, NULL, 0, 0, 0, 6740},
	{0x74, NULL, 0, 0, 0, 6741}, {0x3b, "\xe2\x86\xa4", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 6743}, {0x3b, "\xe2\x86\xa5", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 6745}, {0x77, NULL, 0, 0, 0, 6746},
	{0x6e, NULL, 0, 0, 0, 6747}, {0x3b, "\xe2\x86\xa7", 3, 0, 0, 0},
	{0x6b, NULL, 0, 0, 0, 6749}, {0x65, NULL, 0, 0, 0, 6750},
	{0x72, NULL, 0, 0, 0, 6751}, {0x3b, "\xe2\x96\xae", 3, 0, 0, 0},
	{0x74, NULL, 0, 6753, 0, 6754}, {0x65, NULL, 0, 0, 0, 6759},
	{0x65, NULL, 0, 6755, 0, 6756}, {0x3b, "\xe2\x9c\xa0", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 6757}, {0x65, NULL, 0, 0, 0, 6758},
	{0x3b, "\xe2\x9c\xa0", 3, 0, 0, 0}, {0x3b, "\xe2\x99\x82", 3, 0, 0, 0},
	{0x72, "\xc2\xaf", 2, 0, 0, 6761}, {0x3b, "\xc2\xaf", 2, 0, 0, 0},
	{0x79, NULL, 0, 6763, 0, 6764}, {0x6f, NULL, 0, 0, 0, 6765},
	{0x3b, "\xd0\xbc", 2, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 6766},
	{0x6d, NULL, 0, 0, 0, 6767}, {0x61, NULL, 0, 0, 0, 6768},
	{0x3b, "\xe2\xa8\xa9", 3, 0, 0, 0}, {0x44, NULL, 0, 0, 0, 6770},
	{0x6f, NULL, 0, 0, 0, 6771}, {0x74, NULL, 0, 0, 0, 6772},
	{0x3b, "\xe2\x88\xba", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 6774},
	{0x3b, "\xe2\x84\xa7", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 6776},
	{0x73, NULL, 0, 0, 0, 6777}, {0x75, NULL, 0, 0, 0, 6778},
	{0x72, NULL, 0, 0, 0, 6779}, {0x65, NULL, 0, 0, 0, 6780},
	{0x64, NULL, 0, 0, 0, 6781}, {0x61, NULL, 0, 0, 0, 6782},
	{0x6e, NULL, 0, 0, 0, 6783}, {0x67, NULL, 0, 0, 0, 6784},
	{0x6c, NULL, 0, 0, 0, 6785}, {0x65, NULL, 0, 0, 0, 6786},
	{0x3b, "\xe2\x88\xa1", 3, 0, 0, 0}, {0x6c, NULL, 0, 6789, 6788, 6790},
	{0x6d, NULL, 0, 0, 0, 6796}, {0x3b, "\xce\xbc", 2, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 6791}, {0x69, NULL, 0, 0, 0, 6792},
	{0x6d, NULL, 0, 0, 0, 6793}, {0x61, NULL, 0, 0, 0, 6794},
	{0x70, NULL, 0, 0, 0, 6795}, {0x3b, "\xe2\x8a\xb8", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 6797}, {0x70, NULL, 0, 0, 0, 6798},
	{0x3b, "\xe2\x8a\xb8", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 6800},
	{0x6c, NULL, 0, 0, 0, 6801}, {0x75, NULL, 0, 0, 0, 6802},
	{0x73, NULL, 0, 0, 0, 6803}, {0x3b, "\xe2\x88\x93", 3, 0, 0, 0},
	{0x70, NULL, 0, 6805, 0, 6806}, {0x64, NULL, 0, 0, 0, 6808},
	{0x66, NULL, 0, 0, 0, 6807}, {0x3b, "\xf0\x9d\x95\x9e", 4, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 6809}, {0x6c, NULL, 0, 0, 0, 6810},
	{0x73, NULL, 0, 0, 0, 6811}, {0x3b, "\xe2\x8a\xa7", 3, 0, 0, 0},
	{0x64, NULL, 0, 6813, 0, 6814}, {0x63, NULL, 0, 0, 0, 6816},
	{0x72, NULL, 0, 0, 0, 6815}, {0x3b, "\xe2\x80\xa6", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 6817}, {0x3b, "\xe2\xab\x9b", 3, 0, 0, 0},
	{0x74, NULL, 0, 6819, 0, 6820}, {0x63, NULL, 0, 0, 0, 6824},
	{0x70, NULL, 0, 0, 0, 6821}, {0x6f, NULL, 0, 0, 0, 6822},
	{0x73, NULL, 0, 0, 0, 6823}, {0x3b, "\xe2\x88\xbe", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 6825}, {0x3b, "\xf0\x9d\x93\x82", 4, 0, 0, 0},
	{0x6f, NULL, 0, 6828, 6827, 6832}, {0x75, NULL, 0, 6831, 0, 6835},
	{0x66, NULL, 0, 6830, 6829, 6839}, {0x6d, NULL, 0, 0, 0, 6841},
	{0x63, NULL, 0, 0, 0, 6845}, {0x73, NULL, 0, 0, 0, 6851},
	{0x70, NULL, 0, 0, 0, 6833}, {0x66, NULL, 0, 0, 0, 6834},
	{0x3b, "\xf0\x9d\x95\x9b", 4, 0, 0, 0}, {0x6b, NULL, 0, 0, 0, 6836},
	{0x63, NULL, 0, 0, 0, 6837}, {0x79, NULL, 0, 0, 0, 6838},
	{0x3b, "\xd1\x94", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 6840},
	{0x3b, "\xf0\x9d\x94\xa7", 4, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 6842},
	{0x74, NULL, 0, 0, 0, 6843}, {0x68, NULL, 0, 0, 0, 6844},
	{0x3b, "\xc8\xb7", 2, 0, 0, 0}, {0x79, NULL, 0, 6846, 0, 6847},
	{0x69, NULL, 0, 0, 0, 6848}, {0x3b, "\xd0\xb9", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 6849}, {0x63, NULL, 0, 0, 0, 6850},
	{0x3b, "\xc4\xb5", 2, 0, 0, 0}, {0x65, NULL, 0, 6852, 0, 6853},
	{0x63, NULL, 0, 0, 0, 6857}, {0x72, NULL, 0, 0, 0, 6854},
	{0x63, NULL, 0, 0, 0, 6855}, {0x79, NULL, 0, 0, 0, 6856},
	{0x3b, "\xd1\x98", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 6858},
	{0x3b, "\xf0\x9d\x92\xbf", 4, 0, 0, 0}, {0x6d, NULL, 0, 6861, 6860, 6874},
	{0x71, NULL, 0, 6869, 6868, 6901}, {0x66, NULL, 0, 6863, 6862, 6906},
	{0x69, NULL, 0, 6867, 6866, 6910}, {0x63, NULL, 0, 6865, 6864, 6928},
	{0x65, NULL, 0, 0, 0, 6935}, {0x61, NULL, 0, 0, 0, 6942},
	{0x6a, NULL, 0, 0, 0, 6947}, {0x67, NULL, 0, 0, 0, 6951},
	{0x74, NULL, 0, 6873, 6872, 6956}, {0x6f, NULL, 0, 6871, 6870, 6962},
	{0x70, NULL, 0, 0, 0, 6975}, {0x6e, NULL, 0, 0, 0, 6979},
	{0x75, NULL, 0, 0, 0, 7026}, {0x73, NULL, 0, 0, 0, 7033},
	{0x6f, NULL, 0, 6876, 6875, 6877}, {0x70, NULL, 0, 0, 0, 6879},
	{0x61, NULL, 0, 0, 0, 6882}, {0x66, NULL, 0, 0, 0, 6878},
	{0x3b, "\xe2\x8a\xb7", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 6880},
	{0x64, NULL, 0, 0, 0, 6881}, {0x3b, "\xc6\xb5", 2, 0, 0, 0},
	{0x67, NULL, 0, 6884, 6883, 6885}, {0x74, NULL, 0, 0, 0, 6897},
	{0x63, NULL, 0, 0, 0, 6899}, {0x6c, NULL, 0, 6887, 6886, 6888},
	{0x70, NULL, 0, 0, 0, 6892}, {0x65, NULL, 0, 0, 0, 6896},
	{0x69, NULL, 0, 0, 0, 6889}, {0x6e, NULL, 0, 0, 0, 6890},
	{0x65, NULL, 0, 0, 0, 6891}, {0x3b, "\xe2\x84\x90", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 6893}, {0x72, NULL, 0, 0, 0, 6894},
	{0x74, NULL, 0, 0, 0, 6895}, {0x3b, "\xe2\x84\x91", 3, 0, 0, 0},
	{0x3b, "\xe2\x84\x91", 3, 0, 0, 0}, {0x68, NULL, 0, 0, 0, 6898},
	{0x3b, "\xc4\xb1", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 6900},
	{0x3b, "\xc4\xab", 2, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 6902},
	{0x65, NULL, 0, 0, 0, 6903}, {0x73, NULL, 0, 0, 0, 6904},
	{0x74, "\xc2\xbf", 2, 0, 0, 6905}, {0x3b, "\xc2\xbf", 2, 0, 0, 0},
	{0x72, NULL, 0, 6907, 0, 6908}, {0x66, NULL, 0, 0, 0, 6909},
	{0x3b, "\xf0\x9d\x94\xa6", 4, 0, 0, 0}, {0x3b, "\xe2\x87\x94", 3, 0, 0, 0},
	{0x6e, NULL, 0, 6912, 6911, 6914}, {0x6f, NULL, 0, 0, 0, 6918},
	{0x69, NULL, 0, 6913, 0, 6921}, {0x3b, "\xe2\x85\x88", 3, 0, 0, 0},
	{0x66, NULL, 0, 0, 0, 6915}, {0x69, NULL, 0, 0, 0, 6916},
	{0x6e, NULL, 0, 0, 0, 6917}, {0x3b, "\xe2\xa7\x9c", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 6919}, {0x61, NULL, 0, 0, 0, 6920},
	{0x3b, "\xe2\x84\xa9", 3, 0, 0, 0}, {0x6e, NULL, 0, 6922, 0, 6923},
	{0x69, NULL, 0, 0, 0, 6925}, {0x74, NULL, 0, 0, 0, 6924},
	{0x3b, "\xe2\x88\xad", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 6926},
	{0x74, NULL, 0, 0, 0, 6927}, {0x3b, "\xe2\xa8\x8c", 3, 0, 0, 0},
	{0x69, NULL, 0, 6930, 6929, 6931}, {0x79, NULL, 0, 0, 0, 6934},
	{0x3b, "\xe2\x81\xa3", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 6932},
	{0x63, "\xc3\xae", 2, 0, 0, 6933}, {0x3b, "\xc3\xae", 2, 0, 0, 0},
	{0x3b, "\xd0\xb8", 2, 0, 0, 0}, {0x78, NULL, 0, 6936, 0, 6937},
	{0x63, NULL, 0, 0, 0, 6940}, {0x63, NULL, 0, 0, 0, 6938},
	{0x6c, "\xc2\xa1", 2, 0, 0, 6939}, {0x3b, "\xc2\xa1", 2, 0, 0, 0},
	{0x79, NULL, 0, 0, 0, 6941}, {0x3b, "\xd0\xb5", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 6943}, {0x75, NULL, 0, 0, 0, 6944},
	{0x74, NULL, 0, 0, 0, 6945}, {0x65, "\xc3\xad", 2, 0, 0, 6946},
	{0x3b, "\xc3\xad", 2, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 6948},
	{0x69, NULL, 0, 0, 0, 6949}, {0x67, NULL, 0, 0, 0, 6950},
	{0x3b, "\xc4\xb3", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 6952},
	{0x61, NULL, 0, 0, 0, 6953}, {0x76, NULL, 0, 0, 0, 6954},
	{0x65, "\xc3\xac", 2, 0, 0, 6955}, {0x3b, "\xc3\xac", 2, 0, 0, 0},
	{0x69, NULL, 0, 6957, 0, 6958}, {0x3b, "\xe2\x81\xa2", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 6959}, {0x64, NULL, 0, 0, 0, 6960},
	{0x65, NULL, 0, 0, 0, 6961}, {0x3b, "\xc4\xa9", 2, 0, 0, 0},
	{0x70, NULL, 0, 6964, 6963, 6966}, {0x74, NULL, 0, 0, 0, 6968},
	{0x67, NULL, 0, 6965, 0, 6970}, {0x63, NULL, 0, 0, 0, 6973},
	{0x66, NULL, 0, 0, 0, 6967}, {0x3b, "\xf0\x9d\x95\x9a", 4, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 6969}, {0x3b, "\xce\xb9", 2, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 6971}, {0x6e, NULL, 0, 0, 0, 6972},
	{0x3b, "\xc4\xaf", 2, 0, 0, 0}, {0x79, NULL, 0, 0, 0, 6974},
	{0x3b, "\xd1\x91", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 6976},
	{0x6f, NULL, 0, 0, 0, 6977}, {0x64, NULL, 0, 0, 0, 6978},
	{0x3b, "\xe2\xa8\xbc", 3, 0, 0, 0}, {0x66, NULL, 0, 6981, 6980, 6984},
	{0x74, NULL, 0, 6983, 0, 6991}, {0x63, NULL, 0, 6982, 0, 7018},
	{0x3b, "\xe2\x88\x88", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 7022},
	{0x69, NULL, 0, 0, 0, 6985}, {0x6e, NULL, 0, 0, 0, 6986},
	{0x74, NULL, 0, 6987, 0, 6988}, {0x3b, "\xe2\x88\x9e", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 6989}, {0x65, NULL, 0, 0, 0, 6990},
	{0x3b, "\xe2\xa7\x9d", 3, 0, 0, 0}, {0x65, NULL, 0, 6993, 6992, 6996},
	{0x70, NULL, 0, 6995, 0, 7006}, {0x63, NULL, 0, 6994, 0, 7010},
	{0x3b, "\xe2\x88\xab", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 7013},
	{0x72, NULL, 0, 6997, 0, 6998}, {0x67, NULL, 0, 0, 0, 7002},
	{0x63, NULL, 0, 0, 0, 6999}, {0x61, NULL, 0, 0, 0, 7000},
	{0x6c, NULL, 0, 0, 0, 7001}, {0x3b, "\xe2\x8a\xba", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 7003}, {0x72, NULL, 0, 0, 0, 7004},
	{0x73, NULL, 0, 0, 0, 7005}, {0x3b, "\xe2\x84\xa4", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 7007}, {0x6f, NULL, 0, 0, 0, 7008},
	{0x64, NULL, 0, 0, 0, 7009}, {0x3b, "\xe2\xa8\xbc", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 7011}, {0x6c, NULL, 0, 0, 0, 7012},
	{0x3b, "\xe2\x8a\xba", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 7014},
	{0x72, NULL, 0, 0, 0, 7015}, {0x68, NULL, 0, 0, 0, 7016},
	{0x6b, NULL, 0, 0, 0, 7017}, {0x3b, "\xe2\xa8\x97", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 7019}, {0x72, NULL, 0, 0, 0, 7020},
	{0x65, NULL, 0, 0, 0, 7021}, {0x3b, "\xe2\x84\x85", 3, 0, 0, 0},
	{0x64, NULL, 0, 0, 0, 7023}, {0x6f, NULL, 0, 0, 0, 7024},
	{0x74, NULL, 0, 0, 0, 7025}, {0x3b, "\xc4\xb1", 2, 0, 0, 0},
	{0x6d, NULL, 0, 7027, 0, 7028}, {0x6b, NULL, 0, 0, 0, 7030},
	{0x6c, "\xc3\xaf", 2, 0, 0, 7029}, {0x3b, "\xc3\xaf", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 7031}, {0x79, NULL, 0, 0, 0, 7032},
	{0x3b, "\xd1\x96", 2, 0, 0, 0}, {0x69, NULL, 0, 7034, 0, 7035},
	{0x63, NULL, 0, 0, 0, 7049}, {0x6e, NULL, 0, 0, 0, 7036},
	{0x64, NULL, 0, 7038, 7037, 7041}, {0x76, NULL, 0, 7040, 0, 7044},
	{0x45, NULL, 0, 7039, 0, 7045}, {0x3b, "\xe2\x88\x88", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 7046}, {0x6f, NULL, 0, 0, 0, 7042},
	{0x74, NULL, 0, 0, 0, 7043}, {0x3b, "\xe2\x8b\xb5", 3, 0, 0, 0},
	{0x3b, "\xe2\x88\x88", 3, 0, 0, 0}, {0x3b, "\xe2\x8b\xb9", 3, 0, 0, 0},
	{0x76, NULL, 0, 7047, 0, 7048}, {0x3b, "\xe2\x8b\xb4", 3, 0, 0, 0},
	{0x3b, "\xe2\x8b\xb3", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7050},
	{0x3b, "\xf0\x9d\x92\xbe", 4, 0, 0, 0}, {0x68, NULL, 0, 7053, 7052, 7074},
	{0x70, NULL, 0, 7065, 7064, 7086}, {0x62, NULL, 0, 7055, 7054, 7092},
	{0x65, NULL, 0, 7061, 7060, 7116}, {0x45, NULL, 0, 7057, 7056, 7261},
	{0x61, NULL, 0, 7059, 0, 7264}, {0x42, NULL, 0, 7058, 0, 7337},
	{0x41, NULL, 0, 0, 0, 7341}, {0x48, NULL, 0, 0, 0, 7353},
	{0x67, NULL, 0, 7063, 0, 7356}, {0x64, NULL, 0, 7062, 0, 7359},
	{0x63, NULL, 0, 0, 0, 7383}, {0x66, NULL, 0, 0, 0, 7401},
	{0x74, "\x3c", 1, 7071, 7070, 7413}, {0x6d, NULL, 0, 7067, 7066, 7456},
	{0x6f, NULL, 0, 7069, 0, 7471}, {0x6c, NULL, 0, 7068, 0, 7575},
	{0x6a, NULL, 0, 0, 0, 7596}, {0x6e, NULL, 0, 0, 0, 7599},
	{0x76, NULL, 0, 7073, 0, 7619}, {0x73, NULL, 0, 7072, 0, 7630},
	{0x72, NULL, 0, 0, 0, 7660}, {0x75, NULL, 0, 0, 0, 7683},
	{0x62, NULL, 0, 7075, 0, 7076}, {0x61, NULL, 0, 0, 0, 7079},
	{0x6c, NULL, 0, 0, 0, 7077}, {0x6b, NULL, 0, 0, 0, 7078},
	{0x3b, "\xe2\x96\x84", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7080},
	{0x75, NULL, 0, 7081, 0, 7082}, {0x64, NULL, 0, 0, 0, 7085},
	{0x6c, NULL, 0, 7083, 0, 7084}, {0x3b, "\xe2\x86\xbc", 3, 0, 0, 0},
	{0x3b, "\xe2\xa5\xaa", 3, 0, 0, 0}, {0x3b, "\xe2\x86\xbd", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 7087}, {0x72, NULL, 0, 0, 0, 7088},
	{0x6c, NULL, 0, 7089, 0, 7090}, {0x3b, "\x28", 1, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 7091}, {0x3b, "\xe2\xa6\x93", 3, 0, 0, 0},
	{0x62, NULL, 0, 7094, 7093, 7095}, {0x72, NULL, 0, 0, 0, 7098},
	{0x61, NULL, 0, 0, 0, 7113}, {0x72, NULL, 0, 0, 0, 7096},
	{0x6b, NULL, 0, 0, 0, 7097}, {0x3b, "\xe2\x9d\xb2", 3, 0, 0, 0},
	{0x6b, NULL, 0, 7099, 0, 7100}, {0x61, NULL, 0, 0, 0, 7108},
	{0x73, NULL, 0, 7101, 0, 7102}, {0x65, NULL, 0, 0, 0, 7107},
	{0x6c, NULL, 0, 0, 0, 7103}, {0x75, NULL, 0, 7104, 0, 7105},
	{0x64, NULL, 0, 0, 0, 7106}, {0x3b, "\xe2\xa6\x8d", 3, 0, 0, 0},
	{0x3b, "\xe2\xa6\x8f", 3, 0, 0, 0}, {0x3b, "\xe2\xa6\x8b", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 7109}, {0x6b, NULL, 0, 7110, 0, 7111},
	{0x65, NULL, 0, 0, 0, 7112}, {0x3b, "\x5b", 1, 0, 0, 0},
	{0x3b, "\x7b", 1, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7114},
	{0x72, NULL, 0, 0, 0, 7115}, {0x3b, "\xe2\xa4\x8c", 3, 0, 0, 0},
	{0x67, NULL, 0, 7118, 7117, 7121}, {0x73, NULL, 0, 7120, 0, 7122},
	{0x66, NULL, 0, 7119, 0, 7170}, {0x3b, "\xe2\x89\xa4", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 7252}, {0x3b, "\xe2\x8b\x9a", 3, 0, 0, 0},
	{0x64, NULL, 0, 7124, 7123, 7127}, {0x73, NULL, 0, 7126, 0, 7134},
	{0x63, NULL, 0, 7125, 0, 7164}, {0x3b, "\xe2\xa9\xbd", 3, 0, 0, 0},
	{0x67, NULL, 0, 0, 0, 7166}, {0x6f, NULL, 0, 0, 0, 7128},
	{0x74, NULL, 0, 0, 0, 7129}, {0x6f, NULL, 0, 7130, 0, 7131},
	{0x3b, "\xe2\xa9\xbf", 3, 0, 0, 0}, {0x72, NULL, 0, 7132, 0, 7133},
	{0x3b, "\xe2\xaa\x81", 3, 0, 0, 0}, {0x3b, "\xe2\xaa\x83", 3, 0, 0, 0},
	{0x65, NULL, 0, 7136, 7135, 7139}, {0x73, NULL, 0, 7138, 0, 7149},
	{0x64, NULL, 0, 7137, 0, 7152}, {0x61, NULL, 0, 0, 0, 7155},
	{0x67, NULL, 0, 0, 0, 7161}, {0x71, NULL, 0, 0, 0, 7140},
	{0x71, NULL, 0, 7141, 0, 7142}, {0x67, NULL, 0, 0, 0, 7146},
	{0x67, NULL, 0, 0, 0, 7143}, {0x74, NULL, 0, 0, 0, 7144},
	{0x72, NULL, 0, 0, 0, 7145}, {0x3b, "\xe2\xaa\x8b", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 7147}, {0x72, NULL, 0, 0, 0, 7148},
	{0x3b, "\xe2\x8b\x9a", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 7150},
	{0x6d, NULL, 0, 0, 0, 7151}, {0x3b, "\xe2\x89\xb2", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 7153}, {0x74, NULL, 0, 0, 0, 7154},
	{0x3b, "\xe2\x8b\x96", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 7156},
	{0x70, NULL, 0, 0, 0, 7157}, {0x72, NULL, 0, 0, 0, 7158},
	{0x6f, NULL, 0, 0, 0, 7159}, {0x78, NULL, 0, 0, 0, 7160},
	{0x3b, "\xe2\xaa\x85", 3, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 7162},
	{0x72, NULL, 0, 0, 0, 7163}, {0x3b, "\xe2\x89\xb6", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 7165}, {0x3b, "\xe2\xaa\xa8", 3, 0, 0, 0},
	{0x65, NULL, 0, 7167, 0, 7168}, {0x3b, "\xe2\x8b\x9a\xef\xb8\x80", 6, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 7169}, {0x3b, "\xe2\xaa\x93", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 7171}, {0x6c, NULL, 0, 7173, 7172, 7176},
	{0x74, NULL, 0, 7175, 0, 7186}, {0x68, NULL, 0, 7174, 0, 7196},
	{0x61, NULL, 0, 0, 0, 7210}, {0x72, NULL, 0, 0, 0, 7220},
	{0x65, NULL, 0, 0, 0, 7177}, {0x66, NULL, 0, 0, 0, 7178},
	{0x74, NULL, 0, 0, 0, 7179}, {0x61, NULL, 0, 0, 0, 7180},
	{0x72, NULL, 0, 0, 0, 7181}, {0x72, NULL, 0, 0, 0, 7182},
	{0x6f, NULL, 0, 0, 0, 7183}, {0x77, NULL, 0, 0, 0, 7184},
	{0x73, NULL, 0, 0, 0, 7185}, {0x3b, "\xe2\x87\x87", 3, 0, 0, 0},
	{0x68, NULL, 0, 0, 0, 7187}, {0x72, NULL, 0, 0, 0, 7188},
	{0x65, NULL, 0, 0, 0, 7189}, {0x65, NULL, 0, 0, 0, 7190},
	{0x74, NULL, 0, 0, 0, 7191}, {0x69, NULL, 0, 0, 0, 7192},
	{0x6d, NULL, 0, 0, 0, 7193}, {0x65, NULL, 0, 0, 0, 7194},
	{0x73, NULL, 0, 0, 0, 7195}, {0x3b, "\xe2\x8b\x8b", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 7197}, {0x72, NULL, 0, 0, 0, 7198},
	{0x70, NULL, 0, 0, 0, 7199}, {0x6f, NULL, 0, 0, 0, 7200},
	{0x6f, NULL, 0, 0, 0, 7201}, {0x6e, NULL, 0, 0, 0, 7202},
	{0x75, NULL, 0, 7203, 0, 7204}, {0x64, NULL, 0, 0, 0, 7206},
	{0x70, NULL, 0, 0, 0, 7205}, {0x3b, "\xe2\x86\xbc", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 7207}, {0x77, NULL, 0, 0, 0, 7208},
	{0x6e, NULL, 0, 0, 0, 7209}, {0x3b, "\xe2\x86\xbd", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 7211}, {0x72, NULL, 0, 0, 0, 7212},
	{0x6f, NULL, 0, 0, 0, 7213}, {0x77, NULL, 0, 0, 0, 7214},
	{0x74, NULL, 0, 7215, 0, 7216}, {0x3b, "\xe2\x86\x90", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 7217}, {0x69, NULL, 0, 0, 0, 7218},
	{0x6c, NULL, 0, 0, 0, 7219}, {0x3b, "\xe2\x86\xa2", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 7221}, {0x67, NULL, 0, 0, 0, 7222},
	{0x68, NULL, 0, 0, 0, 7223}, {0x74, NULL, 0, 0, 0, 7224},
	{0x68, NULL, 0, 7226, 7225, 7227}, {0x73, NULL, 0, 0, 0, 7235},
	{0x61, NULL, 0, 0, 0, 7245}, {0x61, NULL, 0, 0, 0, 7228},
	{0x72, NULL, 0, 0, 0, 7229}, {0x70, NULL, 0, 0, 0, 7230},
	{0x6f, NULL, 0, 0, 0, 7231}, {0x6f, NULL, 0, 0, 0, 7232},
	{0x6e, NULL, 0, 0, 0, 7233}, {0x73, NULL, 0, 0, 0, 7234},
	{0x3b, "\xe2\x87\x8b", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 7236},
	{0x75, NULL, 0, 0, 0, 7237}, {0x69, NULL, 0, 0, 0, 7238},
	{0x67, NULL, 0, 0, 0, 7239}, {0x61, NULL, 0, 0, 0, 7240},
	{0x72, NULL, 0, 0, 0, 7241}, {0x72, NULL, 0, 0, 0, 7242},
	{0x6f, NULL, 0, 0, 0, 7243}, {0x77, NULL, 0, 0, 0, 7244},
	{0x3b, "\xe2\x86\xad", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7246},
	{0x72, NULL, 0, 0, 0, 7247}, {0x6f, NULL, 0, 0, 0, 7248},
	{0x77, NULL, 0, 0, 0, 7249}, {0x73, NULL, 0, 7250, 0, 7251},
	{0x3b, "\xe2\x86\x94", 3, 0, 0, 0}, {0x3b, "\xe2\x87\x86", 3, 0, 0, 0},
	{0x71, NULL, 0, 7254, 7253, 7255}, {0x73, NULL, 0, 0, 0, 7256},
	{0x3b, "\xe2\x89\xa4", 3, 0, 0, 0}, {0x3b, "\xe2\x89\xa6", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 7257}, {0x61, NULL, 0, 0, 0, 7258},
	{0x6e, NULL, 0, 0, 0, 7259}, {0x74, NULL, 0, 0, 0, 7260},
	{0x3b, "\xe2\xa9\xbd", 3, 0, 0, 0}, {0x67, NULL, 0, 7262, 0, 7263},
	{0x3b, "\xe2\x89\xa6", 3, 0, 0, 0}, {0x3b, "\xe2\xaa\x8b", 3, 0, 0, 0},
	{0x6e, NULL, 0, 7266, 7265, 7273}, {0x72, NULL, 0, 7271, 7270, 7280},
	{0x67, NULL, 0, 7268, 7267, 7306}, {0x6d, NULL, 0, 0, 0, 7310},
	{0x65, NULL, 0, 7269, 0, 7314}, {0x63, NULL, 0, 0, 0, 7320},
	{0x74, NULL, 0, 0, 0, 7324}, {0x71, NULL, 0, 7272, 0, 7333},
	{0x70, NULL, 0, 0, 0, 7336}, {0x67, NULL, 0, 0, 0, 7274},
	{0x64, NULL, 0, 7276, 7275, 7277}, {0x6c, NULL, 0, 0, 0, 7278},
	{0x3b, "\xe2\x9f\xa8", 3, 0, 0, 0}, {0x3b, "\xe2\xa6\x91", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 7279}, {0x3b, "\xe2\x9f\xa8", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 7281}, {0x6c, NULL, 0, 7283, 7282, 7289},
	{0x73, NULL, 0, 7288, 7287, 7291}, {0x66, NULL, 0, 7285, 7284, 7294},
	{0x68, NULL, 0, 0, 0, 7296}, {0x62, NULL, 0, 7286, 0, 7298},
	{0x3b, "\xe2\x86\x90", 3, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 7302},
	{0x70, NULL, 0, 0, 0, 7304}, {0x70, NULL, 0, 0, 0, 7290},
	{0x3b, "\xe2\x86\xab", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 7292},
	{0x6d, NULL, 0, 0, 0, 7293}, {0x3b, "\xe2\xa5\xb3", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 7295}, {0x3b, "\xe2\xa4\x9d", 3, 0, 0, 0},
	{0x6b, NULL, 0, 0, 0, 7297}, {0x3b, "\xe2\x86\xa9", 3, 0, 0, 0},
	{0x66, NULL, 0, 7299, 0, 7300}, {0x3b, "\xe2\x87\xa4", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 7301}, {0x3b, "\xe2\xa4\x9f", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 7303}, {0x3b, "\xe2\x86\xa2", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 7305}, {0x3b, "\xe2\xa4\xb9", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 7307}, {0x61, NULL, 0, 0, 0, 7308},
	{0x6e, NULL, 0, 0, 0, 7309}, {0x3b, "\xe2\x84\x92", 3, 0, 0, 0},
	{0x62, NULL, 0, 0, 0, 7311}, {0x64, NULL, 0, 0, 0, 7312},
	{0x61, NULL, 0, 0, 0, 7313}, {0x3b, "\xce\xbb", 2, 0, 0, 0},
	{0x6d, NULL, 0, 0, 0, 7315}, {0x70, NULL, 0, 0, 0, 7316},
	{0x74, NULL, 0, 0, 0, 7317}, {0x79, NULL, 0, 0, 0, 7318},
	{0x76, NULL, 0, 0, 0, 7319}, {0x3b, "\xe2\xa6\xb4", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 7321}, {0x74, NULL, 0, 0, 0, 7322},
	{0x65, NULL, 0, 0, 0, 7323}, {0x3b, "\xc4\xba", 2, 0, 0, 0},
	{0x61, NULL, 0, 7326, 7325, 7327}, {0x65, NULL, 0, 0, 0, 7330},
	{0x3b, "\xe2\xaa\xab", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 7328},
	{0x6c, NULL, 0, 0, 0, 7329}, {0x3b, "\xe2\xa4\x99", 3, 0, 0, 0},
	{0x73, NULL, 0, 7331, 0, 7332}, {0x3b, "\xe2\xaa\xad", 3, 0, 0, 0},
	{0x3b, "\xe2\xaa\xad\xef\xb8\x80", 6, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 7334},
	{0x6f, "\xc2\xab", 2, 0, 0, 7335}, {0x3b, "\xc2\xab", 2, 0, 0, 0},
	{0x3b, "\xe2\xaa\x85", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 7338},
	{0x72, NULL, 0, 0, 0, 7339}, {0x72, NULL, 0, 0, 0, 7340},
	{0x3b, "\xe2\xa4\x8e", 3, 0, 0, 0}, {0x72, NULL, 0, 7343, 7342, 7344},
	{0x74, NULL, 0, 0, 0, 7346}, {0x61, NULL, 0, 0, 0, 7350},
	{0x72, NULL, 0, 0, 0, 7345}, {0x3b, "\xe2\x87\x90", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 7347}, {0x69, NULL, 0, 0, 0, 7348},
	{0x6c, NULL, 0, 0, 0, 7349}, {0x3b, "\xe2\xa4\x9b", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 7351}, {0x72, NULL, 0, 0, 0, 7352},
	{0x3b, "\xe2\x87\x9a", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 7354},
	{0x72, NULL, 0, 0, 0, 7355}, {0x3b, "\xe2\xa5\xa2", 3, 0, 0, 0},
	{0x45, NULL, 0, 7357, 0, 7358}, {0x3b, "\xe2\x89\xb6", 3, 0, 0, 0},
	{0x3b, "\xe2\xaa\x91", 3, 0, 0, 0}, {0x72, NULL, 0, 7361, 7360, 7363},
	{0x73, NULL, 0, 0, 0, 7374}, {0x71, NULL, 0, 7362, 0, 7376},
	{0x63, NULL, 0, 0, 0, 7381}, {0x75, NULL, 0, 7364, 0, 7365},
	{0x64, NULL, 0, 0, 0, 7370}, {0x73, NULL, 0, 0, 0, 7366},
	{0x68, NULL, 0, 0, 0, 7367}, {0x61, NULL, 0, 0, 0, 7368},
	{0x72, NULL, 0, 0, 0, 7369}, {0x3b, "\xe2\xa5\x8b", 3, 0, 0, 0},
	{0x68, NULL, 0, 0, 0, 7371}, {0x61, NULL, 0, 0, 0, 7372},
	{0x72, NULL, 0, 0, 0, 7373}, {0x3b, "\xe2\xa5\xa7", 3, 0, 0, 0},
	{0x68, NULL, 0, 0, 0, 7375}, {0x3b, "\xe2\x86\xb2", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 7377}, {0x6f, NULL, 0, 0, 0, 7378},
	{0x72, NULL, 0, 7379, 0, 7380}, {0x3b, "\xe2\x80\x9c", 3, 0, 0, 0},
	{0x3b, "\xe2\x80\x9e", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 7382},
	{0x3b, "\xe2\xa4\xb6", 3, 0, 0, 0}, {0x75, NULL, 0, 7385, 7384, 7387},
	{0x79, NULL, 0, 0, 0, 7389}, {0x65, NULL, 0, 7386, 0, 7390},
	{0x61, NULL, 0, 0, 0, 7397}, {0x62, NULL, 0, 0, 0, 7388},
	{0x3b, "\x7b", 1, 0, 0, 0}, {0x3b, "\xd0\xbb", 2, 0, 0, 0},
	{0x69, NULL, 0, 7391, 0, 7392}, {0x64, NULL, 0, 0, 0, 7394},
	{0x6c, NULL, 0, 0, 0, 7393}, {0x3b, "\xe2\x8c\x88", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 7395}, {0x6c, NULL, 0, 0, 0, 7396},
	{0x3b, "\xc4\xbc", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7398},
	{0x6f, NULL, 0, 0, 0, 7399}, {0x6e, NULL, 0, 0, 0, 7400},
	{0x3b, "\xc4\xbe", 2, 0, 0, 0}, {0x6c, NULL, 0, 7403, 7402, 7404},
	{0x72, NULL, 0, 0, 0, 7408}, {0x69, NULL, 0, 0, 0, 7409},
	{0x6f, NULL, 0, 0, 0, 7405}, {0x6f, NULL, 0, 0, 0, 7406},
	{0x72, NULL, 0, 0, 0, 7407}, {0x3b, "\xe2\x8c\x8a", 3, 0, 0, 0},
	{0x3b, "\xf0\x9d\x94\xa9", 4, 0, 0, 0}, {0x73, NULL, 0, 0, 0, 7410},
	{0x68, NULL, 0, 0, 0, 7411}, {0x74, NULL, 0, 0, 0, 7412},
	{0x3b, "\xe2\xa5\xbc", 3, 0, 0, 0}, {0x69, NULL, 0, 7415, 7414, 7421},
	{0x71, NULL, 0, 7420, 7419, 7425}, {0x64, NULL, 0, 7417, 7416, 7430},
	{0x68, NULL, 0, 0, 0, 7433}, {0x63, NULL, 0, 7418, 0, 7437},
	{0x3b, "\x3c", 1, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7442},
	{0x6c, NULL, 0, 0, 0, 7452}, {0x6d, NULL, 0, 0, 0, 7422},
	{0x65, NULL, 0, 0, 0, 7423}, {0x73, NULL, 0, 0, 0, 7424},
	{0x3b, "\xe2\x8b\x89", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 7426},
	{0x65, NULL, 0, 0, 0, 7427}, {0x73, NULL, 0, 0, 0, 7428},
	{0x74, NULL, 0, 0, 0, 7429}, {0x3b, "\xe2\xa9\xbb", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 7431}, {0x74, NULL, 0, 0, 0, 7432},
	{0x3b, "\xe2\x8b\x96", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7434},
	{0x65, NULL, 0, 0, 0, 7435}, {0x65, NULL, 0, 0, 0, 7436},
	{0x3b, "\xe2\x8b\x8b", 3, 0, 0, 0}, {0x69, NULL, 0, 7438, 0, 7439},
	{0x63, NULL, 0, 0, 0, 7441}, {0x72, NULL, 0, 0, 0, 7440},
	{0x3b, "\xe2\xa9\xb9", 3, 0, 0, 0}, {0x3b, "\xe2\xaa\xa6", 3, 0, 0, 0},
	{0x69, NULL, 0, 7443, 0, 7444}, {0x50, NULL, 0, 0, 0, 7449},
	{0x65, NULL, 0, 7446, 7445, 7447}, {0x66, NULL, 0, 0, 0, 7448},
	{0x3b, "\xe2\x97\x83", 3, 0, 0, 0}, {0x3b, "\xe2\x8a\xb4", 3, 0, 0, 0},
	{0x3b, "\xe2\x97\x82", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 7450},
	{0x72, NULL, 0, 0, 0, 7451}, {0x3b, "\xe2\xa6\x96", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 7453}, {0x72, NULL, 0, 0, 0, 7454},
	{0x72, NULL, 0, 0, 0, 7455}, {0x3b, "\xe2\xa5\xb6", 3, 0, 0, 0},
	{0x6f, NULL, 0, 7457, 0, 7458}, {0x69, NULL, 0, 0, 0, 7467},
	{0x75, NULL, 0, 0, 0, 7459}, {0x73, NULL, 0, 0, 0, 7460},
	{0x74, NULL, 0, 0, 0, 7461}, {0x61, NULL, 0, 7462, 0, 7463},
	{0x3b, "\xe2\x8e\xb0", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 7464},
	{0x68, NULL, 0, 0, 0, 7465}, {0x65, NULL, 0, 0, 0, 7466},
	{0x3b, "\xe2\x8e\xb0", 3, 0, 0, 0}, {0x64, NULL, 0, 0, 0, 7468},
	{0x6f, NULL, 0, 0, 0, 7469}, {0x74, NULL, 0, 0, 0, 7470},
	{0x3b, "\xc5\x80", 2, 0, 0, 0}, {0x70, NULL, 0, 7473, 7472, 7479},
	{0x77, NULL, 0, 7478, 7477, 7488}, {0x6e, NULL, 0, 7475, 7474, 7496},
	{0x6f, NULL, 0, 0, 0, 7536}, {0x62, NULL, 0, 7476, 0, 7553},
	{0x61, NULL, 0, 0, 0, 7556}, {0x7a, NULL, 0, 0, 0, 7562},
	{0x74, NULL, 0, 0, 0, 7570}, {0x66, NULL, 0, 7481, 7480, 7482},
	{0x6c, NULL, 0, 0, 0, 7483}, {0x61, NULL, 0, 0, 0, 7486},
	{0x3b, "\xf0\x9d\x95\x9d", 4, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 7484},
	{0x73, NULL, 0, 0, 0, 7485}, {0x3b, "\xe2\xa8\xad", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 7487}, {0x3b, "\xe2\xa6\x85", 3, 0, 0, 0},
	{0x62, NULL, 0, 7489, 0, 7490}, {0x61, NULL, 0, 0, 0, 7493},
	{0x61, NULL, 0, 0, 0, 7491}, {0x72, NULL, 0, 0, 0, 7492},
	{0x3b, "\x5f", 1, 0, 0, 0}, {0x73, NULL, 0, 0, 0, 7494},
	{0x74, NULL, 0, 0, 0, 7495}, {0x3b, "\xe2\x88\x97", 3, 0, 0, 0},
	{0x67, NULL, 0, 0, 0, 7497}, {0x6d, NULL, 0, 7499, 7498, 7500},
	{0x72, NULL, 0, 0, 0, 7506}, {0x6c, NULL, 0, 0, 0, 7516},
	{0x61, NULL, 0, 0, 0, 7501}, {0x70, NULL, 0, 0, 0, 7502},
	{0x73, NULL, 0, 0, 0, 7503}, {0x74, NULL, 0, 0, 0, 7504},
	{0x6f, NULL, 0, 0, 0, 7505}, {0x3b, "\xe2\x9f\xbc", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 7507}, {0x67, NULL, 0, 0, 0, 7508},
	{0x68, NULL, 0, 0, 0, 7509}, {0x74, NULL, 0, 0, 0, 7510},
	{0x61, NULL, 0, 0, 0, 7511}, {0x72, NULL, 0, 0, 0, 7512},
	{0x72, NULL, 0, 0, 0, 7513}, {0x6f, NULL, 0, 0, 0, 7514},
	{0x77, NULL, 0, 0, 0, 7515}, {0x3b, "\xe2\x9f\xb6", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 7517}, {0x66, NULL, 0, 0, 0, 7518},
	{0x74, NULL, 0, 0, 0, 7519}, {0x72, NULL, 0, 7520, 0, 7521},
	{0x61, NULL, 0, 0, 0, 7531}, {0x69, NULL, 0, 0, 0, 7522},
	{0x67, NULL, 0, 0, 0, 7523}, {0x68, NULL, 0, 0, 0, 7524},
	{0x74, NULL, 0, 0, 0, 7525}, {0x61, NULL, 0, 0, 0, 7526},
	{0x72, NULL, 0, 0, 0, 7527}, {0x72, NULL, 0, 0, 0, 7528},
	{0x6f, NULL, 0, 0, 0, 7529}, {0x77, NULL, 0, 0, 0, 7530},
	{0x3b, "\xe2\x9f\xb7", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7532},
	{0x72, NULL, 0, 0, 0, 7533}, {0x6f, NULL, 0, 0, 0, 7534},
	{0x77, NULL, 0, 0, 0, 7535}, {0x3b, "\xe2\x9f\xb5", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 7537}, {0x61, NULL, 0, 0, 0, 7538},
	{0x72, NULL, 0, 0, 0, 7539}, {0x72, NULL, 0, 0, 0, 7540},
	{0x6f, NULL, 0, 0, 0, 7541}, {0x77, NULL, 0, 0, 0, 7542},
	{0x72, NULL, 0, 7543, 0, 7544}, {0x6c, NULL, 0, 0, 0, 7549},
	{0x69, NULL, 0, 0, 0, 7545}, {0x67, NULL, 0, 0, 0, 7546},
	{0x68, NULL, 0, 0, 0, 7547}, {0x74, NULL, 0, 0, 0, 7548},
	{0x3b, "\xe2\x86\xac", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 7550},
	{0x66, NULL, 0, 0, 0, 7551}, {0x74, NULL, 0, 0, 0, 7552},
	{0x3b, "\xe2\x86\xab", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7554},
	{0x6b, NULL, 0, 0, 0, 7555}, {0x3b, "\xe2\x9f\xa6", 3, 0, 0, 0},
	{0x72, NULL, 0, 7557, 0, 7558}, {0x6e, NULL, 0, 0, 0, 7560},
	{0x72, NULL, 0, 0, 0, 7559}, {0x3b, "\xe2\x87\xbd", 3, 0, 0, 0},
	{0x67, NULL, 0, 0, 0, 7561}, {0x3b, "\xe2\x9f\xac", 3, 0, 0, 0},
	{0x65, NULL, 0, 7564, 7563, 7565}, {0x66, NULL, 0, 0, 0, 7569},
	{0x3b, "\xe2\x97\x8a", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 7566},
	{0x67, NULL, 0, 0, 0, 7567}, {0x65, NULL, 0, 0, 0, 7568},
	{0x3b, "\xe2\x97\x8a", 3, 0, 0, 0}, {0x3b, "\xe2\xa7\xab", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 7571}, {0x6d, NULL, 0, 0, 0, 7572},
	{0x65, NULL, 0, 0, 0, 7573}, {0x73, NULL, 0, 0, 0, 7574},
	{0x3b, "\xe2\xa8\xb4", 3, 0, 0, 0}, {0x63, NULL, 0, 7577, 7576, 7580},
	{0x74, NULL, 0, 7579, 0, 7586}, {0x61, NULL, 0, 7578, 0, 7589},
	{0x3b, "\xe2\x89\xaa", 3, 0, 0, 0}, {0x68, NULL, 0, 0, 0, 7592},
	{0x6f, NULL, 0, 0, 0, 7581}, {0x72, NULL, 0, 0, 0, 7582},
	{0x6e, NULL, 0, 0, 0, 7583}, {0x65, NULL, 0, 0, 0, 7584},
	{0x72, NULL, 0, 0, 0, 7585}, {0x3b, "\xe2\x8c\x9e", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 7587}, {0x69, NULL, 0, 0, 0, 7588},
	{0x3b, "\xe2\x97\xba", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7590},
	{0x72, NULL, 0, 0, 0, 7591}, {0x3b, "\xe2\x87\x87", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 7593}, {0x72, NULL, 0, 0, 0, 7594},
	{0x64, NULL, 0, 0, 0, 7595}, {0x3b, "\xe2\xa5\xab", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 7597}, {0x79, NULL, 0, 0, 0, 7598},
	{0x3b, "\xd1\x99", 2, 0, 0, 0}, {0x65, NULL, 0, 7601, 7600, 7603},
	{0x73, NULL, 0, 0, 0, 7608}, {0x61, NULL, 0, 7602, 0, 7611},
	{0x45, NULL, 0, 0, 0, 7618}, {0x71, NULL, 0, 7604, 0, 7605},
	{0x3b, "\xe2\xaa\x87", 3, 0, 0, 0}, {0x71, NULL, 0, 7606, 0, 7607},
	{0x3b, "\xe2\xaa\x87", 3, 0, 0, 0}, {0x3b, "\xe2\x89\xa8", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 7609}, {0x6d, NULL, 0, 0, 0, 7610},
	{0x3b, "\xe2\x8b\xa6", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 7612},
	{0x70, NULL, 0, 7613, 0, 7614}, {0x3b, "\xe2\xaa\x89", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 7615}, {0x6f, NULL, 0, 0, 0, 7616},
	{0x78, NULL, 0, 0, 0, 7617}, {0x3b, "\xe2\xaa\x89", 3, 0, 0, 0},
	{0x3b, "\xe2\x89\xa8", 3, 0, 0, 0}, {0x6e, NULL, 0, 7620, 0, 7621},
	{0x65, NULL, 0, 0, 0, 7623}, {0x45, NULL, 0, 0, 0, 7622},
	{0x3b, "\xe2\x89\xa8\xef\xb8\x80", 6, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7624},
	{0x74, NULL, 0, 0, 0, 7625}, {0x6e, NULL, 0, 0, 0, 7626},
	{0x65, NULL, 0, 0, 0, 7627}, {0x71, NULL, 0, 0, 0, 7628},
	{0x71, NULL, 0, 0, 0, 7629}, {0x3b, "\xe2\x89\xa8\xef\xb8\x80", 6, 0, 0, 0},
	{0x69, NULL, 0, 7632, 7631, 7636}, {0x74, NULL, 0, 7635, 0, 7642},
	{0x63, NULL, 0, 7634, 7633, 7646}, {0x68, NULL, 0, 0, 0, 7648},
	{0x61, NULL, 0, 0, 0, 7649}, {0x71, NULL, 0, 0, 0, 7653},
	{0x6d, NULL, 0, 0, 0, 7637}, {0x65, NULL, 0, 7639, 7638, 7640},
	{0x67, NULL, 0, 0, 0, 7641}, {0x3b, "\xe2\x89\xb2", 3, 0, 0, 0},
	{0x3b, "\xe2\xaa\x8d", 3, 0, 0, 0}, {0x3b, "\xe2\xaa\x8f", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 7643}, {0x6f, NULL, 0, 0, 0, 7644},
	{0x6b, NULL, 0, 0, 0, 7645}, {0x3b, "\xc5\x82", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 7647}, {0x3b, "\xf0\x9d\x93\x81", 4, 0, 0, 0},
	{0x3b, "\xe2\x86\xb0", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 7650},
	{0x75, NULL, 0, 0, 0, 7651}, {0x6f, NULL, 0, 0, 0, 7652},
	{0x3b, "\xe2\x80\xb9", 3, 0, 0, 0}, {0x75, NULL, 0, 7654, 0, 7655},
	{0x62, NULL, 0, 0, 0, 7659}, {0x6f, NULL, 0, 0, 0, 7656},
	{0x72, NULL, 0, 7657, 0, 7658}, {0x3b, "\xe2\x80\x98", 3, 0, 0, 0},
	{0x3b, "\xe2\x80\x9a", 3, 0, 0, 0}, {0x3b, "\x5b", 1, 0, 0, 0},
	{0x68, NULL, 0, 7662, 7661, 7665}, {0x74, NULL, 0, 7664, 0, 7670},
	{0x63, NULL, 0, 7663, 0, 7673}, {0x61, NULL, 0, 0, 0, 7679},
	{0x6d, NULL, 0, 0, 0, 7682}, {0x61, NULL, 0, 0, 0, 7666},
	{0x72, NULL, 0, 0, 0, 7667}, {0x64, NULL, 0, 7668, 0, 7669},
	{0x3b, "\xe2\x87\x8b", 3, 0, 0, 0}, {0x3b, "\xe2\xa5\xad", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 7671}, {0x69, NULL, 0, 0, 0, 7672},
	{0x3b, "\xe2\x8a\xbf", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 7674},
	{0x72, NULL, 0, 0, 0, 7675}, {0x6e, NULL, 0, 0, 0, 7676},
	{0x65, NULL, 0, 0, 0, 7677}, {0x72, NULL, 0, 0, 0, 7678},
	{0x3b, "\xe2\x8c\x9f", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7680},
	{0x72, NULL, 0, 0, 0, 7681}, {0x3b, "\xe2\x87\x86", 3, 0, 0, 0},
	{0x3b, "\xe2\x80\x8e", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7684},
	{0x75, NULL, 0, 7685, 0, 7686}, {0x64, NULL, 0, 0, 0, 7690},
	{0x68, NULL, 0, 0, 0, 7687}, {0x61, NULL, 0, 0, 0, 7688},
	{0x72, NULL, 0, 0, 0, 7689}, {0x3b, "\xe2\xa5\xa6", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 7691}, {0x68, NULL, 0, 0, 0, 7692},
	{0x61, NULL, 0, 0, 0, 7693}, {0x72, NULL, 0, 0, 0, 7694},
	{0x3b, "\xe2\xa5\x8a", 3, 0, 0, 0}, {0x6e, NULL, 0, 7697, 7696, 7709},
	{0x75, NULL, 0, 7705, 7704, 7712}, {0x68, NULL, 0, 7699, 7698, 7721},
	{0x6c, NULL, 0, 7703, 7702, 7729}, {0x64, NULL, 0, 7701, 7700, 7737},
	{0x66, NULL, 0, 0, 0, 7741}, {0x63, NULL, 0, 0, 0, 7743},
	{0x6d, NULL, 0, 0, 0, 7753}, {0x69, NULL, 0, 0, 0, 7756},
	{0x77, NULL, 0, 7708, 0, 7757}, {0x72, NULL, 0, 7707, 7706, 7762},
	{0x73, NULL, 0, 0, 0, 7770}, {0x6f, NULL, 0, 0, 0, 7778},
	{0x76, NULL, 0, 0, 0, 7794}, {0x69, NULL, 0, 0, 0, 7710},
	{0x73, NULL, 0, 0, 0, 7711}, {0x3b, "\xe2\x8b\xbb", 3, 0, 0, 0},
	{0x74, NULL, 0, 7713, 0, 7714}, {0x70, NULL, 0, 0, 0, 7717},
	{0x72, NULL, 0, 0, 0, 7715}, {0x69, NULL, 0, 0, 0, 7716},
	{0x3b, "\xe2\x96\xb3", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 7718},
	{0x75, NULL, 0, 0, 0, 7719}, {0x73, NULL, 0, 0, 0, 7720},
	{0x3b, "\xe2\xa8\x84", 3, 0, 0, 0}, {0x61, NULL, 0, 7722, 0, 7723},
	{0x41, NULL, 0, 0, 0, 7726}, {0x72, NULL, 0, 0, 0, 7724},
	{0x72, NULL, 0, 0, 0, 7725}, {0x3b, "\xe2\x9f\xb7", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 7727}, {0x72, NULL, 0, 0, 0, 7728},
	{0x3b, "\xe2\x9f\xba", 3, 0, 0, 0}, {0x61, NULL, 0, 7730, 0, 7731},
	{0x41, NULL, 0, 0, 0, 7734}, {0x72, NULL, 0, 0, 0, 7732},
	{0x72, NULL, 0, 0, 0, 7733}, {0x3b, "\xe2\x9f\xb5", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 7735}, {0x72, NULL, 0, 0, 0, 7736},
	{0x3b, "\xe2\x9f\xb8", 3, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 7738},
	{0x72, NULL, 0, 0, 0, 7739}, {0x69, NULL, 0, 0, 0, 7740},
	{0x3b, "\xe2\x96\xbd", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7742},
	{0x3b, "\xf0\x9d\x94\xb5", 4, 0, 0, 0}, {0x69, NULL, 0, 7745, 7744, 7746},
	{0x75, NULL, 0, 0, 0, 7749}, {0x61, NULL, 0, 0, 0, 7751},
	{0x72, NULL, 0, 0, 0, 7747}, {0x63, NULL, 0, 0, 0, 7748},
	{0x3b, "\xe2\x97\xaf", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 7750},
	{0x3b, "\xe2\x8b\x83", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 7752},
	{0x3b, "\xe2\x8b\x82", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 7754},
	{0x70, NULL, 0, 0, 0, 7755}, {0x3b, "\xe2\x9f\xbc", 3, 0, 0, 0},
	{0x3b, "\xce\xbe", 2, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 7758},
	{0x64, NULL, 0, 0, 0, 7759}, {0x67, NULL, 0, 0, 0, 7760},
	{0x65, NULL, 0, 0, 0, 7761}, {0x3b, "\xe2\x8b\x80", 3, 0, 0, 0},
	{0x61, NULL, 0, 7763, 0, 7764}, {0x41, NULL, 0, 0, 0, 7767},
	{0x72, NULL, 0, 0, 0, 7765}, {0x72, NULL, 0, 0, 0, 7766},
	{0x3b, "\xe2\x9f\xb6", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7768},
	{0x72, NULL, 0, 0, 0, 7769}, {0x3b, "\xe2\x9f\xb9", 3, 0, 0, 0},
	{0x71, NULL, 0, 7771, 0, 7772}, {0x63, NULL, 0, 0, 0, 7776},
	{0x63, NULL, 0, 0, 0, 7773}, {0x75, NULL, 0, 0, 0, 7774},
	{0x70, NULL, 0, 0, 0, 7775}, {0x3b, "\xe2\xa8\x86", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 7777}, {0x3b, "\xf0\x9d\x93\x8d", 4, 0, 0, 0},
	{0x70, NULL, 0, 7780, 7779, 7781}, {0x74, NULL, 0, 0, 0, 7787},
	{0x64, NULL, 0, 0, 0, 7791}, {0x6c, NULL, 0, 7782, 0, 7783},
	{0x66, NULL, 0, 0, 0, 7786}, {0x75, NULL, 0, 0, 0, 7784},
	{0x73, NULL, 0, 0, 0, 7785}, {0x3b, "\xe2\xa8\x81", 3, 0, 0, 0},
	{0x3b, "\xf0\x9d\x95\xa9", 4, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 7788},
	{0x6d, NULL, 0, 0, 0, 7789}, {0x65, NULL, 0, 0, 0, 7790},
	{0x3b, "\xe2\xa8\x82", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 7792},
	{0x74, NULL, 0, 0, 0, 7793}, {0x3b, "\xe2\xa8\x80", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 7795}, {0x65, NULL, 0, 0, 0, 7796},
	{0x3b, "\xe2\x8b\x81", 3, 0, 0, 0}, {0x69, NULL, 0, 7799, 7798, 7818},
	{0x72, NULL, 0, 7810, 7809, 7915}, {0x63, NULL, 0, 7801, 7800, 7919},
	{0x66, NULL, 0, 7807, 7806, 7937}, {0x48, NULL, 0, 7803, 7802, 7949},
	{0x62, NULL, 0, 7805, 0, 7952}, {0x42, NULL, 0, 7804, 0, 7976},
	{0x41, NULL, 0, 0, 0, 7980}, {0x61, NULL, 0, 0, 0, 7992},
	{0x68, NULL, 0, 0, 0, 8071}, {0x65, NULL, 0, 7808, 0, 8083},
	{0x64, NULL, 0, 0, 0, 8102}, {0x75, NULL, 0, 7816, 7815, 8120},
	{0x6e, NULL, 0, 7812, 7811, 8126}, {0x70, NULL, 0, 7814, 0, 8130},
	{0x6d, NULL, 0, 7813, 0, 8143}, {0x6c, NULL, 0, 0, 0, 8153},
	{0x6f, NULL, 0, 0, 0, 8163}, {0x78, NULL, 0, 0, 0, 8190},
	{0x74, NULL, 0, 7817, 0, 8191}, {0x73, NULL, 0, 0, 0, 8213},
	{0x6e, NULL, 0, 7820, 7819, 7821}, {0x73, NULL, 0, 0, 0, 7823},
	{0x67, NULL, 0, 0, 0, 7833}, {0x67, NULL, 0, 0, 0, 7822},
	{0x3b, "\xcb\x9a", 2, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 7824},
	{0x6e, NULL, 0, 0, 0, 7825}, {0x67, NULL, 0, 0, 0, 7826},
	{0x64, NULL, 0, 0, 0, 7827}, {0x6f, NULL, 0, 0, 0, 7828},
	{0x74, NULL, 0, 0, 0, 7829}, {0x73, NULL, 0, 0, 0, 7830},
	{0x65, NULL, 0, 0, 0, 7831}, {0x71, NULL, 0, 0, 0, 7832},
	{0x3b, "\xe2\x89\x93", 3, 0, 0, 0}, {0x68, NULL, 0, 0, 0, 7834},
	{0x74, NULL, 0, 0, 0, 7835}, {0x72, NULL, 0, 7837, 7836, 7841},
	{0x74, NULL, 0, 7840, 0, 7852}, {0x68, NULL, 0, 7839, 7838, 7862},
	{0x6c, NULL, 0, 0, 0, 7876}, {0x61, NULL, 0, 0, 0, 7895},
	{0x73, NULL, 0, 0, 0, 7905}, {0x69, NULL, 0, 0, 0, 7842},
	{0x67, NULL, 0, 0, 0, 7843}, {0x68, NULL, 0, 0, 0, 7844},
	{0x74, NULL, 0, 0, 0, 7845}, {0x61, NULL, 0, 0, 0, 7846},
	{0x72, NULL, 0, 0, 0, 7847}, {0x72, NULL, 0, 0, 0, 7848},
	{0x6f, NULL, 0, 0, 0, 7849}, {0x77, NULL, 0, 0, 0, 7850},
	{0x73, NULL, 0, 0, 0, 7851}, {0x3b, "\xe2\x87\x89", 3, 0, 0, 0},
	{0x68, NULL, 0, 0, 0, 7853}, {0x72, NULL, 0, 0, 0, 7854},
	{0x65, NULL, 0, 0, 0, 7855}, {0x65, NULL, 0, 0, 0, 7856},
	{0x74, NULL, 0, 0, 0, 7857}, {0x69, NULL, 0, 0, 0, 7858},
	{0x6d, NULL, 0, 0, 0, 7859}, {0x65, NULL, 0, 0, 0, 7860},
	{0x73, NULL, 0, 0, 0, 7861}, {0x3b, "\xe2\x8b\x8c", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 7863}, {0x72, NULL, 0, 0, 0, 7864},
	{0x70, NULL, 0, 0, 0, 7865}, {0x6f, NULL, 0, 0, 0, 7866},
	{0x6f, NULL, 0, 0, 0, 7867}, {0x6e, NULL, 0, 0, 0, 7868},
	{0x75, NULL, 0, 7869, 0, 7870}, {0x64, NULL, 0, 0, 0, 7872},
	{0x70, NULL, 0, 0, 0, 7871}, {0x3b, "\xe2\x87\x80", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 7873}, {0x77, NULL, 0, 0, 0, 7874},
	{0x6e, NULL, 0, 0, 0, 7875}, {0x3b, "\xe2\x87\x81", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 7877}, {0x66, NULL, 0, 0, 0, 7878},
	{0x74, NULL, 0, 0, 0, 7879}, {0x68, NULL, 0, 7880, 0, 7881},
	{0x61, NULL, 0, 0, 0, 7889}, {0x61, NULL, 0, 0, 0, 7882},
	{0x72, NULL, 0, 0, 0, 7883}, {0x70, NULL, 0, 0, 0, 7884},
	{0x6f, NULL, 0, 0, 0, 7885}, {0x6f, NULL, 0, 0, 0, 7886},
	{0x6e, NULL, 0, 0, 0, 7887}, {0x73, NULL, 0, 0, 0, 7888},
	{0x3b, "\xe2\x87\x8c", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7890},
	{0x72, NULL, 0, 0, 0, 7891}, {0x6f, NULL, 0, 0, 0, 7892},
	{0x77, NULL, 0, 0, 0, 7893}, {0x73, NULL, 0, 0, 0, 7894},
	{0x3b, "\xe2\x87\x84", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7896},
	{0x72, NULL, 0, 0, 0, 7897}, {0x6f, NULL, 0, 0, 0, 7898},
	{0x77, NULL, 0, 0, 0, 7899}, {0x74, NULL, 0, 7900, 0, 7901},
	{0x3b, "\xe2\x86\x92", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 7902},
	{0x69, NULL, 0, 0, 0, 7903}, {0x6c, NULL, 0, 0, 0, 7904},
	{0x3b, "\xe2\x86\xa3", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 7906},
	{0x75, NULL, 0, 0, 0, 7907}, {0x69, NULL, 0, 0, 0, 7908},
	{0x67, NULL, 0, 0, 0, 7909}, {0x61, NULL, 0, 0, 0, 7910},
	{0x72, NULL, 0, 0, 0, 7911}, {0x72, NULL, 0, 0, 0, 7912},
	{0x6f, NULL, 0, 0, 0, 7913}, {0x77, NULL, 0, 0, 0, 7914},
	{0x3b, "\xe2\x86\x9d", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 7916},
	{0x72, NULL, 0, 0, 0, 7917}, {0x72, NULL, 0, 0, 0, 7918},
	{0x3b, "\xe2\x87\x89", 3, 0, 0, 0}, {0x75, NULL, 0, 7921, 7920, 7923},
	{0x79, NULL, 0, 0, 0, 7925}, {0x65, NULL, 0, 7922, 0, 7926},
	{0x61, NULL, 0, 0, 0, 7933}, {0x62, NULL, 0, 0, 0, 7924},
	{0x3b, "\x7d", 1, 0, 0, 0}, {0x3b, "\xd1\x80", 2, 0, 0, 0},
	{0x69, NULL, 0, 7927, 0, 7928}, {0x64, NULL, 0, 0, 0, 7930},
	{0x6c, NULL, 0, 0, 0, 7929}, {0x3b, "\xe2\x8c\x89", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 7931}, {0x6c, NULL, 0, 0, 0, 7932},
	{0x3b, "\xc5\x97", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7934},
	{0x6f, NULL, 0, 0, 0, 7935}, {0x6e, NULL, 0, 0, 0, 7936},
	{0x3b, "\xc5\x99", 2, 0, 0, 0}, {0x6c, NULL, 0, 7939, 7938, 7940},
	{0x72, NULL, 0, 0, 0, 7944}, {0x69, NULL, 0, 0, 0, 7945},
	{0x6f, NULL, 0, 0, 0, 7941}, {0x6f, NULL, 0, 0, 0, 7942},
	{0x72, NULL, 0, 0, 0, 7943}, {0x3b, "\xe2\x8c\x8b", 3, 0, 0, 0},
	{0x3b, "\xf0\x9d\x94\xaf", 4, 0, 0, 0}, {0x73, NULL, 0, 0, 0, 7946},
	{0x68, NULL, 0, 0, 0, 7947}, {0x74, NULL, 0, 0, 0, 7948},
	{0x3b, "\xe2\xa5\xbd", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 7950},
	{0x72, NULL, 0, 0, 0, 7951}, {0x3b, "\xe2\xa5\xa4", 3, 0, 0, 0},
	{0x62, NULL, 0, 7954, 7953, 7955}, {0x72, NULL, 0, 0, 0, 7958},
	{0x61, NULL, 0, 0, 0, 7973}, {0x72, NULL, 0, 0, 0, 7956},
	{0x6b, NULL, 0, 0, 0, 7957}, {0x3b, "\xe2\x9d\xb3", 3, 0, 0, 0},
	{0x6b, NULL, 0, 7959, 0, 7960}, {0x61, NULL, 0, 0, 0, 7968},
	{0x73, NULL, 0, 7961, 0, 7962}, {0x65, NULL, 0, 0, 0, 7967},
	{0x6c, NULL, 0, 0, 0, 7963}, {0x75, NULL, 0, 7964, 0, 7965},
	{0x64, NULL, 0, 0, 0, 7966}, {0x3b, "\xe2\xa6\x90", 3, 0, 0, 0},
	{0x3b, "\xe2\xa6\x8e", 3, 0, 0, 0}, {0x3b, "\xe2\xa6\x8c", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 7969}, {0x6b, NULL, 0, 7970, 0, 7971},
	{0x65, NULL, 0, 0, 0, 7972}, {0x3b, "\x5d", 1, 0, 0, 0},
	{0x3b, "\x7d", 1, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7974},
	{0x72, NULL, 0, 0, 0, 7975}, {0x3b, "\xe2\xa4\x8d", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 7977}, {0x72, NULL, 0, 0, 0, 7978},
	{0x72, NULL, 0, 0, 0, 7979}, {0x3b, "\xe2\xa4\x8f", 3, 0, 0, 0},
	{0x72, NULL, 0, 7982, 7981, 7983}, {0x74, NULL, 0, 0, 0, 7985},
	{0x61, NULL, 0, 0, 0, 7989}, {0x72, NULL, 0, 0, 0, 7984},
	{0x3b, "\xe2\x87\x92", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 7986},
	{0x69, NULL, 0, 0, 0, 7987}, {0x6c, NULL, 0, 0, 0, 7988},
	{0x3b, "\xe2\xa4\x9c", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 7990},
	{0x72, NULL, 0, 0, 0, 7991}, {0x3b, "\xe2\x87\x9b", 3, 0, 0, 0},
	{0x6e, NULL, 0, 7994, 7993, 7999}, {0x72, NULL, 0, 7998, 7997, 8008},
	{0x64, NULL, 0, 7996, 7995, 8041}, {0x65, NULL, 0, 0, 0, 8044},
	{0x63, NULL, 0, 0, 0, 8050}, {0x74, NULL, 0, 0, 0, 8056},
	{0x71, NULL, 0, 0, 0, 8068}, {0x67, NULL, 0, 0, 0, 8000},
	{0x65, NULL, 0, 8002, 8001, 8004}, {0x6c, NULL, 0, 0, 0, 8005},
	{0x64, NULL, 0, 8003, 0, 8007}, {0x3b, "\xe2\x9f\xa9", 3, 0, 0, 0},
	{0x3b, "\xe2\xa6\xa5", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 8006},
	{0x3b, "\xe2\x9f\xa9", 3, 0, 0, 0}, {0x3b, "\xe2\xa6\x92", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8009}, {0x68, NULL, 0, 8011, 8010, 8020},
	{0x73, NULL, 0, 8017, 8016, 8022}, {0x62, NULL, 0, 8013, 8012, 8025},
	{0x66, NULL, 0, 8015, 0, 8029}, {0x61, NULL, 0, 8014, 0, 8031},
	{0x3b, "\xe2\x86\x92", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 8033},
	{0x77, NULL, 0, 8019, 0, 8034}, {0x70, NULL, 0, 8018, 0, 8035},
	{0x6c, NULL, 0, 0, 0, 8037}, {0x74, NULL, 0, 0, 0, 8039},
	{0x6b, NULL, 0, 0, 0, 8021}, {0x3b, "\xe2\x86\xaa", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 8023}, {0x6d, NULL, 0, 0, 0, 8024},
	{0x3b, "\xe2\xa5\xb4", 3, 0, 0, 0}, {0x66, NULL, 0, 8026, 0, 8027},
	{0x3b, "\xe2\x87\xa5", 3, 0, 0, 0}, {0x73, NULL, 0, 0, 0, 8028},
	{0x3b, "\xe2\xa4\xa0", 3, 0, 0, 0}, {0x73, NULL, 0, 0, 0, 8030},
	{0x3b, "\xe2\xa4\x9e", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 8032},
	{0x3b, "\xe2\xa5\xb5", 3, 0, 0, 0}, {0x3b, "\xe2\xa4\xb3", 3, 0, 0, 0},
	{0x3b, "\xe2\x86\x9d", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 8036},
	{0x3b, "\xe2\xa5\x85", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 8038},
	{0x3b, "\xe2\x86\xac", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 8040},
	{0x3b, "\xe2\x86\xa3", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 8042},
	{0x63, NULL, 0, 0, 0, 8043}, {0x3b, "\xe2\x88\x9a", 3, 0, 0, 0},
	{0x6d, NULL, 0, 0, 0, 8045}, {0x70, NULL, 0, 0, 0, 8046},
	{0x74, NULL, 0, 0, 0, 8047}, {0x79, NULL, 0, 0, 0, 8048},
	{0x76, NULL, 0, 0, 0, 8049}, {0x3b, "\xe2\xa6\xb3", 3, 0, 0, 0},
	{0x75, NULL, 0, 8051, 0, 8052}, {0x65, NULL, 0, 0, 0, 8055},
	{0x74, NULL, 0, 0, 0, 8053}, {0x65, NULL, 0, 0, 0, 8054},
	{0x3b, "\xc5\x95", 2, 0, 0, 0}, {0x3b, "\xe2\x88\xbd\xcc\xb1", 5, 0, 0, 0},
	{0x69, NULL, 0, 8057, 0, 8058}, {0x61, NULL, 0, 0, 0, 8065},
	{0x6f, NULL, 0, 0, 0, 8059}, {0x6e, NULL, 0, 8060, 0, 8061},
	{0x3b, "\xe2\x88\xb6", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 8062},
	{0x6c, NULL, 0, 0, 0, 8063}, {0x73, NULL, 0, 0, 0, 8064},
	{0x3b, "\xe2\x84\x9a", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 8066},
	{0x6c, NULL, 0, 0, 0, 8067}, {0x3b, "\xe2\xa4\x9a", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 8069}, {0x6f, "\xc2\xbb", 2, 0, 0, 8070},
	{0x3b, "\xc2\xbb", 2, 0, 0, 0}, {0x6f, NULL, 0, 8072, 0, 8073},
	{0x61, NULL, 0, 0, 0, 8076}, {0x76, NULL, 0, 8074, 0, 8075},
	{0x3b, "\xcf\x81", 2, 0, 0, 0}, {0x3b, "\xcf\xb1", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8077}, {0x75, NULL, 0, 8078, 0, 8079},
	{0x64, NULL, 0, 0, 0, 8082}, {0x6c, NULL, 0, 8080, 0, 8081},
	{0x3b, "\xe2\x87\x80", 3, 0, 0, 0}, {0x3b, "\xe2\xa5\xac", 3, 0, 0, 0},
	{0x3b, "\xe2\x87\x81", 3, 0, 0, 0}, {0x63, NULL, 0, 8085, 8084, 8086},
	{0x67, "\xc2\xae", 2, 0, 0, 8088}, {0x61, NULL, 0, 0, 0, 8089},
	{0x74, NULL, 0, 0, 0, 8087}, {0x3b, "\xe2\x96\xad", 3, 0, 0, 0},
	{0x3b, "\xc2\xae", 2, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 8090},
	{0x70, NULL, 0, 8092, 8091, 8094}, {0x73, NULL, 0, 0, 0, 8098},
	{0x69, NULL, 0, 8093, 0, 8099}, {0x3b, "\xe2\x84\x9c", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 8095}, {0x72, NULL, 0, 0, 0, 8096},
	{0x74, NULL, 0, 0, 0, 8097}, {0x3b, "\xe2\x84\x9c", 3, 0, 0, 0},
	{0x3b, "\xe2\x84\x9d", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 8100},
	{0x65, NULL, 0, 0, 0, 8101}, {0x3b, "\xe2\x84\x9b", 3, 0, 0, 0},
	{0x71, NULL, 0, 8104, 8103, 8106}, {0x73, NULL, 0, 0, 0, 8111},
	{0x6c, NULL, 0, 8105, 0, 8113}, {0x63, NULL, 0, 0, 0, 8118},
	{0x75, NULL, 0, 0, 0, 8107}, {0x6f, NULL, 0, 0, 0, 8108},
	{0x72, NULL, 0, 8109, 0, 8110}, {0x3b, "\xe2\x80\x9d", 3, 0, 0, 0},
	{0x3b, "\xe2\x80\x9d", 3, 0, 0, 0}, {0x68, NULL, 0, 0, 0, 8112},
	{0x3b, "\xe2\x86\xb3", 3, 0, 0, 0}, {0x64, NULL, 0, 0, 0, 8114},
	{0x68, NULL, 0, 0, 0, 8115}, {0x61, NULL, 0, 0, 0, 8116},
	{0x72, NULL, 0, 0, 0, 8117}, {0x3b, "\xe2\xa5\xa9", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 8119}, {0x3b, "\xe2\xa4\xb7", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 8121}, {0x75, NULL, 0, 0, 0, 8122},
	{0x68, NULL, 0, 0, 0, 8123}, {0x61, NULL, 0, 0, 0, 8124},
	{0x72, NULL, 0, 0, 0, 8125}, {0x3b, "\xe2\xa5\xa8", 3, 0, 0, 0},
	{0x6d, NULL, 0, 0, 0, 8127}, {0x69, NULL, 0, 0, 0, 8128},
	{0x64, NULL, 0, 0, 0, 8129}, {0x3b, "\xe2\xab\xae", 3, 0, 0, 0},
	{0x70, NULL, 0, 8131, 0, 8132}, {0x61, NULL, 0, 0, 0, 8138},
	{0x6f, NULL, 0, 0, 0, 8133}, {0x6c, NULL, 0, 0, 0, 8134},
	{0x69, NULL, 0, 0, 0, 8135}, {0x6e, NULL, 0, 0, 0, 8136},
	{0x74, NULL, 0, 0, 0, 8137}, {0x3b, "\xe2\xa8\x92", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8139}, {0x67, NULL, 0, 8140, 0, 8141},
	{0x3b, "\x29", 1, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 8142},
	{0x3b, "\xe2\xa6\x94", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 8144},
	{0x75, NULL, 0, 0, 0, 8145}, {0x73, NULL, 0, 0, 0, 8146},
	{0x74, NULL, 0, 0, 0, 8147}, {0x61, NULL, 0, 8148, 0, 8149},
	{0x3b, "\xe2\x8e\xb1", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 8150},
	{0x68, NULL, 0, 0, 0, 8151}, {0x65, NULL, 0, 0, 0, 8152},
	{0x3b, "\xe2\x8e\xb1", 3, 0, 0, 0}, {0x68, NULL, 0, 8155, 8154, 8156},
	{0x6d, NULL, 0, 0, 0, 8159}, {0x61, NULL, 0, 0, 0, 8160},
	{0x61, NULL, 0, 0, 0, 8157}, {0x72, NULL, 0, 0, 0, 8158},
	{0x3b, "\xe2\x87\x8c", 3, 0, 0, 0}, {0x3b, "\xe2\x80\x8f", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8161}, {0x72, NULL, 0, 0, 0, 8162},
	{0x3b, "\xe2\x87\x84", 3, 0, 0, 0}, {0x70, NULL, 0, 8165, 8164, 8167},
	{0x74, NULL, 0, 0, 0, 8176}, {0x62, NULL, 0, 8166, 0, 8181},
	{0x61, NULL, 0, 0, 0, 8184}, {0x66, NULL, 0, 8169, 8168, 8170},
	{0x6c, NULL, 0, 0, 0, 8171}, {0x61, NULL, 0, 0, 0, 8174},
	{0x3b, "\xf0\x9d\x95\xa3", 4, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 8172},
	{0x73, NULL, 0, 0, 0, 8173}, {0x3b, "\xe2\xa8\xae", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8175}, {0x3b, "\xe2\xa6\x86", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 8177}, {0x6d, NULL, 0, 0, 0, 8178},
	{0x65, NULL, 0, 0, 0, 8179}, {0x73, NULL, 0, 0, 0, 8180},
	{0x3b, "\xe2\xa8\xb5", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 8182},
	{0x6b, NULL, 0, 0, 0, 8183}, {0x3b, "\xe2\x9f\xa7", 3, 0, 0, 0},
	{0x72, NULL, 0, 8185, 0, 8186}, {0x6e, NULL, 0, 0, 0, 8188},
	{0x72, NULL, 0, 0, 0, 8187}, {0x3b, "\xe2\x87\xbe", 3, 0, 0, 0},
	{0x67, NULL, 0, 0, 0, 8189}, {0x3b, "\xe2\x9f\xad", 3, 0, 0, 0},
	{0x3b, "\xe2\x84\x9e", 3, 0, 0, 0}, {0x69, NULL, 0, 8193, 8192, 8194},
	{0x72, NULL, 0, 0, 0, 8198}, {0x68, NULL, 0, 0, 0, 8209},
	{0x6d, NULL, 0, 0, 0, 8195}, {0x65, NULL, 0, 0, 0, 8196},
	{0x73, NULL, 0, 0, 0, 8197}, {0x3b, "\xe2\x8b\x8a", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 8199}, {0x66, NULL, 0, 8201, 8200, 8203},
	{0x6c, NULL, 0, 0, 0, 8204}, {0x65, NULL, 0, 8202, 0, 8208},
	{0x3b, "\xe2\x96\xb9", 3, 0, 0, 0}, {0x3b, "\xe2\x96\xb8", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 8205}, {0x72, NULL, 0, 0, 0, 8206},
	{0x69, NULL, 0, 0, 0, 8207}, {0x3b, "\xe2\xa7\x8e", 3, 0, 0, 0},
	{0x3b, "\xe2\x8a\xb5", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 8210},
	{0x65, NULL, 0, 0, 0, 8211}, {0x65, NULL, 0, 0, 0, 8212},
	{0x3b, "\xe2\x8b\x8c", 3, 0, 0, 0}, {0x68, NULL, 0, 8215, 8214, 8217},
	{0x71, NULL, 0, 0, 0, 8218}, {0x63, NULL, 0, 8216, 0, 8225},
	{0x61, NULL, 0, 0, 0, 8227}, {0x3b, "\xe2\x86\xb1", 3, 0, 0, 0},
	{0x75, NULL, 0, 8219, 0, 8220}, {0x62, NULL, 0, 0, 0, 8224},
	{0x6f, NULL, 0, 0, 0, 8221}, {0x72, NULL, 0, 8222, 0, 8223},
	{0x3b, "\xe2\x80\x99", 3, 0, 0, 0}, {0x3b, "\xe2\x80\x99", 3, 0, 0, 0},
	{0x3b, "\x5d", 1, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 8226},
	{0x3b, "\xf0\x9d\x93\x87", 4, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 8228},
	{0x75, NULL, 0, 0, 0, 8229}, {0x6f, NULL, 0, 0, 0, 8230},
	{0x3b, "\xe2\x80\xba", 3, 0, 0, 0}, {0x68, NULL, 0, 8233, 8232, 8244},
	{0x72, NULL, 0, 8240, 8239, 8293}, {0x64, NULL, 0, 8235, 8234, 8360},
	{0x66, NULL, 0, 8238, 0, 8363}, {0x62, NULL, 0, 8237, 8236, 8365},
	{0x63, NULL, 0, 0, 0, 8368}, {0x61, NULL, 0, 0, 0, 8380},
	{0x65, NULL, 0, 0, 0, 8387}, {0x77, NULL, 0, 8243, 0, 8392},
	{0x6f, NULL, 0, 8242, 8241, 8422}, {0x70, NULL, 0, 0, 0, 8444},
	{0x69, NULL, 0, 0, 0, 8449}, {0x73, NULL, 0, 0, 0, 8467},
	{0x6b, NULL, 0, 8246, 8245, 8248}, {0x6f, NULL, 0, 0, 0, 8255},
	{0x69, NULL, 0, 8247, 0, 8258}, {0x65, NULL, 0, 0, 0, 8275},
	{0x73, NULL, 0, 8249, 0, 8250}, {0x61, NULL, 0, 0, 0, 8253},
	{0x69, NULL, 0, 0, 0, 8251}, {0x6d, NULL, 0, 0, 0, 8252},
	{0x3b, "\xe2\x88\xbc", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 8254},
	{0x3b, "\xe2\x89\x88", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 8256},
	{0x6e, "\xc3\xbe", 2, 0, 0, 8257}, {0x3b, "\xc3\xbe", 2, 0, 0, 0},
	{0x6e, NULL, 0, 8259, 0, 8260}, {0x63, NULL, 0, 0, 0, 8263},
	{0x73, NULL, 0, 0, 0, 8261}, {0x70, NULL, 0, 0, 0, 8262},
	{0x3b, "\xe2\x80\x89", 3, 0, 0, 0}, {0x6b, NULL, 0, 0, 0, 8264},
	{0x73, NULL, 0, 8265, 0, 8266}, {0x61, NULL, 0, 0, 0, 8269},
	{0x69, NULL, 0, 0, 0, 8267}, {0x6d, NULL, 0, 0, 0, 8268},
	{0x3b, "\xe2\x88\xbc", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 8270},
	{0x70, NULL, 0, 0, 0, 8271}, {0x72, NULL, 0, 0, 0, 8272},
	{0x6f, NULL, 0, 0, 0, 8273}, {0x78, NULL, 0, 0, 0, 8274},
	{0x3b, "\xe2\x89\x88", 3, 0, 0, 0}, {0x74, NULL, 0, 8276, 0, 8277},
	{0x72, NULL, 0, 0, 0, 8285}, {0x61, NULL, 0, 0, 0, 8278},
	{0x73, NULL, 0, 8280, 8279, 8281}, {0x76, NULL, 0, 0, 0, 8284},
	{0x3b, "\xce\xb8", 2, 0, 0, 0}, {0x79, NULL, 0, 0, 0, 8282},
	{0x6d, NULL, 0, 0, 0, 8283}, {0x3b, "\xcf\x91", 2, 0, 0, 0},
	{0x3b, "\xcf\x91", 2, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 8286},
	{0x66, NULL, 0, 8287, 0, 8288}, {0x34, NULL, 0, 0, 0, 8292},
	{0x6f, NULL, 0, 0, 0, 8289}, {0x72, NULL, 0, 0, 0, 8290},
	{0x65, NULL, 0, 0, 0, 8291}, {0x3b, "\xe2\x88\xb4", 3, 0, 0, 0},
	{0x3b, "\xe2\x88\xb4", 3, 0, 0, 0}, {0x69, NULL, 0, 8295, 8294, 8296},
	{0x70, NULL, 0, 0, 0, 8351}, {0x61, NULL, 0, 0, 0, 8357},
	{0x6d, NULL, 0, 8298, 8297, 8303}, {0x73, NULL, 0, 8302, 8301, 8308},
	{0x64, NULL, 0, 8300, 8299, 8310}, {0x65, NULL, 0, 0, 0, 8313},
	{0x61, NULL, 0, 0, 0, 8314}, {0x74, NULL, 0, 0, 0, 8343},
	{0x70, NULL, 0, 0, 0, 8347}, {0x69, NULL, 0, 0, 0, 8304},
	{0x6e, NULL, 0, 0, 0, 8305}, {0x75, NULL, 0, 0, 0, 8306},
	{0x73, NULL, 0, 0, 0, 8307}, {0x3b, "\xe2\xa8\xba", 3, 0, 0, 0},
	{0x62, NULL, 0, 0, 0, 8309}, {0x3b, "\xe2\xa7\x8d", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 8311}, {0x74, NULL, 0, 0, 0, 8312},
	{0x3b, "\xe2\x97\xac", 3, 0, 0, 0}, {0x3b, "\xe2\x89\x9c", 3, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 8315}, {0x67, NULL, 0, 0, 0, 8316},
	{0x6c, NULL, 0, 0, 0, 8317}, {0x65, NULL, 0, 0, 0, 8318},
	{0x6c, NULL, 0, 8320, 8319, 8323}, {0x72, NULL, 0, 8322, 0, 8330},
	{0x64, NULL, 0, 8321, 0, 8338}, {0x3b, "\xe2\x96\xb5", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 8342}, {0x65, NULL, 0, 0, 0, 8324},
	{0x66, NULL, 0, 0, 0, 8325}, {0x74, NULL, 0, 0, 0, 8326},
	{0x65, NULL, 0, 8327, 0, 8328}, {0x3b, "\xe2\x97\x83", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 8329}, {0x3b, "\xe2\x8a\xb4", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 8331}, {0x67, NULL, 0, 0, 0, 8332},
	{0x68, NULL, 0, 0, 0, 8333}, {0x74, NULL, 0, 0, 0, 8334},
	{0x65, NULL, 0, 8335, 0, 8336}, {0x3b, "\xe2\x96\xb9", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 8337}, {0x3b, "\xe2\x8a\xb5", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 8339}, {0x77, NULL, 0, 0, 0, 8340},
	{0x6e, NULL, 0, 0, 0, 8341}, {0x3b, "\xe2\x96\xbf", 3, 0, 0, 0},
	{0x3b, "\xe2\x89\x9c", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 8344},
	{0x6d, NULL, 0, 0, 0, 8345}, {0x65, NULL, 0, 0, 0, 8346},
	{0x3b, "\xe2\xa8\xbb", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 8348},
	{0x75, NULL, 0, 0, 0, 8349}, {0x73, NULL, 0, 0, 0, 8350},
	{0x3b, "\xe2\xa8\xb9", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 8352},
	{0x7a, NULL, 0, 0, 0, 8353}, {0x69, NULL, 0, 0, 0, 8354},
	{0x75, NULL, 0, 0, 0, 8355}, {0x6d, NULL, 0, 0, 0, 8356},
	{0x3b, "\xe2\x8f\xa2", 3, 0, 0, 0}, {0x64, NULL, 0, 0, 0, 8358},
	{0x65, NULL, 0, 0, 0, 8359}, {0x3b, "\xe2\x84\xa2", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 8361}, {0x74, NULL, 0, 0, 0, 8362},
	{0x3b, "\xe2\x83\x9b", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 8364},
	{0x3b, "\xf0\x9d\x94\xb1", 4, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 8366},
	{0x6b, NULL, 0, 0, 0, 8367}, {0x3b, "\xe2\x8e\xb4", 3, 0, 0, 0},
	{0x65, NULL, 0, 8370, 8369, 8371}, {0x79, NULL, 0, 0, 0, 8375},
	{0x61, NULL, 0, 0, 0, 8376}, {0x64, NULL, 0, 0, 0, 8372},
	{0x69, NULL, 0, 0, 0, 8373}, {0x6c, NULL, 0, 0, 0, 8374},
	{0x3b, "\xc5\xa3", 2, 0, 0, 0}, {0x3b, "\xd1\x82", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8377}, {0x6f, NULL, 0, 0, 0, 8378},
	{0x6e, NULL, 0, 0, 0, 8379}, {0x3b, "\xc5\xa5", 2, 0, 0, 0},
	{0x75, NULL, 0, 8381, 0, 8382}, {0x72, NULL, 0, 0, 0, 8383},
	{0x3b, "\xcf\x84", 2, 0, 0, 0}, {0x67, NULL, 0, 0, 0, 8384},
	{0x65, NULL, 0, 0, 0, 8385}, {0x74, NULL, 0, 0, 0, 8386},
	{0x3b, "\xe2\x8c\x96", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 8388},
	{0x72, NULL, 0, 0, 0, 8389}, {0x65, NULL, 0, 0, 0, 8390},
	{0x63, NULL, 0, 0, 0, 8391}, {0x3b, "\xe2\x8c\x95", 3, 0, 0, 0},
	{0x6f, NULL, 0, 8393, 0, 8394}, {0x69, NULL, 0, 0, 0, 8419},
	{0x68, NULL, 0, 0, 0, 8395}, {0x65, NULL, 0, 0, 0, 8396},
	{0x61, NULL, 0, 0, 0, 8397}, {0x64, NULL, 0, 0, 0, 8398},
	{0x72, NULL, 0, 8399, 0, 8400}, {0x6c, NULL, 0, 0, 0, 8410},
	{0x69, NULL, 0, 0, 0, 8401}, {0x67, NULL, 0, 0, 0, 8402},
	{0x68, NULL, 0, 0, 0, 8403}, {0x74, NULL, 0, 0, 0, 8404},
	{0x61, NULL, 0, 0, 0, 8405}, {0x72, NULL, 0, 0, 0, 8406},
	{0x72, NULL, 0, 0, 0, 8407}, {0x6f, NULL, 0, 0, 0, 8408},
	{0x77, NULL, 0, 0, 0, 8409}, {0x3b, "\xe2\x86\xa0", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 8411}, {0x66, NULL, 0, 0, 0, 8412},
	{0x74, NULL, 0, 0, 0, 8413}, {0x61, NULL, 0, 0, 0, 8414},
	{0x72, NULL, 0, 0, 0, 8415}, {0x72, NULL, 0, 0, 0, 8416},
	{0x6f, NULL, 0, 0, 0, 8417}, {0x77, NULL, 0, 0, 0, 8418},
	{0x3b, "\xe2\x86\x9e", 3, 0, 0, 0}, {0x78, NULL, 0, 0, 0, 8420},
	{0x74, NULL, 0, 0, 0, 8421}, {0x3b, "\xe2\x89\xac", 3, 0, 0, 0},
	{0x70, NULL, 0, 8424, 8423, 8425}, {0x73, NULL, 0, 0, 0, 8440},
	{0x65, NULL, 0, 0, 0, 8442}, {0x63, NULL, 0, 8427, 8426, 8429},
	{0x66, NULL, 0, 0, 0, 8432}, {0x62, NULL, 0, 8428, 0, 8437},
	{0x3b, "\xe2\x8a\xa4", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 8430},
	{0x72, NULL, 0, 0, 0, 8431}, {0x3b, "\xe2\xab\xb1", 3, 0, 0, 0},
	{0x6f, NULL, 0, 8433, 0, 8434}, {0x3b, "\xf0\x9d\x95\xa5", 4, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8435}, {0x6b, NULL, 0, 0, 0, 8436},
	{0x3b, "\xe2\xab\x9a", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 8438},
	{0x74, NULL, 0, 0, 0, 8439}, {0x3b, "\xe2\x8c\xb6", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 8441}, {0x3b, "\xe2\xa4\xa9", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 8443}, {0x3b, "\xe2\xa4\xa8", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8445}, {0x69, NULL, 0, 0, 0, 8446},
	{0x6d, NULL, 0, 0, 0, 8447}, {0x65, NULL, 0, 0, 0, 8448},
	{0x3b, "\xe2\x80\xb4", 3, 0, 0, 0}, {0x6d, NULL, 0, 8451, 8450, 8452},
	{0x6e, NULL, 0, 0, 0, 8462}, {0x6c, NULL, 0, 0, 0, 8464},
	{0x65, NULL, 0, 0, 0, 8453}, {0x73, "\xc3\x97", 2, 0, 0, 8454},
	{0x62, NULL, 0, 8456, 8455, 8457}, {0x64, NULL, 0, 0, 0, 8461},
	{0x3b, "\xc3\x97", 2, 0, 0, 0}, {0x61, NULL, 0, 8458, 0, 8459},
	{0x3b, "\xe2\x8a\xa0", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 8460},
	{0x3b, "\xe2\xa8\xb1", 3, 0, 0, 0}, {0x3b, "\xe2\xa8\xb0", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 8463}, {0x3b, "\xe2\x88\xad", 3, 0, 0, 0},
	{0x64, NULL, 0, 0, 0, 8465}, {0x65, NULL, 0, 0, 0, 8466},
	{0x3b, "\xcb\x9c", 2, 0, 0, 0}, {0x68, NULL, 0, 8469, 8468, 8470},
	{0x74, NULL, 0, 0, 0, 8473}, {0x63, NULL, 0, 0, 0, 8477},
	{0x63, NULL, 0, 0, 0, 8471}, {0x79, NULL, 0, 0, 0, 8472},
	{0x3b, "\xd1\x9b", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 8474},
	{0x6f, NULL, 0, 0, 0, 8475}, {0x6b, NULL, 0, 0, 0, 8476},
	{0x3b, "\xc5\xa7", 2, 0, 0, 0}, {0x79, NULL, 0, 8478, 0, 8479},
	{0x72, NULL, 0, 0, 0, 8480}, {0x3b, "\xd1\x86", 2, 0, 0, 0},
	{0x3b, "\xf0\x9d\x93\x89", 4, 0, 0, 0}, {0x6c, NULL, 0, 8483, 8482, 8493},
	{0x72, NULL, 0, 8490, 8489, 8535}, {0x66, NULL, 0, 8485, 8484, 8636},
	{0x69, NULL, 0, 8488, 0, 8638}, {0x63, NULL, 0, 8487, 8486, 8649},
	{0x65, NULL, 0, 0, 0, 8651}, {0x61, NULL, 0, 0, 0, 8671},
	{0x68, NULL, 0, 0, 0, 8688}, {0x75, NULL, 0, 8492, 0, 8701},
	{0x6f, NULL, 0, 8491, 0, 8706}, {0x6d, NULL, 0, 0, 0, 8720},
	{0x73, NULL, 0, 0, 0, 8721}, {0x75, NULL, 0, 8494, 0, 8495},
	{0x61, NULL, 0, 0, 0, 8526}, {0x73, NULL, 0, 0, 0, 8496},
	{0x64, NULL, 0, 8498, 8497, 8505}, {0x73, NULL, 0, 8503, 8502, 8509},
	{0x62, NULL, 0, 8500, 8499, 8512}, {0x63, NULL, 0, 0, 0, 8513},
	{0x61, NULL, 0, 8501, 0, 8516}, {0x3b, "\x2b", 1, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 8520}, {0x6d, NULL, 0, 8504, 0, 8523},
	{0x65, NULL, 0, 0, 0, 8525}, {0x75, NULL, 0, 8506, 0, 8507},
	{0x6f, NULL, 0, 0, 0, 8508}, {0x3b, "\xe2\xa8\xa5", 3, 0, 0, 0},
	{0x3b, "\xe2\x88\x94", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 8510},
	{0x6d, NULL, 0, 0, 0, 8511}, {0x3b, "\xe2\xa8\xa6", 3, 0, 0, 0},
	{0x3b, "\xe2\x8a\x9e", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 8514},
	{0x72, NULL, 0, 0, 0, 8515}, {0x3b, "\xe2\xa8\xa2", 3, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 8517}, {0x69, NULL, 0, 0, 0, 8518},
	{0x72, NULL, 0, 0, 0, 8519}, {0x3b, "\xe2\xa8\xa3", 3, 0, 0, 0},
	{0x77, NULL, 0, 0, 0, 8521}, {0x6f, NULL, 0, 0, 0, 8522},
	{0x3b, "\xe2\xa8\xa7", 3, 0, 0, 0}, {0x6e, "\xc2\xb1", 2, 0, 0, 8524},
	{0x3b, "\xc2\xb1", 2, 0, 0, 0}, {0x3b, "\xe2\xa9\xb2", 3, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 8527}, {0x6b, NULL, 0, 8528, 0, 8529},
	{0x63, NULL, 0, 0, 0, 8531}, {0x76, NULL, 0, 0, 0, 8530},
	{0x3b, "\xe2\x84\x8f", 3, 0, 0, 0}, {0x6b, NULL, 0, 0, 0, 8532},
	{0x68, NULL, 0, 8533, 0, 8534}, {0x3b, "\xe2\x84\x8f", 3, 0, 0, 0},
	{0x3b, "\xe2\x84\x8e", 3, 0, 0, 0}, {0x69, NULL, 0, 8537, 8536, 8545},
	{0x73, NULL, 0, 8543, 8542, 8550}, {0x61, NULL, 0, 8539, 8538, 8553},
	{0x65, NULL, 0, 8541, 0, 8555}, {0x45, NULL, 0, 8540, 0, 8596},
	{0x3b, "\xe2\x89\xba", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 8597},
	{0x75, NULL, 0, 0, 0, 8600}, {0x6f, NULL, 0, 8544, 0, 8604},
	{0x6e, NULL, 0, 0, 0, 8627}, {0x6d, NULL, 0, 0, 0, 8546},
	{0x65, NULL, 0, 0, 0, 8547}, {0x73, NULL, 0, 8548, 0, 8549},
	{0x3b, "\xe2\x80\xb2", 3, 0, 0, 0}, {0x3b, "\xe2\x84\x99", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 8551}, {0x6d, NULL, 0, 0, 0, 8552},
	{0x3b, "\xe2\x89\xbe", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 8554},
	{0x3b, "\xe2\xaa\xb7", 3, 0, 0, 0}, {0x63, NULL, 0, 8556, 0, 8557},
	{0x3b, "\xe2\xaa\xaf", 3, 0, 0, 0}, {0x65, NULL, 0, 8559, 8558, 8563},
	{0x73, NULL, 0, 8562, 0, 8565}, {0x61, NULL, 0, 8561, 8560, 8568},
	{0x63, NULL, 0, 0, 0, 8574}, {0x3b, "\xe2\x89\xba", 3, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 8581}, {0x71, NULL, 0, 0, 0, 8564},
	{0x3b, "\xe2\xaa\xaf", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 8566},
	{0x6d, NULL, 0, 0, 0, 8567}, {0x3b, "\xe2\x89\xbe", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 8569}, {0x70, NULL, 0, 0, 0, 8570},
	{0x72, NULL, 0, 0, 0, 8571}, {0x6f, NULL, 0, 0, 0, 8572},
	{0x78, NULL, 0, 0, 0, 8573}, {0x3b, "\xe2\xaa\xb7", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 8575}, {0x72, NULL, 0, 0, 0, 8576},
	{0x6c, NULL, 0, 0, 0, 8577}, {0x79, NULL, 0, 0, 0, 8578},
	{0x65, NULL, 0, 0, 0, 8579}, {0x71, NULL, 0, 0, 0, 8580},
	{0x3b, "\xe2\x89\xbc", 3, 0, 0, 0}, {0x65, NULL, 0, 8583, 8582, 8584},
	{0x73, NULL, 0, 0, 0, 8587}, {0x61, NULL, 0, 0, 0, 8590},
	{0x71, NULL, 0, 0, 0, 8585}, {0x71, NULL, 0, 0, 0, 8586},
	{0x3b, "\xe2\xaa\xb5", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 8588},
	{0x6d, NULL, 0, 0, 0, 8589}, {0x3b, "\xe2\x8b\xa8", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 8591}, {0x70, NULL, 0, 0, 0, 8592},
	{0x72, NULL, 0, 0, 0, 8593}, {0x6f, NULL, 0, 0, 0, 8594},
	{0x78, NULL, 0, 0, 0, 8595}, {0x3b, "\xe2\xaa\xb9", 3, 0, 0, 0},
	{0x3b, "\xe2\xaa\xb3", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 8598},
	{0x65, NULL, 0, 0, 0, 8599}, {0x3b, "\xe2\x89\xbc", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8601}, {0x65, NULL, 0, 0, 0, 8602},
	{0x6c, NULL, 0, 0, 0, 8603}, {0x3b, "\xe2\x8a\xb0", 3, 0, 0, 0},
	{0x66, NULL, 0, 8606, 8605, 8607}, {0x70, NULL, 0, 0, 0, 8622},
	{0x64, NULL, 0, 0, 0, 8626}, {0x6c, NULL, 0, 8609, 8608, 8610},
	{0x73, NULL, 0, 0, 0, 8614}, {0x61, NULL, 0, 0, 0, 8618},
	{0x69, NULL, 0, 0, 0, 8611}, {0x6e, NULL, 0, 0, 0, 8612},
	{0x65, NULL, 0, 0, 0, 8613}, {0x3b, "\xe2\x8c\x92", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 8615}, {0x72, NULL, 0, 0, 0, 8616},
	{0x66, NULL, 0, 0, 0, 8617}, {0x3b, "\xe2\x8c\x93", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 8619}, {0x61, NULL, 0, 0, 0, 8620},
	{0x72, NULL, 0, 0, 0, 8621}, {0x3b, "\xe2\x8c\xae", 3, 0, 0, 0},
	{0x74, NULL, 0, 8623, 0, 8624}, {0x3b, "\xe2\x88\x9d", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 8625}, {0x3b, "\xe2\x88\x9d", 3, 0, 0, 0},
	{0x3b, "\xe2\x88\x8f", 3, 0, 0, 0}, {0x61, NULL, 0, 8629, 8628, 8630},
	{0x73, NULL, 0, 0, 0, 8632}, {0x45, NULL, 0, 0, 0, 8635},
	{0x70, NULL, 0, 0, 0, 8631}, {0x3b, "\xe2\xaa\xb9", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 8633}, {0x6d, NULL, 0, 0, 0, 8634},
	{0x3b, "\xe2\x8b\xa8", 3, 0, 0, 0}, {0x3b, "\xe2\xaa\xb5", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8637}, {0x3b, "\xf0\x9d\x94\xad", 4, 0, 0, 0},
	{0x74, NULL, 0, 8640, 8639, 8641}, {0x76, NULL, 0, 0, 0, 8648},
	{0x3b, "\xcf\x80", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 8642},
	{0x68, NULL, 0, 0, 0, 8643}, {0x66, NULL, 0, 0, 0, 8644},
	{0x6f, NULL, 0, 0, 0, 8645}, {0x72, NULL, 0, 0, 0, 8646},
	{0x6b, NULL, 0, 0, 0, 8647}, {0x3b, "\xe2\x8b\x94", 3, 0, 0, 0},
	{0x3b, "\xcf\x96", 2, 0, 0, 0}, {0x79, NULL, 0, 0, 0, 8650},
	{0x3b, "\xd0\xbf", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 8652},
	{0x6d, NULL, 0, 8654, 8653, 8657}, {0x74, NULL, 0, 8656, 0, 8660},
	{0x69, NULL, 0, 8655, 0, 8664}, {0x63, NULL, 0, 0, 0, 8667},
	{0x70, NULL, 0, 0, 0, 8670}, {0x69, NULL, 0, 0, 0, 8658},
	{0x6c, NULL, 0, 0, 0, 8659}, {0x3b, "\xe2\x80\xb0", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 8661}, {0x6e, NULL, 0, 0, 0, 8662},
	{0x6b, NULL, 0, 0, 0, 8663}, {0x3b, "\xe2\x80\xb1", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 8665}, {0x64, NULL, 0, 0, 0, 8666},
	{0x3b, "\x2e", 1, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 8668},
	{0x74, NULL, 0, 0, 0, 8669}, {0x3b, "\x25", 1, 0, 0, 0},
	{0x3b, "\xe2\x8a\xa5", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 8672},
	{0x73, NULL, 0, 8674, 8673, 8676}, {0x74, NULL, 0, 0, 0, 8681},
	{0x61, "\xc2\xb6", 2, 8675, 0, 8682}, {0x3b, "\xe2\x88\xa5", 3, 0, 0, 0},
	{0x6c, NULL, 0, 8677, 0, 8678}, {0x69, NULL, 0, 0, 0, 8679},
	{0x3b, "\xe2\xab\xbd", 3, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 8680},
	{0x3b, "\xe2\xab\xb3", 3, 0, 0, 0}, {0x3b, "\xe2\x88\x82", 3, 0, 0, 0},
	{0x6c, NULL, 0, 8683, 0, 8684}, {0x3b, "\xc2\xb6", 2, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 8685}, {0x65, NULL, 0, 0, 0, 8686},
	{0x6c, NULL, 0, 0, 0, 8687}, {0x3b, "\xe2\x88\xa5", 3, 0, 0, 0},
	{0x6d, NULL, 0, 8690, 8689, 8691}, {0x6f, NULL, 0, 0, 0, 8695},
	{0x69, NULL, 0, 0, 0, 8698}, {0x6d, NULL, 0, 0, 0, 8692},
	{0x61, NULL, 0, 0, 0, 8693}, {0x74, NULL, 0, 0, 0, 8694},
	{0x3b, "\xe2\x84\xb3", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 8696},
	{0x65, NULL, 0, 0, 0, 8697}, {0x3b, "\xe2\x98\x8e", 3, 0, 0, 0},
	{0x76, NULL, 0, 8699, 0, 8700}, {0x3b, "\xcf\x86", 2, 0, 0, 0},
	{0x3b, "\xcf\x95", 2, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 8702},
	{0x63, NULL, 0, 0, 0, 8703}, {0x73, NULL, 0, 0, 0, 8704},
	{0x70, NULL, 0, 0, 0, 8705}, {0x3b, "\xe2\x80\x88", 3, 0, 0, 0},
	{0x70, NULL, 0, 8708, 8707, 8709}, {0x75, NULL, 0, 0, 0, 8711},
	{0x69, NULL, 0, 0, 0, 8714}, {0x66, NULL, 0, 0, 0, 8710},
	{0x3b, "\xf0\x9d\x95\xa1", 4, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 8712},
	{0x64, "\xc2\xa3", 2, 0, 0, 8713}, {0x3b, "\xc2\xa3", 2, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 8715}, {0x74, NULL, 0, 0, 0, 8716},
	{0x69, NULL, 0, 0, 0, 8717}, {0x6e, NULL, 0, 0, 0, 8718},
	{0x74, NULL, 0, 0, 0, 8719}, {0x3b, "\xe2\xa8\x95", 3, 0, 0, 0},
	{0x3b, "\xc2\xb1", 2, 0, 0, 0}, {0x69, NULL, 0, 8722, 0, 8723},
	{0x63, NULL, 0, 0, 0, 8724}, {0x3b, "\xcf\x88", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8725}, {0x3b, "\xf0\x9d\x93\x85", 4, 0, 0, 0},
	{0x70, NULL, 0, 8728, 8727, 8732}, {0x75, NULL, 0, 8731, 0, 8737},
	{0x69, NULL, 0, 8730, 8729, 8761}, {0x6f, NULL, 0, 0, 0, 8764},
	{0x66, NULL, 0, 0, 0, 8767}, {0x73, NULL, 0, 0, 0, 8769},
	{0x72, NULL, 0, 0, 0, 8733}, {0x69, NULL, 0, 0, 0, 8734},
	{0x6d, NULL, 0, 0, 0, 8735}, {0x65, NULL, 0, 0, 0, 8736},
	{0x3b, "\xe2\x81\x97", 3, 0, 0, 0}, {0x65, NULL, 0, 8739, 8738, 8740},
	{0x6f, NULL, 0, 0, 0, 8746}, {0x61, NULL, 0, 0, 0, 8748},
	{0x73, NULL, 0, 0, 0, 8741}, {0x74, NULL, 0, 0, 0, 8742},
	{0x65, NULL, 0, 8743, 0, 8744}, {0x3b, "\x3f", 1, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 8745}, {0x3b, "\xe2\x89\x9f", 3, 0, 0, 0},
	{0x74, "\x22", 1, 0, 0, 8747}, {0x3b, "\x22", 1, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 8749}, {0x69, NULL, 0, 8750, 0, 8751},
	{0x65, NULL, 0, 0, 0, 8754}, {0x6e, NULL, 0, 0, 0, 8752},
	{0x74, NULL, 0, 0, 0, 8753}, {0x3b, "\xe2\xa8\x96", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8755}, {0x6e, NULL, 0, 0, 0, 8756},
	{0x69, NULL, 0, 0, 0, 8757}, {0x6f, NULL, 0, 0, 0, 8758},
	{0x6e, NULL, 0, 0, 0, 8759}, {0x73, NULL, 0, 0, 0, 8760},
	{0x3b, "\xe2\x84\x8d", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 8762},
	{0x74, NULL, 0, 0, 0, 8763}, {0x3b, "\xe2\xa8\x8c", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 8765}, {0x66, NULL, 0, 0, 0, 8766},
	{0x3b, "\xf0\x9d\x95\xa2", 4, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 8768},
	{0x3b, "\xf0\x9d\x94\xae", 4, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 8770},
	{0x72, NULL, 0, 0, 0, 8771}, {0x3b, "\xf0\x9d\x93\x86", 4, 0, 0, 0},
	{0x6c, NULL, 0, 8774, 8773, 8790}, {0x73, NULL, 0, 8784, 8783, 8809},
	{0x65, NULL, 0, 8776, 8775, 8820}, {0x68, NULL, 0, 8781, 8780, 8824},
	{0x63, NULL, 0, 8778, 8777, 8830}, {0x64, NULL, 0, 0, 0, 8837},
	{0x61, NULL, 0, 8779, 0, 8857}, {0x53, NULL, 0, 0, 0, 8865},
	{0x69, NULL, 0, 0, 0, 8866}, {0x67, NULL, 0, 8782, 0, 8869},
	{0x66, NULL, 0, 0, 0, 8879}, {0x75, NULL, 0, 8789, 8788, 8885},
	{0x70, NULL, 0, 8786, 8785, 8888}, {0x72, NULL, 0, 0, 0, 8899},
	{0x6f, NULL, 0, 8787, 0, 8932}, {0x6d, NULL, 0, 0, 0, 8935},
	{0x76, NULL, 0, 0, 0, 8955}, {0x74, NULL, 0, 0, 0, 8959},
	{0x69, NULL, 0, 8792, 8791, 8794}, {0x74, NULL, 0, 0, 0, 8797},
	{0x63, NULL, 0, 8793, 0, 8798}, {0x61, NULL, 0, 0, 0, 8806},
	{0x6e, NULL, 0, 0, 0, 8795}, {0x65, NULL, 0, 0, 0, 8796},
	{0x3b, "\xe2\x80\xbe", 3, 0, 0, 0}, {0x3b, "\xe2\xa7\x80", 3, 0, 0, 0},
	{0x72, NULL, 0, 8799, 0, 8800}, {0x69, NULL, 0, 0, 0, 8804},
	{0x6f, NULL, 0, 0, 0, 8801}, {0x73, NULL, 0, 0, 0, 8802},
	{0x73, NULL, 0, 0, 0, 8803}, {0x3b, "\xe2\xa6\xbb", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8805}, {0x3b, "\xe2\xa6\xbe", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8807}, {0x72, NULL, 0, 0, 0, 8808},
	{0x3b, "\xe2\x86\xba", 3, 0, 0, 0}, {0x6c, NULL, 0, 8811, 8810, 8812},
	{0x6f, NULL, 0, 0, 0, 8816}, {0x63, NULL, 0, 0, 0, 8818},
	{0x61, NULL, 0, 0, 0, 8813}, {0x73, NULL, 0, 0, 0, 8814},
	{0x68, "\xc3\xb8", 2, 0, 0, 8815}, {0x3b, "\xc3\xb8", 2, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 8817}, {0x3b, "\xe2\x8a\x98", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8819}, {0x3b, "\xe2\x84\xb4", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 8821}, {0x69, NULL, 0, 0, 0, 8822},
	{0x67, NULL, 0, 0, 0, 8823}, {0x3b, "\xc5\x93", 2, 0, 0, 0},
	{0x6d, NULL, 0, 8825, 0, 8826}, {0x62, NULL, 0, 0, 0, 8827},
	{0x3b, "\xce\xa9", 2, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 8828},
	{0x72, NULL, 0, 0, 0, 8829}, {0x3b, "\xe2\xa6\xb5", 3, 0, 0, 0},
	{0x79, NULL, 0, 8831, 0, 8832}, {0x69, NULL, 0, 0, 0, 8833},
	{0x3b, "\xd0\xbe", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 8834},
	{0x63, "\xc3\xb4", 2, 8835, 0, 8836}, {0x3b, "\xe2\x8a\x9a", 3, 0, 0, 0},
	{0x3b, "\xc3\xb4", 2, 0, 0, 0}, {0x69, NULL, 0, 8839, 8838, 8842},
	{0x73, NULL, 0, 8841, 0, 8844}, {0x62, NULL, 0, 8840, 0, 8848},
	{0x61, NULL, 0, 0, 0, 8852}, {0x6f, NULL, 0, 0, 0, 8855},
	{0x76, NULL, 0, 0, 0, 8843}, {0x3b, "\xe2\xa8\xb8", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 8845}, {0x6c, NULL, 0, 0, 0, 8846},
	{0x64, NULL, 0, 0, 0, 8847}, {0x3b, "\xe2\xa6\xbc", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 8849}, {0x61, NULL, 0, 0, 0, 8850},
	{0x63, NULL, 0, 0, 0, 8851}, {0x3b, "\xc5\x91", 2, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 8853}, {0x68, NULL, 0, 0, 0, 8854},
	{0x3b, "\xe2\x8a\x9d", 3, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 8856},
	{0x3b, "\xe2\x8a\x99", 3, 0, 0, 0}, {0x73, NULL, 0, 8858, 0, 8859},
	{0x63, NULL, 0, 0, 0, 8861}, {0x74, NULL, 0, 0, 0, 8860},
	{0x3b, "\xe2\x8a\x9b", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 8862},
	{0x74, NULL, 0, 0, 0, 8863}, {0x65, "\xc3\xb3", 2, 0, 0, 8864},
	{0x3b, "\xc3\xb3", 2, 0, 0, 0}, {0x3b, "\xe2\x93\x88", 3, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 8867}, {0x74, NULL, 0, 0, 0, 8868},
	{0x3b, "\xe2\x88\xae", 3, 0, 0, 0}, {0x72, NULL, 0, 8871, 8870, 8872},
	{0x74, NULL, 0, 0, 0, 8876}, {0x6f, NULL, 0, 0, 0, 8877},
	{0x61, NULL, 0, 0, 0, 8873}, {0x76, NULL, 0, 0, 0, 8874},
	{0x65, "\xc3\xb2", 2, 0, 0, 8875}, {0x3b, "\xc3\xb2", 2, 0, 0, 0},
	{0x3b, "\xe2\xa7\x81", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 8878},
	{0x3b, "\xcb\x9b", 2, 0, 0, 0}, {0x72, NULL, 0, 8880, 0, 8881},
	{0x63, NULL, 0, 0, 0, 8882}, {0x3b, "\xf0\x9d\x94\xac", 4, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 8883}, {0x72, NULL, 0, 0, 0, 8884},
	{0x3b, "\xe2\xa6\xbf", 3, 0, 0, 0}, {0x6d, NULL, 0, 0, 0, 8886},
	{0x6c, "\xc3\xb6", 2, 0, 0, 8887}, {0x3b, "\xc3\xb6", 2, 0, 0, 0},
	{0x65, NULL, 0, 8890, 8889, 8891}, {0x6c, NULL, 0, 0, 0, 8894},
	{0x61, NULL, 0, 0, 0, 8897}, {0x72, NULL, 0, 0, 0, 8892},
	{0x70, NULL, 0, 0, 0, 8893}, {0x3b, "\xe2\xa6\xb9", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 8895}, {0x73, NULL, 0, 0, 0, 8896},
	{0x3b, "\xe2\x8a\x95", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 8898},
	{0x3b, "\xe2\xa6\xb7", 3, 0, 0, 0}, {0x69, NULL, 0, 8901, 8900, 8906},
	{0x73, NULL, 0, 8905, 8904, 8910}, {0x61, NULL, 0, 8903, 8902, 8915},
	{0x64, NULL, 0, 0, 0, 8918}, {0x3b, "\xe2\x88\xa8", 3, 0, 0, 0},
	{0x76, NULL, 0, 0, 0, 8929}, {0x6f, NULL, 0, 0, 0, 8930},
	{0x67, NULL, 0, 0, 0, 8907}, {0x6f, NULL, 0, 0, 0, 8908},
	{0x66, NULL, 0, 0, 0, 8909}, {0x3b, "\xe2\x8a\xb6", 3, 0, 0, 0},
	{0x6c, NULL, 0, 0, 0, 8911}, {0x6f, NULL, 0, 0, 0, 8912},
	{0x70, NULL, 0, 0, 0, 8913}, {0x65, NULL, 0, 0, 0, 8914},
	{0x3b, "\xe2\xa9\x97", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 8916},
	{0x72, NULL, 0, 0, 0, 8917}, {0x3b, "\xe2\x86\xbb", 3, 0, 0, 0},
	{0x66, "\xc2\xaa", 2, 8920, 8919, 8922}, {0x6d, "\xc2\xba", 2, 0, 0, 8923},
	{0x65, NULL, 0, 8921, 0, 8924}, {0x3b, "\xe2\xa9\x9d", 3, 0, 0, 0},
	{0x3b, "\xc2\xaa", 2, 0, 0, 0}, {0x3b, "\xc2\xba", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8925}, {0x6f, NULL, 0, 8926, 0, 8927},
	{0x3b, "\xe2\x84\xb4", 3, 0, 0, 0}, {0x66, NULL, 0, 0, 0, 8928},
	{0x3b, "\xe2\x84\xb4", 3, 0, 0, 0}, {0x3b, "\xe2\xa9\x9b", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8931}, {0x3b, "\xe2\xa9\x96", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 8933}, {0x66, NULL, 0, 0, 0, 8934},
	{0x3b, "\xf0\x9d\x95\xa0", 4, 0, 0, 0}, {0x65, NULL, 0, 8937, 8936, 8938},
	{0x69, NULL, 0, 0, 0, 8941}, {0x61, NULL, 0, 0, 0, 8952},
	{0x67, NULL, 0, 0, 0, 8939}, {0x61, NULL, 0, 0, 0, 8940},
	{0x3b, "\xcf\x89", 2, 0, 0, 0}, {0x64, NULL, 0, 8943, 8942, 8944},
	{0x6e, NULL, 0, 0, 0, 8945}, {0x63, NULL, 0, 0, 0, 8948},
	{0x3b, "\xe2\xa6\xb6", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 8946},
	{0x73, NULL, 0, 0, 0, 8947}, {0x3b, "\xe2\x8a\x96", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 8949}, {0x6f, NULL, 0, 0, 0, 8950},
	{0x6e, NULL, 0, 0, 0, 8951}, {0x3b, "\xce\xbf", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 8953}, {0x72, NULL, 0, 0, 0, 8954},
	{0x3b, "\xc5\x8d", 2, 0, 0, 0}, {0x62, NULL, 0, 0, 0, 8956},
	{0x61, NULL, 0, 0, 0, 8957}, {0x72, NULL, 0, 0, 0, 8958},
	{0x3b, "\xe2\x8c\xbd", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 8960},
	{0x6d, NULL, 0, 8961, 0, 8962}, {0x6c, NULL, 0, 0, 0, 8968},
	{0x65, NULL, 0, 0, 0, 8963}, {0x73, NULL, 0, 0, 0, 8964},
	{0x61, NULL, 0, 8965, 0, 8966}, {0x3b, "\xe2\x8a\x97", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 8967}, {0x3b, "\xe2\xa8\xb6", 3, 0, 0, 0},
	{0x64, NULL, 0, 0, 0, 8969}, {0x65, "\xc3\xb5", 2, 0, 0, 8970},
	{0x3b, "\xc3\xb5", 2, 0, 0, 0}, {0x6d, NULL, 0, 8973, 8972, 8990},
	{0x73, NULL, 0, 8983, 8982, 9025}, {0x65, NULL, 0, 8975, 8974, 9043},
	{0x69, NULL, 0, 8980, 8979, 9080}, {0x63, NULL, 0, 8977, 8976, 9119},
	{0x64, NULL, 0, 0, 0, 9166}, {0x62, NULL, 0, 8978, 0, 9173},
	{0x61, NULL, 0, 0, 0, 9177}, {0x6c, NULL, 0, 0, 0, 9182},
	{0x68, NULL, 0, 8981, 0, 9186}, {0x66, NULL, 0, 0, 0, 9215},
	{0x77, NULL, 0, 8988, 8987, 9221}, {0x71, NULL, 0, 8985, 8984, 9240},
	{0x72, NULL, 0, 0, 0, 9285}, {0x70, NULL, 0, 8986, 0, 9289},
	{0x6f, NULL, 0, 0, 0, 9300}, {0x7a, NULL, 0, 0, 0, 9315},
	{0x75, NULL, 0, 8989, 0, 9319}, {0x74, NULL, 0, 0, 0, 9497},
	{0x69, NULL, 0, 8992, 8991, 8994}, {0x74, NULL, 0, 0, 0, 8999},
	{0x65, NULL, 0, 8993, 0, 9004}, {0x61, NULL, 0, 0, 0, 9010},
	{0x6c, NULL, 0, 8995, 0, 8996}, {0x64, NULL, 0, 0, 0, 8998},
	{0x65, NULL, 0, 0, 0, 8997}, {0x3b, "\xe2\x8c\xa3", 3, 0, 0, 0},
	{0x3b, "\xe2\x88\xa3", 3, 0, 0, 0}, {0x65, NULL, 0, 9000, 0, 9001},
	{0x3b, "\xe2\xaa\xaa", 3, 0, 0, 0}, {0x73, NULL, 0, 9002, 0, 9003},
	{0x3b, "\xe2\xaa\xac", 3, 0, 0, 0}, {0x3b, "\xe2\xaa\xac\xef\xb8\x80", 6, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 9005}, {0x61, NULL, 0, 0, 0, 9006},
	{0x72, NULL, 0, 0, 0, 9007}, {0x73, NULL, 0, 0, 0, 9008},
	{0x6c, NULL, 0, 0, 0, 9009}, {0x3b, "\xe2\xa7\xa4", 3, 0, 0, 0},
	{0x73, NULL, 0, 9011, 0, 9012}, {0x6c, NULL, 0, 0, 0, 9015},
	{0x68, NULL, 0, 0, 0, 9013}, {0x70, NULL, 0, 0, 0, 9014},
	{0x3b, "\xe2\xa8\xb3", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 9016},
	{0x73, NULL, 0, 0, 0, 9017}, {0x65, NULL, 0, 0, 0, 9018},
	{0x74, NULL, 0, 0, 0, 9019}, {0x6d, NULL, 0, 0, 0, 9020},
	{0x69, NULL, 0, 0, 0, 9021}, {0x6e, NULL, 0, 0, 0, 9022},
	{0x75, NULL, 0, 0, 0, 9023}, {0x73, NULL, 0, 0, 0, 9024},
	{0x3b, "\xe2\x88\x96", 3, 0, 0, 0}, {0x6d, NULL, 0, 9027, 9026, 9029},
	{0x74, NULL, 0, 0, 0, 9033}, {0x65, NULL, 0, 9028, 0, 9037},
	{0x63, NULL, 0, 0, 0, 9041}, {0x69, NULL, 0, 0, 0, 9030},
	{0x6c, NULL, 0, 0, 0, 9031}, {0x65, NULL, 0, 0, 0, 9032},
	{0x3b, "\xe2\x8c\xa3", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 9034},
	{0x72, NULL, 0, 0, 0, 9035}, {0x66, NULL, 0, 0, 0, 9036},
	{0x3b, "\xe2\x8b\x86", 3, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 9038},
	{0x6d, NULL, 0, 0, 0, 9039}, {0x6e, NULL, 0, 0, 0, 9040},
	{0x3b, "\xe2\x88\x96", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 9042},
	{0x3b, "\xf0\x9d\x93\x88", 4, 0, 0, 0}, {0x6d, NULL, 0, 9045, 9044, 9050},
	{0x74, NULL, 0, 9049, 9048, 9052}, {0x61, NULL, 0, 9047, 9046, 9060},
	{0x63, NULL, 0, 0, 0, 9069}, {0x41, NULL, 0, 0, 0, 9071},
	{0x78, NULL, 0, 0, 0, 9074}, {0x73, NULL, 0, 0, 0, 9076},
	{0x69, NULL, 0, 0, 0, 9051}, {0x3b, "\x3b", 1, 0, 0, 0},
	{0x6d, NULL, 0, 0, 0, 9053}, {0x6e, NULL, 0, 9054, 0, 9055},
	{0x69, NULL, 0, 0, 0, 9056}, {0x3b, "\xe2\x88\x96", 3, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 9057}, {0x75, NULL, 0, 0, 0, 9058},
	{0x73, NULL, 0, 0, 0, 9059}, {0x3b, "\xe2\x88\x96", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 9061}, {0x72, NULL, 0, 9062, 0, 9063},
	{0x68, NULL, 0, 0, 0, 9067}, {0x6f, NULL, 0, 9064, 0, 9065},
	{0x3b, "\xe2\x86\x98", 3, 0, 0, 0}, {0x77, NULL, 0, 0, 0, 9066},
	{0x3b, "\xe2\x86\x98", 3, 0, 0, 0}, {0x6b, NULL, 0, 0, 0, 9068},
	{0x3b, "\xe2\xa4\xa5", 3, 0, 0, 0}, {0x74, "\xc2\xa7", 2, 0, 0, 9070},
	{0x3b, "\xc2\xa7", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 9072},
	{0x72, NULL, 0, 0, 0, 9073}, {0x3b, "\xe2\x87\x98", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 9075}, {0x3b, "\xe2\x9c\xb6", 3, 0, 0, 0},
	{0x77, NULL, 0, 0, 0, 9077}, {0x61, NULL, 0, 0, 0, 9078},
	{0x72, NULL, 0, 0, 0, 9079}, {0x3b, "\xe2\xa4\xa9", 3, 0, 0, 0},
	{0x6d, NULL, 0, 9081, 0, 9082}, {0x67, NULL, 0, 0, 0, 9112},
	{0x6c, NULL, 0, 9084, 9083, 9090}, {0x70, NULL, 0, 9089, 9088, 9093},
	{0x65, NULL, 0, 9086, 9085, 9097}, {0x67, NULL, 0, 0, 0, 9100},
	{0x64, NULL, 0, 9087, 0, 9103}, {0x3b, "\xe2\x88\xbc", 3, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 9106}, {0x6e, NULL, 0, 0, 0, 9110},
	{0x45, NULL, 0, 9091, 0, 9092}, {0x3b, "\xe2\xaa\x9d", 3, 0, 0, 0},
	{0x3b, "\xe2\xaa\x9f", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 9094},
	{0x75, NULL, 0, 0, 0, 9095}, {0x73, NULL, 0, 0, 0, 9096},
	{0x3b, "\xe2\xa8\xa4", 3, 0, 0, 0}, {0x71, NULL, 0, 9098, 0, 9099},
	{0x3b, "\xe2\x89\x83", 3, 0, 0, 0}, {0x3b, "\xe2\x89\x83", 3, 0, 0, 0},
	{0x45, NULL, 0, 9101, 0, 9102}, {0x3b, "\xe2\xaa\x9e", 3, 0, 0, 0},
	{0x3b, "\xe2\xaa\xa0", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 9104},
	{0x74, NULL, 0, 0, 0, 9105}, {0x3b, "\xe2\xa9\xaa", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 9107}, {0x72, NULL, 0, 0, 0, 9108},
	{0x72, NULL, 0, 0, 0, 9109}, {0x3b, "\xe2\xa5\xb2", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 9111}, {0x3b, "\xe2\x89\x86", 3, 0, 0, 0},
	{0x6d, NULL, 0, 0, 0, 9113}, {0x61, NULL, 0, 0, 0, 9114},
	{0x66, NULL, 0, 9116, 9115, 9117}, {0x76, NULL, 0, 0, 0, 9118},
	{0x3b, "\xcf\x83", 2, 0, 0, 0}, {0x3b, "\xcf\x82", 2, 0, 0, 0},
	{0x3b, "\xcf\x82", 2, 0, 0, 0}, {0x69, NULL, 0, 9121, 9120, 9129},
	{0x73, NULL, 0, 9127, 9126, 9132}, {0x61, NULL, 0, 9123, 9122, 9135},
	{0x65, NULL, 0, 9125, 0, 9141}, {0x45, NULL, 0, 9124, 0, 9146},
	{0x3b, "\xe2\x89\xbb", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 9147},
	{0x79, NULL, 0, 0, 0, 9150}, {0x70, NULL, 0, 9128, 0, 9151},
	{0x6e, NULL, 0, 0, 0, 9157}, {0x72, NULL, 0, 0, 0, 9130},
	{0x63, NULL, 0, 0, 0, 9131}, {0x3b, "\xc5\x9d", 2, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 9133}, {0x6d, NULL, 0, 0, 0, 9134},
	{0x3b, "\xe2\x89\xbf", 3, 0, 0, 0}, {0x72, NULL, 0, 9136, 0, 9137},
	{0x70, NULL, 0, 0, 0, 9140}, {0x6f, NULL, 0, 0, 0, 9138},
	{0x6e, NULL, 0, 0, 0, 9139}, {0x3b, "\xc5\xa1", 2, 0, 0, 0},
	{0x3b, "\xe2\xaa\xb8", 3, 0, 0, 0}, {0x64, NULL, 0, 9142, 0, 9143},
	{0x3b, "\xe2\xaa\xb0", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 9144},
	{0x6c, NULL, 0, 0, 0, 9145}, {0x3b, "\xc5\x9f", 2, 0, 0, 0},
	{0x3b, "\xe2\xaa\xb4", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 9148},
	{0x65, NULL, 0, 0, 0, 9149}, {0x3b, "\xe2\x89\xbd", 3, 0, 0, 0},
	{0x3b, "\xd1\x81", 2, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 9152},
	{0x6c, NULL, 0, 0, 0, 9153}, {0x69, NULL, 0, 0, 0, 9154},
	{0x6e, NULL, 0, 0, 0, 9155}, {0x74, NULL, 0, 0, 0, 9156},
	{0x3b, "\xe2\xa8\x93", 3, 0, 0, 0}, {0x61, NULL, 0, 9159, 9158, 9160},
	{0x73, NULL, 0, 0, 0, 9162}, {0x45, NULL, 0, 0, 0, 9165},
	{0x70, NULL, 0, 0, 0, 9161}, {0x3b, "\xe2\xaa\xba", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 9163}, {0x6d, NULL, 0, 0, 0, 9164},
	{0x3b, "\xe2\x8b\xa9", 3, 0, 0, 0}, {0x3b, "\xe2\xaa\xb6", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 9167}, {0x74, NULL, 0, 0, 0, 9168},
	{0x62, NULL, 0, 9170, 9169, 9171}, {0x65, NULL, 0, 0, 0, 9172},
	{0x3b, "\xe2\x8b\x85", 3, 0, 0, 0}, {0x3b, "\xe2\x8a\xa1", 3, 0, 0, 0},
	{0x3b, "\xe2\xa9\xa6", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 9174},
	{0x75, NULL, 0, 0, 0, 9175}, {0x6f, NULL, 0, 0, 0, 9176},
	{0x3b, "\xe2\x80\x9a", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 9178},
	{0x75, NULL, 0, 0, 0, 9179}, {0x74, NULL, 0, 0, 0, 9180},
	{0x65, NULL, 0, 0, 0, 9181}, {0x3b, "\xc5\x9b", 2, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 9183}, {0x72, NULL, 0, 0, 0, 9184},
	{0x72, NULL, 0, 0, 0, 9185}, {0x3b, "\xe2\x86\x90", 3, 0, 0, 0},
	{0x6f, NULL, 0, 9188, 9187, 9190}, {0x79, "\xc2\xad", 2, 0, 0, 9205},
	{0x63, NULL, 0, 9189, 0, 9206}, {0x61, NULL, 0, 0, 0, 9212},
	{0x72, NULL, 0, 0, 0, 9191}, {0x74, NULL, 0, 0, 0, 9192},
	{0x70, NULL, 0, 9193, 0, 9194}, {0x6d, NULL, 0, 0, 0, 9202},
	{0x61, NULL, 0, 0, 0, 9195}, {0x72, NULL, 0, 0, 0, 9196},
	{0x61, NULL, 0, 0, 0, 9197}, {0x6c, NULL, 0, 0, 0, 9198},
	{0x6c, NULL, 0, 0, 0, 9199}, {0x65, NULL, 0, 0, 0, 9200},
	{0x6c, NULL, 0, 0, 0, 9201}, {0x3b, "\xe2\x88\xa5", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 9203}, {0x64, NULL, 0, 0, 0, 9204},
	{0x3b, "\xe2\x88\xa3", 3, 0, 0, 0}, {0x3b, "\xc2\xad", 2, 0, 0, 0},
	{0x79, NULL, 0, 9207, 0, 9208}, {0x68, NULL, 0, 0, 0, 9209},
	{0x3b, "\xd1\x88", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 9210},
	{0x79, NULL, 0, 0, 0, 9211}, {0x3b, "\xd1\x89", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 9213}, {0x70, NULL, 0, 0, 0, 9214},
	{0x3b, "\xe2\x99\xaf", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 9216},
	{0x6f, NULL, 0, 9217, 0, 9218}, {0x3b, "\xf0\x9d\x94\xb0", 4, 0, 0, 0},
	{0x77, NULL, 0, 0, 0, 9219}, {0x6e, NULL, 0, 0, 0, 9220},
	{0x3b, "\xe2\x8c\xa2", 3, 0, 0, 0}, {0x61, NULL, 0, 9223, 9222, 9224},
	{0x6e, NULL, 0, 0, 0, 9233}, {0x41, NULL, 0, 0, 0, 9237},
	{0x72, NULL, 0, 0, 0, 9225}, {0x72, NULL, 0, 9226, 0, 9227},
	{0x68, NULL, 0, 0, 0, 9231}, {0x6f, NULL, 0, 9228, 0, 9229},
	{0x3b, "\xe2\x86\x99", 3, 0, 0, 0}, {0x77, NULL, 0, 0, 0, 9230},
	{0x3b, "\xe2\x86\x99", 3, 0, 0, 0}, {0x6b, NULL, 0, 0, 0, 9232},
	{0x3b, "\xe2\xa4\xa6", 3, 0, 0, 0}, {0x77, NULL, 0, 0, 0, 9234},
	{0x61, NULL, 0, 0, 0, 9235}, {0x72, NULL, 0, 0, 0, 9236},
	{0x3b, "\xe2\xa4\xaa", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 9238},
	{0x72, NULL, 0, 0, 0, 9239}, {0x3b, "\xe2\x87\x99", 3, 0, 0, 0},
	{0x73, NULL, 0, 9242, 9241, 9243}, {0x75, NULL, 0, 0, 0, 9266},
	{0x63, NULL, 0, 0, 0, 9275}, {0x75, NULL, 0, 0, 0, 9244},
	{0x70, NULL, 0, 9245, 0, 9246}, {0x62, NULL, 0, 0, 0, 9256},
	{0x65, NULL, 0, 9248, 9247, 9249}, {0x73, NULL, 0, 0, 0, 9250},
	{0x3b, "\xe2\x8a\x90", 3, 0, 0, 0}, {0x3b, "\xe2\x8a\x92", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 9251}, {0x74, NULL, 0, 0, 0, 9252},
	{0x65, NULL, 0, 9253, 0, 9254}, {0x3b, "\xe2\x8a\x90", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 9255}, {0x3b, "\xe2\x8a\x92", 3, 0, 0, 0},
	{0x65, NULL, 0, 9258, 9257, 9259}, {0x73, NULL, 0, 0, 0, 9260},
	{0x3b, "\xe2\x8a\x8f", 3, 0, 0, 0}, {0x3b, "\xe2\x8a\x91", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 9261}, {0x74, NULL, 0, 0, 0, 9262},
	{0x65, NULL, 0, 9263, 0, 9264}, {0x3b, "\xe2\x8a\x8f", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 9265}, {0x3b, "\xe2\x8a\x91", 3, 0, 0, 0},
	{0x61, NULL, 0, 9268, 9267, 9269}, {0x66, NULL, 0, 0, 0, 9274},
	{0x3b, "\xe2\x96\xa1", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 9270},
	{0x66, NULL, 0, 9271, 0, 9272}, {0x65, NULL, 0, 0, 0, 9273},
	{0x3b, "\xe2\x96\xaa", 3, 0, 0, 0}, {0x3b, "\xe2\x96\xa1", 3, 0, 0, 0},
	{0x3b, "\xe2\x96\xaa", 3, 0, 0, 0}, {0x75, NULL, 0, 9276, 0, 9277},
	{0x61, NULL, 0, 0, 0, 9281}, {0x70, NULL, 0, 0, 0, 9278},
	{0x73, NULL, 0, 9279, 0, 9280}, {0x3b, "\xe2\x8a\x94", 3, 0, 0, 0},
	{0x3b, "\xe2\x8a\x94\xef\xb8\x80", 6, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 9282},
	{0x73, NULL, 0, 9283, 0, 9284}, {0x3b, "\xe2\x8a\x93", 3, 0, 0, 0},
	{0x3b, "\xe2\x8a\x93\xef\xb8\x80", 6, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 9286},
	{0x72, NULL, 0, 0, 0, 9287}, {0x72, NULL, 0, 0, 0, 9288},
	{0x3b, "\xe2\x86\x92", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 9290},
	{0x72, NULL, 0, 9291, 0, 9292}, {0x64, NULL, 0, 0, 0, 9293},
	{0x3b, "\xe2\x88\xa5", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 9294},
	{0x73, NULL, 0, 0, 0, 9295}, {0x75, NULL, 0, 9296, 0, 9297},
	{0x3b, "\xe2\x99\xa0", 3, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 9298},
	{0x74, NULL, 0, 0, 0, 9299}, {0x3b, "\xe2\x99\xa0", 3, 0, 0, 0},
	{0x6c, NULL, 0, 9302, 9301, 9303}, {0x70, NULL, 0, 0, 0, 9309},
	{0x66, NULL, 0, 0, 0, 9311}, {0x62, NULL, 0, 9304, 0, 9305},
	{0x3b, "\x2f", 1, 0, 0, 0}, {0x61, NULL, 0, 9306, 0, 9307},
	{0x3b, "\xe2\xa7\x84", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 9308},
	{0x3b, "\xe2\x8c\xbf", 3, 0, 0, 0}, {0x66, NULL, 0, 0, 0, 9310},
	{0x3b, "\xf0\x9d\x95\xa4", 4, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 9312},
	{0x63, NULL, 0, 0, 0, 9313}, {0x79, NULL, 0, 0, 0, 9314},
	{0x3b, "\xd1\x8c", 2, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 9316},
	{0x69, NULL, 0, 0, 0, 9317}, {0x67, "\xc3\x9f", 2, 0, 0, 9318},
	{0x3b, "\xc3\x9f", 2, 0, 0, 0}, {0x6d, NULL, 0, 9321, 9320, 9324},
	{0x70, NULL, 0, 9323, 0, 9325}, {0x63, NULL, 0, 9322, 0, 9399},
	{0x62, NULL, 0, 0, 0, 9439}, {0x6e, NULL, 0, 0, 0, 9495},
	{0x3b, "\xe2\x88\x91", 3, 0, 0, 0}, {0x65, NULL, 0, 9327, 9326, 9338},
	{0x6e, NULL, 0, 9334, 9333, 9343}, {0x3b, "\xe2\x8a\x83", 3, 9329, 9328, 0},
	{0x64, NULL, 0, 9332, 0, 9347}, {0x32, "\xc2\xb2", 2, 9331, 9330, 9354},
	{0x33, "\xc2\xb3", 2, 0, 0, 9355}, {0x31, "\xc2\xb9", 2, 0, 0, 9356},
	{0x45, NULL, 0, 0, 0, 9357}, {0x73, NULL, 0, 9337, 0, 9358},
	{0x6c, NULL, 0, 9336, 9335, 9380}, {0x6d, NULL, 0, 0, 0, 9384},
	{0x68, NULL, 0, 0, 0, 9388}, {0x70, NULL, 0, 0, 0, 9395},
	{0x64, NULL, 0, 9339, 0, 9340}, {0x3b, "\xe2\x8a\x87", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 9341}, {0x74, NULL, 0, 0, 0, 9342},
	{0x3b, "\xe2\xab\x84", 3, 0, 0, 0}, {0x65, NULL, 0, 9344, 0, 9345},
	{0x45, NULL, 0, 0, 0, 9346}, {0x3b, "\xe2\x8a\x8b", 3, 0, 0, 0},
	{0x3b, "\xe2\xab\x8c", 3, 0, 0, 0}, {0x73, NULL, 0, 9348, 0, 9349},
	{0x6f, NULL, 0, 0, 0, 9352}, {0x75, NULL, 0, 0, 0, 9350},
	{0x62, NULL, 0, 0, 0, 9351}, {0x3b, "\xe2\xab\x98", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 9353}, {0x3b, "\xe2\xaa\xbe", 3, 0, 0, 0},
	{0x3b, "\xc2\xb2", 2, 0, 0, 0}, {0x3b, "\xc2\xb3", 2, 0, 0, 0},
	{0x3b, "\xc2\xb9", 2, 0, 0, 0}, {0x3b, "\xe2\xab\x86", 3, 0, 0, 0},
	{0x69, NULL, 0, 9360, 9359, 9361}, {0x75, NULL, 0, 0, 0, 9363},
	{0x65, NULL, 0, 0, 0, 9367}, {0x6d, NULL, 0, 0, 0, 9362},
	{0x3b, "\xe2\xab\x88", 3, 0, 0, 0}, {0x70, NULL, 0, 9364, 0, 9365},
	{0x62, NULL, 0, 0, 0, 9366}, {0x3b, "\xe2\xab\x96", 3, 0, 0, 0},
	{0x3b, "\xe2\xab\x94", 3, 0, 0, 0}, {0x74, NULL, 0, 0, 0, 9368},
	{0x65, NULL, 0, 9370, 9369, 9371}, {0x6e, NULL, 0, 0, 0, 9375},
	{0x3b, "\xe2\x8a\x83", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 9372},
	{0x71, NULL, 0, 9373, 0, 9374}, {0x3b, "\xe2\x8a\x87", 3, 0, 0, 0},
	{0x3b, "\xe2\xab\x86", 3, 0, 0, 0}, {0x65, NULL, 0, 0, 0, 9376},
	{0x71, NULL, 0, 0, 0, 9377}, {0x71, NULL, 0, 9378, 0, 9379},
	{0x3b, "\xe2\x8a\x8b", 3, 0, 0, 0}, {0x3b, "\xe2\xab\x8c", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 9381}, {0x72, NULL, 0, 0, 0, 9382},
	{0x72, NULL, 0, 0, 0, 9383}, {0x3b, "\xe2\xa5\xbb", 3, 0, 0, 0},
	{0x75, NULL, 0, 0, 0, 9385}, {0x6c, NULL, 0, 0, 0, 9386},
	{0x74, NULL, 0, 0, 0, 9387}, {0x3b, "\xe2\xab\x82", 3, 0, 0, 0},
	{0x73, NULL, 0, 0, 0, 9389}, {0x75, NULL, 0, 9390, 0, 9391},
	{0x6f, NULL, 0, 0, 0, 9393}, {0x62, NULL, 0, 0, 0, 9392},
	{0x3b, "\xe2\xab\x97", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 9394},
	{0x3b, "\xe2\x9f\x89", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 9396},
	{0x75, NULL, 0, 0, 0, 9397}, {0x73, NULL, 0, 0, 0, 9398},
	{0x3b, "\xe2\xab\x80", 3, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 9400},
	{0x65, NULL, 0, 9402, 9401, 9406}, {0x73, NULL, 0, 9405, 0, 9408},
	{0x61, NULL, 0, 9404, 9403, 9411}, {0x63, NULL, 0, 0, 0, 9417},
	{0x3b, "\xe2\x89\xbb", 3, 0, 0, 0}, {0x6e, NULL, 0, 0, 0, 9424},
	{0x71, NULL, 0, 0, 0, 9407}, {0x3b, "\xe2\xaa\xb0", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 9409}, {0x6d, NULL, 0, 0, 0, 9410},
	{0x3b, "\xe2\x89\xbf", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 9412},
	{0x70, NULL, 0, 0, 0, 9413}, {0x72, NULL, 0, 0, 0, 9414},
	{0x6f, NULL, 0, 0, 0, 9415}, {0x78, NULL, 0, 0, 0, 9416},
	{0x3b, "\xe2\xaa\xb8", 3, 0, 0, 0}, {0x75, NULL, 0, 0, 0, 9418},
	{0x72, NULL, 0, 0, 0, 9419}, {0x6c, NULL, 0, 0, 0, 9420},
	{0x79, NULL, 0, 0, 0, 9421}, {0x65, NULL, 0, 0, 0, 9422},
	{0x71, NULL, 0, 0, 0, 9423}, {0x3b, "\xe2\x89\xbd", 3, 0, 0, 0},
	{0x65, NULL, 0, 9426, 9425, 9427}, {0x73, NULL, 0, 0, 0, 9430},
	{0x61, NULL, 0, 0, 0, 9433}, {0x71, NULL, 0, 0, 0, 9428},
	{0x71, NULL, 0, 0, 0, 9429}, {0x3b, "\xe2\xaa\xb6", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 9431}, {0x6d, NULL, 0, 0, 0, 9432},
	{0x3b, "\xe2\x8b\xa9", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 9434},
	{0x70, NULL, 0, 0, 0, 9435}, {0x72, NULL, 0, 0, 0, 9436},
	{0x6f, NULL, 0, 0, 0, 9437}, {0x78, NULL, 0, 0, 0, 9438},
	{0x3b, "\xe2\xaa\xba", 3, 0, 0, 0}, {0x6d, NULL, 0, 9441, 9440, 9448},
	{0x72, NULL, 0, 9446, 9445, 9452}, {0x64, NULL, 0, 9443, 9442, 9456},
	{0x65, NULL, 0, 0, 0, 9459}, {0x45, NULL, 0, 9444, 0, 9464},
	{0x3b, "\xe2\x8a\x82", 3, 0, 0, 0}, {0x73, NULL, 0, 0, 0, 9465},
	{0x70, NULL, 0, 9447, 0, 9487}, {0x6e, NULL, 0, 0, 0, 9491},
	{0x75, NULL, 0, 0, 0, 9449}, {0x6c, NULL, 0, 0, 0, 9450},
	{0x74, NULL, 0, 0, 0, 9451}, {0x3b, "\xe2\xab\x81", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 9453}, {0x72, NULL, 0, 0, 0, 9454},
	{0x72, NULL, 0, 0, 0, 9455}, {0x3b, "\xe2\xa5\xb9", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 9457}, {0x74, NULL, 0, 0, 0, 9458},
	{0x3b, "\xe2\xaa\xbd", 3, 0, 0, 0}, {0x64, NULL, 0, 9460, 0, 9461},
	{0x3b, "\xe2\x8a\x86", 3, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 9462},
	{0x74, NULL, 0, 0, 0, 9463}, {0x3b, "\xe2\xab\x83", 3, 0, 0, 0},
	{0x3b, "\xe2\xab\x85", 3, 0, 0, 0}, {0x69, NULL, 0, 9467, 9466, 9468},
	{0x75, NULL, 0, 0, 0, 9470}, {0x65, NULL, 0, 0, 0, 9474},
	{0x6d, NULL, 0, 0, 0, 9469}, {0x3b, "\xe2\xab\x87", 3, 0, 0, 0},
	{0x70, NULL, 0, 9471, 0, 9472}, {0x62, NULL, 0, 0, 0, 9473},
	{0x3b, "\xe2\xab\x93", 3, 0, 0, 0}, {0x3b, "\xe2\xab\x95", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 9475}, {0x65, NULL, 0, 9477, 9476, 9478},
	{0x6e, NULL, 0, 0, 0, 9482}, {0x3b, "\xe2\x8a\x82", 3, 0, 0, 0},
	{0x71, NULL, 0, 0, 0, 9479}, {0x71, NULL, 0, 9480, 0, 9481},
	{0x3b, "\xe2\x8a\x86", 3, 0, 0, 0}, {0x3b, "\xe2\xab\x85", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 9483}, {0x71, NULL, 0, 0, 0, 9484},
	{0x71, NULL, 0, 9485, 0, 9486}, {0x3b, "\xe2\x8a\x8a", 3, 0, 0, 0},
	{0x3b, "\xe2\xab\x8b", 3, 0, 0, 0}, {0x6c, NULL, 0, 0, 0, 9488},
	{0x75, NULL, 0, 0, 0, 9489}, {0x73, NULL, 0, 0, 0, 9490},
	{0x3b, "\xe2\xaa\xbf", 3, 0, 0, 0}, {0x65, NULL, 0, 9492, 0, 9493},
	{0x45, NULL, 0, 0, 0, 9494}, {0x3b, "\xe2\x8a\x8a", 3, 0, 0, 0},
	{0x3b, "\xe2\xab\x8b", 3, 0, 0, 0}, {0x67, NULL, 0, 0, 0, 9496},
	{0x3b, "\xe2\x99\xaa", 3, 0, 0, 0}, {0x72, NULL, 0, 9498, 0, 9499},
	{0x61, NULL, 0, 0, 0, 9519}, {0x6e, NULL, 0, 9500, 0, 9501},
	{0x61, NULL, 0, 0, 0, 9503}, {0x73, NULL, 0, 0, 0, 9502},
	{0x3b, "\xc2\xaf", 2, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 9504},
	{0x67, NULL, 0, 0, 0, 9505}, {0x68, NULL, 0, 0, 0, 9506},
	{0x74, NULL, 0, 0, 0, 9507}, {0x70, NULL, 0, 9508, 0, 9509},
	{0x65, NULL, 0, 0, 0, 9512}, {0x68, NULL, 0, 0, 0, 9510},
	{0x69, NULL, 0, 0, 0, 9511}, {0x3b, "\xcf\x95", 2, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 9513}, {0x73, NULL, 0, 0, 0, 9514},
	{0x69, NULL, 0, 0, 0, 9515}, {0x6c, NULL, 0, 0, 0, 9516},
	{0x6f, NULL, 0, 0, 0, 9517}, {0x6e, NULL, 0, 0, 0, 9518},
	{0x3b, "\xcf\xb5", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 9520},
	{0x66, NULL, 0, 9521, 0, 9522}, {0x3b, "\xe2\x98\x86", 3, 0, 0, 0},
	{0x3b, "\xe2\x98\x85", 3, 0, 0, 0}, {0x68, NULL, 0, 9525, 9524, 9533},
	{0x73, NULL, 0, 9531, 9530, 9536}, {0x64, NULL, 0, 9527, 9526, 9539},
	{0x66, NULL, 0, 9529, 0, 9542}, {0x63, NULL, 0, 9528, 0, 9544},
	{0x61, NULL, 0, 0, 0, 9551}, {0x65, NULL, 0, 0, 0, 9556},
	{0x77, NULL, 0, 0, 0, 9564}, {0x6f, NULL, 0, 9532, 0, 9569},
	{0x69, NULL, 0, 0, 0, 9572}, {0x63, NULL, 0, 0, 0, 9534},
	{0x79, NULL, 0, 0, 0, 9535}, {0x3b, "\xd0\xb6", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 9537}, {0x72, NULL, 0, 0, 0, 9538},
	{0x3b, "\xf0\x9d\x93\x8f", 4, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 9540},
	{0x74, NULL, 0, 0, 0, 9541}, {0x3b, "\xc5\xbc", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 9543}, {0x3b, "\xf0\x9d\x94\xb7", 4, 0, 0, 0},
	{0x79, NULL, 0, 9545, 0, 9546}, {0x61, NULL, 0, 0, 0, 9547},
	{0x3b, "\xd0\xb7", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 9548},
	{0x6f, NULL, 0, 0, 0, 9549}, {0x6e, NULL, 0, 0, 0, 9550},
	{0x3b, "\xc5\xbe", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 9552},
	{0x75, NULL, 0, 0, 0, 9553}, {0x74, NULL, 0, 0, 0, 9554},
	{0x65, NULL, 0, 0, 0, 9555}, {0x3b, "\xc5\xba", 2, 0, 0, 0},
	{0x74, NULL, 0, 9557, 0, 9558}, {0x65, NULL, 0, 0, 0, 9560},
	{0x61, NULL, 0, 0, 0, 9559}, {0x3b, "\xce\xb6", 2, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 9561}, {0x72, NULL, 0, 0, 0, 9562},
	{0x66, NULL, 0, 0, 0, 9563}, {0x3b, "\xe2\x84\xa8", 3, 0, 0, 0},
	{0x6e, NULL, 0, 9565, 0, 9566}, {0x6a, NULL, 0, 0, 0, 9568},
	{0x6a, NULL, 0, 0, 0, 9567}, {0x3b, "\xe2\x80\x8c", 3, 0, 0, 0},
	{0x3b, "\xe2\x80\x8d", 3, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 9570},
	{0x66, NULL, 0, 0, 0, 9571}, {0x3b, "\xf0\x9d\x95\xab", 4, 0, 0, 0},
	{0x67, NULL, 0, 0, 0, 9573}, {0x72, NULL, 0, 0, 0, 9574},
	{0x61, NULL, 0, 0, 0, 9575}, {0x72, NULL, 0, 0, 0, 9576},
	{0x72, NULL, 0, 0, 0, 9577}, {0x3b, "\xe2\x87\x9d", 3, 0, 0, 0},
	{0x6f, NULL, 0, 9580, 9579, 9585}, {0x72, NULL, 0, 9584, 9583, 9588},
	{0x65, NULL, 0, 9582, 9581, 9594}, {0x66, NULL, 0, 0, 0, 9609},
	{0x63, NULL, 0, 0, 0, 9611}, {0x73, NULL, 0, 0, 0, 9615},
	{0x70, NULL, 0, 0, 0, 9618}, {0x70, NULL, 0, 0, 0, 9586},
	{0x66, NULL, 0, 0, 0, 9587}, {0x3b, "\xf0\x9d\x95\xa8", 4, 0, 0, 0},
	{0x65, NULL, 0, 9589, 0, 9590}, {0x3b, "\xe2\x89\x80", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 9591}, {0x74, NULL, 0, 0, 0, 9592},
	{0x68, NULL, 0, 0, 0, 9593}, {0x3b, "\xe2\x89\x80", 3, 0, 0, 0},
	{0x69, NULL, 0, 9595, 0, 9596}, {0x64, NULL, 0, 0, 0, 9600},
	{0x65, NULL, 0, 0, 0, 9597}, {0x72, NULL, 0, 0, 0, 9598},
	{0x70, NULL, 0, 0, 0, 9599}, {0x3b, "\xe2\x84\x98", 3, 0, 0, 0},
	{0x67, NULL, 0, 9601, 0, 9602}, {0x62, NULL, 0, 0, 0, 9606},
	{0x65, NULL, 0, 0, 0, 9603}, {0x71, NULL, 0, 9604, 0, 9605},
	{0x3b, "\xe2\x88\xa7", 3, 0, 0, 0}, {0x3b, "\xe2\x89\x99", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 9607}, {0x72, NULL, 0, 0, 0, 9608},
	{0x3b, "\xe2\xa9\x9f", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 9610},
	{0x3b, "\xf0\x9d\x94\xb4", 4, 0, 0, 0}, {0x69, NULL, 0, 0, 0, 9612},
	{0x72, NULL, 0, 0, 0, 9613}, {0x63, NULL, 0, 0, 0, 9614},
	{0x3b, "\xc5\xb5", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 9616},
	{0x72, NULL, 0, 0, 0, 9617}, {0x3b, "\xf0\x9d\x93\x8c", 4, 0, 0, 0},
	{0x3b, "\xe2\x84\x98", 3, 0, 0, 0}, {0x66, NULL, 0, 9621, 9620, 9634},
	{0x70, NULL, 0, 9629, 9628, 9636}, {0x61, NULL, 0, 9623, 9622, 9640},
	{0x64, NULL, 0, 9627, 9626, 9736}, {0x42, NULL, 0, 9625, 9624, 9740},
	{0x44, NULL, 0, 0, 0, 9745}, {0x41, NULL, 0, 0, 0, 9749},
	{0x65, NULL, 0, 0, 0, 9752}, {0x63, NULL, 0, 0, 0, 9773},
	{0x73, NULL, 0, 9633, 9632, 9775}, {0x6e, NULL, 0, 9631, 9630, 9791},
	{0x6f, NULL, 0, 0, 0, 9797}, {0x6c, NULL, 0, 0, 0, 9800},
	{0x7a, NULL, 0, 0, 0, 9804}, {0x72, NULL, 0, 0, 0, 9810},
	{0x72, NULL, 0, 0, 0, 9635}, {0x3b, "\xf0\x9d\x94\xb3", 4, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 9637}, {0x6f, NULL, 0, 0, 0, 9638},
	{0x70, NULL, 0, 0, 0, 9639}, {0x3b, "\xe2\x88\x9d", 3, 0, 0, 0},
	{0x72, NULL, 0, 9641, 0, 9642}, {0x6e, NULL, 0, 0, 0, 9732},
	{0x70, NULL, 0, 9644, 9643, 9649}, {0x73, NULL, 0, 9648, 9647, 9660},
	{0x6b, NULL, 0, 9646, 9645, 9686}, {0x6e, NULL, 0, 0, 0, 9691},
	{0x65, NULL, 0, 0, 0, 9698}, {0x74, NULL, 0, 0, 0, 9705},
	{0x72, NULL, 0, 0, 0, 9728}, {0x69, NULL, 0, 9651, 9650, 9652},
	{0x72, NULL, 0, 0, 0, 9653}, {0x68, NULL, 0, 0, 0, 9658},
	{0x3b, "\xcf\x96", 2, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 9654},
	{0x70, NULL, 0, 0, 0, 9655}, {0x74, NULL, 0, 0, 0, 9656},
	{0x6f, NULL, 0, 0, 0, 9657}, {0x3b, "\xe2\x88\x9d", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 9659}, {0x3b, "\xcf\x95", 2, 0, 0, 0},
	{0x75, NULL, 0, 9661, 0, 9662}, {0x69, NULL, 0, 0, 0, 9682},
	{0x70, NULL, 0, 9663, 0, 9664}, {0x62, NULL, 0, 0, 0, 9673},
	{0x73, NULL, 0, 0, 0, 9665}, {0x65, NULL, 0, 0, 0, 9666},
	{0x74, NULL, 0, 0, 0, 9667}, {0x6e, NULL, 0, 0, 0, 9668},
	{0x65, NULL, 0, 0, 0, 9669}, {0x71, NULL, 0, 0, 0, 9670},
	{0x71, NULL, 0, 9671, 0, 9672}, {0x3b, "\xe2\x8a\x8b\xef\xb8\x80", 6, 0, 0, 0},
	{0x3b, "\xe2\xab\x8c\xef\xb8\x80", 6, 0, 0, 0}, {0x73, NULL, 0, 0, 0, 9674},
	{0x65, NULL, 0, 0, 0, 9675}, {0x74, NULL, 0, 0, 0, 9676},
	{0x6e, NULL, 0, 0, 0, 9677}, {0x65, NULL, 0, 0, 0, 9678},
	{0x71, NULL, 0, 0, 0, 9679}, {0x71, NULL, 0, 9680, 0, 9681},
	{0x3b, "\xe2\x8a\x8a\xef\xb8\x80", 6, 0, 0, 0}, {0x3b, "\xe2\xab\x8b\xef\xb8\x80", 6, 0, 0, 0},
	{0x67, NULL, 0, 0, 0, 9683}, {0x6d, NULL, 0, 0, 0, 9684},
	{0x61, NULL, 0, 0, 0, 9685}, {0x3b, "\xcf\x82", 2, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 9687}, {0x70, NULL, 0, 0, 0, 9688},
	{0x70, NULL, 0, 0, 0, 9689}, {0x61, NULL, 0, 0, 0, 9690},
	{0x3b, "\xcf\xb0", 2, 0, 0, 0}, {0x6f, NULL, 0, 0, 0, 9692},
	{0x74, NULL, 0, 0, 0, 9693}, {0x68, NULL, 0, 0, 0, 9694},
	{0x69, NULL, 0, 0, 0, 9695}, {0x6e, NULL, 0, 0, 0, 9696},
	{0x67, NULL, 0, 0, 0, 9697}, {0x3b, "\xe2\x88\x85", 3, 0, 0, 0},
	{0x70, NULL, 0, 0, 0, 9699}, {0x73, NULL, 0, 0, 0, 9700},
	{0x69, NULL, 0, 0, 0, 9701}, {0x6c, NULL, 0, 0, 0, 9702},
	{0x6f, NULL, 0, 0, 0, 9703}, {0x6e, NULL, 0, 0, 0, 9704},
	{0x3b, "\xcf\xb5", 2, 0, 0, 0}, {0x72, NULL, 0, 9706, 0, 9707},
	{0x68, NULL, 0, 0, 0, 9724}, {0x69, NULL, 0, 0, 0, 9708},
	{0x61, NULL, 0, 0, 0, 9709}, {0x6e, NULL, 0, 0, 0, 9710},
	{0x67, NULL, 0, 0, 0, 9711}, {0x6c, NULL, 0, 0, 0, 9712},
	{0x65, NULL, 0, 0, 0, 9713}, {0x72, NULL, 0, 9714, 0, 9715},
	{0x6c, NULL, 0, 0, 0, 9720}, {0x69, NULL, 0, 0, 0, 9716},
	{0x67, NULL, 0, 0, 0, 9717}, {0x68, NULL, 0, 0, 0, 9718},
	{0x74, NULL, 0, 0, 0, 9719}, {0x3b, "\xe2\x8a\xb3", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 9721}, {0x66, NULL, 0, 0, 0, 9722},
	{0x74, NULL, 0, 0, 0, 9723}, {0x3b, "\xe2\x8a\xb2", 3, 0, 0, 0},
	{0x65, NULL, 0, 0, 0, 9725}, {0x74, NULL, 0, 0, 0, 9726},
	{0x61, NULL, 0, 0, 0, 9727}, {0x3b, "\xcf\x91", 2, 0, 0, 0},
	{0x68, NULL, 0, 9729, 0, 9730}, {0x3b, "\xe2\x86\x95", 3, 0, 0, 0},
	{0x6f, NULL, 0, 0, 0, 9731}, {0x3b, "\xcf\xb1", 2, 0, 0, 0},
	{0x67, NULL, 0, 0, 0, 9733}, {0x72, NULL, 0, 0, 0, 9734},
	{0x74, NULL, 0, 0, 0, 9735}, {0x3b, "\xe2\xa6\x9c", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 9737}, {0x73, NULL, 0, 0, 0, 9738},
	{0x68, NULL, 0, 0, 0, 9739}, {0x3b, "\xe2\x8a\xa2", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 9741}, {0x72, NULL, 0, 0, 0, 9742},
	{0x76, NULL, 0, 9743, 0, 9744}, {0x3b, "\xe2\xab\xa8", 3, 0, 0, 0},
	{0x3b, "\xe2\xab\xa9", 3, 0, 0, 0}, {0x61, NULL, 0, 0, 0, 9746},
	{0x73, NULL, 0, 0, 0, 9747}, {0x68, NULL, 0, 0, 0, 9748},
	{0x3b, "\xe2\x8a\xa8", 3, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 9750},
	{0x72, NULL, 0, 0, 0, 9751}, {0x3b, "\xe2\x87\x95", 3, 0, 0, 0},
	{0x6c, NULL, 0, 9754, 9753, 9755}, {0x72, NULL, 0, 0, 0, 9759},
	{0x65, NULL, 0, 0, 0, 9765}, {0x6c, NULL, 0, 0, 0, 9756},
	{0x69, NULL, 0, 0, 0, 9757}, {0x70, NULL, 0, 0, 0, 9758},
	{0x3b, "\xe2\x8b\xae", 3, 0, 0, 0}, {0x74, NULL, 0, 9760, 0, 9761},
	{0x62, NULL, 0, 0, 0, 9762}, {0x3b, "\x7c", 1, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 9763}, {0x72, NULL, 0, 0, 0, 9764},
	{0x3b, "\x7c", 1, 0, 0, 0}, {0x62, NULL, 0, 9767, 9766, 9768},
	{0x65, NULL, 0, 0, 0, 9771}, {0x3b, "\xe2\x88\xa8", 3, 0, 0, 0},
	{0x61, NULL, 0, 0, 0, 9769}, {0x72, NULL, 0, 0, 0, 9770},
	{0x3b, "\xe2\x8a\xbb", 3, 0, 0, 0}, {0x71, NULL, 0, 0, 0, 9772},
	{0x3b, "\xe2\x89\x9a", 3, 0, 0, 0}, {0x79, NULL, 0, 0, 0, 9774},
	{0x3b, "\xd0\xb2", 2, 0, 0, 0}, {0x75, NULL, 0, 9776, 0, 9777},
	{0x63, NULL, 0, 0, 0, 9789}, {0x70, NULL, 0, 9778, 0, 9779},
	{0x62, NULL, 0, 0, 0, 9784}, {0x6e, NULL, 0, 0, 0, 9780},
	{0x65, NULL, 0, 9781, 0, 9782}, {0x45, NULL, 0, 0, 0, 9783},
	{0x3b, "\xe2\x8a\x8b\xef\xb8\x80", 6, 0, 0, 0}, {0x3b, "\xe2\xab\x8c\xef\xb8\x80", 6, 0, 0, 0},
	{0x6e, NULL, 0, 0, 0, 9785}, {0x65, NULL, 0, 9786, 0, 9787},
	{0x45, NULL, 0, 0, 0, 9788}, {0x3b, "\xe2\x8a\x8a\xef\xb8\x80", 6, 0, 0, 0},
	{0x3b, "\xe2\xab\x8b\xef\xb8\x80", 6, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 9790},
	{0x3b, "\xf0\x9d\x93\x8b", 4, 0, 0, 0}, {0x73, NULL, 0, 0, 0, 9792},
	{0x75, NULL, 0, 0, 0, 9793}, {0x70, NULL, 0, 9794, 0, 9795},
	{0x62, NULL, 0, 0, 0, 9796}, {0x3b, "\xe2\x8a\x83\xe2\x83\x92", 6, 0, 0, 0},
	{0x3b, "\xe2\x8a\x82\xe2\x83\x92", 6, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 9798},
	{0x66, NULL, 0, 0, 0, 9799}, {0x3b, "\xf0\x9d\x95\xa7", 4, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 9801}, {0x72, NULL, 0, 0, 0, 9802},
	{0x69, NULL, 0, 0, 0, 9803}, {0x3b, "\xe2\x8a\xb2", 3, 0, 0, 0},
	{0x69, NULL, 0, 0, 0, 9805}, {0x67, NULL, 0, 0, 0, 9806},
	{0x7a, NULL, 0, 0, 0, 9807}, {0x61, NULL, 0, 0, 0, 9808},
	{0x67, NULL, 0, 0, 0, 9809}, {0x3b, "\xe2\xa6\x9a", 3, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 9811}, {0x72, NULL, 0, 0, 0, 9812},
	{0x69, NULL, 0, 0, 0, 9813}, {0x3b, "\xe2\x8a\xb3", 3, 0, 0, 0},
	{0x69, NULL, 0, 9816, 9815, 9822}, {0x73, NULL, 0, 9821, 9820, 9825},
	{0x65, NULL, 0, 9818, 9817, 9828}, {0x66, NULL, 0, 0, 0, 9830},
	{0x63, NULL, 0, 9819, 0, 9832}, {0x61, NULL, 0, 0, 0, 9838},
	{0x75, NULL, 0, 0, 0, 9845}, {0x6f, NULL, 0, 0, 0, 9851},
	{0x63, NULL, 0, 0, 0, 9823}, {0x79, NULL, 0, 0, 0, 9824},
	{0x3b, "\xd1\x97", 2, 0, 0, 0}, {0x63, NULL, 0, 0, 0, 9826},
	{0x72, NULL, 0, 0, 0, 9827}, {0x3b, "\xf0\x9d\x93\x8e", 4, 0, 0, 0},
	{0x6e, "\xc2\xa5", 2, 0, 0, 9829}, {0x3b, "\xc2\xa5", 2, 0, 0, 0},
	{0x72, NULL, 0, 0, 0, 9831}, {0x3b, "\xf0\x9d\x94\xb6", 4, 0, 0, 0},
	{0x79, NULL, 0, 9833, 0, 9834}, {0x69, NULL, 0, 0, 0, 9835},
	{0x3b, "\xd1\x8b", 2, 0, 0, 0}, {0x72, NULL, 0, 0, 0, 9836},
	{0x63, NULL, 0, 0, 0, 9837}, {0x3b, "\xc5\xb7", 2, 0, 0, 0},
	{0x63, NULL, 0, 0, 0, 9839}, {0x79, NULL, 0, 9840, 0, 9841},
	{0x75, NULL, 0, 0, 0, 9842}, {0x3b, "\xd1\x8f", 2, 0, 0, 0},
	{0x74, NULL, 0, 0, 0, 9843}, {0x65, "\xc3\xbd", 2, 0, 0, 9844},
	{0x3b, "\xc3\xbd", 2, 0, 0, 0}, {0x6d, NULL, 0, 9846, 0, 9847},
	{0x63, NULL, 0, 0, 0, 9849}, {0x6c, "\xc3\xbf", 2, 0, 0, 9848},
	{0x3b, "\xc3\xbf", 2, 0, 0, 0}, {0x79, NULL, 0, 0, 0, 9850},
	{0x3b, "\xd1\x8e", 2, 0, 0, 0}, {0x70, NULL, 0, 0, 0, 9852},
	{0x66, NULL, 0, 0, 0, 9853}, {0x3b, "\xf0\x9d\x95\xaa", 4, 0, 0, 0}
};


#endif /* LXB_HTML_TOKENIZER_RES */

/* Resource: html/tree_res.h */

typedef struct {
    const char *from;
    const char *to;
    size_t     len;
}
lxb_html_tree_res_attr_adjust_t;

typedef struct {
    const char       *name;
    const char       *prefix;
    const char       *local_name;

    size_t           name_len;
    size_t           prefix_len;

    lxb_ns_id_t      ns;
}
lxb_html_tree_res_attr_adjust_foreign_t;


static const lxb_html_tree_res_attr_adjust_t
lxb_html_tree_res_attr_adjust_svg_map[] =
{
    {"attributename", "attributeName", 13},
    {"attributetype", "attributeType", 13},
    {"basefrequency", "baseFrequency", 13},
    {"baseprofile", "baseProfile", 11},
    {"calcmode", "calcMode", 8},
    {"clippathunits", "clipPathUnits", 13},
    {"diffuseconstant", "diffuseConstant", 15},
    {"edgemode", "edgeMode", 8},
    {"filterunits", "filterUnits", 11},
    {"glyphref", "glyphRef", 8},
    {"gradienttransform", "gradientTransform", 17},
    {"gradientunits", "gradientUnits", 13},
    {"kernelmatrix", "kernelMatrix", 12},
    {"kernelunitlength", "kernelUnitLength", 16},
    {"keypoints", "keyPoints", 9},
    {"keysplines", "keySplines", 10},
    {"keytimes", "keyTimes", 8},
    {"lengthadjust", "lengthAdjust", 12},
    {"limitingconeangle", "limitingConeAngle", 17},
    {"markerheight", "markerHeight", 12},
    {"markerunits", "markerUnits", 11},
    {"markerwidth", "markerWidth", 11},
    {"maskcontentunits", "maskContentUnits", 16},
    {"maskunits", "maskUnits", 9},
    {"numoctaves", "numOctaves", 10},
    {"pathlength", "pathLength", 10},
    {"patterncontentunits", "patternContentUnits", 19},
    {"patterntransform", "patternTransform", 16},
    {"patternunits", "patternUnits", 12},
    {"pointsatx", "pointsAtX", 9},
    {"pointsaty", "pointsAtY", 9},
    {"pointsatz", "pointsAtZ", 9},
    {"preservealpha", "preserveAlpha", 13},
    {"preserveaspectratio", "preserveAspectRatio", 19},
    {"primitiveunits", "primitiveUnits", 14},
    {"refx", "refX", 4},
    {"refy", "refY", 4},
    {"repeatcount", "repeatCount", 11},
    {"repeatdur", "repeatDur", 9},
    {"requiredextensions", "requiredExtensions", 18},
    {"requiredfeatures", "requiredFeatures", 16},
    {"specularconstant", "specularConstant", 16},
    {"specularexponent", "specularExponent", 16},
    {"spreadmethod", "spreadMethod", 12},
    {"startoffset", "startOffset", 11},
    {"stddeviation", "stdDeviation", 12},
    {"stitchtiles", "stitchTiles", 11},
    {"surfacescale", "surfaceScale", 12},
    {"systemlanguage", "systemLanguage", 14},
    {"tablevalues", "tableValues", 11},
    {"targetx", "targetX", 7},
    {"targety", "targetY", 7},
    {"textlength", "textLength", 10},
    {"viewbox", "viewBox", 7},
    {"viewtarget", "viewTarget", 10},
    {"xchannelselector", "xChannelSelector", 16},
    {"ychannelselector", "yChannelSelector", 16},
    {"zoomandpan", "zoomAndPan", 10},
};

static const lxb_html_tree_res_attr_adjust_foreign_t
lxb_html_tree_res_attr_adjust_foreign_map[] =
{
    {"xlink:actuate", "xlink", "actuate", 13, 5, LXB_NS_XLINK},
    {"xlink:arcrole", "xlink", "arcrole", 13, 5, LXB_NS_XLINK},
    {"xlink:href", "xlink", "href", 10, 5, LXB_NS_XLINK},
    {"xlink:role", "xlink", "role", 10, 5, LXB_NS_XLINK},
    {"xlink:show", "xlink", "show", 10, 5, LXB_NS_XLINK},
    {"xlink:title", "xlink", "title", 11, 5, LXB_NS_XLINK},
    {"xlink:type", "xlink", "type", 10, 5, LXB_NS_XLINK},
    {"xml:lang", "xml", "lang", 8, 3, LXB_NS_XML},
    {"xml:space", "xml", "space", 9, 3, LXB_NS_XML},
    {"xmlns", "", "xmlns", 5, 0, LXB_NS_XMLNS},
    {"xmlns:xlink", "xmlns", "xlink", 11, 5, LXB_NS_XMLNS}
};

/* Resource: ns/res.h */

#ifndef LXB_NS_RES_H
#define LXB_NS_RES_H

#endif /* LXB_NS_RES_H */


#ifdef LXB_NS_CONST_VERSION
#ifndef LXB_NS_CONST_VERSION_253D4AFDA959234B48A478B956C3C777
#error Mismatched namespaces version! See "lexbor/ns/const.h".
#endif /* LXB_NS_CONST_VERSION_253D4AFDA959234B48A478B956C3C777 */
#else
#error You need to include "lexbor/ns/const.h".
#endif /* LXB_NS_CONST_VERSION */


static const lxb_ns_data_t lxb_ns_res_data[LXB_NS__LAST_ENTRY] =
{
    {{.u.short_str = "", .length = 0, .next = NULL}, LXB_NS__UNDEF, 1, true},
    {{.u.short_str = "", .length = 0, .next = NULL}, LXB_NS__ANY, 1, true},
    {{.u.long_str = (lxb_char_t *) "http://www.w3.org/1999/xhtml", .length = 28, .next = NULL}, LXB_NS_HTML, 1, true},
    {{.u.long_str = (lxb_char_t *) "http://www.w3.org/1998/Math/MathML", .length = 34, .next = NULL}, LXB_NS_MATH, 1, true},
    {{.u.long_str = (lxb_char_t *) "http://www.w3.org/2000/svg", .length = 26, .next = NULL}, LXB_NS_SVG, 1, true},
    {{.u.long_str = (lxb_char_t *) "http://www.w3.org/1999/xlink", .length = 28, .next = NULL}, LXB_NS_XLINK, 1, true},
    {{.u.long_str = (lxb_char_t *) "http://www.w3.org/XML/1998/namespace", .length = 36, .next = NULL}, LXB_NS_XML, 1, true},
    {{.u.long_str = (lxb_char_t *) "http://www.w3.org/2000/xmlns/", .length = 29, .next = NULL}, LXB_NS_XMLNS, 1, true}
};

static const lxb_ns_prefix_data_t lxb_ns_prefix_res_data[LXB_NS__LAST_ENTRY] =
{
    {{.u.short_str = "#undef", .length = 6, .next = NULL}, LXB_NS__UNDEF, 1, true},
    {{.u.short_str = "#any", .length = 4, .next = NULL}, LXB_NS__ANY, 1, true},
    {{.u.short_str = "html", .length = 4, .next = NULL}, LXB_NS_HTML, 1, true},
    {{.u.short_str = "math", .length = 4, .next = NULL}, LXB_NS_MATH, 1, true},
    {{.u.short_str = "svg", .length = 3, .next = NULL}, LXB_NS_SVG, 1, true},
    {{.u.short_str = "xlink", .length = 5, .next = NULL}, LXB_NS_XLINK, 1, true},
    {{.u.short_str = "xml", .length = 3, .next = NULL}, LXB_NS_XML, 1, true},
    {{.u.short_str = "xmlns", .length = 5, .next = NULL}, LXB_NS_XMLNS, 1, true}
};

static const lexbor_shs_entry_t lxb_ns_res_shs_data[29] =
{
    {NULL, NULL, 28, 0}, {"html", (void *) &lxb_ns_prefix_res_data[2], 4, 0},
    {"xmlns", (void *) &lxb_ns_prefix_res_data[7], 5, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"svg", (void *) &lxb_ns_prefix_res_data[4], 3, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"math", (void *) &lxb_ns_prefix_res_data[3], 4, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"#undef", (void *) &lxb_ns_prefix_res_data[0], 6, 0},
    {"xlink", (void *) &lxb_ns_prefix_res_data[5], 5, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"#any", (void *) &lxb_ns_prefix_res_data[1], 4, 0}, {NULL, NULL, 0, 0},
    {"xml", (void *) &lxb_ns_prefix_res_data[6], 3, 0}
};

static const lexbor_shs_entry_t lxb_ns_res_shs_link_data[23] =
{
    {NULL, NULL, 22, 0},
    {"http://www.w3.org/1999/xhtml", (void *) &lxb_ns_res_data[2], 28, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"http://www.w3.org/2000/xmlns/", (void *) &lxb_ns_res_data[7], 29, 0},
    {"http://www.w3.org/1998/math/mathml", (void *) &lxb_ns_res_data[3], 34, 0},
    {NULL, NULL, 0, 0},
    {"http://www.w3.org/1999/xlink", (void *) &lxb_ns_res_data[5], 28, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0},
    {"#any", (void *) &lxb_ns_res_data[1], 4, 0},
    {"http://www.w3.org/2000/svg", (void *) &lxb_ns_res_data[4], 26, 0},
    {NULL, NULL, 0, 0},
    {"#undef", (void *) &lxb_ns_res_data[0], 6, 0},
    {NULL, NULL, 0, 0},
    {"http://www.w3.org/xml/1998/namespace", (void *) &lxb_ns_res_data[6], 36, 0},
    {NULL, NULL, 0, 0}
};

/* Resource: tag/res.h */

#ifndef LXB_TAG_RES_H
#define LXB_TAG_RES_H

#endif /* LXB_TAG_RES_H */

#ifdef LXB_TAG_CONST_VERSION
#ifndef LXB_TAG_CONST_VERSION_A53A182A4948BBFD2F227CE07EF1977D
#error Mismatched tags version! See "lexbor/tag/const.h".
#endif /* LXB_TAG_CONST_VERSION_A53A182A4948BBFD2F227CE07EF1977D */
#else
#error You need to include "lexbor/tag/const.h".
#endif /* LXB_TAG_CONST_VERSION */

static const lxb_tag_data_t lxb_tag_res_data_default[LXB_TAG__LAST_ENTRY] =
{
    {{.u.short_str = "#undef", .length = 6, .next = NULL}, LXB_TAG__UNDEF, 1, true},
    {{.u.short_str = "#end-of-file", .length = 12, .next = NULL}, LXB_TAG__END_OF_FILE, 1, true},
    {{.u.short_str = "#text", .length = 5, .next = NULL}, LXB_TAG__TEXT, 1, true},
    {{.u.short_str = "#document", .length = 9, .next = NULL}, LXB_TAG__DOCUMENT, 1, true},
    {{.u.short_str = "!--", .length = 3, .next = NULL}, LXB_TAG__EM_COMMENT, 1, true},
    {{.u.short_str = "!doctype", .length = 8, .next = NULL}, LXB_TAG__EM_DOCTYPE, 1, true},
    {{.u.short_str = "a", .length = 1, .next = NULL}, LXB_TAG_A, 1, true},
    {{.u.short_str = "abbr", .length = 4, .next = NULL}, LXB_TAG_ABBR, 1, true},
    {{.u.short_str = "acronym", .length = 7, .next = NULL}, LXB_TAG_ACRONYM, 1, true},
    {{.u.short_str = "address", .length = 7, .next = NULL}, LXB_TAG_ADDRESS, 1, true},
    {{.u.short_str = "altglyph", .length = 8, .next = NULL}, LXB_TAG_ALTGLYPH, 1, true},
    {{.u.short_str = "altglyphdef", .length = 11, .next = NULL}, LXB_TAG_ALTGLYPHDEF, 1, true},
    {{.u.short_str = "altglyphitem", .length = 12, .next = NULL}, LXB_TAG_ALTGLYPHITEM, 1, true},
    {{.u.short_str = "animatecolor", .length = 12, .next = NULL}, LXB_TAG_ANIMATECOLOR, 1, true},
    {{.u.short_str = "animatemotion", .length = 13, .next = NULL}, LXB_TAG_ANIMATEMOTION, 1, true},
    {{.u.short_str = "animatetransform", .length = 16, .next = NULL}, LXB_TAG_ANIMATETRANSFORM, 1, true},
    {{.u.short_str = "annotation-xml", .length = 14, .next = NULL}, LXB_TAG_ANNOTATION_XML, 1, true},
    {{.u.short_str = "applet", .length = 6, .next = NULL}, LXB_TAG_APPLET, 1, true},
    {{.u.short_str = "area", .length = 4, .next = NULL}, LXB_TAG_AREA, 1, true},
    {{.u.short_str = "article", .length = 7, .next = NULL}, LXB_TAG_ARTICLE, 1, true},
    {{.u.short_str = "aside", .length = 5, .next = NULL}, LXB_TAG_ASIDE, 1, true},
    {{.u.short_str = "audio", .length = 5, .next = NULL}, LXB_TAG_AUDIO, 1, true},
    {{.u.short_str = "b", .length = 1, .next = NULL}, LXB_TAG_B, 1, true},
    {{.u.short_str = "base", .length = 4, .next = NULL}, LXB_TAG_BASE, 1, true},
    {{.u.short_str = "basefont", .length = 8, .next = NULL}, LXB_TAG_BASEFONT, 1, true},
    {{.u.short_str = "bdi", .length = 3, .next = NULL}, LXB_TAG_BDI, 1, true},
    {{.u.short_str = "bdo", .length = 3, .next = NULL}, LXB_TAG_BDO, 1, true},
    {{.u.short_str = "bgsound", .length = 7, .next = NULL}, LXB_TAG_BGSOUND, 1, true},
    {{.u.short_str = "big", .length = 3, .next = NULL}, LXB_TAG_BIG, 1, true},
    {{.u.short_str = "blink", .length = 5, .next = NULL}, LXB_TAG_BLINK, 1, true},
    {{.u.short_str = "blockquote", .length = 10, .next = NULL}, LXB_TAG_BLOCKQUOTE, 1, true},
    {{.u.short_str = "body", .length = 4, .next = NULL}, LXB_TAG_BODY, 1, true},
    {{.u.short_str = "br", .length = 2, .next = NULL}, LXB_TAG_BR, 1, true},
    {{.u.short_str = "button", .length = 6, .next = NULL}, LXB_TAG_BUTTON, 1, true},
    {{.u.short_str = "canvas", .length = 6, .next = NULL}, LXB_TAG_CANVAS, 1, true},
    {{.u.short_str = "caption", .length = 7, .next = NULL}, LXB_TAG_CAPTION, 1, true},
    {{.u.short_str = "center", .length = 6, .next = NULL}, LXB_TAG_CENTER, 1, true},
    {{.u.short_str = "cite", .length = 4, .next = NULL}, LXB_TAG_CITE, 1, true},
    {{.u.short_str = "clippath", .length = 8, .next = NULL}, LXB_TAG_CLIPPATH, 1, true},
    {{.u.short_str = "code", .length = 4, .next = NULL}, LXB_TAG_CODE, 1, true},
    {{.u.short_str = "col", .length = 3, .next = NULL}, LXB_TAG_COL, 1, true},
    {{.u.short_str = "colgroup", .length = 8, .next = NULL}, LXB_TAG_COLGROUP, 1, true},
    {{.u.short_str = "data", .length = 4, .next = NULL}, LXB_TAG_DATA, 1, true},
    {{.u.short_str = "datalist", .length = 8, .next = NULL}, LXB_TAG_DATALIST, 1, true},
    {{.u.short_str = "dd", .length = 2, .next = NULL}, LXB_TAG_DD, 1, true},
    {{.u.short_str = "del", .length = 3, .next = NULL}, LXB_TAG_DEL, 1, true},
    {{.u.short_str = "desc", .length = 4, .next = NULL}, LXB_TAG_DESC, 1, true},
    {{.u.short_str = "details", .length = 7, .next = NULL}, LXB_TAG_DETAILS, 1, true},
    {{.u.short_str = "dfn", .length = 3, .next = NULL}, LXB_TAG_DFN, 1, true},
    {{.u.short_str = "dialog", .length = 6, .next = NULL}, LXB_TAG_DIALOG, 1, true},
    {{.u.short_str = "dir", .length = 3, .next = NULL}, LXB_TAG_DIR, 1, true},
    {{.u.short_str = "div", .length = 3, .next = NULL}, LXB_TAG_DIV, 1, true},
    {{.u.short_str = "dl", .length = 2, .next = NULL}, LXB_TAG_DL, 1, true},
    {{.u.short_str = "dt", .length = 2, .next = NULL}, LXB_TAG_DT, 1, true},
    {{.u.short_str = "em", .length = 2, .next = NULL}, LXB_TAG_EM, 1, true},
    {{.u.short_str = "embed", .length = 5, .next = NULL}, LXB_TAG_EMBED, 1, true},
    {{.u.short_str = "feblend", .length = 7, .next = NULL}, LXB_TAG_FEBLEND, 1, true},
    {{.u.short_str = "fecolormatrix", .length = 13, .next = NULL}, LXB_TAG_FECOLORMATRIX, 1, true},
    {{.u.long_str = (lxb_char_t *) "fecomponenttransfer", .length = 19, .next = NULL}, LXB_TAG_FECOMPONENTTRANSFER, 1, true},
    {{.u.short_str = "fecomposite", .length = 11, .next = NULL}, LXB_TAG_FECOMPOSITE, 1, true},
    {{.u.short_str = "feconvolvematrix", .length = 16, .next = NULL}, LXB_TAG_FECONVOLVEMATRIX, 1, true},
    {{.u.long_str = (lxb_char_t *) "fediffuselighting", .length = 17, .next = NULL}, LXB_TAG_FEDIFFUSELIGHTING, 1, true},
    {{.u.long_str = (lxb_char_t *) "fedisplacementmap", .length = 17, .next = NULL}, LXB_TAG_FEDISPLACEMENTMAP, 1, true},
    {{.u.short_str = "fedistantlight", .length = 14, .next = NULL}, LXB_TAG_FEDISTANTLIGHT, 1, true},
    {{.u.short_str = "fedropshadow", .length = 12, .next = NULL}, LXB_TAG_FEDROPSHADOW, 1, true},
    {{.u.short_str = "feflood", .length = 7, .next = NULL}, LXB_TAG_FEFLOOD, 1, true},
    {{.u.short_str = "fefunca", .length = 7, .next = NULL}, LXB_TAG_FEFUNCA, 1, true},
    {{.u.short_str = "fefuncb", .length = 7, .next = NULL}, LXB_TAG_FEFUNCB, 1, true},
    {{.u.short_str = "fefuncg", .length = 7, .next = NULL}, LXB_TAG_FEFUNCG, 1, true},
    {{.u.short_str = "fefuncr", .length = 7, .next = NULL}, LXB_TAG_FEFUNCR, 1, true},
    {{.u.short_str = "fegaussianblur", .length = 14, .next = NULL}, LXB_TAG_FEGAUSSIANBLUR, 1, true},
    {{.u.short_str = "feimage", .length = 7, .next = NULL}, LXB_TAG_FEIMAGE, 1, true},
    {{.u.short_str = "femerge", .length = 7, .next = NULL}, LXB_TAG_FEMERGE, 1, true},
    {{.u.short_str = "femergenode", .length = 11, .next = NULL}, LXB_TAG_FEMERGENODE, 1, true},
    {{.u.short_str = "femorphology", .length = 12, .next = NULL}, LXB_TAG_FEMORPHOLOGY, 1, true},
    {{.u.short_str = "feoffset", .length = 8, .next = NULL}, LXB_TAG_FEOFFSET, 1, true},
    {{.u.short_str = "fepointlight", .length = 12, .next = NULL}, LXB_TAG_FEPOINTLIGHT, 1, true},
    {{.u.long_str = (lxb_char_t *) "fespecularlighting", .length = 18, .next = NULL}, LXB_TAG_FESPECULARLIGHTING, 1, true},
    {{.u.short_str = "fespotlight", .length = 11, .next = NULL}, LXB_TAG_FESPOTLIGHT, 1, true},
    {{.u.short_str = "fetile", .length = 6, .next = NULL}, LXB_TAG_FETILE, 1, true},
    {{.u.short_str = "feturbulence", .length = 12, .next = NULL}, LXB_TAG_FETURBULENCE, 1, true},
    {{.u.short_str = "fieldset", .length = 8, .next = NULL}, LXB_TAG_FIELDSET, 1, true},
    {{.u.short_str = "figcaption", .length = 10, .next = NULL}, LXB_TAG_FIGCAPTION, 1, true},
    {{.u.short_str = "figure", .length = 6, .next = NULL}, LXB_TAG_FIGURE, 1, true},
    {{.u.short_str = "font", .length = 4, .next = NULL}, LXB_TAG_FONT, 1, true},
    {{.u.short_str = "footer", .length = 6, .next = NULL}, LXB_TAG_FOOTER, 1, true},
    {{.u.short_str = "foreignobject", .length = 13, .next = NULL}, LXB_TAG_FOREIGNOBJECT, 1, true},
    {{.u.short_str = "form", .length = 4, .next = NULL}, LXB_TAG_FORM, 1, true},
    {{.u.short_str = "frame", .length = 5, .next = NULL}, LXB_TAG_FRAME, 1, true},
    {{.u.short_str = "frameset", .length = 8, .next = NULL}, LXB_TAG_FRAMESET, 1, true},
    {{.u.short_str = "glyphref", .length = 8, .next = NULL}, LXB_TAG_GLYPHREF, 1, true},
    {{.u.short_str = "h1", .length = 2, .next = NULL}, LXB_TAG_H1, 1, true},
    {{.u.short_str = "h2", .length = 2, .next = NULL}, LXB_TAG_H2, 1, true},
    {{.u.short_str = "h3", .length = 2, .next = NULL}, LXB_TAG_H3, 1, true},
    {{.u.short_str = "h4", .length = 2, .next = NULL}, LXB_TAG_H4, 1, true},
    {{.u.short_str = "h5", .length = 2, .next = NULL}, LXB_TAG_H5, 1, true},
    {{.u.short_str = "h6", .length = 2, .next = NULL}, LXB_TAG_H6, 1, true},
    {{.u.short_str = "head", .length = 4, .next = NULL}, LXB_TAG_HEAD, 1, true},
    {{.u.short_str = "header", .length = 6, .next = NULL}, LXB_TAG_HEADER, 1, true},
    {{.u.short_str = "hgroup", .length = 6, .next = NULL}, LXB_TAG_HGROUP, 1, true},
    {{.u.short_str = "hr", .length = 2, .next = NULL}, LXB_TAG_HR, 1, true},
    {{.u.short_str = "html", .length = 4, .next = NULL}, LXB_TAG_HTML, 1, true},
    {{.u.short_str = "i", .length = 1, .next = NULL}, LXB_TAG_I, 1, true},
    {{.u.short_str = "iframe", .length = 6, .next = NULL}, LXB_TAG_IFRAME, 1, true},
    {{.u.short_str = "image", .length = 5, .next = NULL}, LXB_TAG_IMAGE, 1, true},
    {{.u.short_str = "img", .length = 3, .next = NULL}, LXB_TAG_IMG, 1, true},
    {{.u.short_str = "input", .length = 5, .next = NULL}, LXB_TAG_INPUT, 1, true},
    {{.u.short_str = "ins", .length = 3, .next = NULL}, LXB_TAG_INS, 1, true},
    {{.u.short_str = "isindex", .length = 7, .next = NULL}, LXB_TAG_ISINDEX, 1, true},
    {{.u.short_str = "kbd", .length = 3, .next = NULL}, LXB_TAG_KBD, 1, true},
    {{.u.short_str = "keygen", .length = 6, .next = NULL}, LXB_TAG_KEYGEN, 1, true},
    {{.u.short_str = "label", .length = 5, .next = NULL}, LXB_TAG_LABEL, 1, true},
    {{.u.short_str = "legend", .length = 6, .next = NULL}, LXB_TAG_LEGEND, 1, true},
    {{.u.short_str = "li", .length = 2, .next = NULL}, LXB_TAG_LI, 1, true},
    {{.u.short_str = "lineargradient", .length = 14, .next = NULL}, LXB_TAG_LINEARGRADIENT, 1, true},
    {{.u.short_str = "link", .length = 4, .next = NULL}, LXB_TAG_LINK, 1, true},
    {{.u.short_str = "listing", .length = 7, .next = NULL}, LXB_TAG_LISTING, 1, true},
    {{.u.short_str = "main", .length = 4, .next = NULL}, LXB_TAG_MAIN, 1, true},
    {{.u.short_str = "malignmark", .length = 10, .next = NULL}, LXB_TAG_MALIGNMARK, 1, true},
    {{.u.short_str = "map", .length = 3, .next = NULL}, LXB_TAG_MAP, 1, true},
    {{.u.short_str = "mark", .length = 4, .next = NULL}, LXB_TAG_MARK, 1, true},
    {{.u.short_str = "marquee", .length = 7, .next = NULL}, LXB_TAG_MARQUEE, 1, true},
    {{.u.short_str = "math", .length = 4, .next = NULL}, LXB_TAG_MATH, 1, true},
    {{.u.short_str = "menu", .length = 4, .next = NULL}, LXB_TAG_MENU, 1, true},
    {{.u.short_str = "meta", .length = 4, .next = NULL}, LXB_TAG_META, 1, true},
    {{.u.short_str = "meter", .length = 5, .next = NULL}, LXB_TAG_METER, 1, true},
    {{.u.short_str = "mfenced", .length = 7, .next = NULL}, LXB_TAG_MFENCED, 1, true},
    {{.u.short_str = "mglyph", .length = 6, .next = NULL}, LXB_TAG_MGLYPH, 1, true},
    {{.u.short_str = "mi", .length = 2, .next = NULL}, LXB_TAG_MI, 1, true},
    {{.u.short_str = "mn", .length = 2, .next = NULL}, LXB_TAG_MN, 1, true},
    {{.u.short_str = "mo", .length = 2, .next = NULL}, LXB_TAG_MO, 1, true},
    {{.u.short_str = "ms", .length = 2, .next = NULL}, LXB_TAG_MS, 1, true},
    {{.u.short_str = "mtext", .length = 5, .next = NULL}, LXB_TAG_MTEXT, 1, true},
    {{.u.short_str = "multicol", .length = 8, .next = NULL}, LXB_TAG_MULTICOL, 1, true},
    {{.u.short_str = "nav", .length = 3, .next = NULL}, LXB_TAG_NAV, 1, true},
    {{.u.short_str = "nextid", .length = 6, .next = NULL}, LXB_TAG_NEXTID, 1, true},
    {{.u.short_str = "nobr", .length = 4, .next = NULL}, LXB_TAG_NOBR, 1, true},
    {{.u.short_str = "noembed", .length = 7, .next = NULL}, LXB_TAG_NOEMBED, 1, true},
    {{.u.short_str = "noframes", .length = 8, .next = NULL}, LXB_TAG_NOFRAMES, 1, true},
    {{.u.short_str = "noscript", .length = 8, .next = NULL}, LXB_TAG_NOSCRIPT, 1, true},
    {{.u.short_str = "object", .length = 6, .next = NULL}, LXB_TAG_OBJECT, 1, true},
    {{.u.short_str = "ol", .length = 2, .next = NULL}, LXB_TAG_OL, 1, true},
    {{.u.short_str = "optgroup", .length = 8, .next = NULL}, LXB_TAG_OPTGROUP, 1, true},
    {{.u.short_str = "option", .length = 6, .next = NULL}, LXB_TAG_OPTION, 1, true},
    {{.u.short_str = "output", .length = 6, .next = NULL}, LXB_TAG_OUTPUT, 1, true},
    {{.u.short_str = "p", .length = 1, .next = NULL}, LXB_TAG_P, 1, true},
    {{.u.short_str = "param", .length = 5, .next = NULL}, LXB_TAG_PARAM, 1, true},
    {{.u.short_str = "path", .length = 4, .next = NULL}, LXB_TAG_PATH, 1, true},
    {{.u.short_str = "picture", .length = 7, .next = NULL}, LXB_TAG_PICTURE, 1, true},
    {{.u.short_str = "plaintext", .length = 9, .next = NULL}, LXB_TAG_PLAINTEXT, 1, true},
    {{.u.short_str = "pre", .length = 3, .next = NULL}, LXB_TAG_PRE, 1, true},
    {{.u.short_str = "progress", .length = 8, .next = NULL}, LXB_TAG_PROGRESS, 1, true},
    {{.u.short_str = "q", .length = 1, .next = NULL}, LXB_TAG_Q, 1, true},
    {{.u.short_str = "radialgradient", .length = 14, .next = NULL}, LXB_TAG_RADIALGRADIENT, 1, true},
    {{.u.short_str = "rb", .length = 2, .next = NULL}, LXB_TAG_RB, 1, true},
    {{.u.short_str = "rp", .length = 2, .next = NULL}, LXB_TAG_RP, 1, true},
    {{.u.short_str = "rt", .length = 2, .next = NULL}, LXB_TAG_RT, 1, true},
    {{.u.short_str = "rtc", .length = 3, .next = NULL}, LXB_TAG_RTC, 1, true},
    {{.u.short_str = "ruby", .length = 4, .next = NULL}, LXB_TAG_RUBY, 1, true},
    {{.u.short_str = "s", .length = 1, .next = NULL}, LXB_TAG_S, 1, true},
    {{.u.short_str = "samp", .length = 4, .next = NULL}, LXB_TAG_SAMP, 1, true},
    {{.u.short_str = "script", .length = 6, .next = NULL}, LXB_TAG_SCRIPT, 1, true},
    {{.u.short_str = "search", .length = 6, .next = NULL}, LXB_TAG_SEARCH, 1, true},
    {{.u.short_str = "section", .length = 7, .next = NULL}, LXB_TAG_SECTION, 1, true},
    {{.u.short_str = "select", .length = 6, .next = NULL}, LXB_TAG_SELECT, 1, true},
    {{.u.short_str = "selectedcontent", .length = 15, .next = NULL}, LXB_TAG_SELECTEDCONTENT, 1, true},
    {{.u.short_str = "slot", .length = 4, .next = NULL}, LXB_TAG_SLOT, 1, true},
    {{.u.short_str = "small", .length = 5, .next = NULL}, LXB_TAG_SMALL, 1, true},
    {{.u.short_str = "source", .length = 6, .next = NULL}, LXB_TAG_SOURCE, 1, true},
    {{.u.short_str = "spacer", .length = 6, .next = NULL}, LXB_TAG_SPACER, 1, true},
    {{.u.short_str = "span", .length = 4, .next = NULL}, LXB_TAG_SPAN, 1, true},
    {{.u.short_str = "strike", .length = 6, .next = NULL}, LXB_TAG_STRIKE, 1, true},
    {{.u.short_str = "strong", .length = 6, .next = NULL}, LXB_TAG_STRONG, 1, true},
    {{.u.short_str = "style", .length = 5, .next = NULL}, LXB_TAG_STYLE, 1, true},
    {{.u.short_str = "sub", .length = 3, .next = NULL}, LXB_TAG_SUB, 1, true},
    {{.u.short_str = "summary", .length = 7, .next = NULL}, LXB_TAG_SUMMARY, 1, true},
    {{.u.short_str = "sup", .length = 3, .next = NULL}, LXB_TAG_SUP, 1, true},
    {{.u.short_str = "svg", .length = 3, .next = NULL}, LXB_TAG_SVG, 1, true},
    {{.u.short_str = "table", .length = 5, .next = NULL}, LXB_TAG_TABLE, 1, true},
    {{.u.short_str = "tbody", .length = 5, .next = NULL}, LXB_TAG_TBODY, 1, true},
    {{.u.short_str = "td", .length = 2, .next = NULL}, LXB_TAG_TD, 1, true},
    {{.u.short_str = "template", .length = 8, .next = NULL}, LXB_TAG_TEMPLATE, 1, true},
    {{.u.short_str = "textarea", .length = 8, .next = NULL}, LXB_TAG_TEXTAREA, 1, true},
    {{.u.short_str = "textpath", .length = 8, .next = NULL}, LXB_TAG_TEXTPATH, 1, true},
    {{.u.short_str = "tfoot", .length = 5, .next = NULL}, LXB_TAG_TFOOT, 1, true},
    {{.u.short_str = "th", .length = 2, .next = NULL}, LXB_TAG_TH, 1, true},
    {{.u.short_str = "thead", .length = 5, .next = NULL}, LXB_TAG_THEAD, 1, true},
    {{.u.short_str = "time", .length = 4, .next = NULL}, LXB_TAG_TIME, 1, true},
    {{.u.short_str = "title", .length = 5, .next = NULL}, LXB_TAG_TITLE, 1, true},
    {{.u.short_str = "tr", .length = 2, .next = NULL}, LXB_TAG_TR, 1, true},
    {{.u.short_str = "track", .length = 5, .next = NULL}, LXB_TAG_TRACK, 1, true},
    {{.u.short_str = "tt", .length = 2, .next = NULL}, LXB_TAG_TT, 1, true},
    {{.u.short_str = "u", .length = 1, .next = NULL}, LXB_TAG_U, 1, true},
    {{.u.short_str = "ul", .length = 2, .next = NULL}, LXB_TAG_UL, 1, true},
    {{.u.short_str = "var", .length = 3, .next = NULL}, LXB_TAG_VAR, 1, true},
    {{.u.short_str = "video", .length = 5, .next = NULL}, LXB_TAG_VIDEO, 1, true},
    {{.u.short_str = "wbr", .length = 3, .next = NULL}, LXB_TAG_WBR, 1, true},
    {{.u.short_str = "xmp", .length = 3, .next = NULL}, LXB_TAG_XMP, 1, true}
};

static const lxb_tag_data_t lxb_tag_res_data_upper_default[LXB_TAG__LAST_ENTRY] =
{
    {{.u.short_str = "#UNDEF", .length = 6, .next = NULL}, LXB_TAG__UNDEF, 1, true},
    {{.u.short_str = "#END-OF-FILE", .length = 12, .next = NULL}, LXB_TAG__END_OF_FILE, 1, true},
    {{.u.short_str = "#TEXT", .length = 5, .next = NULL}, LXB_TAG__TEXT, 1, true},
    {{.u.short_str = "#DOCUMENT", .length = 9, .next = NULL}, LXB_TAG__DOCUMENT, 1, true},
    {{.u.short_str = "!--", .length = 3, .next = NULL}, LXB_TAG__EM_COMMENT, 1, true},
    {{.u.short_str = "!DOCTYPE", .length = 8, .next = NULL}, LXB_TAG__EM_DOCTYPE, 1, true},
    {{.u.short_str = "A", .length = 1, .next = NULL}, LXB_TAG_A, 1, true},
    {{.u.short_str = "ABBR", .length = 4, .next = NULL}, LXB_TAG_ABBR, 1, true},
    {{.u.short_str = "ACRONYM", .length = 7, .next = NULL}, LXB_TAG_ACRONYM, 1, true},
    {{.u.short_str = "ADDRESS", .length = 7, .next = NULL}, LXB_TAG_ADDRESS, 1, true},
    {{.u.short_str = "ALTGLYPH", .length = 8, .next = NULL}, LXB_TAG_ALTGLYPH, 1, true},
    {{.u.short_str = "ALTGLYPHDEF", .length = 11, .next = NULL}, LXB_TAG_ALTGLYPHDEF, 1, true},
    {{.u.short_str = "ALTGLYPHITEM", .length = 12, .next = NULL}, LXB_TAG_ALTGLYPHITEM, 1, true},
    {{.u.short_str = "ANIMATECOLOR", .length = 12, .next = NULL}, LXB_TAG_ANIMATECOLOR, 1, true},
    {{.u.short_str = "ANIMATEMOTION", .length = 13, .next = NULL}, LXB_TAG_ANIMATEMOTION, 1, true},
    {{.u.short_str = "ANIMATETRANSFORM", .length = 16, .next = NULL}, LXB_TAG_ANIMATETRANSFORM, 1, true},
    {{.u.short_str = "ANNOTATION-XML", .length = 14, .next = NULL}, LXB_TAG_ANNOTATION_XML, 1, true},
    {{.u.short_str = "APPLET", .length = 6, .next = NULL}, LXB_TAG_APPLET, 1, true},
    {{.u.short_str = "AREA", .length = 4, .next = NULL}, LXB_TAG_AREA, 1, true},
    {{.u.short_str = "ARTICLE", .length = 7, .next = NULL}, LXB_TAG_ARTICLE, 1, true},
    {{.u.short_str = "ASIDE", .length = 5, .next = NULL}, LXB_TAG_ASIDE, 1, true},
    {{.u.short_str = "AUDIO", .length = 5, .next = NULL}, LXB_TAG_AUDIO, 1, true},
    {{.u.short_str = "B", .length = 1, .next = NULL}, LXB_TAG_B, 1, true},
    {{.u.short_str = "BASE", .length = 4, .next = NULL}, LXB_TAG_BASE, 1, true},
    {{.u.short_str = "BASEFONT", .length = 8, .next = NULL}, LXB_TAG_BASEFONT, 1, true},
    {{.u.short_str = "BDI", .length = 3, .next = NULL}, LXB_TAG_BDI, 1, true},
    {{.u.short_str = "BDO", .length = 3, .next = NULL}, LXB_TAG_BDO, 1, true},
    {{.u.short_str = "BGSOUND", .length = 7, .next = NULL}, LXB_TAG_BGSOUND, 1, true},
    {{.u.short_str = "BIG", .length = 3, .next = NULL}, LXB_TAG_BIG, 1, true},
    {{.u.short_str = "BLINK", .length = 5, .next = NULL}, LXB_TAG_BLINK, 1, true},
    {{.u.short_str = "BLOCKQUOTE", .length = 10, .next = NULL}, LXB_TAG_BLOCKQUOTE, 1, true},
    {{.u.short_str = "BODY", .length = 4, .next = NULL}, LXB_TAG_BODY, 1, true},
    {{.u.short_str = "BR", .length = 2, .next = NULL}, LXB_TAG_BR, 1, true},
    {{.u.short_str = "BUTTON", .length = 6, .next = NULL}, LXB_TAG_BUTTON, 1, true},
    {{.u.short_str = "CANVAS", .length = 6, .next = NULL}, LXB_TAG_CANVAS, 1, true},
    {{.u.short_str = "CAPTION", .length = 7, .next = NULL}, LXB_TAG_CAPTION, 1, true},
    {{.u.short_str = "CENTER", .length = 6, .next = NULL}, LXB_TAG_CENTER, 1, true},
    {{.u.short_str = "CITE", .length = 4, .next = NULL}, LXB_TAG_CITE, 1, true},
    {{.u.short_str = "CLIPPATH", .length = 8, .next = NULL}, LXB_TAG_CLIPPATH, 1, true},
    {{.u.short_str = "CODE", .length = 4, .next = NULL}, LXB_TAG_CODE, 1, true},
    {{.u.short_str = "COL", .length = 3, .next = NULL}, LXB_TAG_COL, 1, true},
    {{.u.short_str = "COLGROUP", .length = 8, .next = NULL}, LXB_TAG_COLGROUP, 1, true},
    {{.u.short_str = "DATA", .length = 4, .next = NULL}, LXB_TAG_DATA, 1, true},
    {{.u.short_str = "DATALIST", .length = 8, .next = NULL}, LXB_TAG_DATALIST, 1, true},
    {{.u.short_str = "DD", .length = 2, .next = NULL}, LXB_TAG_DD, 1, true},
    {{.u.short_str = "DEL", .length = 3, .next = NULL}, LXB_TAG_DEL, 1, true},
    {{.u.short_str = "DESC", .length = 4, .next = NULL}, LXB_TAG_DESC, 1, true},
    {{.u.short_str = "DETAILS", .length = 7, .next = NULL}, LXB_TAG_DETAILS, 1, true},
    {{.u.short_str = "DFN", .length = 3, .next = NULL}, LXB_TAG_DFN, 1, true},
    {{.u.short_str = "DIALOG", .length = 6, .next = NULL}, LXB_TAG_DIALOG, 1, true},
    {{.u.short_str = "DIR", .length = 3, .next = NULL}, LXB_TAG_DIR, 1, true},
    {{.u.short_str = "DIV", .length = 3, .next = NULL}, LXB_TAG_DIV, 1, true},
    {{.u.short_str = "DL", .length = 2, .next = NULL}, LXB_TAG_DL, 1, true},
    {{.u.short_str = "DT", .length = 2, .next = NULL}, LXB_TAG_DT, 1, true},
    {{.u.short_str = "EM", .length = 2, .next = NULL}, LXB_TAG_EM, 1, true},
    {{.u.short_str = "EMBED", .length = 5, .next = NULL}, LXB_TAG_EMBED, 1, true},
    {{.u.short_str = "FEBLEND", .length = 7, .next = NULL}, LXB_TAG_FEBLEND, 1, true},
    {{.u.short_str = "FECOLORMATRIX", .length = 13, .next = NULL}, LXB_TAG_FECOLORMATRIX, 1, true},
    {{.u.long_str = (lxb_char_t *) "FECOMPONENTTRANSFER", .length = 19, .next = NULL}, LXB_TAG_FECOMPONENTTRANSFER, 1, true},
    {{.u.short_str = "FECOMPOSITE", .length = 11, .next = NULL}, LXB_TAG_FECOMPOSITE, 1, true},
    {{.u.short_str = "FECONVOLVEMATRIX", .length = 16, .next = NULL}, LXB_TAG_FECONVOLVEMATRIX, 1, true},
    {{.u.long_str = (lxb_char_t *) "FEDIFFUSELIGHTING", .length = 17, .next = NULL}, LXB_TAG_FEDIFFUSELIGHTING, 1, true},
    {{.u.long_str = (lxb_char_t *) "FEDISPLACEMENTMAP", .length = 17, .next = NULL}, LXB_TAG_FEDISPLACEMENTMAP, 1, true},
    {{.u.short_str = "FEDISTANTLIGHT", .length = 14, .next = NULL}, LXB_TAG_FEDISTANTLIGHT, 1, true},
    {{.u.short_str = "FEDROPSHADOW", .length = 12, .next = NULL}, LXB_TAG_FEDROPSHADOW, 1, true},
    {{.u.short_str = "FEFLOOD", .length = 7, .next = NULL}, LXB_TAG_FEFLOOD, 1, true},
    {{.u.short_str = "FEFUNCA", .length = 7, .next = NULL}, LXB_TAG_FEFUNCA, 1, true},
    {{.u.short_str = "FEFUNCB", .length = 7, .next = NULL}, LXB_TAG_FEFUNCB, 1, true},
    {{.u.short_str = "FEFUNCG", .length = 7, .next = NULL}, LXB_TAG_FEFUNCG, 1, true},
    {{.u.short_str = "FEFUNCR", .length = 7, .next = NULL}, LXB_TAG_FEFUNCR, 1, true},
    {{.u.short_str = "FEGAUSSIANBLUR", .length = 14, .next = NULL}, LXB_TAG_FEGAUSSIANBLUR, 1, true},
    {{.u.short_str = "FEIMAGE", .length = 7, .next = NULL}, LXB_TAG_FEIMAGE, 1, true},
    {{.u.short_str = "FEMERGE", .length = 7, .next = NULL}, LXB_TAG_FEMERGE, 1, true},
    {{.u.short_str = "FEMERGENODE", .length = 11, .next = NULL}, LXB_TAG_FEMERGENODE, 1, true},
    {{.u.short_str = "FEMORPHOLOGY", .length = 12, .next = NULL}, LXB_TAG_FEMORPHOLOGY, 1, true},
    {{.u.short_str = "FEOFFSET", .length = 8, .next = NULL}, LXB_TAG_FEOFFSET, 1, true},
    {{.u.short_str = "FEPOINTLIGHT", .length = 12, .next = NULL}, LXB_TAG_FEPOINTLIGHT, 1, true},
    {{.u.long_str = (lxb_char_t *) "FESPECULARLIGHTING", .length = 18, .next = NULL}, LXB_TAG_FESPECULARLIGHTING, 1, true},
    {{.u.short_str = "FESPOTLIGHT", .length = 11, .next = NULL}, LXB_TAG_FESPOTLIGHT, 1, true},
    {{.u.short_str = "FETILE", .length = 6, .next = NULL}, LXB_TAG_FETILE, 1, true},
    {{.u.short_str = "FETURBULENCE", .length = 12, .next = NULL}, LXB_TAG_FETURBULENCE, 1, true},
    {{.u.short_str = "FIELDSET", .length = 8, .next = NULL}, LXB_TAG_FIELDSET, 1, true},
    {{.u.short_str = "FIGCAPTION", .length = 10, .next = NULL}, LXB_TAG_FIGCAPTION, 1, true},
    {{.u.short_str = "FIGURE", .length = 6, .next = NULL}, LXB_TAG_FIGURE, 1, true},
    {{.u.short_str = "FONT", .length = 4, .next = NULL}, LXB_TAG_FONT, 1, true},
    {{.u.short_str = "FOOTER", .length = 6, .next = NULL}, LXB_TAG_FOOTER, 1, true},
    {{.u.short_str = "FOREIGNOBJECT", .length = 13, .next = NULL}, LXB_TAG_FOREIGNOBJECT, 1, true},
    {{.u.short_str = "FORM", .length = 4, .next = NULL}, LXB_TAG_FORM, 1, true},
    {{.u.short_str = "FRAME", .length = 5, .next = NULL}, LXB_TAG_FRAME, 1, true},
    {{.u.short_str = "FRAMESET", .length = 8, .next = NULL}, LXB_TAG_FRAMESET, 1, true},
    {{.u.short_str = "GLYPHREF", .length = 8, .next = NULL}, LXB_TAG_GLYPHREF, 1, true},
    {{.u.short_str = "H1", .length = 2, .next = NULL}, LXB_TAG_H1, 1, true},
    {{.u.short_str = "H2", .length = 2, .next = NULL}, LXB_TAG_H2, 1, true},
    {{.u.short_str = "H3", .length = 2, .next = NULL}, LXB_TAG_H3, 1, true},
    {{.u.short_str = "H4", .length = 2, .next = NULL}, LXB_TAG_H4, 1, true},
    {{.u.short_str = "H5", .length = 2, .next = NULL}, LXB_TAG_H5, 1, true},
    {{.u.short_str = "H6", .length = 2, .next = NULL}, LXB_TAG_H6, 1, true},
    {{.u.short_str = "HEAD", .length = 4, .next = NULL}, LXB_TAG_HEAD, 1, true},
    {{.u.short_str = "HEADER", .length = 6, .next = NULL}, LXB_TAG_HEADER, 1, true},
    {{.u.short_str = "HGROUP", .length = 6, .next = NULL}, LXB_TAG_HGROUP, 1, true},
    {{.u.short_str = "HR", .length = 2, .next = NULL}, LXB_TAG_HR, 1, true},
    {{.u.short_str = "HTML", .length = 4, .next = NULL}, LXB_TAG_HTML, 1, true},
    {{.u.short_str = "I", .length = 1, .next = NULL}, LXB_TAG_I, 1, true},
    {{.u.short_str = "IFRAME", .length = 6, .next = NULL}, LXB_TAG_IFRAME, 1, true},
    {{.u.short_str = "IMAGE", .length = 5, .next = NULL}, LXB_TAG_IMAGE, 1, true},
    {{.u.short_str = "IMG", .length = 3, .next = NULL}, LXB_TAG_IMG, 1, true},
    {{.u.short_str = "INPUT", .length = 5, .next = NULL}, LXB_TAG_INPUT, 1, true},
    {{.u.short_str = "INS", .length = 3, .next = NULL}, LXB_TAG_INS, 1, true},
    {{.u.short_str = "ISINDEX", .length = 7, .next = NULL}, LXB_TAG_ISINDEX, 1, true},
    {{.u.short_str = "KBD", .length = 3, .next = NULL}, LXB_TAG_KBD, 1, true},
    {{.u.short_str = "KEYGEN", .length = 6, .next = NULL}, LXB_TAG_KEYGEN, 1, true},
    {{.u.short_str = "LABEL", .length = 5, .next = NULL}, LXB_TAG_LABEL, 1, true},
    {{.u.short_str = "LEGEND", .length = 6, .next = NULL}, LXB_TAG_LEGEND, 1, true},
    {{.u.short_str = "LI", .length = 2, .next = NULL}, LXB_TAG_LI, 1, true},
    {{.u.short_str = "LINEARGRADIENT", .length = 14, .next = NULL}, LXB_TAG_LINEARGRADIENT, 1, true},
    {{.u.short_str = "LINK", .length = 4, .next = NULL}, LXB_TAG_LINK, 1, true},
    {{.u.short_str = "LISTING", .length = 7, .next = NULL}, LXB_TAG_LISTING, 1, true},
    {{.u.short_str = "MAIN", .length = 4, .next = NULL}, LXB_TAG_MAIN, 1, true},
    {{.u.short_str = "MALIGNMARK", .length = 10, .next = NULL}, LXB_TAG_MALIGNMARK, 1, true},
    {{.u.short_str = "MAP", .length = 3, .next = NULL}, LXB_TAG_MAP, 1, true},
    {{.u.short_str = "MARK", .length = 4, .next = NULL}, LXB_TAG_MARK, 1, true},
    {{.u.short_str = "MARQUEE", .length = 7, .next = NULL}, LXB_TAG_MARQUEE, 1, true},
    {{.u.short_str = "MATH", .length = 4, .next = NULL}, LXB_TAG_MATH, 1, true},
    {{.u.short_str = "MENU", .length = 4, .next = NULL}, LXB_TAG_MENU, 1, true},
    {{.u.short_str = "META", .length = 4, .next = NULL}, LXB_TAG_META, 1, true},
    {{.u.short_str = "METER", .length = 5, .next = NULL}, LXB_TAG_METER, 1, true},
    {{.u.short_str = "MFENCED", .length = 7, .next = NULL}, LXB_TAG_MFENCED, 1, true},
    {{.u.short_str = "MGLYPH", .length = 6, .next = NULL}, LXB_TAG_MGLYPH, 1, true},
    {{.u.short_str = "MI", .length = 2, .next = NULL}, LXB_TAG_MI, 1, true},
    {{.u.short_str = "MN", .length = 2, .next = NULL}, LXB_TAG_MN, 1, true},
    {{.u.short_str = "MO", .length = 2, .next = NULL}, LXB_TAG_MO, 1, true},
    {{.u.short_str = "MS", .length = 2, .next = NULL}, LXB_TAG_MS, 1, true},
    {{.u.short_str = "MTEXT", .length = 5, .next = NULL}, LXB_TAG_MTEXT, 1, true},
    {{.u.short_str = "MULTICOL", .length = 8, .next = NULL}, LXB_TAG_MULTICOL, 1, true},
    {{.u.short_str = "NAV", .length = 3, .next = NULL}, LXB_TAG_NAV, 1, true},
    {{.u.short_str = "NEXTID", .length = 6, .next = NULL}, LXB_TAG_NEXTID, 1, true},
    {{.u.short_str = "NOBR", .length = 4, .next = NULL}, LXB_TAG_NOBR, 1, true},
    {{.u.short_str = "NOEMBED", .length = 7, .next = NULL}, LXB_TAG_NOEMBED, 1, true},
    {{.u.short_str = "NOFRAMES", .length = 8, .next = NULL}, LXB_TAG_NOFRAMES, 1, true},
    {{.u.short_str = "NOSCRIPT", .length = 8, .next = NULL}, LXB_TAG_NOSCRIPT, 1, true},
    {{.u.short_str = "OBJECT", .length = 6, .next = NULL}, LXB_TAG_OBJECT, 1, true},
    {{.u.short_str = "OL", .length = 2, .next = NULL}, LXB_TAG_OL, 1, true},
    {{.u.short_str = "OPTGROUP", .length = 8, .next = NULL}, LXB_TAG_OPTGROUP, 1, true},
    {{.u.short_str = "OPTION", .length = 6, .next = NULL}, LXB_TAG_OPTION, 1, true},
    {{.u.short_str = "OUTPUT", .length = 6, .next = NULL}, LXB_TAG_OUTPUT, 1, true},
    {{.u.short_str = "P", .length = 1, .next = NULL}, LXB_TAG_P, 1, true},
    {{.u.short_str = "PARAM", .length = 5, .next = NULL}, LXB_TAG_PARAM, 1, true},
    {{.u.short_str = "PATH", .length = 4, .next = NULL}, LXB_TAG_PATH, 1, true},
    {{.u.short_str = "PICTURE", .length = 7, .next = NULL}, LXB_TAG_PICTURE, 1, true},
    {{.u.short_str = "PLAINTEXT", .length = 9, .next = NULL}, LXB_TAG_PLAINTEXT, 1, true},
    {{.u.short_str = "PRE", .length = 3, .next = NULL}, LXB_TAG_PRE, 1, true},
    {{.u.short_str = "PROGRESS", .length = 8, .next = NULL}, LXB_TAG_PROGRESS, 1, true},
    {{.u.short_str = "Q", .length = 1, .next = NULL}, LXB_TAG_Q, 1, true},
    {{.u.short_str = "RADIALGRADIENT", .length = 14, .next = NULL}, LXB_TAG_RADIALGRADIENT, 1, true},
    {{.u.short_str = "RB", .length = 2, .next = NULL}, LXB_TAG_RB, 1, true},
    {{.u.short_str = "RP", .length = 2, .next = NULL}, LXB_TAG_RP, 1, true},
    {{.u.short_str = "RT", .length = 2, .next = NULL}, LXB_TAG_RT, 1, true},
    {{.u.short_str = "RTC", .length = 3, .next = NULL}, LXB_TAG_RTC, 1, true},
    {{.u.short_str = "RUBY", .length = 4, .next = NULL}, LXB_TAG_RUBY, 1, true},
    {{.u.short_str = "S", .length = 1, .next = NULL}, LXB_TAG_S, 1, true},
    {{.u.short_str = "SAMP", .length = 4, .next = NULL}, LXB_TAG_SAMP, 1, true},
    {{.u.short_str = "SCRIPT", .length = 6, .next = NULL}, LXB_TAG_SCRIPT, 1, true},
    {{.u.short_str = "SEARCH", .length = 6, .next = NULL}, LXB_TAG_SEARCH, 1, true},
    {{.u.short_str = "SECTION", .length = 7, .next = NULL}, LXB_TAG_SECTION, 1, true},
    {{.u.short_str = "SELECT", .length = 6, .next = NULL}, LXB_TAG_SELECT, 1, true},
    {{.u.short_str = "SELECTEDCONTENT", .length = 15, .next = NULL}, LXB_TAG_SELECTEDCONTENT, 1, true},
    {{.u.short_str = "SLOT", .length = 4, .next = NULL}, LXB_TAG_SLOT, 1, true},
    {{.u.short_str = "SMALL", .length = 5, .next = NULL}, LXB_TAG_SMALL, 1, true},
    {{.u.short_str = "SOURCE", .length = 6, .next = NULL}, LXB_TAG_SOURCE, 1, true},
    {{.u.short_str = "SPACER", .length = 6, .next = NULL}, LXB_TAG_SPACER, 1, true},
    {{.u.short_str = "SPAN", .length = 4, .next = NULL}, LXB_TAG_SPAN, 1, true},
    {{.u.short_str = "STRIKE", .length = 6, .next = NULL}, LXB_TAG_STRIKE, 1, true},
    {{.u.short_str = "STRONG", .length = 6, .next = NULL}, LXB_TAG_STRONG, 1, true},
    {{.u.short_str = "STYLE", .length = 5, .next = NULL}, LXB_TAG_STYLE, 1, true},
    {{.u.short_str = "SUB", .length = 3, .next = NULL}, LXB_TAG_SUB, 1, true},
    {{.u.short_str = "SUMMARY", .length = 7, .next = NULL}, LXB_TAG_SUMMARY, 1, true},
    {{.u.short_str = "SUP", .length = 3, .next = NULL}, LXB_TAG_SUP, 1, true},
    {{.u.short_str = "SVG", .length = 3, .next = NULL}, LXB_TAG_SVG, 1, true},
    {{.u.short_str = "TABLE", .length = 5, .next = NULL}, LXB_TAG_TABLE, 1, true},
    {{.u.short_str = "TBODY", .length = 5, .next = NULL}, LXB_TAG_TBODY, 1, true},
    {{.u.short_str = "TD", .length = 2, .next = NULL}, LXB_TAG_TD, 1, true},
    {{.u.short_str = "TEMPLATE", .length = 8, .next = NULL}, LXB_TAG_TEMPLATE, 1, true},
    {{.u.short_str = "TEXTAREA", .length = 8, .next = NULL}, LXB_TAG_TEXTAREA, 1, true},
    {{.u.short_str = "TEXTPATH", .length = 8, .next = NULL}, LXB_TAG_TEXTPATH, 1, true},
    {{.u.short_str = "TFOOT", .length = 5, .next = NULL}, LXB_TAG_TFOOT, 1, true},
    {{.u.short_str = "TH", .length = 2, .next = NULL}, LXB_TAG_TH, 1, true},
    {{.u.short_str = "THEAD", .length = 5, .next = NULL}, LXB_TAG_THEAD, 1, true},
    {{.u.short_str = "TIME", .length = 4, .next = NULL}, LXB_TAG_TIME, 1, true},
    {{.u.short_str = "TITLE", .length = 5, .next = NULL}, LXB_TAG_TITLE, 1, true},
    {{.u.short_str = "TR", .length = 2, .next = NULL}, LXB_TAG_TR, 1, true},
    {{.u.short_str = "TRACK", .length = 5, .next = NULL}, LXB_TAG_TRACK, 1, true},
    {{.u.short_str = "TT", .length = 2, .next = NULL}, LXB_TAG_TT, 1, true},
    {{.u.short_str = "U", .length = 1, .next = NULL}, LXB_TAG_U, 1, true},
    {{.u.short_str = "UL", .length = 2, .next = NULL}, LXB_TAG_UL, 1, true},
    {{.u.short_str = "VAR", .length = 3, .next = NULL}, LXB_TAG_VAR, 1, true},
    {{.u.short_str = "VIDEO", .length = 5, .next = NULL}, LXB_TAG_VIDEO, 1, true},
    {{.u.short_str = "WBR", .length = 3, .next = NULL}, LXB_TAG_WBR, 1, true},
    {{.u.short_str = "XMP", .length = 3, .next = NULL}, LXB_TAG_XMP, 1, true}
};

static const lexbor_shs_entry_t lxb_tag_res_shs_data_default[263] =
{
    {NULL, NULL, 262, 0}, {"radialgradient", (void *) &lxb_tag_res_data_default[153], 14, 0},
    {"fecomponenttransfer", (void *) &lxb_tag_res_data_default[58], 19, 0}, {"abbr", (void *) &lxb_tag_res_data_default[7], 4, 1},
    {"feflood", (void *) &lxb_tag_res_data_default[65], 7, 0}, {"marquee", (void *) &lxb_tag_res_data_default[121], 7, 0},
    {"feblend", (void *) &lxb_tag_res_data_default[56], 7, 4}, {"optgroup", (void *) &lxb_tag_res_data_default[142], 8, 0},
    {"video", (void *) &lxb_tag_res_data_default[195], 5, 10}, {"u", (void *) &lxb_tag_res_data_default[192], 1, 0},
    {"iframe", (void *) &lxb_tag_res_data_default[103], 6, 0}, {"animatecolor", (void *) &lxb_tag_res_data_default[13], 12, 0},
    {"output", (void *) &lxb_tag_res_data_default[144], 6, 0}, {"figcaption", (void *) &lxb_tag_res_data_default[82], 10, 0},
    {"mglyph", (void *) &lxb_tag_res_data_default[127], 6, 0}, {"!--", (void *) &lxb_tag_res_data_default[4], 3, 0},
    {"fefuncg", (void *) &lxb_tag_res_data_default[68], 7, 0}, {"aside", (void *) &lxb_tag_res_data_default[20], 5, 0},
    {"style", (void *) &lxb_tag_res_data_default[173], 5, 0}, {"strike", (void *) &lxb_tag_res_data_default[171], 6, 0},
    {"header", (void *) &lxb_tag_res_data_default[98], 6, 0}, {"glyphref", (void *) &lxb_tag_res_data_default[90], 8, 23},
    {"label", (void *) &lxb_tag_res_data_default[111], 5, 0}, {"feconvolvematrix", (void *) &lxb_tag_res_data_default[60], 16, 0},
    {"altglyphdef", (void *) &lxb_tag_res_data_default[11], 11, 0}, {"title", (void *) &lxb_tag_res_data_default[188], 5, 0},
    {"head", (void *) &lxb_tag_res_data_default[97], 4, 0}, {"noframes", (void *) &lxb_tag_res_data_default[138], 8, 0},
    {"code", (void *) &lxb_tag_res_data_default[39], 4, 30}, {"rb", (void *) &lxb_tag_res_data_default[154], 2, 5},
    {"blink", (void *) &lxb_tag_res_data_default[29], 5, 0}, {"image", (void *) &lxb_tag_res_data_default[104], 5, 0},
    {"col", (void *) &lxb_tag_res_data_default[40], 3, 8}, {"object", (void *) &lxb_tag_res_data_default[140], 6, 12},
    {"template", (void *) &lxb_tag_res_data_default[181], 8, 36}, {"h2", (void *) &lxb_tag_res_data_default[92], 2, 13},
    {"lineargradient", (void *) &lxb_tag_res_data_default[114], 14, 0}, {"math", (void *) &lxb_tag_res_data_default[122], 4, 0},
    {"base", (void *) &lxb_tag_res_data_default[23], 4, 45}, {"dl", (void *) &lxb_tag_res_data_default[52], 2, 14},
    {"del", (void *) &lxb_tag_res_data_default[45], 3, 16}, {"svg", (void *) &lxb_tag_res_data_default[177], 3, 17},
    {"dir", (void *) &lxb_tag_res_data_default[50], 3, 0}, {"article", (void *) &lxb_tag_res_data_default[19], 7, 0},
    {"strong", (void *) &lxb_tag_res_data_default[172], 6, 0}, {"dialog", (void *) &lxb_tag_res_data_default[49], 6, 0},
    {"details", (void *) &lxb_tag_res_data_default[47], 7, 0}, {"textpath", (void *) &lxb_tag_res_data_default[183], 8, 52},
    {"mark", (void *) &lxb_tag_res_data_default[120], 4, 0}, {"basefont", (void *) &lxb_tag_res_data_default[24], 8, 0},
    {"fediffuselighting", (void *) &lxb_tag_res_data_default[61], 17, 0}, {"fespecularlighting", (void *) &lxb_tag_res_data_default[77], 18, 0},
    {"blockquote", (void *) &lxb_tag_res_data_default[30], 10, 0}, {"script", (void *) &lxb_tag_res_data_default[161], 6, 58},
    {"malignmark", (void *) &lxb_tag_res_data_default[118], 10, 0}, {"hr", (void *) &lxb_tag_res_data_default[100], 2, 18},
    {"source", (void *) &lxb_tag_res_data_default[168], 6, 19}, {"mn", (void *) &lxb_tag_res_data_default[129], 2, 0},
    {"select", (void *) &lxb_tag_res_data_default[164], 6, 0}, {"main", (void *) &lxb_tag_res_data_default[117], 4, 20},
    {"fieldset", (void *) &lxb_tag_res_data_default[81], 8, 62}, {"ins", (void *) &lxb_tag_res_data_default[107], 3, 0},
    {"frameset", (void *) &lxb_tag_res_data_default[89], 8, 0}, {"button", (void *) &lxb_tag_res_data_default[33], 6, 0},
    {"fecolormatrix", (void *) &lxb_tag_res_data_default[57], 13, 0}, {"q", (void *) &lxb_tag_res_data_default[152], 1, 0},
    {"animatemotion", (void *) &lxb_tag_res_data_default[14], 13, 0}, {"time", (void *) &lxb_tag_res_data_default[187], 4, 21},
    {"table", (void *) &lxb_tag_res_data_default[178], 5, 25}, {"h6", (void *) &lxb_tag_res_data_default[96], 2, 26},
    {"cite", (void *) &lxb_tag_res_data_default[37], 4, 28}, {"img", (void *) &lxb_tag_res_data_default[105], 3, 34},
    {"fepointlight", (void *) &lxb_tag_res_data_default[76], 12, 0}, {"audio", (void *) &lxb_tag_res_data_default[21], 5, 0},
    {"#end-of-file", (void *) &lxb_tag_res_data_default[1], 12, 0}, {"noscript", (void *) &lxb_tag_res_data_default[139], 8, 0},
    {"foreignobject", (void *) &lxb_tag_res_data_default[86], 13, 77}, {"selectedcontent", (void *) &lxb_tag_res_data_default[165], 15, 0},
    {"spacer", (void *) &lxb_tag_res_data_default[169], 6, 0}, {"samp", (void *) &lxb_tag_res_data_default[160], 4, 0},
    {"altglyphitem", (void *) &lxb_tag_res_data_default[12], 12, 0}, {"data", (void *) &lxb_tag_res_data_default[42], 4, 0},
    {"mtext", (void *) &lxb_tag_res_data_default[132], 5, 0}, {"path", (void *) &lxb_tag_res_data_default[147], 4, 0},
    {"input", (void *) &lxb_tag_res_data_default[106], 5, 0}, {"th", (void *) &lxb_tag_res_data_default[185], 2, 38},
    {"p", (void *) &lxb_tag_res_data_default[145], 1, 0}, {"dt", (void *) &lxb_tag_res_data_default[53], 2, 0},
    {"animatetransform", (void *) &lxb_tag_res_data_default[15], 16, 0}, {"datalist", (void *) &lxb_tag_res_data_default[43], 8, 0},
    {"b", (void *) &lxb_tag_res_data_default[22], 1, 46}, {"nextid", (void *) &lxb_tag_res_data_default[135], 6, 47},
    {"noembed", (void *) &lxb_tag_res_data_default[137], 7, 0}, {"small", (void *) &lxb_tag_res_data_default[167], 5, 0},
    {"nav", (void *) &lxb_tag_res_data_default[134], 3, 0}, {"slot", (void *) &lxb_tag_res_data_default[166], 4, 0},
    {"search", (void *) &lxb_tag_res_data_default[162], 6, 0}, {"font", (void *) &lxb_tag_res_data_default[84], 4, 53},
    {"bgsound", (void *) &lxb_tag_res_data_default[27], 7, 0}, {"param", (void *) &lxb_tag_res_data_default[146], 5, 0},
    {"figure", (void *) &lxb_tag_res_data_default[83], 6, 0}, {"feoffset", (void *) &lxb_tag_res_data_default[75], 8, 60},
    {"#text", (void *) &lxb_tag_res_data_default[2], 5, 0}, {"femerge", (void *) &lxb_tag_res_data_default[72], 7, 0},
    {"fespotlight", (void *) &lxb_tag_res_data_default[78], 11, 66}, {"form", (void *) &lxb_tag_res_data_default[87], 4, 72},
    {"#document", (void *) &lxb_tag_res_data_default[3], 9, 76}, {"fedistantlight", (void *) &lxb_tag_res_data_default[63], 14, 0},
    {"track", (void *) &lxb_tag_res_data_default[190], 5, 0}, {"h3", (void *) &lxb_tag_res_data_default[93], 2, 78},
    {"femergenode", (void *) &lxb_tag_res_data_default[73], 11, 0}, {"i", (void *) &lxb_tag_res_data_default[102], 1, 0},
    {"ul", (void *) &lxb_tag_res_data_default[193], 2, 0}, {"h1", (void *) &lxb_tag_res_data_default[91], 2, 0},
    {"tbody", (void *) &lxb_tag_res_data_default[179], 5, 0}, {"altglyph", (void *) &lxb_tag_res_data_default[10], 8, 0},
    {"legend", (void *) &lxb_tag_res_data_default[112], 6, 117}, {"address", (void *) &lxb_tag_res_data_default[9], 7, 0},
    {"sup", (void *) &lxb_tag_res_data_default[176], 3, 0}, {"body", (void *) &lxb_tag_res_data_default[31], 4, 79},
    {"caption", (void *) &lxb_tag_res_data_default[35], 7, 0}, {"acronym", (void *) &lxb_tag_res_data_default[8], 7, 0},
    {"option", (void *) &lxb_tag_res_data_default[143], 6, 0}, {"progress", (void *) &lxb_tag_res_data_default[151], 8, 124},
    {"fegaussianblur", (void *) &lxb_tag_res_data_default[70], 14, 0}, {NULL, NULL, 0, 0},
    {"mi", (void *) &lxb_tag_res_data_default[128], 2, 80}, {NULL, NULL, 0, 0},
    {"dfn", (void *) &lxb_tag_res_data_default[48], 3, 0}, {"a", (void *) &lxb_tag_res_data_default[6], 1, 87},
    {"listing", (void *) &lxb_tag_res_data_default[116], 7, 88}, {"span", (void *) &lxb_tag_res_data_default[170], 4, 0},
    {"area", (void *) &lxb_tag_res_data_default[18], 4, 0}, {"clippath", (void *) &lxb_tag_res_data_default[38], 8, 0},
    {"section", (void *) &lxb_tag_res_data_default[163], 7, 0}, {"li", (void *) &lxb_tag_res_data_default[113], 2, 89},
    {NULL, NULL, 0, 0}, {"html", (void *) &lxb_tag_res_data_default[101], 4, 0},
    {NULL, NULL, 0, 0}, {"fedropshadow", (void *) &lxb_tag_res_data_default[64], 12, 0},
    {"embed", (void *) &lxb_tag_res_data_default[55], 5, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"multicol", (void *) &lxb_tag_res_data_default[133], 8, 0},
    {"var", (void *) &lxb_tag_res_data_default[194], 3, 93}, {"rp", (void *) &lxb_tag_res_data_default[155], 2, 0},
    {NULL, NULL, 0, 0}, {"link", (void *) &lxb_tag_res_data_default[115], 4, 0},
    {"mo", (void *) &lxb_tag_res_data_default[130], 2, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"annotation-xml", (void *) &lxb_tag_res_data_default[16], 14, 0},
    {"fedisplacementmap", (void *) &lxb_tag_res_data_default[62], 17, 0}, {"center", (void *) &lxb_tag_res_data_default[36], 6, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"fefuncb", (void *) &lxb_tag_res_data_default[67], 7, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"meter", (void *) &lxb_tag_res_data_default[125], 5, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"tt", (void *) &lxb_tag_res_data_default[191], 2, 0},
    {"big", (void *) &lxb_tag_res_data_default[28], 3, 94}, {NULL, NULL, 0, 0},
    {"tfoot", (void *) &lxb_tag_res_data_default[184], 5, 0}, {"desc", (void *) &lxb_tag_res_data_default[46], 4, 96},
    {"isindex", (void *) &lxb_tag_res_data_default[108], 7, 0}, {NULL, NULL, 0, 0},
    {"menu", (void *) &lxb_tag_res_data_default[123], 4, 0}, {"hgroup", (void *) &lxb_tag_res_data_default[99], 6, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"wbr", (void *) &lxb_tag_res_data_default[196], 3, 0}, {NULL, NULL, 0, 0},
    {"pre", (void *) &lxb_tag_res_data_default[150], 3, 98}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"picture", (void *) &lxb_tag_res_data_default[148], 7, 0}, {"h4", (void *) &lxb_tag_res_data_default[94], 2, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"meta", (void *) &lxb_tag_res_data_default[124], 4, 99}, {NULL, NULL, 0, 0},
    {"rtc", (void *) &lxb_tag_res_data_default[157], 3, 0}, {NULL, NULL, 0, 0},
    {"frame", (void *) &lxb_tag_res_data_default[88], 5, 0}, {"fetile", (void *) &lxb_tag_res_data_default[79], 6, 100},
    {"feimage", (void *) &lxb_tag_res_data_default[71], 7, 103}, {NULL, NULL, 0, 0},
    {"xmp", (void *) &lxb_tag_res_data_default[197], 3, 0}, {NULL, NULL, 0, 0},
    {"fecomposite", (void *) &lxb_tag_res_data_default[59], 11, 110}, {"feturbulence", (void *) &lxb_tag_res_data_default[80], 12, 0},
    {NULL, NULL, 0, 0}, {"summary", (void *) &lxb_tag_res_data_default[175], 7, 0},
    {"mfenced", (void *) &lxb_tag_res_data_default[126], 7, 0}, {NULL, NULL, 0, 0},
    {"sub", (void *) &lxb_tag_res_data_default[174], 3, 0}, {"colgroup", (void *) &lxb_tag_res_data_default[41], 8, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"dd", (void *) &lxb_tag_res_data_default[44], 2, 112},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"div", (void *) &lxb_tag_res_data_default[51], 3, 0}, {"textarea", (void *) &lxb_tag_res_data_default[182], 8, 0},
    {"!doctype", (void *) &lxb_tag_res_data_default[5], 8, 0}, {"applet", (void *) &lxb_tag_res_data_default[17], 6, 0},
    {NULL, NULL, 0, 0}, {"br", (void *) &lxb_tag_res_data_default[32], 2, 113},
    {NULL, NULL, 0, 0}, {"keygen", (void *) &lxb_tag_res_data_default[110], 6, 0},
    {"kbd", (void *) &lxb_tag_res_data_default[109], 3, 0}, {NULL, NULL, 0, 0},
    {"plaintext", (void *) &lxb_tag_res_data_default[149], 9, 0}, {"s", (void *) &lxb_tag_res_data_default[159], 1, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {"bdo", (void *) &lxb_tag_res_data_default[26], 3, 0}, {"td", (void *) &lxb_tag_res_data_default[180], 2, 0},
    {"fefunca", (void *) &lxb_tag_res_data_default[66], 7, 0}, {"ol", (void *) &lxb_tag_res_data_default[141], 2, 0},
    {"thead", (void *) &lxb_tag_res_data_default[186], 5, 0}, {"nobr", (void *) &lxb_tag_res_data_default[136], 4, 115},
    {NULL, NULL, 0, 0}, {"tr", (void *) &lxb_tag_res_data_default[189], 2, 0},
    {"map", (void *) &lxb_tag_res_data_default[119], 3, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"#undef", (void *) &lxb_tag_res_data_default[0], 6, 116},
    {"em", (void *) &lxb_tag_res_data_default[54], 2, 0}, {NULL, NULL, 0, 0},
    {"bdi", (void *) &lxb_tag_res_data_default[25], 3, 0}, {"femorphology", (void *) &lxb_tag_res_data_default[74], 12, 0},
    {"ms", (void *) &lxb_tag_res_data_default[131], 2, 120}, {"footer", (void *) &lxb_tag_res_data_default[85], 6, 0},
    {"fefuncr", (void *) &lxb_tag_res_data_default[69], 7, 0}, {"rt", (void *) &lxb_tag_res_data_default[156], 2, 122},
    {NULL, NULL, 0, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}, {"h5", (void *) &lxb_tag_res_data_default[95], 2, 0},
    {NULL, NULL, 0, 0}, {"ruby", (void *) &lxb_tag_res_data_default[158], 4, 123},
    {"canvas", (void *) &lxb_tag_res_data_default[34], 6, 0}, {NULL, NULL, 0, 0},
    {NULL, NULL, 0, 0}
};

/*
 * Source Code:
 */
lexbor_array_t *
lexbor_array_create(void)
{
    return lexbor_calloc(1, sizeof(lexbor_array_t));
}

lxb_status_t
lexbor_array_init(lexbor_array_t *array, size_t size)
{
    if (array == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    if (size == 0) {
        return LXB_STATUS_ERROR_TOO_SMALL_SIZE;
    }

    array->length = 0;
    array->size = size;

    array->list = lexbor_malloc(sizeof(void *) * size);
    if (array->list == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    return LXB_STATUS_OK;
}

void
lexbor_array_clean(lexbor_array_t *array)
{
    if (array != NULL) {
        array->length = 0;
    }
}

lexbor_array_t *
lexbor_array_destroy(lexbor_array_t *array, bool self_destroy)
{
    if (array == NULL)
        return NULL;

    if (array->list) {
        array->length = 0;
        array->size = 0;
        array->list = lexbor_free(array->list);
    }

    if (self_destroy) {
        return lexbor_free(array);
    }

    return array;
}

void **
lexbor_array_expand(lexbor_array_t *array, size_t up_to)
{
    void **list;
    size_t new_size;

    if (array->length > (SIZE_MAX - up_to))
        return NULL;

    new_size = array->length + up_to;
    list = lexbor_realloc(array->list, sizeof(void *) * new_size);

    if (list == NULL)
        return NULL;

    array->list = list;
    array->size = new_size;

    return list;
}

lxb_status_t
lexbor_array_push(lexbor_array_t *array, void *value)
{
    if (array->length >= array->size) {
        if ((lexbor_array_expand(array, 128) == NULL)) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    array->list[ array->length ] = value;
    array->length++;

    return LXB_STATUS_OK;
}

void *
lexbor_array_pop(lexbor_array_t *array)
{
    if (array->length == 0) {
        return NULL;
    }

    array->length--;
    return array->list[ array->length ];
}

lxb_status_t
lexbor_array_insert(lexbor_array_t *array, size_t idx, void *value)
{
    if (idx >= array->length) {
        size_t up_to = (idx - array->length) + 1;

        if (idx >= array->size) {
            if ((lexbor_array_expand(array, up_to) == NULL)) {
                return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
            }
        }

        memset(&array->list[array->length], 0, sizeof(void *) * up_to);

        array->list[ idx ] = value;
        array->length += up_to;

        return LXB_STATUS_OK;
    }

    if (array->length >= array->size) {
        if ((lexbor_array_expand(array, 32) == NULL)) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    memmove(&array->list[idx + 1], &array->list[idx],
            sizeof(void *) * (array->length - idx));

    array->list[ idx ] = value;
    array->length++;

    return LXB_STATUS_OK;
}

lxb_status_t
lexbor_array_set(lexbor_array_t *array, size_t idx, void *value)
{
    if (idx >= array->length) {
        size_t up_to = (idx - array->length) + 1;

        if (idx >= array->size) {
            if ((lexbor_array_expand(array, up_to) == NULL)) {
                return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
            }
        }

        memset(&array->list[array->length], 0, sizeof(void *) * up_to);

        array->length += up_to;
    }

    array->list[idx] = value;

    return LXB_STATUS_OK;
}

void
lexbor_array_delete(lexbor_array_t *array, size_t begin, size_t length)
{
    if (begin >= array->length || length == 0) {
        return;
    }

    size_t end_len = begin + length;

    if (end_len >= array->length) {
        array->length = begin;
        return;
    }

    memmove(&array->list[begin], &array->list[end_len],
            sizeof(void *) * (array->length - end_len));

    array->length -= length;
}

/*
 * No inline functions.
 */
void *
lexbor_array_get_noi(lexbor_array_t *array, size_t idx)
{
    return lexbor_array_get(array, idx);
}

size_t
lexbor_array_length_noi(lexbor_array_t *array)
{
    return lexbor_array_length(array);
}

size_t
lexbor_array_size_noi(lexbor_array_t *array)
{
    return lexbor_array_size(array);
}

lexbor_array_obj_t *
lexbor_array_obj_create(void)
{
    return lexbor_calloc(1, sizeof(lexbor_array_obj_t));
}

lxb_status_t
lexbor_array_obj_init(lexbor_array_obj_t *array,
                      size_t size, size_t struct_size)
{
    if (array == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    if (size == 0 || struct_size == 0) {
        return LXB_STATUS_ERROR_TOO_SMALL_SIZE;
    }

    array->length = 0;
    array->size = size;
    array->struct_size = struct_size;

    array->list = lexbor_malloc(sizeof(uint8_t *)
                                * (array->size * struct_size));
    if (array->list == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    return LXB_STATUS_OK;
}

void
lexbor_array_obj_clean(lexbor_array_obj_t *array)
{
    if (array != NULL) {
        array->length = 0;
    }
}

lexbor_array_obj_t *
lexbor_array_obj_destroy(lexbor_array_obj_t *array, bool self_destroy)
{
    if (array == NULL)
        return NULL;

    if (array->list) {
        array->length = 0;
        array->size = 0;
        array->list = lexbor_free(array->list);
    }

    if (self_destroy) {
        return lexbor_free(array);
    }

    return array;
}

uint8_t *
lexbor_array_obj_expand(lexbor_array_obj_t *array, size_t up_to)
{
    uint8_t *list;
    size_t new_size;

    if (array->length > (SIZE_MAX - up_to)) {
        return NULL;
    }

    new_size = array->length + up_to;

    list = lexbor_realloc(array->list, sizeof(uint8_t *)
                          * (new_size * array->struct_size));
    if (list == NULL) {
        return NULL;
    }

    array->list = list;
    array->size = new_size;

    return list;
}

void *
lexbor_array_obj_push(lexbor_array_obj_t *array)
{
    void *entry;

    if (array->length >= array->size)
    {
        if ((lexbor_array_obj_expand(array, 128) == NULL)) {
            return NULL;
        }
    }

    entry = array->list + (array->length * array->struct_size);
    array->length++;

    memset(entry, 0, array->struct_size);

    return entry;
}

void *
lexbor_array_obj_push_wo_cls(lexbor_array_obj_t *array)
{
    void *entry;

    if (array->length >= array->size) {
        if ((lexbor_array_obj_expand(array, 128) == NULL)) {
            return NULL;
        }
    }

    entry = array->list + (array->length * array->struct_size);
    array->length++;

    return entry;
}

void *
lexbor_array_obj_push_n(lexbor_array_obj_t *array, size_t count)
{
    void *entry;

    if ((array->length + count) > array->size) {
        if ((lexbor_array_obj_expand(array, count + 128) == NULL)) {
            return NULL;
        }
    }

    entry = array->list + (array->length * array->struct_size);
    array->length += count;

    return entry;
}

void *
lexbor_array_obj_pop(lexbor_array_obj_t *array)
{
    if (array->length == 0) {
        return NULL;
    }

    array->length--;
    return array->list + (array->length * array->struct_size);
}

void
lexbor_array_obj_delete(lexbor_array_obj_t *array, size_t begin, size_t length)
{
    if (begin >= array->length || length == 0) {
        return;
    }

    size_t end_len = begin + length;

    if (end_len >= array->length) {
        array->length = begin;
        return;
    }

    memmove(&array->list[ begin * array->struct_size ],
            &array->list[ end_len * array->struct_size ],
            sizeof(uint8_t *)
            * ((array->length - end_len) * array->struct_size));

    array->length -= length;
}

/*
 * No inline functions.
 */
void
lexbor_array_obj_erase_noi(lexbor_array_obj_t *array)
{
    lexbor_array_obj_erase(array);
}

void *
lexbor_array_obj_get_noi(lexbor_array_obj_t *array, size_t idx)
{
    return lexbor_array_obj_get(array, idx);
}

size_t
lexbor_array_obj_length_noi(lexbor_array_obj_t *array)
{
    return lexbor_array_obj_length(array);
}

size_t
lexbor_array_obj_size_noi(lexbor_array_obj_t *array)
{
    return lexbor_array_obj_size(array);
}

size_t
lexbor_array_obj_struct_size_noi(lexbor_array_obj_t *array)
{
    return lexbor_array_obj_struct_size(array);
}

void *
lexbor_array_obj_last_noi(lexbor_array_obj_t *array)
{
    return lexbor_array_obj_last(array);
}

lxb_inline short
lexbor_avl_node_height(lexbor_avl_node_t *node);

lxb_inline short
lexbor_avl_node_balance_factor(lexbor_avl_node_t *node);

lxb_inline void
lexbor_avl_node_set_height(lexbor_avl_node_t *node);

static lexbor_avl_node_t *
lexbor_avl_node_rotate_right(lexbor_avl_node_t *pos);

static lexbor_avl_node_t *
lexbor_avl_node_rotate_left(lexbor_avl_node_t *pos);

static lexbor_avl_node_t *
lexbor_avl_node_balance(lexbor_avl_node_t *node,
                             lexbor_avl_node_t **scope);

lxb_inline lexbor_avl_node_t *
lexbor_avl_find_min(lexbor_avl_node_t *node);

lxb_inline void
lexbor_avl_rotate_for_delete(lexbor_avl_node_t *delete_node,
                             lexbor_avl_node_t *node,
                             lexbor_avl_node_t **root);


lexbor_avl_t *
lexbor_avl_create(void)
{
    return lexbor_calloc(1, sizeof(lexbor_avl_t));
}

lxb_status_t
lexbor_avl_init(lexbor_avl_t *avl, size_t chunk_len, size_t struct_size)
{
    if (avl == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    if (chunk_len == 0
        || (struct_size != 0 && struct_size < sizeof(lexbor_avl_node_t)))
    {
        return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    if (struct_size == 0) {
        struct_size = sizeof(lexbor_avl_node_t);
    }

    avl->last_right = NULL;

    avl->nodes = lexbor_dobject_create();
    return lexbor_dobject_init(avl->nodes, chunk_len, struct_size);
}

void
lexbor_avl_clean(lexbor_avl_t *avl)
{
    avl->last_right = NULL;

    lexbor_dobject_clean(avl->nodes);
}

lexbor_avl_t *
lexbor_avl_destroy(lexbor_avl_t *avl, bool self_destroy)
{
    if (avl == NULL)
        return NULL;

    avl->nodes = lexbor_dobject_destroy(avl->nodes, true);

    if (self_destroy) {
        return lexbor_free(avl);
    }

    return avl;
}

lexbor_avl_node_t *
lexbor_avl_node_make(lexbor_avl_t *avl, size_t type, void *value)
{
    lexbor_avl_node_t *node = lexbor_dobject_calloc(avl->nodes);
    if (node == NULL) {
        return NULL;
    }

    node->type = type;
    node->value = value;

    return node;
}

void
lexbor_avl_node_clean(lexbor_avl_node_t *node)
{
    memset(node, 0, sizeof(lexbor_avl_node_t));
}

lexbor_avl_node_t *
lexbor_avl_node_destroy(lexbor_avl_t *avl,
                        lexbor_avl_node_t *node, bool self_destroy)
{
    if (node == NULL) {
        return NULL;
    }

    if (self_destroy) {
        return lexbor_dobject_free(avl->nodes, node);
    }

    return node;
}

lxb_inline short
lexbor_avl_node_height(lexbor_avl_node_t *node)
{
    return (node) ? node->height : 0;
}

lxb_inline short
lexbor_avl_node_balance_factor(lexbor_avl_node_t *node)
{
    return (lexbor_avl_node_height(node->right)
            - lexbor_avl_node_height(node->left));
}

lxb_inline void
lexbor_avl_node_set_height(lexbor_avl_node_t *node)
{
    short left_height = lexbor_avl_node_height(node->left);
    short right_height = lexbor_avl_node_height(node->right);

    node->height = ((left_height > right_height)
                    ? left_height : right_height) + 1;
}

static lexbor_avl_node_t *
lexbor_avl_node_rotate_right(lexbor_avl_node_t *pos)
{
    lexbor_avl_node_t *node = pos->left;

    node->parent = pos->parent;

    if (node->right) {
        node->right->parent = pos;
    }

    pos->left   = node->right;
    pos->parent = node;

    node->right = pos;

    lexbor_avl_node_set_height(pos);
    lexbor_avl_node_set_height(node);

    return node;
}

static lexbor_avl_node_t *
lexbor_avl_node_rotate_left(lexbor_avl_node_t *pos)
{
    lexbor_avl_node_t *node = pos->right;

    node->parent = pos->parent;

    if (node->left) {
        node->left->parent = pos;
    }

    pos->right  = node->left;
    pos->parent = node;

    node->left = pos;

    lexbor_avl_node_set_height(pos);
    lexbor_avl_node_set_height(node);

    return node;
}

static lexbor_avl_node_t *
lexbor_avl_node_balance(lexbor_avl_node_t *node, lexbor_avl_node_t **scope)
{
    /* Set height */
    lexbor_avl_node_t *parent;

    short left_height = lexbor_avl_node_height(node->left);
    short right_height = lexbor_avl_node_height(node->right);

    node->height = ((left_height > right_height)
                    ? left_height : right_height) + 1;

    /* Check balance */
    switch ((right_height - left_height)) {
        case 2: {
            if (lexbor_avl_node_balance_factor(node->right) < 0) {
                node->right = lexbor_avl_node_rotate_right(node->right);
            }

            parent = node->parent;

            if (parent != NULL) {
                if (parent->right == node) {
                    parent->right = lexbor_avl_node_rotate_left(node);
                    return parent->right;
                }
                else {
                    parent->left = lexbor_avl_node_rotate_left(node);
                    return parent->left;
                }
            }

            return lexbor_avl_node_rotate_left(node);
        }
        case -2: {
            if (lexbor_avl_node_balance_factor(node->left) > 0) {
                node->left = lexbor_avl_node_rotate_left(node->left);
            }

            parent = node->parent;

            if (parent != NULL) {
                if (parent->right == node) {
                    parent->right = lexbor_avl_node_rotate_right(node);
                    return parent->right;
                }
                else {
                    parent->left = lexbor_avl_node_rotate_right(node);
                    return parent->left;
                }
            }

            return lexbor_avl_node_rotate_right(node);
        }
        default:
            break;
    }

    if (node->parent == NULL) {
        *scope = node;
    }

    return node->parent;
}

lexbor_avl_node_t *
lexbor_avl_insert(lexbor_avl_t *avl, lexbor_avl_node_t **scope,
                  size_t type, void *value)
{
    lexbor_avl_node_t *node, *new_node;

    if (*scope == NULL) {
        *scope = lexbor_avl_node_make(avl, type, value);
        return *scope;
    }

    node = *scope;
    new_node = lexbor_dobject_calloc(avl->nodes);

    for (;;) {
        if (type == node->type) {
            node->value = value;
            return node;
        }
        else if (type < node->type) {
            if (node->left == NULL) {
                node->left = new_node;

                new_node->parent = node;
                new_node->type   = type;
                new_node->value  = value;

                node = new_node;
                break;
            }

            node = node->left;
        }
        else {
            if (node->right == NULL) {
                node->right = new_node;

                new_node->parent = node;
                new_node->type   = type;
                new_node->value  = value;

                node = new_node;
                break;
            }

            node = node->right;
        }
    }

    while (node != NULL) {
        node = lexbor_avl_node_balance(node, scope);
    }

    return new_node;
}

lxb_inline lexbor_avl_node_t *
lexbor_avl_find_min(lexbor_avl_node_t *node)
{
    if (node == NULL) {
        return NULL;
    }

    while (node->right != NULL) {
        node = node->right;
    }

    return node;
}

lxb_inline void
lexbor_avl_rotate_for_delete(lexbor_avl_node_t *delete_node,
                             lexbor_avl_node_t *node, lexbor_avl_node_t **scope)
{
    lexbor_avl_node_t *balance_node;

    if (node) {
        if (delete_node->left == node) {
            balance_node = (node->left) ? node->left : node;

            node->parent = delete_node->parent;
            node->right  = delete_node->right;

            if (delete_node->right)
                delete_node->right->parent = node;
        }
        else {
            balance_node = node;

            node->parent->right = NULL;

            node->parent = delete_node->parent;
            node->right  = delete_node->right;
            node->left   = delete_node->left;

            if (delete_node->left != NULL) {
                delete_node->left->parent = node;
            }

            if (delete_node->right != NULL) {
                delete_node->right->parent = node;
            }
        }

        if (delete_node->parent != NULL) {
            if (delete_node->parent->left == delete_node) {
                delete_node->parent->left = node;
            }
            else {
                delete_node->parent->right = node;
            }
        }
        else {
            *scope = node;
        }
    }
    else {
        balance_node = delete_node->parent;

        if (balance_node != NULL) {
            if (balance_node->left == delete_node) {
                balance_node->left = delete_node->right;
            }
            else {
                balance_node->right = delete_node->right;
            }
        }
        else {
            *scope = delete_node->right;
        }

        if (delete_node->right != NULL) {
            delete_node->right->parent = balance_node;
        }
    }

    while (balance_node != NULL) {
        balance_node = lexbor_avl_node_balance(balance_node, scope);
    }
}

void *
lexbor_avl_remove(lexbor_avl_t *avl, lexbor_avl_node_t **scope, size_t type)
{
    void *value;
    lexbor_avl_node_t *node = *scope;

    while (node != NULL) {
        if (type == node->type) {
            avl->last_right = lexbor_avl_find_min(node->left);
            lexbor_avl_rotate_for_delete(node, avl->last_right, scope);

            value = node->value;
            lexbor_dobject_free(avl->nodes, node);

            return value;
        }
        else if (type < node->type) {
            node = node->left;
        }
        else {
            node = node->right;
        }
    }

    return NULL;
}

void
lexbor_avl_remove_by_node(lexbor_avl_t *avl, lexbor_avl_node_t **root,
                          lexbor_avl_node_t *node)
{
    avl->last_right = lexbor_avl_find_min(node->left);

    lexbor_avl_rotate_for_delete(node, avl->last_right, root);

    (void) lexbor_dobject_free(avl->nodes, node);
}

lexbor_avl_node_t *
lexbor_avl_search(lexbor_avl_t *avl, lexbor_avl_node_t *node, size_t type)
{
    while (node != NULL) {
        if (type == node->type) {
            return node;
        }
        else if (type < node->type) {
            node = node->left;
        }
        else {
            node = node->right;
        }
    }

    return NULL;
}

lxb_status_t
lexbor_avl_foreach(lexbor_avl_t *avl, lexbor_avl_node_t **scope,
                   lexbor_avl_node_f cb, void *ctx)
{
    lxb_status_t status;
    int state = 0;
    bool from_right = false;
    lexbor_avl_node_t *node, *parent, *root;

    if (scope == NULL || *scope == NULL) {
        return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    node = *scope;
    root = node;

    while (node->left != NULL) {
        node = node->left;
    }

    do {
        parent = node->parent;

        if (!from_right) {
            if (node == root) {
                state = 2;
            }
            else {
                state = parent->left == node;
            }

            status = cb(avl, scope, node, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            if (state == 2) {
                if (*scope != root) {
                    root = *scope;

                    if (root == NULL) {
                        return LXB_STATUS_OK;
                    }
                    else if (avl->last_right == root) {
                        node = root;
                    }
                    else {
                        node = root;
                        continue;
                    }
                }
            }
            else if (parent->left != node && parent->right != node) {
                if (state) {
                    if (parent->left != NULL && parent->left->right != NULL) {
                        node = parent->left;
                    }
                    else {
                        node = parent;
                        continue;
                    }
                }
                else {
                    if (parent->right != NULL) {
                        node = parent->right;

                        if (node != avl->last_right) {
                            continue;
                        }
                    }
                    else {
                        node = parent;
                    }
                }
            }
        }

        if (node->right != NULL && !from_right) {
            node = node->right;

            while (node->left != NULL) {
                node = node->left;
            }

            continue;
        }

        if (parent == root->parent) {
            return LXB_STATUS_OK;
        }
        else if (node == parent->left) {
            from_right = false;
        }
        else {
            from_right = true;
        }

        node = parent;
    }
    while (true);
}

void
lexbor_avl_foreach_recursion(lexbor_avl_t *avl, lexbor_avl_node_t *scope,
                             lexbor_avl_node_f callback, void *ctx)
{
    if (scope == NULL) {
        return;
    }

    callback(avl, NULL, scope, ctx);

    lexbor_avl_foreach_recursion(avl, scope->left, callback, ctx);
    lexbor_avl_foreach_recursion(avl, scope->right, callback, ctx);
}

lexbor_bst_t *
lexbor_bst_create(void)
{
    return lexbor_calloc(1, sizeof(lexbor_bst_t));
}

lxb_status_t
lexbor_bst_init(lexbor_bst_t *bst, size_t size)
{
    lxb_status_t status;

    if (bst == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    if (size == 0) {
        return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    bst->dobject = lexbor_dobject_create();
    status = lexbor_dobject_init(bst->dobject, size,
                                 sizeof(lexbor_bst_entry_t));
    if (status != LXB_STATUS_OK) {
        return status;
    }

    bst->root = 0;
    bst->tree_length = 0;

    return LXB_STATUS_OK;
}

void
lexbor_bst_clean(lexbor_bst_t *bst)
{
    if (bst != NULL) {
        lexbor_dobject_clean(bst->dobject);

        bst->root = 0;
        bst->tree_length = 0;
    }
}

lexbor_bst_t *
lexbor_bst_destroy(lexbor_bst_t *bst, bool self_destroy)
{
    if (bst == NULL) {
        return NULL;
    }

    bst->dobject = lexbor_dobject_destroy(bst->dobject, true);

    if (self_destroy) {
        return lexbor_free(bst);
    }

    return bst;
}

lexbor_bst_entry_t *
lexbor_bst_entry_make(lexbor_bst_t *bst, size_t size)
{
    lexbor_bst_entry_t *new_entry = lexbor_dobject_calloc(bst->dobject);
    if (new_entry == NULL) {
        return NULL;
    }

    new_entry->size = size;

    bst->tree_length++;

    return new_entry;
}

lexbor_bst_entry_t *
lexbor_bst_insert(lexbor_bst_t *bst, lexbor_bst_entry_t **scope,
                  size_t size, void *value)
{
    lexbor_bst_entry_t *new_entry, *entry;

    new_entry = lexbor_dobject_calloc(bst->dobject);
    if (new_entry == NULL) {
        return NULL;
    }

    new_entry->size  = size;
    new_entry->value = value;

    bst->tree_length++;

    if (*scope == NULL) {
        *scope = new_entry;
        return new_entry;
    }

    entry = *scope;

    while (entry != NULL) {
        if (size == entry->size) {
            if (entry->next) {
                new_entry->next = entry->next;
            }

            entry->next = new_entry;
            new_entry->parent = entry->parent;

            return new_entry;
        }
        else if (size > entry->size) {
            if (entry->right == NULL) {
                entry->right = new_entry;
                new_entry->parent = entry;

                return new_entry;
            }

            entry = entry->right;
        }
        else {
            if (entry->left == NULL) {
                entry->left = new_entry;
                new_entry->parent = entry;

                return new_entry;
            }

            entry = entry->left;
        }
    }

    return NULL;
}

lexbor_bst_entry_t *
lexbor_bst_insert_not_exists(lexbor_bst_t *bst, lexbor_bst_entry_t **scope,
                             size_t size)
{
    lexbor_bst_entry_t *entry;

    if (*scope == NULL) {
        *scope = lexbor_bst_entry_make(bst, size);

        return *scope;
    }

    entry = *scope;

    while (entry != NULL) {
        if (size == entry->size) {
            return entry;
        }
        else if (size > entry->size) {
            if (entry->right == NULL) {
                entry->right = lexbor_bst_entry_make(bst, size);
                entry->right->parent = entry;

                return entry->right;
            }

            entry = entry->right;
        }
        else {
            if (entry->left == NULL) {
                entry->left = lexbor_bst_entry_make(bst, size);
                entry->left->parent = entry;

                return entry->left;
            }

            entry = entry->left;
        }
    }

    return NULL;
}

lexbor_bst_entry_t *
lexbor_bst_search(lexbor_bst_t *bst, lexbor_bst_entry_t *scope, size_t size)
{
    while (scope != NULL) {
        if (scope->size == size) {
            return scope;
        }
        else if (size > scope->size) {
            scope = scope->right;
        }
        else {
            scope = scope->left;
        }
    }

    return NULL;
}

lexbor_bst_entry_t *
lexbor_bst_search_close(lexbor_bst_t *bst, lexbor_bst_entry_t *scope,
                        size_t size)
{
    lexbor_bst_entry_t *max = NULL;

    while (scope != NULL) {
        if (scope->size == size) {
            return scope;
        }
        else if (size > scope->size) {
            scope = scope->right;
        }
        else {
            max = scope;
            scope = scope->left;
        }
    }

    return max;
}

void *
lexbor_bst_remove(lexbor_bst_t *bst, lexbor_bst_entry_t **scope, size_t size)
{
    lexbor_bst_entry_t *entry = *scope;

    while (entry != NULL) {
        if (entry->size == size) {
            return lexbor_bst_remove_by_pointer(bst, entry, scope);
        }
        else if (size > entry->size) {
            entry = entry->right;
        }
        else {
            entry = entry->left;
        }
    }

    return NULL;
}

void *
lexbor_bst_remove_close(lexbor_bst_t *bst, lexbor_bst_entry_t **scope,
                        size_t size, size_t *found_size)
{
    lexbor_bst_entry_t *entry = *scope;
    lexbor_bst_entry_t *max = NULL;

    while (entry != NULL) {
        if (entry->size == size) {
            if (found_size) {
                *found_size = entry->size;
            }

            return lexbor_bst_remove_by_pointer(bst, entry, scope);
        }
        else if (size > entry->size) {
            entry = entry->right;
        }
        else {
            max = entry;
            entry = entry->left;
        }
    }

    if (max != NULL) {
        if (found_size != NULL) {
            *found_size = max->size;
        }

        return lexbor_bst_remove_by_pointer(bst, max, scope);
    }

    if (found_size != NULL) {
        *found_size = 0;
    }

    return NULL;
}

void *
lexbor_bst_remove_by_pointer(lexbor_bst_t *bst, lexbor_bst_entry_t *entry,
                             lexbor_bst_entry_t **root)
{
    void *value;
    lexbor_bst_entry_t *next, *right, *left;

    bst->tree_length--;

    if (entry->next != NULL) {
        next = entry->next;
        entry->next = entry->next->next;

        value = next->value;

        lexbor_dobject_free(bst->dobject, next);

        return value;
    }

    value = entry->value;

    if (entry->left == NULL && entry->right == NULL) {
        if (entry->parent != NULL) {
            if (entry->parent->left == entry)  entry->parent->left  = NULL;
            if (entry->parent->right == entry) entry->parent->right = NULL;
        }
        else {
            *root = NULL;
        }

        lexbor_dobject_free(bst->dobject, entry);
    }
    else if (entry->left == NULL) {
        if (entry->parent == NULL) {
            entry->right->parent = NULL;

            *root = entry->right;

            lexbor_dobject_free(bst->dobject, entry);

            entry = *root;
        }
        else {
            right = entry->right;
            right->parent = entry->parent;

            memcpy(entry, right, sizeof(lexbor_bst_entry_t));

            lexbor_dobject_free(bst->dobject, right);
        }

        if (entry->right != NULL) {
            entry->right->parent = entry;
        }

        if (entry->left != NULL) {
            entry->left->parent = entry;
        }
    }
    else if (entry->right == NULL) {
        if (entry->parent == NULL) {
            entry->left->parent = NULL;

            *root = entry->left;

            lexbor_dobject_free(bst->dobject, entry);

            entry = *root;
        }
        else {
            left = entry->left;
            left->parent = entry->parent;

            memcpy(entry, left, sizeof(lexbor_bst_entry_t));

            lexbor_dobject_free(bst->dobject, left);
        }

        if (entry->right != NULL) {
            entry->right->parent = entry;
        }

        if (entry->left != NULL) {
            entry->left->parent = entry;
        }
    }
    else {
        left = entry->right;

        while (left->left != NULL) {
            left = left->left;
        }

        /* Swap */
        entry->size  = left->size;
        entry->next  = left->next;
        entry->value = left->value;

        /* Change parrent */
        if (entry->right == left) {
            entry->right = left->right;

            if (entry->right != NULL) {
                left->right->parent = entry;
            }
        }
        else {
            left->parent->left = left->right;

            if (left->right != NULL) {
                left->right->parent = left->parent;
            }
        }

        lexbor_dobject_free(bst->dobject, left);
    }

    return value;
}

void
lexbor_bst_serialize(lexbor_bst_t *bst, lexbor_callback_f callback, void *ctx)
{
    lexbor_bst_serialize_entry(bst->root, callback, ctx, 0);
}

void
lexbor_bst_serialize_entry(lexbor_bst_entry_t *entry,
                           lexbor_callback_f callback, void *ctx, size_t tabs)
{
    size_t len;
    lxb_char_t buff[1024];

    if (entry == NULL) {
        return;
    }

    /* Left */
    for (size_t i = 0; i < tabs; i++) {
        callback((lxb_char_t *) "\t", 1, ctx);
    }
    callback((lxb_char_t *) "<left ", 6, ctx);

    if (entry->left) {
        len = lexbor_conv_int64_to_data((int64_t) entry->left->size,
                                        buff, sizeof(buff));
        callback(buff, len, ctx);

        callback((lxb_char_t *) ">\n", 2, ctx);
        lexbor_bst_serialize_entry(entry->left, callback, ctx, (tabs + 1));

        for (size_t i = 0; i < tabs; i++) {
            callback((lxb_char_t *) "\t", 1, ctx);
        }
    }
    else {
        callback((lxb_char_t *) "NULL>", 5, ctx);
    }

    callback((lxb_char_t *) "</left>\n", 8, ctx);

    /* Right */
    for (size_t i = 0; i < tabs; i++) {
        callback((lxb_char_t *) "\t", 1, ctx);
    }
    callback((lxb_char_t *) "<right ", 7, ctx);

    if (entry->right) {
        len = lexbor_conv_int64_to_data((int64_t) entry->right->size,
                                        buff, sizeof(buff));
        callback(buff, len, ctx);

        callback((lxb_char_t *) ">\n", 2, ctx);
        lexbor_bst_serialize_entry(entry->right, callback, ctx, (tabs + 1));

        for (size_t i = 0; i < tabs; i++) {
            callback((lxb_char_t *) "\t", 1, ctx);
        }
    }
    else {
        callback((lxb_char_t *) "NULL>", 5, ctx);
    }

    callback((lxb_char_t *) "</right>\n", 9, ctx);
}

lexbor_bst_map_t *
lexbor_bst_map_create(void)
{
    return lexbor_calloc(1, sizeof(lexbor_bst_map_t));
}

lxb_status_t
lexbor_bst_map_init(lexbor_bst_map_t *bst_map, size_t size)
{
    lxb_status_t status;

    if (bst_map == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    if (size == 0) {
        return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    /* bst */
    bst_map->bst = lexbor_bst_create();
    status = lexbor_bst_init(bst_map->bst, size);
    if (status) {
        return status;
    }

    /* dobject */
    bst_map->entries = lexbor_dobject_create();
    status = lexbor_dobject_init(bst_map->entries, size,
                                 sizeof(lexbor_bst_map_entry_t));
    if (status) {
        return status;
    }

    /* mraw */
    bst_map->mraw = lexbor_mraw_create();
    status = lexbor_mraw_init(bst_map->mraw, (size * 6));
    if (status) {
        return status;
    }

    return LXB_STATUS_OK;
}

void
lexbor_bst_map_clean(lexbor_bst_map_t *bst_map)
{
    lexbor_bst_clean(bst_map->bst);
    lexbor_mraw_clean(bst_map->mraw);
    lexbor_dobject_clean(bst_map->entries);
}

lexbor_bst_map_t *
lexbor_bst_map_destroy(lexbor_bst_map_t *bst_map, bool self_destroy)
{
    if (bst_map == NULL) {
        return NULL;
    }

    bst_map->bst = lexbor_bst_destroy(bst_map->bst, true);
    bst_map->mraw = lexbor_mraw_destroy(bst_map->mraw, true);
    bst_map->entries = lexbor_dobject_destroy(bst_map->entries, true);

    if (self_destroy) {
        return lexbor_free(bst_map);
    }

    return bst_map;
}

lexbor_bst_map_entry_t *
lexbor_bst_map_search(lexbor_bst_map_t *bst_map, lexbor_bst_entry_t *scope,
                      const lxb_char_t *key, size_t key_len)
{
    lexbor_bst_map_entry_t *entry;
    lexbor_bst_entry_t *bst_entry;

    size_t hash_id = lexbor_utils_hash_hash(key, key_len);

    bst_entry = lexbor_bst_search(bst_map->bst, scope, hash_id);
    if (bst_entry == NULL) {
        return NULL;
    }

    do {
        entry = bst_entry->value;

        if (entry->str.length == key_len &&
            lexbor_str_data_cmp(entry->str.data, key))
        {
            return entry;
        }

        bst_entry = bst_entry->next;
    }
    while (bst_entry != NULL);

    return NULL;
}

lexbor_bst_map_entry_t *
lexbor_bst_map_insert(lexbor_bst_map_t *bst_map,
                      lexbor_bst_entry_t **scope,
                      const lxb_char_t *key, size_t key_len, void *value)
{
    lexbor_bst_map_entry_t *entry;

    entry = lexbor_bst_map_insert_not_exists(bst_map, scope, key, key_len);
    if (entry == NULL) {
        return NULL;
    }

    entry->value = value;

    return entry;
}

lexbor_bst_map_entry_t *
lexbor_bst_map_insert_not_exists(lexbor_bst_map_t *bst_map,
                                 lexbor_bst_entry_t **scope,
                                 const lxb_char_t *key, size_t key_len)
{
    lexbor_bst_map_entry_t *entry;
    lexbor_bst_entry_t *bst_entry;

    size_t hash_id = lexbor_utils_hash_hash(key, key_len);

    bst_entry = lexbor_bst_insert_not_exists(bst_map->bst, scope, hash_id);
    if (bst_entry == NULL) {
        return NULL;
    }

    if (bst_entry->value == NULL) {
        goto new_entry;
    }

    do {
        entry = bst_entry->value;

        if (entry->str.length == key_len &&
            lexbor_str_data_cmp(entry->str.data, key))
        {
            return entry;
        }

        if (bst_entry->next == NULL) {
            bst_entry->next = lexbor_bst_entry_make(bst_map->bst, hash_id);
            bst_entry = bst_entry->next;

            if (bst_entry == NULL) {
                return NULL;
            }

            goto new_entry;
        }

        bst_entry = bst_entry->next;
    }
    while (1);

    return NULL;

new_entry:

    entry = lexbor_dobject_calloc(bst_map->entries);
    if (entry == NULL) {
        return NULL;
    }

    lexbor_str_init(&entry->str, bst_map->mraw, key_len);
    if (entry->str.data == NULL) {
        lexbor_dobject_free(bst_map->entries, entry);

        return NULL;
    }

    lexbor_str_append(&entry->str, bst_map->mraw, key, key_len);

    bst_entry->value = entry;

    return entry;
}

void *
lexbor_bst_map_remove(lexbor_bst_map_t *bst_map, lexbor_bst_entry_t **scope,
                      const lxb_char_t *key, size_t key_len)
{
    lexbor_bst_map_entry_t *entry;
    lexbor_bst_entry_t *bst_entry;

    size_t hash_id = lexbor_utils_hash_hash(key, key_len);

    bst_entry = lexbor_bst_search(bst_map->bst, *scope, hash_id);
    if (bst_entry == NULL) {
        return NULL;
    }

    do {
        entry = bst_entry->value;

        if (entry->str.length == key_len &&
            lexbor_str_data_cmp(entry->str.data, key))
        {
            void *value = entry->value;

            lexbor_bst_remove_by_pointer(bst_map->bst, bst_entry, scope);

            lexbor_str_destroy(&entry->str, bst_map->mraw, false);
            lexbor_dobject_free(bst_map->entries, entry);

            return value;
        }

        bst_entry = bst_entry->next;
    }
    while (bst_entry != NULL);

    return NULL;
}

/*
 * No inline functions.
 */
lexbor_mraw_t *
lexbor_bst_map_mraw_noi(lexbor_bst_map_t *bst_map)
{
    return lexbor_bst_map_mraw(bst_map);
}

#include <math.h>
#include <float.h>


size_t
lexbor_conv_float_to_data(double num, lxb_char_t *buf, size_t len)
{
    return lexbor_dtoa(num, buf, len);
}

size_t
lexbor_conv_long_to_data(long num, lxb_char_t *buf, size_t len)
{
    return lexbor_conv_int64_to_data((int64_t) num, buf, len);
}

size_t
lexbor_conv_int64_to_data(int64_t num, lxb_char_t *buf, size_t len)
{
    int64_t tmp;
    size_t have_minus, i, length;

    static const lxb_char_t *digits = (const lxb_char_t *) "0123456789";

    if (num != 0) {
        tmp = num;
        length = 0;
        have_minus = 0;

        if (num < 0) {
            length = 1;
            num = -num;
            have_minus = 1;
        }

        while (tmp != 0) {
            length += 1;
            tmp /= 10;
        }

        /* length += (size_t) floor(log10(labs((long) num))) + 1; */
    }
    else {
        if (len > 0) {
            buf[0] = '0';
            return 1;
        }

        return 0;
    }

    if (len < length) {
        i = (length + have_minus) - len;

        while (i != have_minus) {
            i -= 1;
            num /= 10;
        }

        length = len;
    }

    if (have_minus) {
        buf[0] = '-';
    }

    i = length;
    buf[length] = '\0';

    while (i != have_minus) {
        i -= 1;
        buf[i] = digits[ num % 10 ];
        num /= 10;
    }

    return length;
}

double
lexbor_conv_data_to_double(const lxb_char_t **start, size_t len)
{
    int exponent, exp, insignf;
    lxb_char_t c, *pos;
    bool minus, ex_minus;
    double num;
    const lxb_char_t  *e, *p, *last, *end;
    lxb_char_t data[128];

    end = *start + len;

    exponent = 0;
    insignf = 0;

    pos = data;
    last = data + sizeof(data);

    minus = false;

    switch (**start) {
        case '-':
            minus = true;
            /* fall through */
        case '+':
            (*start)++;
            /* fall through */
        default:
            break;
    }

    for (p = *start; p < end; p++) {
        /* Values less than '0' become >= 208. */
        c = *p - '0';

        if (c > 9) {
            break;
        }

        if (pos < last) {
            *pos++ = *p;
        }
        else {
            insignf++;
        }
    }

    /* Do not emit a '.', but adjust the exponent instead. */
    if (p < end && *p == '.') {

        for (p++; p < end; p++) {
            /* Values less than '0' become >= 208. */
            c = *p - '0';

            if (c > 9) {
                break;
            }

            if (pos < last) {
                *pos++ = *p;
                exponent--;
            }
            else {
                /* Ignore insignificant digits in the fractional part. */
            }
        }
    }

    e = p + 1;

    if (e < end && (*p == 'e' || *p == 'E')) {
        ex_minus = 0;

        if (e + 1 < end) {
            if (*e == '-') {
                e++;
                ex_minus = 1;
            }
            else if (*e == '+') {
                e++;
            }
        }

        /* Values less than '0' become >= 208. */
        c = *e - '0';

        if (c <= 9) {
            exp = c;

            for (p = e + 1; p < end; p++) {
                /* Values less than '0' become >= 208. */
                c = *p - '0';

                if (c > 9) {
                    break;
                }

                exp = exp * 10 + c;
            }

            exponent += ex_minus ? -exp : exp;
        }
    }

    *start = p;

    exponent += insignf;

    num = lexbor_strtod_internal(data, pos - data, exponent);

    if (minus) {
        num = -num;
    }

    return num;
}

unsigned long
lexbor_conv_data_to_ulong(const lxb_char_t **data, size_t length)
{
    const lxb_char_t *p = *data;
    const lxb_char_t *end = p + length;
    unsigned long last_number = 0, number = 0;

    for (; p < end; p++) {
        if (*p < '0' || *p > '9') {
            goto done;
        }

        number = (*p - '0') + number * 10;

        if (last_number > number) {
            *data = p - 1;
            return last_number;
        }

        last_number = number;
    }

done:

    *data = p;

    return number;
}

long
lexbor_conv_data_to_long(const lxb_char_t **data, size_t length)
{
    bool minus;
    const lxb_char_t *p;
    const lxb_char_t *end;
    unsigned long n = 0, number = 0;

    minus = false;
    p = *data;
    end = p + length;

    switch (*p) {
        case '-':
            minus = true;
            /* fall through */
        case '+':
            p++;
            /* fall through */
        default:
            break;
    }

    for (; p < end; p++) {
        if (*p < '0' || *p > '9') {
            break;
        }

        n = (*p - '0') + number * 10;

        if (n > LONG_MAX) {
            p -= 1;
            break;
        }

        number = n;
    }

    *data = p;

    return (minus) ? -number : number;
}

unsigned
lexbor_conv_data_to_uint(const lxb_char_t **data, size_t length)
{
    const lxb_char_t *p = *data;
    const lxb_char_t *end = p + length;
    unsigned last_number = 0, number = 0;

    for (; p < end; p++) {
        if (*p < '0' || *p > '9') {
            goto done;
        }

        number = (*p - '0') + number * 10;

        if (last_number > number) {
            *data = p - 1;
            return last_number;
        }

        last_number = number;
    }

done:

    *data = p;

    return number;
}

size_t
lexbor_conv_dec_to_hex(uint32_t number, lxb_char_t *out, size_t length,
                       bool upper)
{
    lxb_char_t c;
    size_t len;
    uint32_t tmp;
    const lxb_char_t *map_str;

    static const lxb_char_t map_str_l[] = "0123456789abcdef";
    static const lxb_char_t map_str_u[] = "0123456789ABCDEF";

    map_str = (upper) ? map_str_u : map_str_l;

    if(number != 0) {
        tmp = number;
        len = 0;

        while (tmp != 0) {
            len += 1;
            tmp /= 16;
        }

        /* len = (size_t) floor(log10(labs((long) number))) + 1; */
    }
    else {
        if (length > 0) {
            out[0] = '0';
            return 1;
        }

        return 0;
    }

    length = len - 1;

    while (number != 0) {
        c = number % 16;
        number = number / 16;

        out[ length-- ] = map_str[c];
    }

    return len;
}

typedef struct {
  uint64_t significand;
  int16_t  bin_exp;
  int16_t  dec_exp;
}
lexbor_diyfp_cpe_t;


static const lexbor_diyfp_cpe_t lexbor_cached_powers[] = {
  { lexbor_uint64_hl(0xfa8fd5a0, 0x081c0288), -1220, -348 },
  { lexbor_uint64_hl(0xbaaee17f, 0xa23ebf76), -1193, -340 },
  { lexbor_uint64_hl(0x8b16fb20, 0x3055ac76), -1166, -332 },
  { lexbor_uint64_hl(0xcf42894a, 0x5dce35ea), -1140, -324 },
  { lexbor_uint64_hl(0x9a6bb0aa, 0x55653b2d), -1113, -316 },
  { lexbor_uint64_hl(0xe61acf03, 0x3d1a45df), -1087, -308 },
  { lexbor_uint64_hl(0xab70fe17, 0xc79ac6ca), -1060, -300 },
  { lexbor_uint64_hl(0xff77b1fc, 0xbebcdc4f), -1034, -292 },
  { lexbor_uint64_hl(0xbe5691ef, 0x416bd60c), -1007, -284 },
  { lexbor_uint64_hl(0x8dd01fad, 0x907ffc3c),  -980, -276 },
  { lexbor_uint64_hl(0xd3515c28, 0x31559a83),  -954, -268 },
  { lexbor_uint64_hl(0x9d71ac8f, 0xada6c9b5),  -927, -260 },
  { lexbor_uint64_hl(0xea9c2277, 0x23ee8bcb),  -901, -252 },
  { lexbor_uint64_hl(0xaecc4991, 0x4078536d),  -874, -244 },
  { lexbor_uint64_hl(0x823c1279, 0x5db6ce57),  -847, -236 },
  { lexbor_uint64_hl(0xc2109436, 0x4dfb5637),  -821, -228 },
  { lexbor_uint64_hl(0x9096ea6f, 0x3848984f),  -794, -220 },
  { lexbor_uint64_hl(0xd77485cb, 0x25823ac7),  -768, -212 },
  { lexbor_uint64_hl(0xa086cfcd, 0x97bf97f4),  -741, -204 },
  { lexbor_uint64_hl(0xef340a98, 0x172aace5),  -715, -196 },
  { lexbor_uint64_hl(0xb23867fb, 0x2a35b28e),  -688, -188 },
  { lexbor_uint64_hl(0x84c8d4df, 0xd2c63f3b),  -661, -180 },
  { lexbor_uint64_hl(0xc5dd4427, 0x1ad3cdba),  -635, -172 },
  { lexbor_uint64_hl(0x936b9fce, 0xbb25c996),  -608, -164 },
  { lexbor_uint64_hl(0xdbac6c24, 0x7d62a584),  -582, -156 },
  { lexbor_uint64_hl(0xa3ab6658, 0x0d5fdaf6),  -555, -148 },
  { lexbor_uint64_hl(0xf3e2f893, 0xdec3f126),  -529, -140 },
  { lexbor_uint64_hl(0xb5b5ada8, 0xaaff80b8),  -502, -132 },
  { lexbor_uint64_hl(0x87625f05, 0x6c7c4a8b),  -475, -124 },
  { lexbor_uint64_hl(0xc9bcff60, 0x34c13053),  -449, -116 },
  { lexbor_uint64_hl(0x964e858c, 0x91ba2655),  -422, -108 },
  { lexbor_uint64_hl(0xdff97724, 0x70297ebd),  -396, -100 },
  { lexbor_uint64_hl(0xa6dfbd9f, 0xb8e5b88f),  -369,  -92 },
  { lexbor_uint64_hl(0xf8a95fcf, 0x88747d94),  -343,  -84 },
  { lexbor_uint64_hl(0xb9447093, 0x8fa89bcf),  -316,  -76 },
  { lexbor_uint64_hl(0x8a08f0f8, 0xbf0f156b),  -289,  -68 },
  { lexbor_uint64_hl(0xcdb02555, 0x653131b6),  -263,  -60 },
  { lexbor_uint64_hl(0x993fe2c6, 0xd07b7fac),  -236,  -52 },
  { lexbor_uint64_hl(0xe45c10c4, 0x2a2b3b06),  -210,  -44 },
  { lexbor_uint64_hl(0xaa242499, 0x697392d3),  -183,  -36 },
  { lexbor_uint64_hl(0xfd87b5f2, 0x8300ca0e),  -157,  -28 },
  { lexbor_uint64_hl(0xbce50864, 0x92111aeb),  -130,  -20 },
  { lexbor_uint64_hl(0x8cbccc09, 0x6f5088cc),  -103,  -12 },
  { lexbor_uint64_hl(0xd1b71758, 0xe219652c),   -77,   -4 },
  { lexbor_uint64_hl(0x9c400000, 0x00000000),   -50,    4 },
  { lexbor_uint64_hl(0xe8d4a510, 0x00000000),   -24,   12 },
  { lexbor_uint64_hl(0xad78ebc5, 0xac620000),     3,   20 },
  { lexbor_uint64_hl(0x813f3978, 0xf8940984),    30,   28 },
  { lexbor_uint64_hl(0xc097ce7b, 0xc90715b3),    56,   36 },
  { lexbor_uint64_hl(0x8f7e32ce, 0x7bea5c70),    83,   44 },
  { lexbor_uint64_hl(0xd5d238a4, 0xabe98068),   109,   52 },
  { lexbor_uint64_hl(0x9f4f2726, 0x179a2245),   136,   60 },
  { lexbor_uint64_hl(0xed63a231, 0xd4c4fb27),   162,   68 },
  { lexbor_uint64_hl(0xb0de6538, 0x8cc8ada8),   189,   76 },
  { lexbor_uint64_hl(0x83c7088e, 0x1aab65db),   216,   84 },
  { lexbor_uint64_hl(0xc45d1df9, 0x42711d9a),   242,   92 },
  { lexbor_uint64_hl(0x924d692c, 0xa61be758),   269,  100 },
  { lexbor_uint64_hl(0xda01ee64, 0x1a708dea),   295,  108 },
  { lexbor_uint64_hl(0xa26da399, 0x9aef774a),   322,  116 },
  { lexbor_uint64_hl(0xf209787b, 0xb47d6b85),   348,  124 },
  { lexbor_uint64_hl(0xb454e4a1, 0x79dd1877),   375,  132 },
  { lexbor_uint64_hl(0x865b8692, 0x5b9bc5c2),   402,  140 },
  { lexbor_uint64_hl(0xc83553c5, 0xc8965d3d),   428,  148 },
  { lexbor_uint64_hl(0x952ab45c, 0xfa97a0b3),   455,  156 },
  { lexbor_uint64_hl(0xde469fbd, 0x99a05fe3),   481,  164 },
  { lexbor_uint64_hl(0xa59bc234, 0xdb398c25),   508,  172 },
  { lexbor_uint64_hl(0xf6c69a72, 0xa3989f5c),   534,  180 },
  { lexbor_uint64_hl(0xb7dcbf53, 0x54e9bece),   561,  188 },
  { lexbor_uint64_hl(0x88fcf317, 0xf22241e2),   588,  196 },
  { lexbor_uint64_hl(0xcc20ce9b, 0xd35c78a5),   614,  204 },
  { lexbor_uint64_hl(0x98165af3, 0x7b2153df),   641,  212 },
  { lexbor_uint64_hl(0xe2a0b5dc, 0x971f303a),   667,  220 },
  { lexbor_uint64_hl(0xa8d9d153, 0x5ce3b396),   694,  228 },
  { lexbor_uint64_hl(0xfb9b7cd9, 0xa4a7443c),   720,  236 },
  { lexbor_uint64_hl(0xbb764c4c, 0xa7a44410),   747,  244 },
  { lexbor_uint64_hl(0x8bab8eef, 0xb6409c1a),   774,  252 },
  { lexbor_uint64_hl(0xd01fef10, 0xa657842c),   800,  260 },
  { lexbor_uint64_hl(0x9b10a4e5, 0xe9913129),   827,  268 },
  { lexbor_uint64_hl(0xe7109bfb, 0xa19c0c9d),   853,  276 },
  { lexbor_uint64_hl(0xac2820d9, 0x623bf429),   880,  284 },
  { lexbor_uint64_hl(0x80444b5e, 0x7aa7cf85),   907,  292 },
  { lexbor_uint64_hl(0xbf21e440, 0x03acdd2d),   933,  300 },
  { lexbor_uint64_hl(0x8e679c2f, 0x5e44ff8f),   960,  308 },
  { lexbor_uint64_hl(0xd433179d, 0x9c8cb841),   986,  316 },
  { lexbor_uint64_hl(0x9e19db92, 0xb4e31ba9),  1013,  324 },
  { lexbor_uint64_hl(0xeb96bf6e, 0xbadf77d9),  1039,  332 },
  { lexbor_uint64_hl(0xaf87023b, 0x9bf0ee6b),  1066,  340 },
};


#define LEXBOR_DIYFP_D_1_LOG2_10 0.30102999566398114 /* 1 / log2(10). */


lexbor_diyfp_t
lexbor_cached_power_dec(int exp, int *dec_exp)
{
    unsigned int index;
    const lexbor_diyfp_cpe_t *cp;

    index = (exp + LEXBOR_DECIMAL_EXPONENT_OFF) / LEXBOR_DECIMAL_EXPONENT_DIST;
    cp = &lexbor_cached_powers[index];

    *dec_exp = cp->dec_exp;

    return lexbor_diyfp(cp->significand, cp->bin_exp);
}

lexbor_diyfp_t
lexbor_cached_power_bin(int exp, int *dec_exp)
{
    int k;
    unsigned int index;
    const lexbor_diyfp_cpe_t *cp;

    k = (int) ceil((-61 - exp) * LEXBOR_DIYFP_D_1_LOG2_10)
        + LEXBOR_DECIMAL_EXPONENT_OFF - 1;

    index = (unsigned) (k >> 3) + 1;

    cp = &lexbor_cached_powers[index];

    *dec_exp = -(LEXBOR_DECIMAL_EXPONENT_MIN + (int) (index << 3));

    return lexbor_diyfp(cp->significand, cp->bin_exp);
}


#undef LEXBOR_DIYFP_D_1_LOG2_10

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
    #include <sanitizer/asan_interface.h>
#endif


lexbor_dobject_t *
lexbor_dobject_create(void)
{
    return lexbor_calloc(1, sizeof(lexbor_dobject_t));
}

lxb_status_t
lexbor_dobject_init(lexbor_dobject_t *dobject,
                    size_t chunk_size, size_t struct_size)
{
    lxb_status_t status;

    if (dobject == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    if (chunk_size == 0 || struct_size == 0) {
        return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    /* Set params */
    dobject->allocated = 0UL;
    dobject->struct_size = struct_size;

    /* Init memory */
    dobject->mem = lexbor_mem_create();

    status = lexbor_mem_init(dobject->mem,
                           lexbor_mem_align(chunk_size * dobject->struct_size));
    if (status) {
        return status;
    }

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
    ASAN_POISON_MEMORY_REGION(dobject->mem->chunk->data,
                              dobject->mem->chunk->size);
#endif

    /* Array */
    dobject->cache = lexbor_array_create();

    status = lexbor_array_init(dobject->cache, chunk_size);
    if (status)
        return status;

    return LXB_STATUS_OK;
}

void
lexbor_dobject_clean(lexbor_dobject_t *dobject)
{
    if (dobject != NULL) {
        dobject->allocated = 0UL;

        lexbor_mem_clean(dobject->mem);
        lexbor_array_clean(dobject->cache);
    }
}

lexbor_dobject_t *
lexbor_dobject_destroy(lexbor_dobject_t *dobject, bool destroy_self)
{
    if (dobject == NULL)
        return NULL;

    dobject->mem = lexbor_mem_destroy(dobject->mem, true);
    dobject->cache = lexbor_array_destroy(dobject->cache, true);

    if (destroy_self == true) {
        return lexbor_free(dobject);
    }

    return dobject;
}

void *
lexbor_dobject_alloc(lexbor_dobject_t *dobject)
{
    void *data;

    if (lexbor_array_length(dobject->cache) != 0) {
        dobject->allocated++;

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
        data = lexbor_array_pop(dobject->cache);
        ASAN_UNPOISON_MEMORY_REGION(data, dobject->struct_size);

        return data;
#else
        return lexbor_array_pop(dobject->cache);
#endif
    }

    data = lexbor_mem_alloc(dobject->mem, dobject->struct_size);
    if (data == NULL) {
        return NULL;
    }

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
    ASAN_UNPOISON_MEMORY_REGION(data, dobject->struct_size);
#endif

    dobject->allocated++;

    return data;
}

void *
lexbor_dobject_calloc(lexbor_dobject_t *dobject)
{
    void *data = lexbor_dobject_alloc(dobject);

    if (data != NULL) {
        memset(data, 0, dobject->struct_size);
    }

    return data;
}

void *
lexbor_dobject_free(lexbor_dobject_t *dobject, void *data)
{
    if (data == NULL) {
        return NULL;
    }

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
    ASAN_POISON_MEMORY_REGION(data, dobject->struct_size);
#endif

    if (lexbor_array_push(dobject->cache, data) == LXB_STATUS_OK) {
        dobject->allocated--;
        return NULL;
    }

    return data;
}

void *
lexbor_dobject_by_absolute_position(lexbor_dobject_t *dobject, size_t pos)
{
    size_t chunk_idx, chunk_pos, i;
    lexbor_mem_chunk_t *chunk;

    if (pos >= dobject->allocated) {
        return NULL;
    }

    chunk = dobject->mem->chunk_first;
    chunk_pos = pos * dobject->struct_size;
    chunk_idx = chunk_pos / dobject->mem->chunk_min_size;

    for (i = 0; i < chunk_idx; i++) {
        chunk = chunk->next;
    }

    return &chunk->data[chunk_pos % chunk->size];
}

/*
 * No inline functions for ABI.
 */
size_t
lexbor_dobject_allocated_noi(lexbor_dobject_t *dobject)
{
    return lexbor_dobject_allocated(dobject);
}

size_t
lexbor_dobject_cache_length_noi(lexbor_dobject_t *dobject)
{
    return lexbor_dobject_cache_length(dobject);
}

#include <math.h>
#include <string.h>


lxb_inline void
lexbor_grisu2_round(lxb_char_t *start, size_t len, uint64_t delta, uint64_t rest,
                    uint64_t ten_kappa, uint64_t wp_w)
{
    while (rest < wp_w && delta - rest >= ten_kappa
           && (rest + ten_kappa < wp_w ||  /* closer */
               wp_w - rest > rest + ten_kappa - wp_w))
    {
        start[len - 1]--;
        rest += ten_kappa;
    }
}

lxb_inline int
lexbor_dec_count(uint32_t n)
{
    if (n < 10) return 1;
    if (n < 100) return 2;
    if (n < 1000) return 3;
    if (n < 10000) return 4;
    if (n < 100000) return 5;
    if (n < 1000000) return 6;
    if (n < 10000000) return 7;
    if (n < 100000000) return 8;
    if (n < 1000000000) return 9;

    return 10;
}

lxb_inline size_t
lexbor_grisu2_gen(lexbor_diyfp_t W, lexbor_diyfp_t Mp, uint64_t delta,
                  lxb_char_t *begin, lxb_char_t *end, int *dec_exp)
{
    int kappa;
    lxb_char_t c, *p;
    uint32_t p1, d;
    uint64_t p2, tmp;
    lexbor_diyfp_t one, wp_w;

    static const uint64_t pow10[] = {
        1,
        10,
        100,
        1000,
        10000,
        100000,
        1000000,
        10000000,
        100000000,
        1000000000
    };

    wp_w = lexbor_diyfp_sub(Mp, W);

    one = lexbor_diyfp((uint64_t) 1 << -Mp.exp, Mp.exp);
    p1 = (uint32_t) (Mp.significand >> -one.exp);
    p2 = Mp.significand & (one.significand - 1);

    p = begin;

    /* GCC 4.2 complains about uninitialized d. */
    d = 0;

    kappa = lexbor_dec_count(p1);

    while (kappa > 0) {
        switch (kappa) {
            case 10: d = p1 / 1000000000; p1 %= 1000000000; break;
            case  9: d = p1 /  100000000; p1 %=  100000000; break;
            case  8: d = p1 /   10000000; p1 %=   10000000; break;
            case  7: d = p1 /    1000000; p1 %=    1000000; break;
            case  6: d = p1 /     100000; p1 %=     100000; break;
            case  5: d = p1 /      10000; p1 %=      10000; break;
            case  4: d = p1 /       1000; p1 %=       1000; break;
            case  3: d = p1 /        100; p1 %=        100; break;
            case  2: d = p1 /         10; p1 %=         10; break;
            case  1: d = p1;              p1 =           0; break;
            default:
                /* Never go here. */
                return 0;
        }

        if (d != 0 || p != begin) {
            *p = '0' + d;

            p += 1;
            if (p == end) {
                return p - begin;
            }
        }

        kappa--;

        tmp = ((uint64_t) p1 << -one.exp) + p2;

        if (tmp <= delta) {
            *dec_exp += kappa;
            lexbor_grisu2_round(begin, p - begin, delta, tmp,
                                pow10[kappa] << -one.exp, wp_w.significand);
            return p - begin;
        }
    }

    /* kappa = 0. */

    for ( ;; ) {
        p2 *= 10;
        delta *= 10;
        c = (char) (p2 >> -one.exp);

        if (c != 0 || p != begin) {
            *p = '0' + c;

            p += 1;
            if (p == end) {
                return p - begin;
            }
        }

        p2 &= one.significand - 1;
        kappa--;

        if (p2 < delta) {
            *dec_exp += kappa;
            tmp = (-kappa < 10) ? pow10[-kappa] : 0;
            lexbor_grisu2_round(begin, p - begin, delta, p2, one.significand,
                                wp_w.significand * tmp);
            break;
        }
    }

    return p - begin;
}

lxb_inline lexbor_diyfp_t
lexbor_diyfp_normalize_boundary(lexbor_diyfp_t v)
{
    while ((v.significand & (LEXBOR_DBL_HIDDEN_BIT << 1)) == 0) {
            v.significand <<= 1;
            v.exp--;
    }

    return lexbor_diyfp_shift_left(v, LEXBOR_SIGNIFICAND_SHIFT - 2);
}

lxb_inline void
lexbor_diyfp_normalize_boundaries(lexbor_diyfp_t v, lexbor_diyfp_t* minus,
                                  lexbor_diyfp_t* plus)
{
    lexbor_diyfp_t pl, mi;

    pl = lexbor_diyfp_normalize_boundary(lexbor_diyfp((v.significand << 1) + 1,
                                                      v.exp - 1));

    if (v.significand == LEXBOR_DBL_HIDDEN_BIT) {
        mi = lexbor_diyfp((v.significand << 2) - 1, v.exp - 2);

    } else {
        mi = lexbor_diyfp((v.significand << 1) - 1, v.exp - 1);
    }

    mi.significand <<= mi.exp - pl.exp;
    mi.exp = pl.exp;

    *plus = pl;
    *minus = mi;
}

lxb_inline size_t
lexbor_grisu2(double value, lxb_char_t *begin, lxb_char_t *end, int *dec_exp)
{
    lexbor_diyfp_t v, w_m, w_p, c_mk, W, Wp, Wm;

    v = lexbor_diyfp_from_d2(value);

    lexbor_diyfp_normalize_boundaries(v, &w_m, &w_p);

    c_mk = lexbor_cached_power_bin(w_p.exp, dec_exp);
    W = lexbor_diyfp_mul(lexbor_diyfp_normalize(v), c_mk);

    Wp = lexbor_diyfp_mul(w_p, c_mk);
    Wm = lexbor_diyfp_mul(w_m, c_mk);

    Wm.significand++;
    Wp.significand--;

   return lexbor_grisu2_gen(W, Wp, Wp.significand - Wm.significand, begin, end,
                            dec_exp);
}

lxb_inline size_t
lexbor_write_exponent(int exp, lxb_char_t *begin, lxb_char_t *end)
{
    char *p;
    size_t len;
    uint32_t u32;
    char buf[4];

    /* -324 <= exp <= 308. */

    if ((begin + (sizeof(buf) - 1) + 1) >= end) {
        return 0;
    }

    if (exp < 0) {
        *begin = '-';
        begin += 1;

        exp = -exp;
    }
    else {
        *begin++ = '+';
    }

    u32 = exp;
    p = buf + (sizeof(buf) - 1);

    do {
        *--p = u32 % 10 + '0';
        u32 /= 10;
    }
    while (u32 != 0);

    len = buf + (sizeof(buf) - 1) - p;

    memcpy(begin, p, len);

    return len + 1;
}

lxb_inline size_t
lexbor_prettify(lxb_char_t *begin, lxb_char_t *end, size_t len, int dec_exp)
{
    int kk, offset, length;
    size_t size;

    /* 10^(kk-1) <= v < 10^kk */

    length = (int) len;
    kk = length + dec_exp;

    if (length <= kk && kk <= 21) {
        /* 1234e7 -> 12340000000 */

        if (kk - length > 0) {
            if ((&begin[length] + (kk - length)) < end) {
                memset(&begin[length], '0', kk - length);
            }
            else {
                memset(&begin[length], '0', (end - &begin[length]));
            }
        }

        return kk;
    }
    else if (0 < kk && kk <= 21) {
        /* 1234e-2 -> 12.34 */

        if ((&begin[kk + 1] + (length - kk)) >= end) {
            return length;
        }

        memmove(&begin[kk + 1], &begin[kk], length - kk);
        begin[kk] = '.';

        return (length + 1);
    }
    else if (-6 < kk && kk <= 0) {
        /* 1234e-6 -> 0.001234 */

        offset = 2 - kk;
        if ((&begin[offset] + length) >= end
            || (begin + 2) >= end)
        {
            return length;
        }

        memmove(&begin[offset], begin, length);
        begin[0] = '0';
        begin[1] = '.';

        if (offset - 2 > 0) {
            if ((&begin[2] + (offset - 2)) >= end) {
                return length;
            }

            memset(&begin[2], '0', offset - 2);
        }

        return (length + offset);
    }
    else if (length == 1) {
        /* 1e30 */

        if ((begin + 1) >= end) {
            return length;
        }

        begin[1] = 'e';

        size =  lexbor_write_exponent(kk - 1, &begin[2], end);

        return (size + 2);
    }

    /* 1234e30 -> 1.234e33 */

    if ((&begin[2] + (length - 1)) >= end) {
        return length;
    }

    memmove(&begin[2], &begin[1], length - 1);
    begin[1] = '.';
    begin[length + 1] = 'e';

    size = lexbor_write_exponent(kk - 1, &begin[length + 2], end);

    return (size + length + 2);
}

size_t
lexbor_dtoa(double value, lxb_char_t *begin, size_t len)
{
    int dec_exp, minus;
    size_t length;
    lxb_char_t *end = begin + len;

    if (len == 0) {
        return 0;
    }

    /* Not handling NaN and inf. */

    minus = 0;

    if (value == 0) {
        *begin = '0';

        return 1;
    }

    if (signbit(value)) {
        *begin = '-';

        begin += 1;
        if (begin == end) {
            return 1;
        }

        value = -value;
        minus = 1;
    }

    length = lexbor_grisu2(value, begin, end, &dec_exp);
    length = lexbor_prettify(begin, end, length, dec_exp);

    return (minus + length);
}

#define LEXBOR_HASH_EXTERN
#undef LEXBOR_HASH_EXTERN


#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_lowercase[256];
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_uppercase[256];
#endif


/* Insert variable. */
const lexbor_hash_insert_t lexbor_hash_insert_var = {
    .hash = lexbor_hash_make_id,
    .copy = lexbor_hash_copy,
    .cmp = lexbor_str_data_ncmp
};

const lexbor_hash_insert_t lexbor_hash_insert_lower_var = {
    .hash = lexbor_hash_make_id_lower,
    .copy = lexbor_hash_copy_lower,
    .cmp = lexbor_str_data_nlocmp_right
};

const lexbor_hash_insert_t lexbor_hash_insert_upper_var = {
    .hash = lexbor_hash_make_id_upper,
    .copy = lexbor_hash_copy_upper,
    .cmp = lexbor_str_data_nupcmp_right
};

LXB_API const lexbor_hash_insert_t
*lexbor_hash_insert_raw = &lexbor_hash_insert_var;

LXB_API const lexbor_hash_insert_t
*lexbor_hash_insert_lower = &lexbor_hash_insert_lower_var;

LXB_API const lexbor_hash_insert_t
*lexbor_hash_insert_upper = &lexbor_hash_insert_upper_var;

/* Search variable. */
const lexbor_hash_search_t lexbor_hash_search_var = {
    .hash = lexbor_hash_make_id,
    .cmp = lexbor_str_data_ncmp
};

const lexbor_hash_search_t lexbor_hash_search_lower_var = {
    .hash = lexbor_hash_make_id_lower,
    .cmp = lexbor_str_data_nlocmp_right
};

const lexbor_hash_search_t lexbor_hash_search_upper_var = {
    .hash = lexbor_hash_make_id_upper,
    .cmp = lexbor_str_data_nupcmp_right
};

LXB_API const lexbor_hash_search_t
*lexbor_hash_search_raw = &lexbor_hash_search_var;

LXB_API const lexbor_hash_search_t
*lexbor_hash_search_lower = &lexbor_hash_search_lower_var;

LXB_API const lexbor_hash_search_t
*lexbor_hash_search_upper = &lexbor_hash_search_upper_var;


lxb_inline lexbor_hash_entry_t **
lexbor_hash_table_create(lexbor_hash_t *hash)
{
    return lexbor_calloc(hash->table_size, sizeof(lexbor_hash_entry_t *));
}

lxb_inline void
lexbor_hash_table_clean(lexbor_hash_t *hash)
{
    memset(hash->table, 0, sizeof(lexbor_hash_t *) * hash->table_size);
}

lxb_inline lexbor_hash_entry_t **
lexbor_hash_table_destroy(lexbor_hash_t *hash)
{
    if (hash->table != NULL) {
        return lexbor_free(hash->table);
    }

    return NULL;
}

lxb_inline lexbor_hash_entry_t *
_lexbor_hash_entry_create(lexbor_hash_t *hash, const lexbor_hash_copy_f copy_func,
                          const lxb_char_t *key, size_t length)
{
    lexbor_hash_entry_t *entry = lexbor_dobject_calloc(hash->entries);
    if (entry == NULL) {
        return NULL;
    }

    entry->length = length;

    if (copy_func(hash, entry, key, length) != LXB_STATUS_OK) {
        lexbor_dobject_free(hash->entries, entry);
        return NULL;
    }

    return entry;
}

lexbor_hash_t *
lexbor_hash_create(void)
{
    return lexbor_calloc(1, sizeof(lexbor_hash_t));
}

lxb_status_t
lexbor_hash_init(lexbor_hash_t *hash, size_t table_size, size_t struct_size)
{
    lxb_status_t status;
    size_t chunk_size;

    if (hash == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    if (table_size < LEXBOR_HASH_TABLE_MIN_SIZE) {
        table_size = LEXBOR_HASH_TABLE_MIN_SIZE;
    }

    chunk_size = table_size / 2;

    hash->table_size = table_size;

    hash->entries = lexbor_dobject_create();
    status = lexbor_dobject_init(hash->entries, chunk_size, struct_size);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    hash->mraw = lexbor_mraw_create();
    status = lexbor_mraw_init(hash->mraw, chunk_size * 12);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    hash->table = lexbor_hash_table_create(hash);
    if (hash->table == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    hash->struct_size = struct_size;

    return LXB_STATUS_OK;
}

void
lexbor_hash_clean(lexbor_hash_t *hash)
{
    lexbor_dobject_clean(hash->entries);
    lexbor_mraw_clean(hash->mraw);
    lexbor_hash_table_clean(hash);
}

lexbor_hash_t *
lexbor_hash_destroy(lexbor_hash_t *hash, bool destroy_obj)
{
    if (hash == NULL) {
        return NULL;
    }

    hash->entries = lexbor_dobject_destroy(hash->entries, true);
    hash->mraw = lexbor_mraw_destroy(hash->mraw, true);
    hash->table = lexbor_hash_table_destroy(hash);

    if (destroy_obj) {
        return lexbor_free(hash);
    }

    return hash;
}

void *
lexbor_hash_insert(lexbor_hash_t *hash, const lexbor_hash_insert_t *insert,
                   const lxb_char_t *key, size_t length)
{
    lxb_char_t *str;
    uint32_t hash_id, table_idx;
    lexbor_hash_entry_t *entry;

    hash_id = insert->hash(key, length);
    table_idx = hash_id % hash->table_size;

    entry = hash->table[table_idx];

    if (entry == NULL) {
        entry = _lexbor_hash_entry_create(hash, insert->copy, key, length);
        hash->table[table_idx] = entry;

        return entry;
    }

    do {
        str = lexbor_hash_entry_str(entry);

        if (entry->length == length && insert->cmp(str, key, length)) {
            return entry;
        }

        if (entry->next == NULL) {
            break;
        }

        entry = entry->next;
    }
    while (1);

    entry->next = _lexbor_hash_entry_create(hash, insert->copy, key, length);

    return entry->next;
}

void *
lexbor_hash_insert_by_entry(lexbor_hash_t *hash, lexbor_hash_entry_t *entry,
                            const lexbor_hash_search_t *search,
                            const lxb_char_t *key, size_t length)
{
    lxb_char_t *str;
    uint32_t hash_id, table_idx;
    lexbor_hash_entry_t *item;

    hash_id = search->hash(key, length);
    table_idx = hash_id % hash->table_size;

    item = hash->table[table_idx];

    if (item == NULL) {
        hash->table[table_idx] = entry;

        return entry;
    }

    do {
        str = lexbor_hash_entry_str(item);

        if (item->length == length && search->cmp(str, key, length)) {
            return item;
        }

        if (item->next == NULL) {
            break;
        }

        item = item->next;
    }
    while (1);

    item->next = entry;

    return entry;
}

void
lexbor_hash_remove(lexbor_hash_t *hash, const lexbor_hash_search_t *search,
                   const lxb_char_t *key, size_t length)
{
    lexbor_hash_remove_by_hash_id(hash, search->hash(key, length),
                                  key, length, search->cmp);
}

void *
lexbor_hash_search(lexbor_hash_t *hash, const lexbor_hash_search_t *search,
                   const lxb_char_t *key, size_t length)
{
    return lexbor_hash_search_by_hash_id(hash, search->hash(key, length),
                                         key, length, search->cmp);
}

void
lexbor_hash_remove_by_hash_id(lexbor_hash_t *hash, uint32_t hash_id,
                              const lxb_char_t *key, size_t length,
                              const lexbor_hash_cmp_f cmp_func)
{
    uint32_t table_idx;
    lxb_char_t *str;
    lexbor_hash_entry_t *entry, *prev;

    table_idx = hash_id % hash->table_size;
    entry = hash->table[table_idx];
    prev = NULL;

    while (entry != NULL) {
        str = lexbor_hash_entry_str(entry);

        if (entry->length == length && cmp_func(str, key, length)) {
            if (prev == NULL) {
                hash->table[table_idx] = entry->next;
            }
            else {
                prev->next = entry->next;
            }

            if (length > LEXBOR_HASH_SHORT_SIZE) {
                lexbor_mraw_free(hash->mraw, entry->u.long_str);
            }

            lexbor_dobject_free(hash->entries, entry);

            return;
        }

        prev = entry;
        entry = entry->next;
    }
}

void *
lexbor_hash_search_by_hash_id(lexbor_hash_t *hash, uint32_t hash_id,
                              const lxb_char_t *key, size_t length,
                              const lexbor_hash_cmp_f cmp_func)
{
    lxb_char_t *str;
    lexbor_hash_entry_t *entry;

    entry = hash->table[ hash_id % hash->table_size ];

    while (entry != NULL) {
        str = lexbor_hash_entry_str(entry);

        if (entry->length == length && cmp_func(str, key, length)) {
            return entry;
        }

        entry = entry->next;
    }

    return NULL;
}

uint32_t
lexbor_hash_make_id(const lxb_char_t *key, size_t length)
{
    size_t i;
    uint32_t hash_id;

    for (i = hash_id = 0; i < length; i++) {
        hash_id += key[i];
        hash_id += (hash_id << 10);
        hash_id ^= (hash_id >> 6);
    }

    hash_id += (hash_id << 3);
    hash_id ^= (hash_id >> 11);
    hash_id += (hash_id << 15);

    return hash_id;
}

uint32_t
lexbor_hash_make_id_lower(const lxb_char_t *key, size_t length)
{
    size_t i;
    uint32_t hash_id;

    for (i = hash_id = 0; i < length; i++) {
        hash_id += lexbor_str_res_map_lowercase[ key[i] ];
        hash_id += (hash_id << 10);
        hash_id ^= (hash_id >> 6);
    }

    hash_id += (hash_id << 3);
    hash_id ^= (hash_id >> 11);
    hash_id += (hash_id << 15);

    return hash_id;
}

uint32_t
lexbor_hash_make_id_upper(const lxb_char_t *key, size_t length)
{
    size_t i;
    uint32_t hash_id;

    for (i = hash_id = 0; i < length; i++) {
        hash_id += lexbor_str_res_map_uppercase[ key[i] ];
        hash_id += (hash_id << 10);
        hash_id ^= (hash_id >> 6);
    }

    hash_id += (hash_id << 3);
    hash_id ^= (hash_id >> 11);
    hash_id += (hash_id << 15);

    return hash_id;
}

lxb_status_t
lexbor_hash_copy(lexbor_hash_t *hash, lexbor_hash_entry_t *entry,
                 const lxb_char_t *key, size_t length)
{
    lxb_char_t *to;

    if (length <= LEXBOR_HASH_SHORT_SIZE) {
        to = entry->u.short_str;
    }
    else {
        entry->u.long_str = lexbor_mraw_alloc(hash->mraw, length + 1);
        if (entry->u.long_str == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        to = entry->u.long_str;
    }

    memcpy(to, key, length);

    to[length] = '\0';

    return LXB_STATUS_OK;
}

lxb_status_t
lexbor_hash_copy_lower(lexbor_hash_t *hash, lexbor_hash_entry_t *entry,
                       const lxb_char_t *key, size_t length)
{
    lxb_char_t *to;

    if (length <= LEXBOR_HASH_SHORT_SIZE) {
        to = entry->u.short_str;
    }
    else {
        entry->u.long_str = lexbor_mraw_alloc(hash->mraw, length + 1);
        if (entry->u.long_str == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        to = entry->u.long_str;
    }

    for (size_t i = 0; i < length; i++) {
        to[i] = lexbor_str_res_map_lowercase[ key[i] ];
    }

    to[length] = '\0';

    return LXB_STATUS_OK;
}

lxb_status_t
lexbor_hash_copy_upper(lexbor_hash_t *hash, lexbor_hash_entry_t *entry,
                       const lxb_char_t *key, size_t length)
{
    lxb_char_t *to;

    if (length <= LEXBOR_HASH_SHORT_SIZE) {
        to = entry->u.short_str;
    }
    else {
        entry->u.long_str = lexbor_mraw_alloc(hash->mraw, length + 1);
        if (entry->u.long_str == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        to = entry->u.long_str;
    }

    for (size_t i = 0; i < length; i++) {
        to[i] = lexbor_str_res_map_uppercase[ key[i] ];
    }

    to[length] = '\0';

    return LXB_STATUS_OK;
}

lexbor_in_t *
lexbor_in_create(void)
{
    return lexbor_calloc(1, sizeof(lexbor_in_t));
}

lxb_status_t
lexbor_in_init(lexbor_in_t *incoming, size_t chunk_size)
{
    if (incoming == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    if (chunk_size == 0) {
        return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    incoming->nodes = lexbor_dobject_create();

    return lexbor_dobject_init(incoming->nodes, chunk_size,
                               sizeof(lexbor_in_node_t));
}

void
lexbor_in_clean(lexbor_in_t *incoming)
{
    lexbor_dobject_clean(incoming->nodes);
}

lexbor_in_t *
lexbor_in_destroy(lexbor_in_t *incoming, bool self_destroy)
{
    if (incoming == NULL) {
        return NULL;
    }

    incoming->nodes = lexbor_dobject_destroy(incoming->nodes, true);

    if (self_destroy == true) {
        return lexbor_free(incoming);
    }

    return incoming;
}

lexbor_in_node_t *
lexbor_in_node_make(lexbor_in_t *incoming, lexbor_in_node_t *last_node,
                    const lxb_char_t *buf, size_t buf_size)
{
    lexbor_in_node_t *node = lexbor_dobject_alloc(incoming->nodes);

    if (node == NULL) {
        return NULL;
    }

    node->opt = LEXBOR_IN_OPT_UNDEF;
    node->begin = buf;
    node->end = buf ? (buf + buf_size) : NULL;
    node->use = buf;

    if (last_node != NULL) {
        last_node->next = node;
        node->offset = last_node->offset + (last_node->end - last_node->begin);
    }
    else {
        node->offset = 0;
    }

    node->prev = last_node;
    node->next = NULL;
    node->incoming = incoming;

    return node;
}

void
lexbor_in_node_clean(lexbor_in_node_t *node)
{
    lexbor_in_t *incoming = node->incoming;

    memset(node, 0, sizeof(lexbor_in_node_t));

    node->incoming = incoming;
}

lexbor_in_node_t *
lexbor_in_node_destroy(lexbor_in_t *incoming,
                       lexbor_in_node_t *node, bool self_destroy)
{
    if (node == NULL) {
        return NULL;
    }

    if (self_destroy) {
        return lexbor_dobject_free(incoming->nodes, node);
    }

    return node;
}

lexbor_in_node_t *
lexbor_in_node_split(lexbor_in_node_t *node, const lxb_char_t *pos)
{
    lexbor_in_node_t *new_node;

    new_node = lexbor_dobject_alloc(node->incoming->nodes);

    if (new_node == NULL) {
        return NULL;
    }

    new_node->offset   = node->offset + (pos - node->begin);
    new_node->opt      = LEXBOR_IN_OPT_UNDEF;
    new_node->begin    = pos;
    new_node->end      = node->end;
    new_node->next     = NULL;
    new_node->prev     = node;
    new_node->incoming = node->incoming;

    node->end  = pos;
    node->next = new_node;

    if (node->use > pos) {
        new_node->use = node->use;
        node->use = pos;
    }
    else {
        new_node->use = pos;
    }

    return new_node;
}

lexbor_in_node_t *
lexbor_in_node_find(lexbor_in_node_t *node, const lxb_char_t *pos)
{
    while (node->next) {
        node = node->next;
    }

    while (node && (node->begin > pos || node->end < pos)) {
        node = node->prev;
    }

    return node;
}

const lxb_char_t *
lexbor_in_node_pos_up(lexbor_in_node_t *node, lexbor_in_node_t **return_node,
                      const lxb_char_t *pos, size_t offset)
{
    do {
        pos = pos + offset;

        if (node->end >= pos) {
            if (return_node != NULL && *return_node != node) {
                *return_node = node;
            }

            return pos;
        }

        if (node->next == NULL) {
            if (return_node != NULL && *return_node != node) {
                *return_node = node;
            }

            return node->end;
        }

        offset = pos - node->end;
        node = node->next;
        pos = node->begin;

    }
    while (1);

    return NULL;
}

const lxb_char_t *
lexbor_in_node_pos_down(lexbor_in_node_t *node, lexbor_in_node_t **return_node,
                        const lxb_char_t *pos, size_t offset)
{
    do {
        pos = pos - offset;

        if (node->begin <= pos) {
            if (return_node != NULL && *return_node != node) {
                *return_node = node;
            }

            return pos;
        }

        if (node->prev == NULL) {
            if (return_node != NULL && *return_node != node) {
                *return_node = node;
            }

            return node->begin;
        }

        offset = node->begin - pos;
        node = node->prev;
        pos = node->end;

    }
    while (1);

    return NULL;
}

/*
* No inline functions for ABI.
*/
const lxb_char_t *
lexbor_in_node_begin_noi(const lexbor_in_node_t *node)
{
    return lexbor_in_node_begin(node);
}

const lxb_char_t *
lexbor_in_node_end_noi(const lexbor_in_node_t *node)
{
    return lexbor_in_node_end(node);
}

size_t
lexbor_in_node_offset_noi(const lexbor_in_node_t *node)
{
    return lexbor_in_node_offset(node);
}

lexbor_in_node_t *
lexbor_in_node_next_noi(const lexbor_in_node_t *node)
{
    return lexbor_in_node_next(node);
}

lexbor_in_node_t *
lexbor_in_node_prev_noi(const lexbor_in_node_t *node)
{
    return lexbor_in_node_prev(node);
}

lexbor_in_t *
lexbor_in_node_in_noi(const lexbor_in_node_t *node)
{
    return lexbor_in_node_in(node);
}

bool
lexbor_in_segment_noi(const lexbor_in_node_t *node, const lxb_char_t *data)
{
    return lexbor_in_segment(node, data);
}

lexbor_mem_t *
lexbor_mem_create(void)
{
    return lexbor_calloc(1, sizeof(lexbor_mem_t));
}

lxb_status_t
lexbor_mem_init(lexbor_mem_t *mem, size_t min_chunk_size)
{
    if (mem == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    if (min_chunk_size == 0) {
        return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    mem->chunk_min_size = lexbor_mem_align(min_chunk_size);

    /* Create first chunk */
    mem->chunk = lexbor_mem_chunk_make(mem, mem->chunk_min_size);
    if (mem->chunk == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    mem->chunk_length = 1;
    mem->chunk_first = mem->chunk;

    return LXB_STATUS_OK;
}

void
lexbor_mem_clean(lexbor_mem_t *mem)
{
    lexbor_mem_chunk_t *prev, *chunk;

    if (mem == NULL) {
        return;
    }

    chunk = mem->chunk;

    while (chunk->prev) {
        prev = chunk->prev;

        chunk->data = lexbor_free(chunk->data);
        lexbor_free(chunk);

        chunk = prev;
    }

    chunk->next = NULL;
    chunk->length = 0;

    mem->chunk = mem->chunk_first;
    mem->chunk_length = 1;
}

lexbor_mem_t *
lexbor_mem_destroy(lexbor_mem_t *mem, bool destroy_self)
{
    lexbor_mem_chunk_t *chunk, *prev;

    if (mem == NULL) {
        return NULL;
    }

    /* Destroy all chunk */
    if (mem->chunk) {
        chunk = mem->chunk;

        while (chunk) {
            prev = chunk->prev;
            lexbor_mem_chunk_destroy(mem, chunk, true);
            chunk = prev;
        }

        mem->chunk = NULL;
    }

    if (destroy_self) {
        return lexbor_free(mem);
    }

    return mem;
}

uint8_t *
lexbor_mem_chunk_init(lexbor_mem_t *mem,
                      lexbor_mem_chunk_t *chunk, size_t length)
{
    length = lexbor_mem_align(length);

    if (length > mem->chunk_min_size) {
        if (mem->chunk_min_size > (SIZE_MAX - length)) {
            chunk->size = length;
        }
        else {
            chunk->size = length + mem->chunk_min_size;
        }
    }
    else {
        chunk->size = mem->chunk_min_size;
    }

    chunk->length = 0;
    chunk->data = lexbor_malloc(chunk->size * sizeof(uint8_t));

    return chunk->data;
}

lexbor_mem_chunk_t *
lexbor_mem_chunk_make(lexbor_mem_t *mem, size_t length)
{
    lexbor_mem_chunk_t *chunk = lexbor_calloc(1, sizeof(lexbor_mem_chunk_t));

    if (chunk == NULL) {
        return NULL;
    }

    if (lexbor_mem_chunk_init(mem, chunk, length) == NULL) {
        return lexbor_free(chunk);
    }

    return chunk;
}

lexbor_mem_chunk_t *
lexbor_mem_chunk_destroy(lexbor_mem_t *mem,
                         lexbor_mem_chunk_t *chunk, bool self_destroy)
{
    if (chunk == NULL || mem == NULL) {
        return NULL;
    }

    if (chunk->data) {
        chunk->data = lexbor_free(chunk->data);
    }

    if (self_destroy) {
        return lexbor_free(chunk);
    }

    return chunk;
}

void *
lexbor_mem_alloc(lexbor_mem_t *mem, size_t length)
{
    if (length == 0) {
        return NULL;
    }

    length = lexbor_mem_align(length);

    if ((mem->chunk->length + length) > mem->chunk->size) {
        if ((SIZE_MAX - mem->chunk_length) == 0) {
            return NULL;
        }

        mem->chunk->next = lexbor_mem_chunk_make(mem, length);
        if (mem->chunk->next == NULL) {
            return NULL;
        }

        mem->chunk->next->prev = mem->chunk;
        mem->chunk = mem->chunk->next;

        mem->chunk_length++;
    }

    mem->chunk->length += length;

    return &mem->chunk->data[(mem->chunk->length - length)];
}

void *
lexbor_mem_calloc(lexbor_mem_t *mem, size_t length)
{
    void *data = lexbor_mem_alloc(mem, length);

    if (data != NULL) {
        memset(data, 0, length);
    }

    return data;
}

/*
 * No inline functions for ABI.
 */
size_t
lexbor_mem_current_length_noi(lexbor_mem_t *mem)
{
    return lexbor_mem_current_length(mem);
}

size_t
lexbor_mem_current_size_noi(lexbor_mem_t *mem)
{
    return lexbor_mem_current_size(mem);
}

size_t
lexbor_mem_chunk_length_noi(lexbor_mem_t *mem)
{
    return lexbor_mem_chunk_length(mem);
}
size_t
lexbor_mem_align_noi(size_t size)
{
    return lexbor_mem_align(size);
}

size_t
lexbor_mem_align_floor_noi(size_t size)
{
    return lexbor_mem_align_floor(size);
}

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
    #include <sanitizer/asan_interface.h>
#endif


#define lexbor_mraw_meta_set(data, size)                                       \
    do {                                                                       \
        memcpy(data, size, sizeof(size_t));                                    \
    }                                                                          \
    while (0)

#define lexbor_mraw_data_begin(data)                                           \
    &((uint8_t *) (data))[ lexbor_mraw_meta_size() ]


lxb_inline void *
lexbor_mraw_realloc_tail(lexbor_mraw_t *mraw, void *data, void *begin,
                         size_t size, size_t begin_len, size_t new_size,
                         bool *is_valid);


lexbor_mraw_t *
lexbor_mraw_create(void)
{
    return lexbor_calloc(1, sizeof(lexbor_mraw_t));
}

lxb_status_t
lexbor_mraw_init(lexbor_mraw_t *mraw, size_t chunk_size)
{
    lxb_status_t status;

    if (mraw == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    if (chunk_size == 0) {
        return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    /* Init memory */
    mraw->mem = lexbor_mem_create();

    status = lexbor_mem_init(mraw->mem, chunk_size + lexbor_mraw_meta_size());
    if (status) {
        return status;
    }

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
    ASAN_POISON_MEMORY_REGION(mraw->mem->chunk->data, mraw->mem->chunk->size);
#endif

    /* Cache */
    mraw->cache = lexbor_bst_create();

    status = lexbor_bst_init(mraw->cache, 512);
    if (status) {
        return status;
    }

    mraw->ref_count = 0;

    return LXB_STATUS_OK;
}

void
lexbor_mraw_clean(lexbor_mraw_t *mraw)
{
    if (mraw != NULL) {
        lexbor_mem_clean(mraw->mem);
        lexbor_bst_clean(mraw->cache);

        mraw->ref_count = 0;
    }
}

lexbor_mraw_t *
lexbor_mraw_destroy(lexbor_mraw_t *mraw, bool destroy_self)
{
    if (mraw == NULL) {
        return NULL;
    }

    mraw->mem = lexbor_mem_destroy(mraw->mem, true);
    mraw->cache = lexbor_bst_destroy(mraw->cache, true);

    if (destroy_self) {
        return lexbor_free(mraw);
    }

    return mraw;
}

lxb_inline void *
lexbor_mraw_mem_alloc(lexbor_mraw_t *mraw, size_t length)
{
    uint8_t *data;
    lexbor_mem_t *mem = mraw->mem;

    if (length == 0) {
        return NULL;
    }

    if ((mem->chunk->length + length) > mem->chunk->size) {
        lexbor_mem_chunk_t *chunk = mem->chunk;

        if ((SIZE_MAX - mem->chunk_length) == 0) {
            return NULL;
        }

        if (chunk->length == 0) {
            lexbor_mem_chunk_destroy(mem, chunk, false);
            lexbor_mem_chunk_init(mem, chunk, length);

            chunk->length = length;

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
            ASAN_POISON_MEMORY_REGION(chunk->data, chunk->size);
#endif

            return chunk->data;
        }

        size_t diff = lexbor_mem_align_floor(chunk->size - chunk->length);

        /* Save tail to cache */
        if (diff > lexbor_mraw_meta_size()) {
            diff -= lexbor_mraw_meta_size();

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
            ASAN_UNPOISON_MEMORY_REGION(&chunk->data[chunk->length],
                                        lexbor_mraw_meta_size());
#endif

            lexbor_mraw_meta_set(&chunk->data[chunk->length], &diff);

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
            ASAN_POISON_MEMORY_REGION(&chunk->data[chunk->length],
                                      diff + lexbor_mraw_meta_size());
#endif

            lexbor_bst_insert(mraw->cache,
                              lexbor_bst_root_ref(mraw->cache), diff,
                              lexbor_mraw_data_begin(&chunk->data[chunk->length]));

            chunk->length = chunk->size;
        }

        chunk->next = lexbor_mem_chunk_make(mem, length);
        if (chunk->next == NULL) {
            return NULL;
        }

        chunk->next->prev = chunk;
        mem->chunk = chunk->next;

        mem->chunk_length++;

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
        ASAN_POISON_MEMORY_REGION(mem->chunk->data, mem->chunk->size);
#endif
    }

    data = &mem->chunk->data[ mem->chunk->length ];
    mem->chunk->length += length;

    return data;
}

void *
lexbor_mraw_alloc(lexbor_mraw_t *mraw, size_t size)
{
    void *data;

    size = lexbor_mem_align(size);

    if (mraw->cache->tree_length != 0) {
        data = lexbor_bst_remove_close(mraw->cache,
                                       lexbor_bst_root_ref(mraw->cache),
                                       size, NULL);
        if (data != NULL) {

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
            uint8_t *real_data = ((uint8_t *) data) - lexbor_mraw_meta_size();

            /* Set unpoison for current data size */
            ASAN_UNPOISON_MEMORY_REGION(real_data, lexbor_mraw_meta_size());

            size_t cur_size = lexbor_mraw_data_size(data);

            ASAN_UNPOISON_MEMORY_REGION(real_data,
                                        (cur_size + lexbor_mraw_meta_size()));
#endif

            mraw->ref_count++;

            return data;
        }
    }

    data = lexbor_mraw_mem_alloc(mraw, (size + lexbor_mraw_meta_size()));

    if (data == NULL) {
        return NULL;
    }

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
    ASAN_UNPOISON_MEMORY_REGION(data, (size + lexbor_mraw_meta_size()));
#endif

    mraw->ref_count++;

    lexbor_mraw_meta_set(data, &size);
    return lexbor_mraw_data_begin(data);
}

void *
lexbor_mraw_calloc(lexbor_mraw_t *mraw, size_t size)
{
    void *data = lexbor_mraw_alloc(mraw, size);

    if (data != NULL) {
        memset(data, 0, lexbor_mraw_data_size(data));
    }

    return data;
}

/*
 * TODO: I don't really like this interface. Perhaps need to simplify.
 */
lxb_inline void *
lexbor_mraw_realloc_tail(lexbor_mraw_t *mraw, void *data, void *begin,
                         size_t size, size_t begin_len, size_t new_size,
                         bool *is_valid)
{
    size_t length;
    uint8_t *tmp;
    lexbor_mem_chunk_t *chunk = mraw->mem->chunk;

    if (chunk->size > (begin_len + new_size)) {
        *is_valid = true;

        if (new_size == 0) {
            chunk->length = begin_len - lexbor_mraw_meta_size();
            return NULL;
        }

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
        ASAN_UNPOISON_MEMORY_REGION(begin, new_size + lexbor_mraw_meta_size());
#endif

        chunk->length = begin_len + new_size;
        memcpy(begin, &new_size, sizeof(size_t));

        return data;
    }

    /*
     * If the tail is short then we increase the current data.
     */
    if (begin_len == lexbor_mraw_meta_size()) {
#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
        ASAN_UNPOISON_MEMORY_REGION(chunk->data, chunk->size);
#endif
        *is_valid = true;

        length = lexbor_mem_align(new_size + lexbor_mraw_meta_size()
                                  + mraw->mem->chunk_min_size);

        tmp = lexbor_realloc(chunk->data, length);
        if (tmp == NULL) {
            return NULL;
        }

        chunk->data = tmp;
        chunk->size = length;
        chunk->length = new_size + lexbor_mraw_meta_size();

        lexbor_mraw_meta_set(tmp, &new_size);

        return lexbor_mraw_data_begin(tmp);
    }

    *is_valid = false;

    /*
     * Next, this piece will go into the cache.
     */
    size = lexbor_mem_align_floor(size + (chunk->size - chunk->length));
    memcpy(begin, &size, sizeof(size_t));

    chunk->length = chunk->size;

    return NULL;
}

void *
lexbor_mraw_realloc(lexbor_mraw_t *mraw, void *data, size_t new_size)
{
    void *begin;
    size_t size, begin_len;
    lexbor_mem_chunk_t *chunk = mraw->mem->chunk;

    begin = ((uint8_t *) data) - lexbor_mraw_meta_size();
    memcpy(&size, begin, sizeof(size_t));

    new_size = lexbor_mem_align(new_size);

    /*
     * Look, whether there is an opportunity
     * to prolong the current data in chunk?
     */
    if (chunk->length >= size) {
        begin_len = chunk->length - size;

        if (&chunk->data[begin_len] == data) {
            bool is_valid;
            void *ptr = lexbor_mraw_realloc_tail(mraw, data, begin,
                                                 size, begin_len, new_size,
                                                 &is_valid);
            if (is_valid == true) {
                return ptr;
            }
        }
    }

    if (new_size < size) {
        if (new_size == 0) {

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
            ASAN_POISON_MEMORY_REGION(begin, size + lexbor_mraw_meta_size());
#endif
            mraw->ref_count--;

            lexbor_bst_insert(mraw->cache, lexbor_bst_root_ref(mraw->cache),
                              size, data);
            return NULL;
        }

        size_t diff = lexbor_mem_align_floor(size - new_size);

        if (diff > lexbor_mraw_meta_size()) {
            memcpy(begin, &new_size, sizeof(size_t));

            new_size = diff - lexbor_mraw_meta_size();
            begin = &((uint8_t *) data)[diff];

            lexbor_mraw_meta_set(begin, &new_size);

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
            ASAN_POISON_MEMORY_REGION(begin, new_size + lexbor_mraw_meta_size());
#endif
            lexbor_bst_insert(mraw->cache, lexbor_bst_root_ref(mraw->cache),
                              new_size, lexbor_mraw_data_begin(begin));
        }

        return data;
    }

    begin = lexbor_mraw_alloc(mraw, new_size);
    if (begin == NULL) {
        return NULL;
    }

    if (size != 0) {
        memcpy(begin, data, sizeof(uint8_t) * size);
    }

    lexbor_mraw_free(mraw, data);

    return begin;
}

void *
lexbor_mraw_free(lexbor_mraw_t *mraw, void *data)
{
    size_t size = lexbor_mraw_data_size(data);

#if defined(LEXBOR_HAVE_ADDRESS_SANITIZER)
    uint8_t *real_data = ((uint8_t *) data) - lexbor_mraw_meta_size();
    ASAN_POISON_MEMORY_REGION(real_data, size + lexbor_mraw_meta_size());
#endif

    lexbor_bst_insert(mraw->cache, lexbor_bst_root_ref(mraw->cache),
                      size, data);

    mraw->ref_count--;

    return NULL;
}

/*
 * No inline functions for ABI.
 */
size_t
lexbor_mraw_data_size_noi(void *data)
{
    return lexbor_mraw_data_size(data);
}

void
lexbor_mraw_data_size_set_noi(void *data, size_t size)
{
    lexbor_mraw_data_size_set(data, size);
}

void *
lexbor_mraw_dup_noi(lexbor_mraw_t *mraw, const void *src, size_t size)
{
    return lexbor_mraw_dup(mraw, src, size);
}

lxb_status_t
lexbor_plog_init(lexbor_plog_t *plog, size_t init_size, size_t struct_size)
{
    lxb_status_t status;

    if (plog == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    if (struct_size < sizeof(lexbor_plog_entry_t)) {
        struct_size = sizeof(lexbor_plog_entry_t);
    }

    status = lexbor_array_obj_init(&plog->list, init_size, struct_size);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    return LXB_STATUS_OK;
}

lexbor_plog_t *
lexbor_plog_destroy(lexbor_plog_t *plog, bool self_destroy)
{
    if (plog == NULL) {
        return NULL;
    }

    lexbor_array_obj_destroy(&plog->list, false);

    if (self_destroy) {
        return lexbor_free(plog);
    }

    return plog;
}

/*
 * No inline functions.
 */
lexbor_plog_t *
lexbor_plog_create_noi(void)
{
    return lexbor_plog_create();
}

void
lexbor_plog_clean_noi(lexbor_plog_t *plog)
{
    lexbor_plog_clean(plog);
}

void *
lexbor_plog_push_noi(lexbor_plog_t *plog, const lxb_char_t *data, void *ctx,
                     unsigned id)
{
    return lexbor_plog_push(plog, data, ctx, id);
}

size_t
lexbor_plog_length_noi(lexbor_plog_t *plog)
{
    return lexbor_plog_length(plog);
}

#define lexbor_sprintf_append(dst, end, src, length)                          \
    do {                                                                      \
        if ((size_t) ((end) - (dst)) < (length)) {                            \
            return (end) - (dst);                                             \
        }                                                                     \
                                                                              \
        memcpy((dst), (src), (length));                                       \
        (dst) += (length);                                                    \
    }                                                                         \
    while (false)


size_t
lexbor_printf_size(const char *format, ...)
{
    size_t ret;
    va_list va;

    va_start(va, format);
    ret = lexbor_vprintf_size(format, va);
    va_end(va);

    return ret;
}

size_t
lexbor_vprintf_size(const char *format, va_list va)
{
    char c;
    const char *begin, *cdata;
    size_t size;
    lexbor_str_t *str;

    begin = format;
    size = 0;

    while (true) {
        c = *format;

        if (c == '%') {
            c = format[1];

            switch (c) {
                case '\0':
                    return size + (format - begin) + 1;

                case 's':
                    cdata = va_arg(va, const char *);
                    size += (format - begin) + strlen(cdata);
                    break;

                case 'S':
                    str = va_arg(va, lexbor_str_t *);
                    size += (format - begin) + str->length;
                    break;

                case '%':
                    size += (format - begin) + 1;
                    break;

                default:
                    return LXB_PRINT_ERROR;
            }

            format++;
            begin = format + 1;
        }
        else if (c == '\0') {
            return size + (format - begin);
        }

        format++;
    }
}

size_t
lexbor_sprintf(lxb_char_t *dst, size_t size, const char *format, ...)
{
    size_t ret;
    va_list va;

    va_start(va, format);
    ret = lexbor_vsprintf(dst, size, format, va);
    va_end(va);

    return ret;
}

size_t
lexbor_vsprintf(lxb_char_t *dst, size_t size, const char *format, va_list va)
{
    char c;
    const char *begin, *cdata;
    lxb_char_t *end, *start;
    lexbor_str_t *str;

    begin = format;
    start = dst;
    end = dst + size;

    while (true) {
        c = *format;

        if (c == '%') {
            c = format[1];

            switch (c) {
                case '\0':
                    size = (format - begin) + 1;
                    lexbor_sprintf_append(dst, end, begin, size);
                    goto done;

                case 's':
                    size = format - begin;
                    lexbor_sprintf_append(dst, end, begin, size);

                    cdata = va_arg(va, const char *);
                    size = strlen(cdata);
                    lexbor_sprintf_append(dst, end, cdata, size);
                    break;

                case 'S':
                    size = format - begin;
                    lexbor_sprintf_append(dst, end, begin, size);

                    str = va_arg(va, lexbor_str_t *);
                    lexbor_sprintf_append(dst, end, str->data, str->length);
                    break;

                case '%':
                    size = (format - begin) + 1;
                    lexbor_sprintf_append(dst, end, begin, size);
                    break;

                default:
                    return LXB_PRINT_ERROR;
            }

            format++;
            begin = format + 1;
        }
        else if (c == '\0') {
            size = format - begin;
            lexbor_sprintf_append(dst, end, begin, size);
            goto done;
        }

        format++;
    }

done:

    if (end - dst > 0) {
        *dst = '\0';
    }

    return dst - start;
}

lxb_status_t
lexbor_serialize_length_cb(const lxb_char_t *data, size_t length, void *ctx)
{
    *((size_t *) ctx) += length;
    return LXB_STATUS_OK;
}

lxb_status_t
lexbor_serialize_copy_cb(const lxb_char_t *data, size_t length, void *ctx)
{
    lexbor_str_t *str = ctx;

    memcpy(str->data + str->length, data, length);
    str->length += length;

    return LXB_STATUS_OK;
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_lowercase[256];
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_uppercase[256];
#endif

#define lexbor_shs_make_id_m(key, size, table_size)                            \
    (((((key[0] * key[size - 1]) * key[0]) + size) % table_size) + 0x01)

#define lexbor_shs_make_id_lower_m(key, size, table_size)                      \
    (((((lexbor_str_res_map_lowercase[key[0]]                                  \
     * lexbor_str_res_map_lowercase[key[size - 1]])                            \
     * lexbor_str_res_map_lowercase[key[0]])                                   \
     + size)                                                                   \
     % table_size) + 0x01)

#define lexbor_shs_make_id_upper_m(key, size, table_size)                      \
    (((((lexbor_str_res_map_uppercase[key[0]]                                  \
     * lexbor_str_res_map_uppercase[key[size - 1]])                            \
     * lexbor_str_res_map_uppercase[key[0]])                                   \
     + size)                                                                   \
     % table_size) + 0x01)


const lexbor_shs_entry_t *
lexbor_shs_entry_get_static(const lexbor_shs_entry_t *root,
                            const lxb_char_t *key, size_t key_len)
{
    const lexbor_shs_entry_t *entry;
    entry = root + lexbor_shs_make_id_m(key, key_len, root->key_len);

    while (entry->key != NULL)
    {
        if (entry->key_len == key_len) {
            if (lexbor_str_data_ncmp((const lxb_char_t *) entry->key,
                                     key, key_len))
            {
                return entry;
            }

            entry = &root[entry->next];
        }
        else if (entry->key_len > key_len) {
            return NULL;
        }
        else {
            entry = &root[entry->next];
        }
    }

    return NULL;
}

const lexbor_shs_entry_t *
lexbor_shs_entry_get_lower_static(const lexbor_shs_entry_t *root,
                                  const lxb_char_t *key, size_t key_len)
{
    const lexbor_shs_entry_t *entry;
    entry = root + lexbor_shs_make_id_lower_m(key, key_len, root->key_len);

    while (entry->key != NULL)
    {
        if (entry->key_len == key_len) {
            if (lexbor_str_data_nlocmp_right((const lxb_char_t *) entry->key,
                                             key, key_len))
            {
                return entry;
            }

            entry = &root[entry->next];
        }
        else if (entry->key_len > key_len) {
            return NULL;
        }
        else {
            entry = &root[entry->next];
        }
    }

    return NULL;
}

const lexbor_shs_entry_t *
lexbor_shs_entry_get_upper_static(const lexbor_shs_entry_t *root,
                                  const lxb_char_t *key, size_t key_len)
{
    const lexbor_shs_entry_t *entry;
    entry = root + lexbor_shs_make_id_upper_m(key, key_len, root->key_len);

    while (entry->key != NULL)
    {
        if (entry->key_len == key_len) {
            if (lexbor_str_data_nupcmp_right((const lxb_char_t *) entry->key,
                                             key, key_len))
            {
                return entry;
            }

            entry = &root[entry->next];
        }
        else if (entry->key_len > key_len) {
            return NULL;
        }
        else {
            entry = &root[entry->next];
        }
    }

    return NULL;
}

lexbor_str_t *
lexbor_str_create(void)
{
    return lexbor_calloc(1, sizeof(lexbor_str_t));
}

lxb_char_t *
lexbor_str_init(lexbor_str_t *str, lexbor_mraw_t *mraw, size_t size)
{
    if (str == NULL) {
        return NULL;
    }

    str->data = lexbor_mraw_alloc(mraw, (size + 1));
    str->length = 0;

    if (str->data != NULL) {
        *str->data = '\0';
    }

    return str->data;
}

lxb_char_t *
lexbor_str_init_append(lexbor_str_t *str, lexbor_mraw_t *mraw,
                       const lxb_char_t *data, size_t length)
{
    lxb_char_t *p;

    if (str == NULL) {
        return NULL;
    }

    p = lexbor_mraw_alloc(mraw, (length + 1));
    if (p == NULL) {
        return NULL;
    }

    memcpy(p, data, length);

    p[length] = '\0';

    str->data = p;
    str->length = length;

    return p;
}

void
lexbor_str_clean(lexbor_str_t *str)
{
    str->length = 0;
}

void
lexbor_str_clean_all(lexbor_str_t *str)
{
    memset(str, 0, sizeof(lexbor_str_t));
}

lexbor_str_t *
lexbor_str_destroy(lexbor_str_t *str, lexbor_mraw_t *mraw, bool destroy_obj)
{
    if (str == NULL) {
        return NULL;
    }

    if (str->data != NULL) {
        lexbor_str_clean(str);
        str->data = lexbor_mraw_free(mraw, str->data);
    }

    if (destroy_obj) {
        return lexbor_free(str);
    }

    return str;
}

lxb_char_t *
lexbor_str_realloc(lexbor_str_t *str, lexbor_mraw_t *mraw, size_t new_size)
{
    lxb_char_t *tmp = lexbor_mraw_realloc(mraw, str->data, new_size);
    if (tmp == NULL) {
        return NULL;
    }

    str->data = tmp;

    return tmp;
}

lxb_char_t *
lexbor_str_check_size(lexbor_str_t *str, lexbor_mraw_t *mraw, size_t plus_len)
{
    lxb_char_t *tmp;

    if (str->length > (SIZE_MAX - plus_len)) {
        return NULL;
    }

    if ((str->length + plus_len) <= lexbor_str_size(str)) {
        return str->data;
    }

    tmp = lexbor_mraw_realloc(mraw, str->data, (str->length + plus_len));
    if (tmp == NULL) {
        return NULL;
    }

    str->data = tmp;

    return tmp;
}

/* Append API */
lxb_char_t *
lexbor_str_append(lexbor_str_t *str, lexbor_mraw_t *mraw,
                  const lxb_char_t *buff, size_t length)
{
    lxb_char_t *data_begin;

    if (length == 0) {
        return str->data;
    }

    lexbor_str_check_size_arg_m(str, lexbor_str_size(str),
                                mraw, (length + 1), NULL);

    data_begin = &str->data[str->length];
    memcpy(data_begin, buff, sizeof(lxb_char_t) * length);

    str->length += length;
    str->data[str->length] = '\0';

    return data_begin;
}

lxb_char_t *
lexbor_str_append_before(lexbor_str_t *str, lexbor_mraw_t *mraw,
                         const lxb_char_t *buff, size_t length)
{
    lxb_char_t *data_begin;

    lexbor_str_check_size_arg_m(str, lexbor_str_size(str),
                                mraw, (length + 1), NULL);

    data_begin = &str->data[str->length];

    memmove(&str->data[length], str->data, sizeof(lxb_char_t) * str->length);
    memcpy(str->data, buff, sizeof(lxb_char_t) * length);

    str->length += length;
    str->data[str->length] = '\0';

    return data_begin;
}

lxb_char_t *
lexbor_str_append_one(lexbor_str_t *str, lexbor_mraw_t *mraw,
                      const lxb_char_t data)
{
    lexbor_str_check_size_arg_m(str, lexbor_str_size(str), mraw, 2, NULL);

    str->data[str->length] = data;

    str->length += 1;
    str->data[str->length] = '\0';

    return &str->data[(str->length - 1)];
}

lxb_char_t *
lexbor_str_append_lowercase(lexbor_str_t *str, lexbor_mraw_t *mraw,
                            const lxb_char_t *data, size_t length)
{
    size_t i;
    lxb_char_t *data_begin;

    lexbor_str_check_size_arg_m(str, lexbor_str_size(str),
                                mraw, (length + 1), NULL);

    data_begin = &str->data[str->length];

    for (i = 0; i < length; i++) {
        data_begin[i] = lexbor_str_res_map_lowercase[ data[i] ];
    }

    data_begin[i] = '\0';
    str->length += length;

    return data_begin;
}

lxb_char_t *
lexbor_str_append_with_rep_null_chars(lexbor_str_t *str, lexbor_mraw_t *mraw,
                                      const lxb_char_t *buff, size_t length)
{
    const lxb_char_t *pos, *res, *end;
    size_t current_len = str->length;

    lexbor_str_check_size_arg_m(str, lexbor_str_size(str),
                                mraw, (length + 1), NULL);
    end = buff + length;

    while (buff != end) {
        pos = memchr(buff, '\0', sizeof(lxb_char_t) * (end - buff));
        if (pos == NULL) {
            break;
        }

        res = lexbor_str_append(str, mraw, buff, (pos - buff));
        if (res == NULL) {
            return NULL;
        }

        res = lexbor_str_append(str, mraw,
                         lexbor_str_res_ansi_replacement_character,
                         sizeof(lexbor_str_res_ansi_replacement_character) - 1);
        if (res == NULL) {
            return NULL;
        }

        buff = pos + 1;
    }

    if (buff != end) {
        res = lexbor_str_append(str, mraw, buff, (end - buff));
        if (res == NULL) {
            return NULL;
        }
    }

    return &str->data[current_len];
}

lxb_char_t *
lexbor_str_copy(lexbor_str_t *dest, const lexbor_str_t *target,
                lexbor_mraw_t *mraw)
{
    if (target->data == NULL) {
        return NULL;
    }

    if (dest->data == NULL) {
        lexbor_str_init(dest, mraw, target->length);

        if (dest->data == NULL) {
            return NULL;
        }
    }

    return lexbor_str_append(dest, mraw, target->data, target->length);
}

void
lexbor_str_stay_only_whitespace(lexbor_str_t *target)
{
    size_t i, pos = 0;
    lxb_char_t *data = target->data;

    for (i = 0; i < target->length; i++) {
        if (lexbor_utils_whitespace(data[i], ==, ||)) {
            data[pos] = data[i];
            pos++;
        }
    }

    target->length = pos;
}

void
lexbor_str_strip_collapse_whitespace(lexbor_str_t *target)
{
    size_t i, offset, ws_i;
    lxb_char_t *data = target->data;

    if (target->length == 0) {
        return;
    }

    if (lexbor_utils_whitespace(*data, ==, ||)) {
        *data = 0x20;
    }

    for (i = 0, offset = 0, ws_i = 0; i < target->length; i++)
    {
        if (lexbor_utils_whitespace(data[i], ==, ||)) {
            if (data[ws_i] != 0x20) {
                data[offset] = 0x20;

                ws_i = offset;
                offset++;
            }
        }
        else {
            if (data[ws_i] == 0x20) {
                ws_i = offset;
            }

            data[offset] = data[i];
            offset++;
        }
    }

    if (offset != i) {
        if (offset != 0) {
            if (data[offset - 1] == 0x20) {
                offset--;
            }
        }

        data[offset] = 0x00;
        target->length = offset;
    }
}

size_t
lexbor_str_crop_whitespace_from_begin(lexbor_str_t *target)
{
    size_t i;
    lxb_char_t *data = target->data;

    for (i = 0; i < target->length; i++) {
        if (lexbor_utils_whitespace(data[i], !=, &&)) {
            break;
        }
    }

    if (i != 0 && i != target->length) {
        memmove(target->data, &target->data[i], (target->length - i));
    }

    target->length -= i;
    return i;
}

size_t
lexbor_str_whitespace_from_begin(lexbor_str_t *target)
{
    size_t i;
    lxb_char_t *data = target->data;

    for (i = 0; i < target->length; i++) {
        if (lexbor_utils_whitespace(data[i], !=, &&)) {
            break;
        }
    }

    return i;
}

size_t
lexbor_str_whitespace_from_end(lexbor_str_t *target)
{
    size_t i = target->length;
    lxb_char_t *data = target->data;

    while (i) {
        i--;

        if (lexbor_utils_whitespace(data[i], !=, &&)) {
            return target->length - (i + 1);
        }
    }

    return 0;
}

lxb_char_t *
lexbor_str_copy_to(lexbor_str_t *str, const lxb_char_t *buff, size_t length)
{
    lxb_char_t *data_begin;

    data_begin = &str->data[str->length];
    memcpy(data_begin, buff, sizeof(lxb_char_t) * length);

    str->length += length;

    return data_begin;
}

lxb_char_t *
lexbor_str_copy_to_with_null(lexbor_str_t *str,
                             const lxb_char_t *buff, size_t length)
{
    lxb_char_t *data_begin = lexbor_str_copy_to(str, buff, length);

    str->data[str->length] = '\0';

    return data_begin;
}

/*
 * Data utils
 * TODO: All functions need optimization.
 */
const lxb_char_t *
lexbor_str_data_ncasecmp_first(const lxb_char_t *first, const lxb_char_t *sec,
                               size_t sec_size)
{
    size_t i;

    for (i = 0; i < sec_size; i++) {
        if (first[i] == '\0') {
            return &first[i];
        }

        if (lexbor_str_res_map_lowercase[ first[i] ]
            != lexbor_str_res_map_lowercase[ sec[i] ])
        {
            return NULL;
        }
    }

    return &first[i];
}

bool
lexbor_str_data_ncasecmp_end(const lxb_char_t *first, const lxb_char_t *sec,
                             size_t size)
{
    while (size != 0) {
        size--;

        if (lexbor_str_res_map_lowercase[ first[size] ]
            != lexbor_str_res_map_lowercase[ sec[size] ])
        {
            return false;
        }
    }

    return true;
}

bool
lexbor_str_data_ncasecmp_contain(const lxb_char_t *where, size_t where_size,
                                 const lxb_char_t *what, size_t what_size)
{
    for (size_t i = 0; what_size <= (where_size - i); i++) {
        if(lexbor_str_data_ncasecmp(&where[i], what, what_size)) {
            return true;
        }
    }

    return false;
}

bool
lexbor_str_data_ncasecmp(const lxb_char_t *first, const lxb_char_t *sec,
                         size_t size)
{
    for (size_t i = 0; i < size; i++) {
        if (lexbor_str_res_map_lowercase[ first[i] ]
            != lexbor_str_res_map_lowercase[ sec[i] ])
        {
            return false;
        }
    }

    return true;
}

bool
lexbor_str_data_nlocmp_right(const lxb_char_t *first, const lxb_char_t *sec,
                             size_t size)
{
    for (size_t i = 0; i < size; i++) {
        if (first[i] != lexbor_str_res_map_lowercase[ sec[i] ]) {
            return false;
        }
    }

    return true;
}

bool
lexbor_str_data_nupcmp_right(const lxb_char_t *first, const lxb_char_t *sec,
                             size_t size)
{
    for (size_t i = 0; i < size; i++) {
        if (first[i] != lexbor_str_res_map_uppercase[ sec[i] ]) {
            return false;
        }
    }

    return true;
}

bool
lexbor_str_data_casecmp(const lxb_char_t *first, const lxb_char_t *sec)
{
    for (;;) {
        if (lexbor_str_res_map_lowercase[*first]
            != lexbor_str_res_map_lowercase[*sec])
        {
            return false;
        }

        if (*first == '\0') {
            return true;
        }

        first++;
        sec++;
    }
}

bool
lexbor_str_data_ncmp_end(const lxb_char_t *first, const lxb_char_t *sec,
                         size_t size)
{
    while (size != 0) {
        size--;

        if (first[size] != sec[size]) {
            return false;
        }
    }

    return true;
}

bool
lexbor_str_data_ncmp_contain(const lxb_char_t *where, size_t where_size,
                             const lxb_char_t *what, size_t what_size)
{
    for (size_t i = 0; what_size <= (where_size - i); i++) {
        if(memcmp(&where[i], what, sizeof(lxb_char_t) * what_size) == 0) {
            return true;
        }
    }

    return false;
}

bool
lexbor_str_data_ncmp(const lxb_char_t *first, const lxb_char_t *sec,
                     size_t size)
{
    return memcmp(first, sec, sizeof(lxb_char_t) * size) == 0;
}

bool
lexbor_str_data_cmp(const lxb_char_t *first, const lxb_char_t *sec)
{
    for (;;) {
        if (*first != *sec) {
            return false;
        }

        if (*first == '\0') {
            return true;
        }

        first++;
        sec++;
    }
}

bool
lexbor_str_data_cmp_ws(const lxb_char_t *first, const lxb_char_t *sec)
{
    for (;;) {
        if (*first != *sec) {
            return false;
        }

        if (lexbor_utils_whitespace(*first, ==, ||) || *first == '\0') {
            return true;
        }

        first++;
        sec++;
    }
}

void
lexbor_str_data_to_lowercase(lxb_char_t *to, const lxb_char_t *from, size_t len)
{
    while (len) {
        len--;

        to[len] = lexbor_str_res_map_lowercase[ from[len] ];
    }
}

void
lexbor_str_data_to_uppercase(lxb_char_t *to, const lxb_char_t *from, size_t len)
{
    while (len) {
        len--;

        to[len] = lexbor_str_res_map_uppercase[ from[len] ];
    }
}

const lxb_char_t *
lexbor_str_data_find_lowercase(const lxb_char_t *data, size_t len)
{
    while (len) {
        len--;

        if (data[len] == lexbor_str_res_map_lowercase[ data[len] ]) {
            return &data[len];
        }
    }

    return NULL;
}

const lxb_char_t *
lexbor_str_data_find_uppercase(const lxb_char_t *data, size_t len)
{
    while (len) {
        len--;

        if (data[len] == lexbor_str_res_map_uppercase[ data[len] ]) {
            return &data[len];
        }
    }

    return NULL;
}

/*
 * No inline functions for ABI.
 */
lxb_char_t *
lexbor_str_data_noi(lexbor_str_t *str)
{
    return lexbor_str_data(str);
}

size_t
lexbor_str_length_noi(lexbor_str_t *str)
{
    return lexbor_str_length(str);
}

size_t
lexbor_str_size_noi(lexbor_str_t *str)
{
    return lexbor_str_size(str);
}

void
lexbor_str_data_set_noi(lexbor_str_t *str, lxb_char_t *data)
{
    lexbor_str_data_set(str, data);
}

lxb_char_t *
lexbor_str_length_set_noi(lexbor_str_t *str, lexbor_mraw_t *mraw, size_t length)
{
    return lexbor_str_length_set(str, mraw, length);
}

#include <stdint.h>
#include <math.h>


/*
 * Max double: 1.7976931348623157 x 10^308
 * Min non-zero double: 4.9406564584124654 x 10^-324
 * Any x >= 10^309 is interpreted as +infinity.
 * Any x <= 10^-324 is interpreted as 0.
 * Note that 2.5e-324 (despite being smaller than the min double)
 * will be read as non-zero (equal to the min non-zero double).
 */

#define LEXBOR_DECIMAL_POWER_MAX 309
#define LEXBOR_DECIMAL_POWER_MIN (-324)

#define LEXBOR_UINT64_MAX lexbor_uint64_hl(0xFFFFFFFF, 0xFFFFFFFF)
#define LEXBOR_UINT64_DECIMAL_DIGITS_MAX 19

#define LEXBOR_DENOM_LOG   3
#define LEXBOR_DENOM       (1 << LEXBOR_DENOM_LOG)


static lexbor_diyfp_t
lexbor_strtod_diyfp_read(const lxb_char_t *start, size_t length,
                         int *remaining);

static double
lexbor_strtod_diyfp_strtod(const lxb_char_t *start, size_t length, int exp);


/*
 * Reads digits from the buffer and converts them to a uint64.
 * Reads in as many digits as fit into a uint64.
 * When the string starts with "1844674407370955161" no further digit is read.
 * Since 2^64 = 18446744073709551616 it would still be possible read another
 * digit if it was less or equal than 6, but this would complicate the code.
 */
lxb_inline uint64_t
lexbor_strtod_read_uint64(const lxb_char_t *start, size_t length,
                          size_t *ndigits)
{
    lxb_char_t d;
    uint64_t value;
    const lxb_char_t *p, *e;

    value = 0;

    p = start;
    e = p + length;

    while (p < e && value <= (UINT64_MAX / 10 - 1)) {
        d = *p++ - '0';
        value = 10 * value + d;
    }

    *ndigits = p - start;

    return value;
}

/*
 * Reads a nxt_diyfp_t from the buffer.
 * The returned nxt_diyfp_t is not necessarily normalized.
 * If remaining is zero then the returned nxt_diyfp_t is accurate.
 * Otherwise it has been rounded and has error of at most 1/2 ulp.
 */
static lexbor_diyfp_t
lexbor_strtod_diyfp_read(const lxb_char_t *start, size_t length, int *remaining)
{
    size_t read;
    uint64_t significand;

    significand = lexbor_strtod_read_uint64(start, length, &read);

    /* Round the significand. */

    if (length != read) {
        if (start[read] >= '5') {
            significand++;
        }
    }

    *remaining = (int) (length - read);

    return lexbor_diyfp(significand, 0);
}

/*
 * Returns 10^exp as an exact nxt_diyfp_t.
 * The given exp must be in the range [1; NXT_DECIMAL_EXPONENT_DIST[.
 */
lxb_inline lexbor_diyfp_t
lexbor_strtod_adjust_pow10(int exp)
{
    switch (exp) {
    case 1:
        return lexbor_diyfp(lexbor_uint64_hl(0xa0000000, 00000000), -60);
    case 2:
        return lexbor_diyfp(lexbor_uint64_hl(0xc8000000, 00000000), -57);
    case 3:
        return lexbor_diyfp(lexbor_uint64_hl(0xfa000000, 00000000), -54);
    case 4:
        return lexbor_diyfp(lexbor_uint64_hl(0x9c400000, 00000000), -50);
    case 5:
        return lexbor_diyfp(lexbor_uint64_hl(0xc3500000, 00000000), -47);
    case 6:
        return lexbor_diyfp(lexbor_uint64_hl(0xf4240000, 00000000), -44);
    case 7:
        return lexbor_diyfp(lexbor_uint64_hl(0x98968000, 00000000), -40);
    default:
        return lexbor_diyfp(0, 0);
    }
}

/*
 * Returns the significand size for a given order of magnitude.
 * If v = f*2^e with 2^p-1 <= f <= 2^p then p+e is v's order of magnitude.
 * This function returns the number of significant binary digits v will have
 * once its encoded into a double. In almost all cases this is equal to
 * NXT_SIGNIFICAND_SIZE. The only exception are denormals. They start with
 * leading zeroes and their effective significand-size is hence smaller.
 */
lxb_inline int
lexbor_strtod_diyfp_sgnd_size(int order)
{
    if (order >= (LEXBOR_DBL_EXPONENT_DENORMAL + LEXBOR_SIGNIFICAND_SIZE)) {
        return LEXBOR_SIGNIFICAND_SIZE;
    }

    if (order <= LEXBOR_DBL_EXPONENT_DENORMAL) {
        return 0;
    }

    return order - LEXBOR_DBL_EXPONENT_DENORMAL;
}

/*
 * Returns either the correct double or the double that is just below
 * the correct double.
 */
static double
lexbor_strtod_diyfp_strtod(const lxb_char_t *start, size_t length, int exp)
{
    int magnitude, prec_digits;
    int remaining, dec_exp, adj_exp, orig_e, shift;
    int64_t error;
    uint64_t prec_bits, half_way;
    lexbor_diyfp_t value, pow, adj_pow, rounded;

    value = lexbor_strtod_diyfp_read(start, length, &remaining);

    exp += remaining;

    /*
     * Since some digits may have been dropped the value is not accurate.
     * If remaining is different than 0 than the error is at most .5 ulp
     * (unit in the last place).
     * Using a common denominator to avoid dealing with fractions.
     */

    error = (remaining == 0 ? 0 : LEXBOR_DENOM / 2);

    orig_e = value.exp;
    value = lexbor_diyfp_normalize(value);
    error <<= orig_e - value.exp;

    if (exp < LEXBOR_DECIMAL_EXPONENT_MIN) {
        return 0.0;
    }

    pow = lexbor_cached_power_dec(exp, &dec_exp);

    if (dec_exp != exp) {
        adj_exp = exp - dec_exp;
        adj_pow = lexbor_strtod_adjust_pow10(exp - dec_exp);
        value = lexbor_diyfp_mul(value, adj_pow);

        if (LEXBOR_UINT64_DECIMAL_DIGITS_MAX - (int) length < adj_exp) {
            /*
             * The adjustment power is exact. There is hence only
             * an error of 0.5.
             */
            error += LEXBOR_DENOM / 2;
        }
    }

    value = lexbor_diyfp_mul(value, pow);

    /*
     * The error introduced by a multiplication of a * b equals
     *  error_a + error_b + error_a * error_b / 2^64 + 0.5
     *  Substituting a with 'value' and b with 'pow':
     *  error_b = 0.5  (all cached powers have an error of less than 0.5 ulp),
     *  error_ab = 0 or 1 / NXT_DENOM > error_a * error_b / 2^64.
     */

    error += LEXBOR_DENOM + (error != 0 ? 1 : 0);

    orig_e = value.exp;
    value = lexbor_diyfp_normalize(value);
    error <<= orig_e - value.exp;

    /*
     * Check whether the double's significand changes when the error is added
     * or subtracted.
     */

    magnitude = LEXBOR_DIYFP_SIGNIFICAND_SIZE + value.exp;
    prec_digits = LEXBOR_DIYFP_SIGNIFICAND_SIZE
        - lexbor_strtod_diyfp_sgnd_size(magnitude);

    if (prec_digits + LEXBOR_DENOM_LOG >= LEXBOR_DIYFP_SIGNIFICAND_SIZE) {
        /*
         * This can only happen for very small denormals. In this case the
         * half-way multiplied by the denominator exceeds the range of uint64.
         * Simply shift everything to the right.
         */
        shift = prec_digits + LEXBOR_DENOM_LOG
            - LEXBOR_DIYFP_SIGNIFICAND_SIZE + 1;

        value = lexbor_diyfp_shift_right(value, shift);

        /*
         * Add 1 for the lost precision of error, and NXT_DENOM
         * for the lost precision of value.significand.
         */
        error = (error >> shift) + 1 + LEXBOR_DENOM;
        prec_digits -= shift;
    }

    prec_bits = value.significand & (((uint64_t) 1 << prec_digits) - 1);
    prec_bits *= LEXBOR_DENOM;

    half_way = (uint64_t) 1 << (prec_digits - 1);
    half_way *= LEXBOR_DENOM;

    rounded = lexbor_diyfp_shift_right(value, prec_digits);

    if (prec_bits >= half_way + error) {
        rounded.significand++;
    }

    return lexbor_diyfp_2d(rounded);
}

double
lexbor_strtod_internal(const lxb_char_t *start, size_t length, int exp)
{
    size_t left, right;
    const lxb_char_t *p, *e, *b;

    /* Trim leading zeroes. */

    p = start;
    e = p + length;

    while (p < e) {
        if (*p != '0') {
            start = p;
            break;
        }

        p++;
    }

    left = e - p;

    /* Trim trailing zeroes. */

    b = start;
    p = b + left - 1;

    while (p > b) {
        if (*p != '0') {
            break;
        }

        p--;
    }

    right = p - b + 1;

    length = right;

    if (length == 0) {
        return 0.0;
    }

    exp += (int) (left - right);

    if (exp + (int) length - 1 >= LEXBOR_DECIMAL_POWER_MAX) {
        return INFINITY;
    }

    if (exp + (int) length <= LEXBOR_DECIMAL_POWER_MIN) {
        return 0.0;
    }

    return lexbor_strtod_diyfp_strtod(start, length, exp);
}

#undef LEXBOR_DECIMAL_POWER_MAX
#undef LEXBOR_DECIMAL_POWER_MIN

#undef LEXBOR_UINT64_MAX
#undef LEXBOR_UINT64_DECIMAL_DIGITS_MAX

#undef LEXBOR_DENOM_LOG
#undef LEXBOR_DENOM

size_t
lexbor_utils_power(size_t t, size_t k)
{
    size_t res = 1;

    while (k) {
        if (k & 1) {
            res *= t;
        }

        t *= t;
        k >>= 1;
    }

    return res;
}

size_t
lexbor_utils_hash_hash(const lxb_char_t *key, size_t key_size)
{
    size_t hash, i;

    for (hash = i = 0; i < key_size; i++) {
        hash += key[i];
        hash += (hash << 10);
        hash ^= (hash >> 6);
    }

    hash += (hash << 3);
    hash ^= (hash >> 11);
    hash += (hash << 15);

    return hash;
}

const lxb_css_entry_at_rule_data_t *
lxb_css_at_rule_by_name(const lxb_char_t *name, size_t length)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_at_rule_shs,
                                              name, length);
    if (entry == NULL) {
        return NULL;
    }

    return entry->value;
}

const lxb_css_entry_at_rule_data_t *
lxb_css_at_rule_by_id(uintptr_t id)
{
    return &lxb_css_at_rule_data[id];
}

lxb_css_rule_at_t *
lxb_css_at_rule_create(lxb_css_parser_t *parser,
                       const lxb_char_t *name, size_t length,
                       const lxb_css_entry_at_rule_data_t **out_entry)
{
    void *prop;
    const lxb_css_entry_at_rule_data_t *entry;
    lxb_css_at_rule__custom_t *custom;
    lxb_css_rule_at_t *at;

    at = lxb_css_rule_at_create(parser->memory);
    if (at == NULL) {
        return NULL;
    }

    entry = lxb_css_at_rule_by_name(name, length);
    if (entry == NULL) {
        entry = lxb_css_at_rule_by_id(LXB_CSS_AT_RULE__CUSTOM);

        prop = entry->create(parser->memory);
        if (prop == NULL) {
            goto failed;
        }

        custom = prop;

        (void) lexbor_str_init(&custom->name, parser->memory->mraw, length);
        if (custom->name.data == NULL) {
            goto failed;
        }

        memcpy(custom->name.data, name, length);

        custom->name.length = length;
        custom->name.data[custom->name.length] = 0x00;
    }
    else {
        prop = entry->create(parser->memory);
        if (prop == NULL) {
            goto failed;
        }
    }

    at->type = entry->unique;
    at->u.user = prop;

    if (out_entry != NULL) {
        *out_entry = entry;
    }

    return at;

failed:

    if (prop != NULL) {
        (void) entry->destroy(parser->memory, prop, true);
    }

    if (at != NULL) {
        (void) lxb_css_rule_at_destroy(at, true);
    }

    if (out_entry != NULL) {
        *out_entry = NULL;
    }

    return NULL;
}

void *
lxb_css_at_rule_destroy(lxb_css_memory_t *memory, void *value,
                        lxb_css_at_rule_type_t type, bool self_destroy)
{
    const lxb_css_entry_at_rule_data_t *data;

    data = lxb_css_at_rule_by_id(type);
    if (data == NULL) {
        return value;
    }

    return data->destroy(memory, value, self_destroy);
}

lxb_status_t
lxb_css_at_rule_convert_to_undef(lxb_css_parser_t *parser,
                                 lxb_css_rule_at_t *at)
{
    lxb_css_at_rule__undef_t *undef;

    undef = lxb_css_at_rule__undef_create(parser->memory);
    if (undef == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    undef->type = at->type;

    (void) lxb_css_at_rule_destroy(parser->memory, at, undef->type, false);

    at->type = LXB_CSS_AT_RULE__UNDEF;
    at->u.undef = undef;

    return lxb_css_make_data(parser, &at->u.undef->prelude,
                             at->prelude_begin, at->prelude_end);
}

lxb_status_t
lxb_css_at_rule_serialize(const void *style, lxb_css_at_rule_type_t type,
                          lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_entry_at_rule_data_t *data;

    data = lxb_css_at_rule_by_id(type);
    if (data == NULL) {
        return LXB_STATUS_ERROR_UNEXPECTED_DATA;
    }

    return data->serialize(style, cb, ctx);
}

lxb_status_t
lxb_css_at_rule_serialize_str(const void *style, lxb_css_at_rule_type_t type,
                              lexbor_mraw_t *mraw, lexbor_str_t *str)
{
    const lxb_css_entry_at_rule_data_t *data;

    data = lxb_css_at_rule_by_id(type);
    if (data == NULL) {
        return LXB_STATUS_ERROR_UNEXPECTED_DATA;
    }

    return lxb_css_serialize_str_handler(style, str, mraw, data->serialize);
}

lxb_status_t
lxb_css_at_rule_serialize_name(const void *style, lxb_css_at_rule_type_t type,
                               lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_entry_at_rule_data_t *data;

    if (type == LXB_CSS_AT_RULE__UNDEF) {
        return lxb_css_at_rule__undef_serialize_name(style, cb, ctx);
    }
    else if (type == LXB_CSS_AT_RULE__CUSTOM) {
        return lxb_css_at_rule__custom_serialize_name(style, cb, ctx);
    }

    data = lxb_css_at_rule_by_id(type);
    if (data == NULL) {
        return LXB_STATUS_ERROR_UNEXPECTED_DATA;
    }

    return cb(data->name, data->length, ctx);
}

lxb_status_t
lxb_css_at_rule_serialize_name_str(const void *style, lxb_css_at_rule_type_t type,
                                   lexbor_mraw_t *mraw, lexbor_str_t *str)
{
    const lxb_css_entry_at_rule_data_t *data;

    if (type == LXB_CSS_AT_RULE__UNDEF) {
        return lxb_css_serialize_str_handler(style, str, mraw,
                                        lxb_css_at_rule__undef_serialize_name);
    }
    else if (type == LXB_CSS_AT_RULE__CUSTOM) {
        return lxb_css_serialize_str_handler(style, str, mraw,
                                       lxb_css_at_rule__custom_serialize_name);
    }

    data = lxb_css_at_rule_by_id(type);
    if (data == NULL) {
        return LXB_STATUS_ERROR_UNEXPECTED_DATA;
    }

    if (str->data == NULL) {
        lexbor_str_init(str, mraw, data->length);
        if (str->data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    (void) lexbor_str_append(str, mraw, data->name, data->length);

    return LXB_STATUS_OK;
}

/* _undef. */

void *
lxb_css_at_rule__undef_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_at_rule__undef_t));
}

void *
lxb_css_at_rule__undef_destroy(lxb_css_memory_t *memory,
                               void *style, bool self_destroy)
{
    if (style == NULL) {
        return NULL;
    }

    if (self_destroy) {
        return lexbor_mraw_free(memory->mraw, style);
    }

    return style;
}

lxb_status_t
lxb_css_at_rule__undef_serialize(const void *at, lexbor_serialize_cb_f cb,
                                 void *ctx)
{
    lxb_status_t status;
    const lxb_css_entry_at_rule_data_t *data;
    const lxb_css_at_rule__undef_t *undef = at;

    static const lxb_char_t wc_str[] = " ";
    static const lxb_char_t lb_str[] = "{";
    static const lxb_char_t rb_str[] = "}";
    static const lxb_char_t sm_str[] = ";";

    data = lxb_css_at_rule_by_id(undef->type);
    if (data == NULL) {
        return LXB_STATUS_ERROR_UNEXPECTED_DATA;
    }

    if (undef->prelude.data != NULL) {
        lexbor_serialize_write(cb, wc_str, (sizeof(wc_str) - 1), ctx, status);
        lexbor_serialize_write(cb, undef->prelude.data, undef->prelude.length,
                               ctx, status);
    }

    if (undef->block != NULL) {
        lexbor_serialize_write(cb, lb_str, (sizeof(lb_str) - 1), ctx, status);

        status = lxb_css_rule_list_serialize(undef->block, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        lexbor_serialize_write(cb, rb_str, (sizeof(rb_str) - 1), ctx, status);
    }
    else {
        lexbor_serialize_write(cb, sm_str, (sizeof(sm_str) - 1), ctx, status);
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_at_rule__undef_serialize_name(const void *at, lexbor_serialize_cb_f cb,
                                      void *ctx)
{
    const lxb_css_entry_at_rule_data_t *data;
    const lxb_css_at_rule__undef_t *undef = at;

    data = lxb_css_at_rule_by_id(undef->type);
    if (data == NULL) {
        return LXB_STATUS_ERROR_UNEXPECTED_DATA;
    }

    return cb(data->name, data->length, ctx);
}

/* _custom. */

void *
lxb_css_at_rule__custom_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_at_rule__custom_t));
}

void *
lxb_css_at_rule__custom_destroy(lxb_css_memory_t *memory,
                                void *style, bool self_destroy)
{
    if (style == NULL) {
        return NULL;
    }

    if (self_destroy) {
        return lexbor_mraw_free(memory->mraw, style);
    }

    return style;
}

lxb_status_t
lxb_css_at_rule__custom_serialize(const void *at, lexbor_serialize_cb_f cb,
                                  void *ctx)
{
    lxb_status_t status;
    const lxb_css_at_rule__custom_t *custom = at;

    static const lxb_char_t ws_str[] = " ";
    static const lxb_char_t lb_str[] = "{";
    static const lxb_char_t rb_str[] = "}";


    if (custom->prelude.data != NULL) {
        lexbor_serialize_write(cb, ws_str, (sizeof(ws_str) - 1), ctx, status);
        lexbor_serialize_write(cb, custom->prelude.data, custom->prelude.length,
                               ctx, status);
    }

    if (custom->block != NULL) {
        lexbor_serialize_write(cb, lb_str, (sizeof(lb_str) - 1), ctx, status);

        status = lxb_css_rule_list_serialize(custom->block, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        lexbor_serialize_write(cb, rb_str, (sizeof(rb_str) - 1), ctx, status);
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_at_rule__custom_serialize_name(const void *at, lexbor_serialize_cb_f cb,
                                       void *ctx)
{
    const lxb_css_at_rule__custom_t *custom = at;

    return cb(custom->name.data, custom->name.length, ctx);
}

/* Media. */

void *
lxb_css_at_rule_media_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_at_rule_media_t));
}

void *
lxb_css_at_rule_media_destroy(lxb_css_memory_t *memory,
                              void *style, bool self_destroy)
{
    return lxb_css_at_rule__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_at_rule_media_serialize(const void *style, lexbor_serialize_cb_f cb,
                                void *ctx)
{
    return LXB_STATUS_OK;
}

/* Namespace. */

void *
lxb_css_at_rule_namespace_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_at_rule_namespace_t));
}

void *
lxb_css_at_rule_namespace_destroy(lxb_css_memory_t *memory,
                                  void *style, bool self_destroy)
{
    return lxb_css_at_rule__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_at_rule_namespace_serialize(const void *style, lexbor_serialize_cb_f cb,
                                    void *ctx)
{
    return LXB_STATUS_OK;
}

/* Font-face. */

void *
lxb_css_at_rule_font_face_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_at_rule_font_face_t));
}

void *
lxb_css_at_rule_font_face_destroy(lxb_css_memory_t *memory,
                                  void *style, bool self_destroy)
{
    return lxb_css_at_rule__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_at_rule_font_face_serialize(const void *font_face,
                                    lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_css_at_rule_font_face_t *ff = font_face;

    static const lxb_char_t lb_str[] = " {";
    static const lxb_char_t rb_str[] = "}";

    if (ff->block != NULL) {
        lexbor_serialize_write(cb, lb_str, (sizeof(lb_str) - 1), ctx, status);

        status = lxb_css_rule_list_serialize(ff->block, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        lexbor_serialize_write(cb, rb_str, (sizeof(rb_str) - 1), ctx, status);
    }

    return LXB_STATUS_OK;
}

bool
lxb_css_at_rule__undef_prelude(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_rule_at_t *at = ctx;

    at->prelude_begin = token->offset;

    /* Skip all prelude. */

    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

lxb_status_t
lxb_css_at_rule__undef_prelude_end(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token,
                                   void *ctx, bool failed)
{
    lxb_status_t status;
    lxb_css_rule_at_t *at = ctx;

    at->prelude_end = token->offset;

    status = lxb_css_make_data(parser, &at->u.undef->prelude,
                               at->prelude_begin, at->prelude_end);
    if (status != LXB_STATUS_OK) {
        return lxb_css_parser_memory_fail_status(parser);
    }

    return LXB_STATUS_OK;
}

const lxb_css_syntax_cb_block_t *
lxb_css_at_rule__undef_block(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token,
                             void *ctx, void **out_rule)
{
    return lxb_css_state_at_rule_block_begin(parser, token, ctx, out_rule);
}

bool
lxb_css_at_rule__undef_prelude_failed(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      void *ctx)
{
    /* For _UNDEF and _CUSTOM, access here is not possible. */

    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

lxb_status_t
lxb_css_at_rule__undef_end(lxb_css_parser_t *parser,
                           const lxb_css_syntax_token_t *token,
                           void *ctx, bool failed)
{
    lxb_css_rule_at_t *at = ctx;
    lxb_css_rule_list_t *block = lxb_css_syntax_returned(parser);

    /*
     * Here we do not check for failed because it cannot happen; we do not call
     * failed anywhere in _UNDEF and _CUSTOM, we simply skip the tokens.
     */

    at->u.undef->block = block;

    lxb_css_syntax_set_return(parser, at);

    return LXB_STATUS_OK;
}

/* Custom */

bool
lxb_css_at_rule__custom_prelude(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_at_rule__undef_prelude(parser, token, ctx);
}

lxb_status_t
lxb_css_at_rule__custom_prelude_end(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token,
                                    void *ctx, bool failed)
{
    lxb_status_t status;
    lxb_css_rule_at_t *at = ctx;

    at->prelude_end = token->offset;

    status = lxb_css_make_data(parser, &at->u.custom->prelude,
                               at->prelude_begin, at->prelude_end);
    if (status != LXB_STATUS_OK) {
        return lxb_css_parser_memory_fail_status(parser);
    }

    return LXB_STATUS_OK;
}

const lxb_css_syntax_cb_block_t *
lxb_css_at_rule__custom_block(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token,
                             void *ctx, void **out_rule)
{
    return lxb_css_state_at_rule_block_begin(parser, token, ctx, out_rule);
}

bool
lxb_css_at_rule__custom_prelude_failed(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token,
                                       void *ctx)
{
    return lxb_css_at_rule__undef_prelude_failed(parser, token, ctx);
}

lxb_status_t
lxb_css_at_rule__custom_end(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token,
                            void *ctx, bool failed)
{
    lxb_css_rule_at_t *at = ctx;
    lxb_css_rule_list_t *block = lxb_css_syntax_returned(parser);

    /*
     * Here we do not check for failed because it cannot happen; we do not call
     * failed anywhere in _UNDEF and _CUSTOM, we simply skip the tokens.
     */

    at->u.custom->block = block;

    lxb_css_syntax_set_return(parser, at);

    return LXB_STATUS_OK;
}

/* Namespace */

bool
lxb_css_at_rule_namespace_prelude(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  void *ctx)
{
    lxb_css_rule_at_t *at = ctx;

    at->prelude_begin = token->offset;

    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

lxb_status_t
lxb_css_at_rule_namespace_prelude_end(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      void *ctx, bool failed)
{
    lxb_css_rule_at_t *at = ctx;

    at->prelude_end = token->offset;

    return LXB_STATUS_OK;
}

const lxb_css_syntax_cb_block_t *
lxb_css_at_rule_namespace_block(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token,
                                void *ctx, void **out_rule)
{
    lxb_css_parser_failed_set(parser, true);

    return lxb_css_state_at_rule_block_begin(parser, token, ctx, out_rule);
}

bool
lxb_css_at_rule_namespace_prelude_failed(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx)
{
    return lxb_css_at_rule__undef_prelude_failed(parser, token, ctx);
}

lxb_status_t
lxb_css_at_rule_namespace_end(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token,
                              void *ctx, bool failed)
{
    lxb_status_t status;
    lxb_css_rule_at_t *at = ctx;

    if (failed) {
        status = lxb_css_at_rule_convert_to_undef(parser, at);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        at->u.undef->block = lxb_css_syntax_returned(parser);
    }

    lxb_css_syntax_set_return(parser, at);

    return LXB_STATUS_OK;
}

/* Media */

bool
lxb_css_at_rule_media_prelude(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_rule_at_t *at = ctx;

    at->prelude_begin = token->offset;

    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

lxb_status_t
lxb_css_at_rule_media_prelude_end(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  void *ctx, bool failed)
{
    lxb_css_rule_at_t *at = ctx;

    at->prelude_end = token->offset;

    return LXB_STATUS_OK;
}

const lxb_css_syntax_cb_block_t *
lxb_css_at_rule_media_block(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token,
                            void *ctx, void **out_rule)
{
    return lxb_css_state_at_rule_block_begin(parser, token, ctx, out_rule);
}

bool
lxb_css_at_rule_media_prelude_failed(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx)
{
    return lxb_css_at_rule__undef_prelude_failed(parser, token, ctx);
}

lxb_status_t
lxb_css_at_rule_media_end(lxb_css_parser_t *parser,
                          const lxb_css_syntax_token_t *token,
                          void *ctx, bool failed)
{
    lxb_status_t status;
    lxb_css_rule_at_t *at = ctx;
    lxb_css_rule_list_t *list = lxb_css_syntax_returned(parser);

    if (list != NULL && !failed) {
        at->u.media->block = list;
    }
    else {
        status = lxb_css_at_rule_convert_to_undef(parser, at);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        at->u.undef->block = list;
    }

    lxb_css_syntax_set_return(parser, at);

    return LXB_STATUS_OK;
}

/* Font-face */

bool
lxb_css_at_rule_font_face_prelude(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  void *ctx)
{
    lxb_css_rule_at_t *at = ctx;

    at->prelude_begin = token->offset;

    if (token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        return lxb_css_parser_failed(parser);
    }

    return lxb_css_parser_success(parser);
}

lxb_status_t
lxb_css_at_rule_font_face_prelude_end(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      void *ctx, bool failed)
{
    lxb_css_rule_at_t *at = ctx;

    at->prelude_end = token->offset;

    return LXB_STATUS_OK;
}

const lxb_css_syntax_cb_block_t *
lxb_css_at_rule_font_face_block(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token,
                                void *ctx, void **out_rule)
{
    return lxb_css_state_at_rule_block_begin(parser, token, ctx, out_rule);
}

bool
lxb_css_at_rule_font_face_prelude_failed(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx)
{
    return lxb_css_at_rule__undef_prelude_failed(parser, token, ctx);
}

lxb_status_t
lxb_css_at_rule_font_face_end(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token,
                              void *ctx, bool failed)
{
    lxb_status_t status;
    lxb_css_rule_at_t *at = ctx;
    lxb_css_rule_list_t *block = lxb_css_syntax_returned(parser);

    if (!failed) {
        at->u.font_face->block = block;
    }
    else {
        status = lxb_css_at_rule_convert_to_undef(parser, at);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        at->u.undef->block = block;
    }

    lxb_css_syntax_set_return(parser, at);

    return LXB_STATUS_OK;
}

static bool
lxb_css_blank_list_rules_next(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx);

static lxb_status_t
lxb_css_blank_list_rules_end(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token,
                             void *ctx, bool failed);

static const lxb_css_syntax_cb_at_rule_t *
lxb_css_blank_at_rule_begin(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token, void *ctx,
                            void **out_rule);

static bool
lxb_css_blank_at_rule_prelude(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token,
                              void *ctx);

static lxb_status_t
lxb_css_blank_at_rule_prelude_end(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  void *ctx, bool failed);

static const lxb_css_syntax_cb_block_t *
lxb_css_blank_at_rule_block_begin(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  void *ctx, void **out_rule);
static bool
lxb_css_blank_at_rule_prelude_failed(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx);
static lxb_status_t
lxb_css_blank_at_rule_end(lxb_css_parser_t *parser,
                          const lxb_css_syntax_token_t *token,
                          void *ctx, bool failed);

static const lxb_css_syntax_cb_qualified_rule_t *
lxb_css_blank_qualified_rule_begin(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token,
                                   void *ctx, void **out_rule);

static bool
lxb_css_blank_qualified_rule_prelude(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx);

static lxb_status_t
lxb_css_blank_qualified_rule_prelude_end(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx, bool failed);

static const lxb_css_syntax_cb_block_t *
lxb_css_blank_qualified_rule_block_begin(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx, void **out_rule);

static bool
lxb_css_blank_qualified_rule_prelude_failed(lxb_css_parser_t *parser,
                                            const lxb_css_syntax_token_t *token,
                                            void *ctx);
static lxb_status_t
lxb_css_blank_qualified_rule_end(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 void *ctx, bool failed);
static bool
lxb_css_blank_block_next(lxb_css_parser_t *parser,
                         const lxb_css_syntax_token_t *token, void *ctx);

static lxb_status_t
lxb_css_blank_block_end(lxb_css_parser_t *parser,
                        const lxb_css_syntax_token_t *token,
                        void *ctx, bool failed);

static const lxb_css_syntax_cb_declarations_t *
lxb_css_blank_declarations_begin(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 void *ctx, void **out_rule);

static lxb_css_parser_state_f
lxb_css_blank_declaration_name(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               void *ctx, void **out_rule);
static bool
lxb_css_blank_declaration_value(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx);

static lxb_status_t
lxb_css_blank_declaration_end(lxb_css_parser_t *parser,
                              void *declarations, void *ctx,
                              const lxb_css_syntax_token_t *token,
                              lxb_css_syntax_declaration_offset_t *offset,
                              bool important, bool failed);

static lxb_status_t
lxb_css_blank_declarations_end(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               void *ctx, bool failed);

static bool
lxb_css_blank_declarations_bad(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx);


static const lxb_css_syntax_cb_list_rules_t lxb_css_blank_list_rules = {
    .at_rule = lxb_css_blank_at_rule_begin,
    .qualified_rule = lxb_css_blank_qualified_rule_begin,
    .next = lxb_css_blank_list_rules_next,
    .cb.failed = lxb_css_state_failed,
    .cb.end = lxb_css_blank_list_rules_end
};

static const lxb_css_syntax_cb_at_rule_t lxb_css_blank_at_rule = {
    .prelude = lxb_css_blank_at_rule_prelude,
    .prelude_end = lxb_css_blank_at_rule_prelude_end,
    .block = lxb_css_blank_at_rule_block_begin,
    .cb.failed = lxb_css_blank_at_rule_prelude_failed,
    .cb.end = lxb_css_blank_at_rule_end
};

static const lxb_css_syntax_cb_qualified_rule_t lxb_css_blank_qualified_rule = {
    .prelude = lxb_css_blank_qualified_rule_prelude,
    .prelude_end = lxb_css_blank_qualified_rule_prelude_end,
    .block = lxb_css_blank_qualified_rule_block_begin,
    .cb.failed = lxb_css_blank_qualified_rule_prelude_failed,
    .cb.end = lxb_css_blank_qualified_rule_end
};

static const lxb_css_syntax_cb_block_t lxb_css_blank_block = {
    .at_rule = lxb_css_blank_at_rule_begin,
    .declarations = lxb_css_blank_declarations_begin,
    .qualified_rule = lxb_css_blank_qualified_rule_begin,
    .next = lxb_css_blank_block_next,
    .cb.failed = lxb_css_state_failed,
    .cb.end = lxb_css_blank_block_end,
};

static const lxb_css_syntax_cb_declarations_t lxb_css_blank_declaration = {
    .name = lxb_css_blank_declaration_name,
    .end = lxb_css_blank_declaration_end,
    .cb.failed = lxb_css_blank_declarations_bad,
    .cb.end = lxb_css_blank_declarations_end
};


const lxb_css_syntax_cb_list_rules_t *
lxb_css_blank_cb_list_rules(void)
{
    return &lxb_css_blank_list_rules;
}

const lxb_css_syntax_cb_at_rule_t *
lxb_css_blank_cb_at_rule(void)
{
    return &lxb_css_blank_at_rule;
}

const lxb_css_syntax_cb_qualified_rule_t *
lxb_css_blank_cb_qualified_rule(void)
{
    return &lxb_css_blank_qualified_rule;
}

const lxb_css_syntax_cb_block_t *
lxb_css_blank_cb_block(void)
{
    return &lxb_css_blank_block;
}

const lxb_css_syntax_cb_declarations_t *
lxb_css_blank_cb_declarations(void)
{
    return &lxb_css_blank_declaration;
}

static bool
lxb_css_blank_list_rules_next(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_parser_success(parser);
}

static lxb_status_t
lxb_css_blank_list_rules_end(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token,
                             void *ctx, bool failed)
{
    return LXB_STATUS_OK;
}

static const lxb_css_syntax_cb_at_rule_t *
lxb_css_blank_at_rule_begin(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token, void *ctx,
                            void **out_rule)
{
    return &lxb_css_blank_at_rule;
}

static bool
lxb_css_blank_at_rule_prelude(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx)
{
    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

static lxb_status_t
lxb_css_blank_at_rule_prelude_end(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  void *ctx, bool failed)
{
    return LXB_STATUS_OK;
}

static const lxb_css_syntax_cb_block_t *
lxb_css_blank_at_rule_block_begin(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  void *ctx, void **out_rule)
{
    return &lxb_css_blank_block;
}

static bool
lxb_css_blank_at_rule_prelude_failed(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx)
{
    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

static lxb_status_t
lxb_css_blank_at_rule_end(lxb_css_parser_t *parser,
                          const lxb_css_syntax_token_t *token,
                          void *ctx, bool failed)
{
    return LXB_STATUS_OK;
}

static const lxb_css_syntax_cb_qualified_rule_t *
lxb_css_blank_qualified_rule_begin(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token,
                                   void *ctx, void **out_rule)
{
    return &lxb_css_blank_qualified_rule;
}

static bool
lxb_css_blank_qualified_rule_prelude(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx)
{
    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

static lxb_status_t
lxb_css_blank_qualified_rule_prelude_end(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx, bool failed)
{
    return LXB_STATUS_OK;
}

static const lxb_css_syntax_cb_block_t *
lxb_css_blank_qualified_rule_block_begin(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx, void **out_rule)
{
    return &lxb_css_blank_block;
}

static bool
lxb_css_blank_qualified_rule_prelude_failed(lxb_css_parser_t *parser,
                                            const lxb_css_syntax_token_t *token,
                                            void *ctx)
{
    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

static lxb_status_t
lxb_css_blank_qualified_rule_end(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 void *ctx, bool failed)
{
    return LXB_STATUS_OK;
}

static bool
lxb_css_blank_block_next(lxb_css_parser_t *parser,
                         const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_parser_success(parser);
}

static lxb_status_t
lxb_css_blank_block_end(lxb_css_parser_t *parser,
                        const lxb_css_syntax_token_t *token,
                        void *ctx, bool failed)
{
    return LXB_STATUS_OK;
}

static const lxb_css_syntax_cb_declarations_t *
lxb_css_blank_declarations_begin(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 void *ctx, void **out_rule)
{
    return &lxb_css_blank_declaration;
}

static lxb_css_parser_state_f
lxb_css_blank_declaration_name(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               void *ctx, void **out_rule)
{
    return lxb_css_blank_declaration_value;
}

static bool
lxb_css_blank_declaration_value(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

static lxb_status_t
lxb_css_blank_declaration_end(lxb_css_parser_t *parser,
                              void *declarations, void *ctx,
                              const lxb_css_syntax_token_t *token,
                              lxb_css_syntax_declaration_offset_t *offset,
                              bool important, bool failed)
{
    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_css_blank_declarations_end(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               void *ctx, bool failed)
{
    return LXB_STATUS_OK;
}

static bool
lxb_css_blank_declarations_bad(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx)
{
    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

typedef struct {
    lexbor_str_t  *str;
    lexbor_mraw_t *mraw;
}
lxb_css_str_ctx_t;


static lxb_status_t
lxb_css_str_cb(const lxb_char_t *data, size_t len, void *cb_ctx);


lxb_css_memory_t *
lxb_css_memory_create(void)
{
    return lexbor_calloc(1, sizeof(lxb_css_memory_t));
}

lxb_status_t
lxb_css_memory_init(lxb_css_memory_t *memory, size_t prepare_count)
{
    lxb_status_t status;

    static const size_t size_mem = lexbor_max(sizeof(lxb_css_selector_t),
                                              sizeof(lxb_css_selector_list_t));

    if (memory == NULL) {
        return LXB_STATUS_ERROR_INCOMPLETE_OBJECT;
    }

    if (prepare_count < 64) {
        prepare_count = 64;
    }

    if (memory->objs == NULL) {
        memory->objs = lexbor_dobject_create();
        status = lexbor_dobject_init(memory->objs, prepare_count, size_mem);
        if (status != LXB_STATUS_OK) {
            goto failed;
        }
    }

    if (memory->tree == NULL) {
        prepare_count = prepare_count * 96;

        memory->tree = lexbor_mraw_create();
        status = lexbor_mraw_init(memory->tree, prepare_count);
        if (status != LXB_STATUS_OK) {
            goto failed;
        }
    }

    if (memory->mraw == NULL) {
        memory->mraw = lexbor_mraw_create();
        status = lexbor_mraw_init(memory->mraw, 4096);
        if (status != LXB_STATUS_OK) {
            goto failed;
        }
    }

    memory->ref_count = 1;

    return LXB_STATUS_OK;

failed:

    (void) lxb_css_memory_destroy(memory, false);

    return status;
}

void
lxb_css_memory_clean(lxb_css_memory_t *memory)
{
    if (memory->objs != NULL) {
        lexbor_dobject_clean(memory->objs);
    }

    if (memory->mraw != NULL) {
        lexbor_mraw_clean(memory->mraw);
    }

    if (memory->tree != NULL) {
        lexbor_mraw_clean(memory->tree);
    }
}

lxb_css_memory_t *
lxb_css_memory_destroy(lxb_css_memory_t *memory, bool self_destroy)
{
    if (memory == NULL) {
        return NULL;
    }

    if (memory->objs != NULL) {
        memory->objs = lexbor_dobject_destroy(memory->objs, true);
    }

    if (memory->mraw != NULL) {
        memory->mraw = lexbor_mraw_destroy(memory->mraw, true);
    }

    if (memory->tree != NULL) {
        memory->tree = lexbor_mraw_destroy(memory->tree, true);
    }

    if (self_destroy) {
        return lexbor_free(memory);
    }

    return memory;
}

lxb_css_memory_t *
lxb_css_memory_ref_inc(lxb_css_memory_t *memory)
{
    if (SIZE_MAX - memory->ref_count == 0) {
        return NULL;
    }

    memory->ref_count++;

    return memory;
}

void
lxb_css_memory_ref_dec(lxb_css_memory_t *memory)
{
    if (memory->ref_count > 0) {
        memory->ref_count--;
    }
}

lxb_css_memory_t *
lxb_css_memory_ref_dec_destroy(lxb_css_memory_t *memory)
{
    if (memory->ref_count > 0) {
        memory->ref_count--;
    }

    if (memory->ref_count == 0) {
        return lxb_css_memory_destroy(memory, true);
    }

    return memory;
}

lxb_status_t
lxb_css_make_data(lxb_css_parser_t *parser, lexbor_str_t *str,
                  size_t begin, size_t end)
{
    size_t length;
    const lxb_char_t *p;

    p = parser->tkz->in_begin;
    length = end - begin;

    if (str->data == NULL) {
        (void) lexbor_str_init(str, parser->memory->mraw, length);
        if (str->data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    memcpy(str->data, p + begin, length);

    str->length = length;
    str->data[str->length] = '\0';

    return LXB_STATUS_OK;
}

lxb_char_t *
lxb_css_serialize_char_handler(const void *style, lxb_css_style_serialize_f cb,
                               size_t *out_length)
{
    size_t length = 0;
    lxb_status_t status;
    lexbor_str_t str;

    status = cb(style, lexbor_serialize_length_cb, &length);
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    /* + 1 == '\0' */
    str.data = lexbor_malloc(length + 1);
    if (str.data == NULL) {
        goto failed;
    }

    str.length = 0;

    status = cb(style, lexbor_serialize_copy_cb, &str);
    if (status != LXB_STATUS_OK) {
        lexbor_free(str.data);
        goto failed;
    }

    str.data[str.length] = '\0';

    if (out_length != NULL) {
        *out_length = str.length;
    }

    return str.data;

failed:

    if (out_length != NULL) {
        *out_length = 0;
    }

    return NULL;
}

lxb_status_t
lxb_css_serialize_str_handler(const void *style, lexbor_str_t *str,
                              lexbor_mraw_t *mraw,
                              lxb_css_style_serialize_f cb)
{
    lxb_css_str_ctx_t ctx;

    ctx.str = str;
    ctx.mraw = mraw;

    if (str->data == NULL) {
        lexbor_str_init(str, mraw, 1);
        if (str->data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    return cb(style, lxb_css_str_cb, &ctx);
}

static lxb_status_t
lxb_css_str_cb(const lxb_char_t *data, size_t len, void *cb_ctx)
{
    lxb_char_t *ptr;
    lxb_css_str_ctx_t *ctx = (lxb_css_str_ctx_t *) cb_ctx;

    ptr = lexbor_str_append(ctx->str, ctx->mraw, data, len);

    return (ptr != NULL) ? LXB_STATUS_OK : LXB_STATUS_ERROR_MEMORY_ALLOCATION;
}

lxb_css_rule_declaration_t *
lxb_css_declaration_create(lxb_css_parser_t *parser,
                           const lxb_char_t *name, size_t length,
                           const lxb_css_entry_data_t **out_entry)
{
    void *prop;
    const lxb_css_entry_data_t *entry;
    lxb_css_property__custom_t *custom;
    lxb_css_rule_declaration_t *declar;

    declar = lxb_css_rule_declaration_create(parser->memory);
    if (declar == NULL) {
        return NULL;
    }

    entry = lxb_css_property_by_name(name, length);
    if (entry == NULL) {
        entry = lxb_css_property_by_id(LXB_CSS_PROPERTY__CUSTOM);

        prop = entry->create(parser->memory);
        if (prop == NULL) {
            goto failed;
        }

        custom = prop;

        (void) lexbor_str_init(&custom->name, parser->memory->mraw, length);
        if (custom->name.data == NULL) {
            goto failed;
        }

        memcpy(custom->name.data, name, length);

        custom->name.length = length;
        custom->name.data[custom->name.length] = 0x00;
    }
    else {
        prop = entry->create(parser->memory);
        if (prop == NULL) {
            goto failed;
        }
    }

    declar->type = entry->unique;
    declar->u.user = prop;

    if (out_entry != NULL) {
        *out_entry = entry;
    }

    return declar;

failed:

    if (prop != NULL) {
        (void) entry->destroy(parser->memory, prop, true);
    }

    if (declar != NULL) {
        (void) lxb_css_rule_declaration_destroy(declar, true);
    }

    if (out_entry != NULL) {
        *out_entry = NULL;
    }

    return NULL;
}

lxb_css_rule_declaration_list_t *
lxb_css_declaration_list_parse(lxb_css_parser_t *parser,
                               const lxb_char_t *data, size_t length)
{
    return lxb_css_syntax_parse_declarations(parser,
                                             lxb_css_state_cb_declarations(),
                                             data, length);
}

typedef struct {
    const char *msg;
    size_t length;
}
lxb_css_log_type_str_t;


static const lxb_css_log_type_str_t lxb_css_log_types_map[] = {
    {"Info", 4},
    {"Warning", 7},
    {"Error", 5},
    {"Syntax error", 12}
};


lxb_css_log_t *
lxb_css_log_create(void)
{
    return lexbor_calloc(1, sizeof(lxb_css_log_t));
}

lxb_status_t
lxb_css_log_init(lxb_css_log_t *log, lexbor_mraw_t *mraw)
{
    lxb_status_t status;

    if (log == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    status = lexbor_array_obj_init(&log->messages, 64,
                                   sizeof(lxb_css_log_message_t));
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (mraw != NULL) {
        log->mraw = mraw;
        log->self_mraw = false;
        return LXB_STATUS_OK;
    }

    log->self_mraw = true;

    log->mraw = lexbor_mraw_create();

    return lexbor_mraw_init(log->mraw, 4096);
}

void
lxb_css_log_clean(lxb_css_log_t *log)
{
    if (log != NULL) {
        lexbor_array_obj_clean(&log->messages);

        if (log->self_mraw) {
            lexbor_mraw_clean(log->mraw);
        }
    }
}

lxb_css_log_t *
lxb_css_log_destroy(lxb_css_log_t *log, bool self_destroy)
{
    if (log == NULL) {
        return NULL;
    }

    (void) lexbor_array_obj_destroy(&log->messages, false);

    if (log->self_mraw) {
        (void) lexbor_mraw_destroy(log->mraw, true);
    }

    if (self_destroy) {
        log = lexbor_free(log);
    }

    return log;
}

lxb_css_log_message_t *
lxb_css_log_append(lxb_css_log_t *log, lxb_css_log_type_t type,
                   const lxb_char_t *str, size_t length)
{
    lxb_css_log_message_t *msg;

    msg = lexbor_array_obj_push(&log->messages);
    if (msg == NULL) {
        return NULL;
    }

    if (lexbor_str_init(&msg->text, log->mraw, length) == NULL) {
        lexbor_array_obj_pop(&log->messages);
        return NULL;
    }

    memcpy(msg->text.data, str, length);
    msg->text.length = length;

    msg->text.data[length] = '\0';

    msg->type = type;

    return msg;
}

lxb_css_log_message_t *
lxb_css_log_push(lxb_css_log_t *log, lxb_css_log_type_t type, size_t length)
{
    lxb_css_log_message_t *msg;

    msg = lexbor_array_obj_push(&log->messages);
    if (msg == NULL) {
        return NULL;
    }

    if (lexbor_str_init(&msg->text, log->mraw, length) == NULL) {
        lexbor_array_obj_pop(&log->messages);
        return NULL;
    }

    msg->type = type;

    return msg;
}

lxb_css_log_message_t *
lxb_css_log_format(lxb_css_log_t *log, lxb_css_log_type_t type,
                   const char *format, ...)
{
    size_t psize;
    lxb_css_log_message_t *msg;
    va_list va;

    va_start(va, format);
    psize = lexbor_vprintf_size(format, va);
    va_end(va);

    if (psize == LXB_PRINT_ERROR) {
        return NULL;
    }

    msg = lxb_css_log_push(log, type, psize);
    if (msg == NULL) {
        return NULL;
    }

    va_start(va, format);
    (void) lexbor_vsprintf(msg->text.data, psize, format, va);
    va_end(va);

    msg->text.length = psize;

    return msg;
}

lxb_css_log_message_t *
lxb_css_log_not_supported(lxb_css_log_t *log,
                          const char *module_name, const char *description)
{
    static const char unexpected[] = "%s. Not supported: %s";

    return lxb_css_log_format(log, LXB_CSS_LOG_SYNTAX_ERROR, unexpected,
                              module_name, description);
}

const lxb_char_t *
lxb_css_log_type_by_id(lxb_css_log_type_t type, size_t *out_length)
{
    if (out_length != NULL) {
        *out_length = lxb_css_log_types_map[type].length;
    }

    return (const lxb_char_t *) lxb_css_log_types_map[type].msg;
}

lxb_status_t
lxb_css_log_serialize(lxb_css_log_t *log, lexbor_serialize_cb_f cb, void *ctx,
                      const lxb_char_t *indent, size_t indent_length)
{
    size_t i;
    lxb_status_t status;
    lxb_css_log_message_t *msg;

    if (log->messages.length == 0) {
        return LXB_STATUS_OK;
    }

    i = 0;

    do {
        msg = lexbor_array_obj_get(&log->messages, i);

        if (indent != NULL) {
            lexbor_serialize_write(cb, indent, indent_length, ctx, status);
        }

        status = lxb_css_log_message_serialize(msg, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        i++;

        if (i == log->messages.length) {
            break;
        }

        lexbor_serialize_write(cb, "\n", 1, ctx, status);
    }
    while (true);

    return LXB_STATUS_OK;
}

lxb_char_t *
lxb_css_log_serialize_char(lxb_css_log_t *log, size_t *out_length,
                           const lxb_char_t *indent, size_t indent_length)
{
    size_t length = 0;
    lxb_status_t status;
    lexbor_str_t str;

    status = lxb_css_log_serialize(log, lexbor_serialize_length_cb, &length,
                                   indent, indent_length);
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    /* + 1 == '\0' */
    str.data = lexbor_malloc(length + 1);
    if (str.data == NULL) {
        goto failed;
    }

    str.length = 0;

    status = lxb_css_log_serialize(log, lexbor_serialize_copy_cb, &str,
                                   indent, indent_length);
    if (status != LXB_STATUS_OK) {
        lexbor_free(str.data);
        goto failed;
    }

    str.data[str.length] = '\0';

    if (out_length != NULL) {
        *out_length = str.length;
    }

    return str.data;

failed:

    if (out_length != NULL) {
        *out_length = 0;
    }

    return NULL;
}


lxb_status_t
lxb_css_log_message_serialize(lxb_css_log_message_t *msg,
                              lexbor_serialize_cb_f cb, void *ctx)
{
    size_t length;
    lxb_status_t status;
    const lxb_char_t *type_name;

    type_name = lxb_css_log_type_by_id(msg->type, &length);

    lexbor_serialize_write(cb, type_name, length, ctx, status);
    lexbor_serialize_write(cb, ". ", 2, ctx, status);
    lexbor_serialize_write(cb, msg->text.data, msg->text.length, ctx, status);

    return LXB_STATUS_OK;
}

lxb_char_t *
lxb_css_log_message_serialize_char(lxb_css_log_message_t *msg,
                                   size_t *out_length)
{
    size_t length = 0;
    lxb_status_t status;
    lexbor_str_t str;

    status = lxb_css_log_message_serialize(msg, lexbor_serialize_length_cb,
                                           &length);
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    /* + 1 == '\0' */
    str.data = lexbor_malloc(length + 1);
    if (str.data == NULL) {
        goto failed;
    }

    str.length = 0;

    status = lxb_css_log_message_serialize(msg, lexbor_serialize_copy_cb, &str);
    if (status != LXB_STATUS_OK) {
        lexbor_free(str.data);
        goto failed;
    }

    str.data[str.length] = '\0';

    if (out_length != NULL) {
        *out_length = str.length;
    }

    return str.data;

failed:

    if (out_length != NULL) {
        *out_length = 0;
    }

    return NULL;
}

lxb_css_parser_t *
lxb_css_parser_create(void)
{
    return lexbor_calloc(1, sizeof(lxb_css_parser_t));
}

lxb_status_t
lxb_css_parser_init(lxb_css_parser_t *parser, lxb_css_syntax_tokenizer_t *tkz)
{
    lxb_status_t status;
    static const size_t lxb_rules_length = 128;
    static const size_t lxb_states_length = 1024;

    if (parser == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    /* Stack */
    parser->states_begin = lexbor_malloc(sizeof(lxb_css_parser_state_t)
                                         * lxb_states_length);
    if (parser->states_begin == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    parser->states = parser->states_begin;
    parser->states_end = parser->states_begin + lxb_states_length;

    memset(parser->states, 0x00, sizeof(lxb_css_parser_state_t));
    parser->states->root = true;

    /* Syntax */
    parser->my_tkz = false;

    if (tkz == NULL) {
        tkz = lxb_css_syntax_tokenizer_create();
        status = lxb_css_syntax_tokenizer_init(tkz);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        parser->my_tkz = true;
    }

    /* Rules */
    parser->rules_begin = lexbor_malloc(sizeof(lxb_css_syntax_rule_t)
                                        * lxb_rules_length);
    if (parser->rules_begin == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    parser->rules_end = parser->rules_begin + lxb_rules_length;
    parser->rules = parser->rules_begin;

    /*
     * Zero those parameters that can be used (passed to the function).
     * The parser->rules->phase parameter will be assigned at the end of the
     * parsing.
     *
     * The point is that parser->rules[0] is used as a stub before exiting
     * parsing.
     */
    parser->rules->context = NULL;

    /* Temp */
    parser->str.length = 0;
    parser->str_size = 4096;

    parser->str.data = lexbor_malloc(sizeof(lxb_char_t) * parser->str_size);
    if (parser->str.data == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    parser->log = lxb_css_log_create();
    status = lxb_css_log_init(parser->log, NULL);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    parser->tkz = tkz;
    parser->types_begin = NULL;
    parser->types_pos = NULL;
    parser->types_end = NULL;
    parser->stage = LXB_CSS_PARSER_CLEAN;
    parser->status = LXB_STATUS_OK;
    parser->fake_null = false;
    parser->token_end.type = LXB_CSS_SYNTAX_TOKEN__END;

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_parser_selectors_init(lxb_css_parser_t *parser)
{
    lxb_status_t status;

    parser->selectors = lxb_css_selectors_create();
    status = lxb_css_selectors_init(parser->selectors);
    if (status != LXB_STATUS_OK) {
        parser->selectors = lxb_css_selectors_destroy(parser->selectors, true);
    }

    return status;
}

void
lxb_css_parser_selectors_destroy(lxb_css_parser_t *parser)
{
    if (parser->selectors != NULL) {
        parser->selectors = lxb_css_selectors_destroy(parser->selectors, true);
    }
}

void
lxb_css_parser_clean(lxb_css_parser_t *parser)
{
    lxb_css_syntax_tokenizer_clean(parser->tkz);
    lxb_css_log_clean(parser->log);

    parser->rules = parser->rules_begin;
    parser->states = parser->states_begin;
    parser->types_pos = parser->types_begin;
    parser->stage = LXB_CSS_PARSER_CLEAN;
    parser->status = LXB_STATUS_OK;
    parser->str.length = 0;
    parser->fake_null = false;
}

void
lxb_css_parser_erase(lxb_css_parser_t *parser)
{
    lxb_css_parser_clean(parser);

    if (parser->memory != NULL) {
        lxb_css_memory_clean(parser->memory);
    }
}

lxb_css_parser_t *
lxb_css_parser_destroy(lxb_css_parser_t *parser, bool self_destroy)
{
    if (parser == NULL) {
        return NULL;
    }

    if (parser->my_tkz) {
        parser->tkz = lxb_css_syntax_tokenizer_destroy(parser->tkz);
    }

    parser->log = lxb_css_log_destroy(parser->log, true);

    if (parser->rules_begin != NULL) {
        parser->rules_begin = lexbor_free(parser->rules_begin);
    }

    if (parser->states_begin != NULL) {
        parser->states_begin = lexbor_free(parser->states_begin);
    }

    if (parser->types_begin != NULL) {
        parser->types_begin = lexbor_free(parser->types_begin);
    }

    if (parser->str.data != NULL) {
        parser->str.data = lexbor_free(parser->str.data);
    }

    if (self_destroy) {
        return lexbor_free(parser);
    }

    return parser;
}

lxb_css_parser_state_t *
lxb_css_parser_states_push(lxb_css_parser_t *parser,
                           lxb_css_parser_state_f state, void *ctx, bool root)
{
    size_t length, cur_length;
    lxb_css_parser_state_t *states = ++parser->states;

    if (states >= parser->states_end) {
        cur_length = states - parser->states_begin;

        if (SIZE_MAX - cur_length < 1024) {
            goto memory_error;
        }

        length = cur_length + 1024;

        states = lexbor_realloc(parser->states_begin,
                                length * sizeof(lxb_css_parser_state_t));
        if (states == NULL) {
            goto memory_error;
        }

        parser->states_begin = states;
        parser->states_end = states + length;
        parser->states = states + cur_length;

        states = parser->states;
    }

    states->state = state;
    states->context = ctx;
    states->root = root;

    return states;

memory_error:

    parser->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

    return NULL;
}

lxb_css_parser_state_t *
lxb_css_parser_states_next(lxb_css_parser_t *parser,
                           lxb_css_parser_state_f next,
                           lxb_css_parser_state_f back, void *ctx, bool root)
{
    lxb_css_parser_state_t *state;

    state = lxb_css_parser_states_push(parser, back, ctx, root);
    if (state == NULL) {
        return NULL;
    }

    parser->rules->state = next;

    return state;
}

lxb_status_t
lxb_css_parser_types_push(lxb_css_parser_t *parser,
                          lxb_css_syntax_token_type_t type)
{
    size_t length, new_length;
    lxb_css_syntax_token_type_t *tmp;

    if (parser->types_pos >= parser->types_end) {
        length = parser->types_end - parser->types_begin;

        if ((SIZE_MAX - length) < 1024) {
            return LXB_STATUS_ERROR_OVERFLOW;
        }

        new_length = length + 1024;

        tmp = lexbor_realloc(parser->types_begin,
                             new_length * sizeof(lxb_css_syntax_token_type_t));
        if (tmp == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        parser->types_begin = tmp;
        parser->types_end = tmp + new_length;
        parser->types_pos = parser->types_begin + length;
    }

    *parser->types_pos++ = type;

    return LXB_STATUS_OK;
}

bool
lxb_css_parser_stop(lxb_css_parser_t *parser)
{
    parser->loop = false;
    return true;
}

bool
lxb_css_parser_fail(lxb_css_parser_t *parser, lxb_status_t status)
{
    parser->status = status;
    parser->loop = false;
    return true;
}

bool
lxb_css_parser_unexpected(lxb_css_parser_t *parser)
{
    (void) lxb_css_parser_unexpected_status(parser);
    return true;
}

bool
lxb_css_parser_success(lxb_css_parser_t *parser)
{
    parser->rules->state = lxb_css_state_success;
    return true;
}

bool
lxb_css_parser_failed(lxb_css_parser_t *parser)
{
    lxb_css_syntax_rule_t *rule = parser->rules;

    rule->state = rule->cbx.cb->failed;
    rule->failed = true;

    return true;
}

lxb_status_t
lxb_css_parser_unexpected_status(lxb_css_parser_t *parser)
{
    parser->status = LXB_STATUS_ERROR_UNEXPECTED_DATA;

    parser->rules->failed = true;

    return LXB_STATUS_ERROR_UNEXPECTED_DATA;
}

bool
lxb_css_parser_unexpected_data(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token)
{
    static const char selectors[] = "Selectors";
    parser->status = LXB_STATUS_ERROR_UNEXPECTED_DATA;

    if (lxb_css_syntax_token_error(parser, token, selectors) == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    return true;
}

lxb_status_t
lxb_css_parser_unexpected_data_status(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token)
{
    static const char selectors[] = "Selectors";
    parser->status = LXB_STATUS_ERROR_UNEXPECTED_DATA;

    if (lxb_css_syntax_token_error(parser, token, selectors) == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    return LXB_STATUS_ERROR_UNEXPECTED_DATA;
}

void *
lxb_css_parser_memory_fail_null(lxb_css_parser_t *parser)
{
    parser->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    parser->loop = false;
    return NULL;
}

bool
lxb_css_parser_memory_fail(lxb_css_parser_t *parser)
{
    parser->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    parser->loop = false;
    return true;
}

lxb_status_t
lxb_css_parser_memory_fail_status(lxb_css_parser_t *parser)
{
    parser->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    parser->loop = false;

    return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
}

/*
 * No-inline functions for ABI.
 */
lxb_status_t
lxb_css_parser_status_noi(lxb_css_parser_t *parser)
{
    return lxb_css_parser_status(parser);
}

lxb_css_memory_t *
lxb_css_parser_memory_noi(lxb_css_parser_t *parser)
{
    return lxb_css_parser_memory(parser);
}

void
lxb_css_parser_memory_set_noi(lxb_css_parser_t *parser, lxb_css_memory_t *memory)
{
    lxb_css_parser_memory_set(parser, memory);
}

lxb_css_selectors_t *
lxb_css_parser_selectors_noi(lxb_css_parser_t *parser)
{
    return lxb_css_parser_selectors(parser);
}

void
lxb_css_parser_selectors_set_noi(lxb_css_parser_t *parser,
                                 lxb_css_selectors_t *selectors)
{
    lxb_css_parser_selectors_set(parser, selectors);
}

bool
lxb_css_parser_is_running_noi(lxb_css_parser_t *parser)
{
    return lxb_css_parser_is_running(parser);
}

bool
lxb_css_parser_status_is_unexpected_data_noi(lxb_css_parser_t *parser)
{
    return lxb_css_parser_status_is_unexpected_data(parser);
}

void
lxb_css_parser_failed_set_noi(lxb_css_parser_t *parser, bool is)
{
    lxb_css_parser_failed_set(parser, is);
}

void
lxb_css_parser_failed_set_by_id_noi(lxb_css_parser_t *parser, int idx, bool is)
{
    lxb_css_parser_failed_set_by_id(parser, idx, is);
}

bool
lxb_css_parser_is_failed_noi(lxb_css_parser_t *parser)
{
    return lxb_css_parser_is_failed(parser);
}

void
lxb_css_parser_set_ok_noi(lxb_css_parser_t *parser)
{
    lxb_css_parser_set_ok(parser);
}

const lxb_char_t *
lxb_css_parser_buffer_noi(lxb_css_parser_t *parser, size_t *length)
{
    return lxb_css_parser_buffer(parser, length);
}

void
lxb_css_parser_buffer_set_noi(lxb_css_parser_t *parser,
                              const lxb_char_t *data, size_t length)
{
    lxb_css_parser_buffer_set(parser, data, length);
}

lxb_css_parser_state_f
lxb_css_parser_state_noi(lxb_css_parser_t *parser)
{
    return lxb_css_parser_state(parser);
}

void
lxb_css_parser_state_set_noi(lxb_css_parser_t *parser, lxb_css_parser_state_f state)
{
    lxb_css_parser_state_set(parser, state);
}

lxb_css_syntax_rule_t *
lxb_css_parser_current_rule_noi(lxb_css_parser_t *parser)
{
    return lxb_css_parser_current_rule(parser);
}

size_t
lxb_css_parser_rule_deep_noi(lxb_css_parser_t *parser)
{
    return lxb_css_parser_rule_deep(parser);
}

lxb_css_parser_state_t *
lxb_css_parser_states_pop_noi(lxb_css_parser_t *parser)
{
    return lxb_css_parser_states_pop(parser);
}

lxb_css_parser_state_t *
lxb_css_parser_states_to_root_noi(lxb_css_parser_t *parser)
{
    return lxb_css_parser_states_to_root(parser);
}

bool
lxb_css_parser_states_set_back_noi(lxb_css_parser_t *parser)
{
    return lxb_css_parser_states_set_back(parser);
}

void
lxb_css_parser_states_clean_noi(lxb_css_parser_t *parser)
{
    lxb_css_parser_states_clean(parser);
}

lxb_css_parser_state_t *
lxb_css_parser_states_current_noi(lxb_css_parser_t *parser)
{
    return lxb_css_parser_states_current(parser);
}

void
lxb_css_parser_states_set_noi(lxb_css_parser_state_t *states,
                              lxb_css_parser_state_f state, void *context)
{
    lxb_css_parser_states_set(states, state, context);
}

void
lxb_css_parser_states_up_noi(lxb_css_parser_t *parser)
{
    lxb_css_parser_states_up(parser);
}

void
lxb_css_parser_states_down_noi(lxb_css_parser_t *parser)
{
    lxb_css_parser_states_down(parser);
}

lxb_css_log_t *
lxb_css_parser_log_noi(lxb_css_parser_t *parser)
{
    return lxb_css_parser_log(parser);
}

const lxb_css_syntax_token_t *
lxb_css_parser_token_end_noi(lxb_css_parser_t *parser, size_t offset)
{
    return lxb_css_parser_token_end(parser, offset);
}

void
lxb_css_parser_set_context_noi(lxb_css_parser_t *parser, void *ctx)
{
    lxb_css_parser_set_context(parser, ctx);
}

void
lxb_css_syntax_set_return_noi(lxb_css_parser_t *parser, void *value)
{
    lxb_css_syntax_set_return(parser, value);
}

void *
lxb_css_syntax_returned_noi(lxb_css_parser_t *parser)
{
    return lxb_css_syntax_returned(parser);
}

const lxb_css_entry_data_t *
lxb_css_property_by_name(const lxb_char_t *name, size_t length)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_property_shs,
                                              name, length);
    if (entry == NULL) {
        return NULL;
    }

    return entry->value;
}

const lxb_css_entry_data_t *
lxb_css_property_by_id(uintptr_t id)
{
    return &lxb_css_property_data[id];
}

const void *
lxb_css_property_initial_by_id(uintptr_t id)
{
    if (id >= LXB_CSS_PROPERTY__LAST_ENTRY) {
        return NULL;
    }

    return lxb_css_property_data[id].initial;
}

void *
lxb_css_property_destroy(lxb_css_memory_t *memory, void *style,
                         lxb_css_property_type_t type, bool self_destroy)
{
    const lxb_css_entry_data_t *data;

    data = lxb_css_property_by_id(type);
    if (data == NULL) {
        return style;
    }

    return data->destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_serialize(const void *style, lxb_css_property_type_t type,
                           lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_entry_data_t *data;

    data = lxb_css_property_by_id(type);
    if (data == NULL) {
        return LXB_STATUS_ERROR_NOT_EXISTS;
    }

    return data->serialize(style, cb, ctx);
}

lxb_status_t
lxb_css_property_serialize_str(const void *style, lxb_css_property_type_t type,
                               lexbor_mraw_t *mraw, lexbor_str_t *str)
{
    const lxb_css_entry_data_t *data;

    data = lxb_css_property_by_id(type);
    if (data == NULL) {
        return LXB_STATUS_ERROR_NOT_EXISTS;
    }

    return lxb_css_serialize_str_handler(style, str, mraw, data->serialize);
}

lxb_status_t
lxb_css_property_serialize_name(const void *style, lxb_css_property_type_t type,
                                lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_entry_data_t *data;

    switch (type) {
        case LXB_CSS_PROPERTY__UNDEF:
            return lxb_css_property__undef_serialize_name(style, cb, ctx);

        case LXB_CSS_PROPERTY__CUSTOM:
            return lxb_css_property__custom_serialize_name(style, cb, ctx);

        default:
            break;
    }

    data = lxb_css_property_by_id(type);
    if (data == NULL) {
        return LXB_STATUS_ERROR_NOT_EXISTS;
    }

    return cb(data->name, data->length, ctx);
}

lxb_status_t
lxb_css_property_serialize_name_str(const void *style, lxb_css_property_type_t type,
                                    lexbor_mraw_t *mraw, lexbor_str_t *str)
{
    const lxb_css_entry_data_t *data;

    switch (type) {
        case LXB_CSS_PROPERTY__UNDEF:
            return lxb_css_serialize_str_handler(style, str, mraw,
                                       lxb_css_property__undef_serialize_name);

        case LXB_CSS_PROPERTY__CUSTOM:
            return lxb_css_serialize_str_handler(style, str, mraw,
                                      lxb_css_property__custom_serialize_name);

        default:
            break;
    }

    data = lxb_css_property_by_id(type);
    if (data == NULL) {
        return LXB_STATUS_ERROR_NOT_EXISTS;
    }

    if (str->data == NULL) {
        lexbor_str_init(str, mraw, data->length);
        if (str->data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    (void) lexbor_str_append(str, mraw, data->name, data->length);

    return LXB_STATUS_OK;
}

/* _undef. */

void *
lxb_css_property__undef_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property__undef_t));
}

void *
lxb_css_property__undef_destroy(lxb_css_memory_t *memory,
                                void *style, bool self_destroy)
{
    if (style == NULL) {
        return NULL;
    }

    if (self_destroy) {
        return lexbor_mraw_free(memory->mraw, style);
    }

    return style;
}

lxb_status_t
lxb_css_property__undef_serialize(const void *style,
                                  lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property__undef_t *undef = style;

    return cb(undef->value.data, undef->value.length, ctx);
}

lxb_status_t
lxb_css_property__undef_serialize_name(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property__undef_t *undef = style;
    const lxb_css_entry_data_t *data;

    if (undef->type == LXB_CSS_PROPERTY__UNDEF) {
        return LXB_STATUS_OK;
    }

    data = lxb_css_property_by_id(undef->type);
    if (data == NULL) {
        return LXB_STATUS_ERROR_NOT_EXISTS;
    }

    return cb(data->name, data->length, ctx);
}

lxb_status_t
lxb_css_property__undef_serialize_value(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property__undef_t *undef = style;

    if (undef->type == LXB_CSS_PROPERTY__UNDEF) {
        return cb(undef->value.data, undef->value.length, ctx);
    }

    return LXB_STATUS_OK;
}

/* _custom. */

void *
lxb_css_property__custom_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property__custom_t));
}

void *
lxb_css_property__custom_destroy(lxb_css_memory_t *memory,
                                 void *style, bool self_destroy)
{
    if (style == NULL) {
        return NULL;
    }

    if (self_destroy) {
        return lexbor_mraw_free(memory->mraw, style);
    }

    return style;
}

lxb_status_t
lxb_css_property__custom_serialize(const void *style,
                                   lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property__custom_t *custom = style;

    if (custom->value.data == NULL) {
        return LXB_STATUS_OK;
    }

    return cb(custom->value.data, custom->value.length, ctx);
}

lxb_status_t
lxb_css_property__custom_serialize_name(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property__custom_t *custom = style;

    return cb(custom->name.data, custom->name.length, ctx);
}

lxb_status_t
lxb_css_property__custom_serialize_value(const void *style,
                                         lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property__custom_t *custom = style;

    if (custom->value.data == NULL) {
        return LXB_STATUS_OK;
    }

    return cb(custom->value.data, custom->value.length, ctx);
}

/* Display. */

void *
lxb_css_property_display_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_display_t));
}

void *
lxb_css_property_display_destroy(lxb_css_memory_t *memory,
                                 void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_display_serialize(const void *property,
                                   lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_css_data_t *data;
    const lxb_css_property_display_t *display = property;

    static const lexbor_str_t str_ws = lexbor_str(" ");

    data = lxb_css_value_by_id(display->a);
    if (data == NULL) {
        return LXB_STATUS_ERROR_NOT_EXISTS;
    }

    lexbor_serialize_write(cb, data->name, data->length, ctx, status);

    if (display->b == LXB_CSS_PROPERTY__UNDEF) {
        return LXB_STATUS_OK;
    }

    lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);

    data = lxb_css_value_by_id(display->b);
    if (data == NULL) {
        return LXB_STATUS_ERROR_NOT_EXISTS;
    }

    lexbor_serialize_write(cb, data->name, data->length, ctx, status);

    if (display->c == LXB_CSS_PROPERTY__UNDEF) {
        return LXB_STATUS_OK;
    }

    lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);

    data = lxb_css_value_by_id(display->c);
    if (data == NULL) {
        return LXB_STATUS_ERROR_NOT_EXISTS;
    }

    lexbor_serialize_write(cb, data->name, data->length, ctx, status);

    return LXB_STATUS_OK;
}

/* Order. */

void *
lxb_css_property_order_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_order_t));
}

void *
lxb_css_property_order_destroy(lxb_css_memory_t *memory,
                               void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_order_serialize(const void *style,
                                 lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_integer_type_sr(style, cb, ctx);
}

/* Visibility. */

void *
lxb_css_property_visibility_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_visibility_t));
}

void *
lxb_css_property_visibility_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_visibility_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_visibility_t *vb = style;

    return lxb_css_value_serialize(vb->type, cb, ctx);
}

/* Width. */

void *
lxb_css_property_width_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_width_t));
}

void *
lxb_css_property_width_destroy(lxb_css_memory_t *memory,
                               void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_width_serialize(const void *property,
                                 lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_width_t *width = property;

    switch (width->type) {
        case LXB_CSS_VALUE__LENGTH:
        case LXB_CSS_VALUE__NUMBER:
            return lxb_css_value_length_sr(&width->u.length, cb, ctx);

        case LXB_CSS_VALUE__PERCENTAGE:
            return lxb_css_value_percentage_sr(&width->u.percentage, cb, ctx);

        case LXB_CSS_VALUE__UNDEF:
            /* FIXME: ???? */
            break;

        default:
            return lxb_css_value_serialize(width->type, cb, ctx);
    }

    return LXB_STATUS_OK;
}

/* Height. */

void *
lxb_css_property_height_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_height_t));
}

void *
lxb_css_property_height_destroy(lxb_css_memory_t *memory,
                                void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_height_serialize(const void *property,
                                  lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_width_serialize(property, cb, ctx);
}

/* Box-sizing. */

void *
lxb_css_property_box_sizing_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_box_sizing_t));
}

void *
lxb_css_property_box_sizing_destroy(lxb_css_memory_t *memory,
                                    void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_box_sizing_serialize(const void *property,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_box_sizing_t *bsize = property;

    return lxb_css_value_serialize(bsize->type, cb, ctx);
}

/* Min-width. */

void *
lxb_css_property_min_width_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_min_width_t));
}

void *
lxb_css_property_min_width_destroy(lxb_css_memory_t *memory,
                                   void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_min_width_serialize(const void *property,
                                     lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_width_serialize(property, cb, ctx);
}

/* Min-height. */

void *
lxb_css_property_min_height_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_min_height_t));
}

void *
lxb_css_property_min_height_destroy(lxb_css_memory_t *memory,
                                    void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_min_height_serialize(const void *property,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_width_serialize(property, cb, ctx);
}

/* Max-width. */

void *
lxb_css_property_max_width_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_max_width_t));
}

void *
lxb_css_property_max_width_destroy(lxb_css_memory_t *memory,
                                   void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_max_width_serialize(const void *property,
                                     lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_width_serialize(property, cb, ctx);
}

/* Max-height. */

void *
lxb_css_property_max_height_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_max_height_t));
}

void *
lxb_css_property_max_height_destroy(lxb_css_memory_t *memory,
                                    void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_max_height_serialize(const void *property,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_width_serialize(property, cb, ctx);
}

/* Margin. */

void *
lxb_css_property_margin_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_margin_t));
}

void *
lxb_css_property_margin_destroy(lxb_css_memory_t *memory,
                                void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_margin_serialize(const void *property,
                                  lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_css_property_margin_t *margin = property;

    static const lexbor_str_t str_ws = lexbor_str(" ");

    /* Top. */

    status = lxb_css_value_length_percentage_sr(&margin->top, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (margin->right.type == LXB_CSS_VALUE__UNDEF) {
        return LXB_STATUS_OK;
    }

    /* Right. */

    lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);

    status = lxb_css_value_length_percentage_sr(&margin->right, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (margin->bottom.type == LXB_CSS_VALUE__UNDEF) {
        return LXB_STATUS_OK;
    }

    /* Bottom. */

    lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);

    status = lxb_css_value_length_percentage_sr(&margin->bottom, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (margin->left.type == LXB_CSS_VALUE__UNDEF) {
        return LXB_STATUS_OK;
    }

    /* Left. */

    lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);

    return lxb_css_value_length_percentage_sr(&margin->left, cb, ctx);
}

/* Margin-top. */

void *
lxb_css_property_margin_top_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_margin_top_t));
}

void *
lxb_css_property_margin_top_destroy(lxb_css_memory_t *memory,
                                    void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_margin_top_serialize(const void *property,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_length_percentage_sr(property, cb, ctx);
}

/* Margin-right. */

void *
lxb_css_property_margin_right_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_margin_right_t));
}

void *
lxb_css_property_margin_right_destroy(lxb_css_memory_t *memory,
                                      void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_margin_right_serialize(const void *property,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_length_percentage_sr(property, cb, ctx);
}

/* Margin-bottom. */

void *
lxb_css_property_margin_bottom_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_margin_bottom_t));
}

void *
lxb_css_property_margin_bottom_destroy(lxb_css_memory_t *memory,
                                       void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_margin_bottom_serialize(const void *property,
                                         lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_length_percentage_sr(property, cb, ctx);
}

/* Margin-left. */

void *
lxb_css_property_margin_left_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_margin_left_t));
}

void *
lxb_css_property_margin_left_destroy(lxb_css_memory_t *memory,
                                     void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_margin_left_serialize(const void *property,
                                       lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_length_percentage_sr(property, cb, ctx);
}

/* Padding. */

void *
lxb_css_property_padding_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_padding_t));
}

void *
lxb_css_property_padding_destroy(lxb_css_memory_t *memory,
                                 void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_padding_serialize(const void *property,
                                   lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_margin_serialize(property, cb, ctx);
}

/* Padding-top. */

void *
lxb_css_property_padding_top_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_padding_top_t));
}

void *
lxb_css_property_padding_top_destroy(lxb_css_memory_t *memory,
                                     void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_padding_top_serialize(const void *property,
                                       lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_length_percentage_sr(property, cb, ctx);
}

/* Padding-right. */

void *
lxb_css_property_padding_right_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_padding_right_t));
}

void *
lxb_css_property_padding_right_destroy(lxb_css_memory_t *memory,
                                       void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_padding_right_serialize(const void *property,
                                         lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_length_percentage_sr(property, cb, ctx);
}

/* Padding-bottom. */

void *
lxb_css_property_padding_bottom_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_padding_bottom_t));
}

void *
lxb_css_property_padding_bottom_destroy(lxb_css_memory_t *memory,
                                        void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_padding_bottom_serialize(const void *property,
                                          lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_length_percentage_sr(property, cb, ctx);
}

/* Padding-left. */

void *
lxb_css_property_padding_left_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_padding_left_t));
}

void *
lxb_css_property_padding_left_destroy(lxb_css_memory_t *memory,
                                      void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_padding_left_serialize(const void *property,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_length_percentage_sr(property, cb, ctx);
}

/* Border. */

void *
lxb_css_property_border_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_border_t));
}

void *
lxb_css_property_border_destroy(lxb_css_memory_t *memory,
                                void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_border_serialize(const void *property,
                                  lexbor_serialize_cb_f cb, void *ctx)
{
    bool ws_print;
    lxb_status_t status;
    const lxb_css_property_border_t *border = property;

    static const lexbor_str_t str_ws = lexbor_str(" ");

    ws_print = false;

    if (border->width.type != LXB_CSS_VALUE__UNDEF) {
        status = lxb_css_value_length_type_sr(&border->width, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        ws_print = true;
    }

    if (border->style != LXB_CSS_VALUE__UNDEF) {
        if (ws_print) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
        }

        status = lxb_css_value_serialize(border->style, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        ws_print = true;
    }

    if (border->color.type != LXB_CSS_VALUE__UNDEF) {
        if (ws_print) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
        }

        return lxb_css_value_color_serialize(&border->color, cb, ctx);
    }

    return LXB_STATUS_OK;
}

/* Border-top. */

void *
lxb_css_property_border_top_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_border_top_t));
}

void *
lxb_css_property_border_top_destroy(lxb_css_memory_t *memory,
                                    void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_border_top_serialize(const void *property,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_border_serialize(property, cb, ctx);
}

/* Border-right. */

void *
lxb_css_property_border_right_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_border_right_t));
}

void *
lxb_css_property_border_right_destroy(lxb_css_memory_t *memory,
                                      void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_border_right_serialize(const void *property,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_border_serialize(property, cb, ctx);
}

/* Border-bottom. */

void *
lxb_css_property_border_bottom_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_border_bottom_t));
}

void *
lxb_css_property_border_bottom_destroy(lxb_css_memory_t *memory,
                                       void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_border_bottom_serialize(const void *property,
                                         lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_border_serialize(property, cb, ctx);
}

/* Border-left. */

void *
lxb_css_property_border_left_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_border_left_t));
}

void *
lxb_css_property_border_left_destroy(lxb_css_memory_t *memory,
                                     void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_border_left_serialize(const void *property,
                                       lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_border_serialize(property, cb, ctx);
}

void *
lxb_css_property_border_top_color_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_border_top_color_t));
}

void *
lxb_css_property_border_top_color_destroy(lxb_css_memory_t *memory,
                                          void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_border_top_color_serialize(const void *style,
                                            lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_color_serialize(style, cb, ctx);
}

void *
lxb_css_property_border_right_color_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_border_right_color_t));
}

void *
lxb_css_property_border_right_color_destroy(lxb_css_memory_t *memory,
                                            void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_border_right_color_serialize(const void *style,
                                              lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_color_serialize(style, cb, ctx);
}

void *
lxb_css_property_border_bottom_color_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_border_bottom_color_t));
}

void *
lxb_css_property_border_bottom_color_destroy(lxb_css_memory_t *memory,
                                             void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_border_bottom_color_serialize(const void *style,
                                               lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_color_serialize(style, cb, ctx);
}

void *
lxb_css_property_border_left_color_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_border_left_color_t));
}

void *
lxb_css_property_border_left_color_destroy(lxb_css_memory_t *memory,
                                           void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_border_left_color_serialize(const void *style,
                                             lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_color_serialize(style, cb, ctx);
}

void *
lxb_css_property_background_color_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_background_color_t));
}

void *
lxb_css_property_background_color_destroy(lxb_css_memory_t *memory,
                                          void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_background_color_serialize(const void *style,
                                            lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_color_serialize(style, cb, ctx);
}

/* Color. */

void *
lxb_css_property_color_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_color_t));
}

void *
lxb_css_property_color_destroy(lxb_css_memory_t *memory,
                               void *property, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, property, self_destroy);
}

lxb_status_t
lxb_css_property_color_serialize(const void *property,
                                 lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_color_serialize(property, cb, ctx);
}

void *
lxb_css_property_opacity_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_opacity_t));
}

void *
lxb_css_property_opacity_destroy(lxb_css_memory_t *memory,
                                 void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_opacity_serialize(const void *style,
                                   lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_number_percentage_sr(style, cb, ctx);
}

void *
lxb_css_property_position_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_position_t));
}

void *
lxb_css_property_position_destroy(lxb_css_memory_t *memory,
                                  void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_position_serialize(const void *style,
                                    lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_position_t *position = style;

    return lxb_css_value_serialize(position->type, cb, ctx);
}

void *
lxb_css_property_top_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_top_t));
}

void *
lxb_css_property_top_destroy(lxb_css_memory_t *memory,
                             void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_top_serialize(const void *style,
                               lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_length_percentage_sr(style, cb, ctx);
}

void *
lxb_css_property_right_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_right_t));
}

void *
lxb_css_property_right_destroy(lxb_css_memory_t *memory,
                               void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_right_serialize(const void *style,
                                 lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_top_serialize(style, cb, ctx);
}

void *
lxb_css_property_bottom_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_bottom_t));
}

void *
lxb_css_property_bottom_destroy(lxb_css_memory_t *memory,
                                void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_bottom_serialize(const void *style,
                                  lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_top_serialize(style, cb, ctx);
}

void *
lxb_css_property_left_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_left_t));
}

void *
lxb_css_property_left_destroy(lxb_css_memory_t *memory,
                              void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_left_serialize(const void *style,
                                lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_top_serialize(style, cb, ctx);
}

void *
lxb_css_property_inset_block_start_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_inset_block_start_t));
}

void *
lxb_css_property_inset_block_start_destroy(lxb_css_memory_t *memory,
                                           void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_inset_block_start_serialize(const void *style,
                                             lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_top_serialize(style, cb, ctx);
}

void *
lxb_css_property_inset_inline_start_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_inset_inline_start_t));
}

void *
lxb_css_property_inset_inline_start_destroy(lxb_css_memory_t *memory,
                                            void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_inset_inline_start_serialize(const void *style,
                                              lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_top_serialize(style, cb, ctx);
}

void *
lxb_css_property_inset_block_end_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_inset_block_end_t));
}

void *
lxb_css_property_inset_block_end_destroy(lxb_css_memory_t *memory,
                                         void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_inset_block_end_serialize(const void *style,
                                           lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_top_serialize(style, cb, ctx);
}

void *
lxb_css_property_inset_inline_end_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_inset_inline_end_t));
}

void *
lxb_css_property_inset_inline_end_destroy(lxb_css_memory_t *memory,
                                          void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_inset_inline_end_serialize(const void *style,
                                            lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_top_serialize(style, cb, ctx);
}

/* Text-transform. */

LXB_API void *
lxb_css_property_text_transform_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_text_transform_t));
}

LXB_API void *
lxb_css_property_text_transform_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_text_transform_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx)
{
    bool ws_print;
    lxb_status_t status;
    const lxb_css_property_text_transform_t *tt = style;

    static const lexbor_str_t str_ws = lexbor_str(" ");

    ws_print = false;

    if (tt->type_case != LXB_CSS_VALUE__UNDEF) {
        status = lxb_css_value_serialize(tt->type_case, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        ws_print = true;
    }

    if (tt->full_width != LXB_CSS_VALUE__UNDEF) {
        if (ws_print) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
        }

        status = lxb_css_value_serialize(tt->full_width, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        ws_print = true;
    }

    if (tt->full_size_kana != LXB_CSS_VALUE__UNDEF) {
        if (ws_print) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
        }

        return lxb_css_value_serialize(tt->full_size_kana, cb, ctx);
    }

    return LXB_STATUS_OK;
}

/* Text-align. */

LXB_API void *
lxb_css_property_text_align_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_text_align_t));
}

LXB_API void *
lxb_css_property_text_align_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_text_align_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_text_align_t *ta = style;

    return lxb_css_value_serialize(ta->type, cb, ctx);
}

/* Text-align-all. */

LXB_API void *
lxb_css_property_text_align_all_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_text_align_all_t));
}

LXB_API void *
lxb_css_property_text_align_all_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_text_align_all_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_text_align_all_t *taa = style;

    return lxb_css_value_serialize(taa->type, cb, ctx);
}

/* Text-align-last. */

LXB_API void *
lxb_css_property_text_align_last_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_text_align_last_t));
}

LXB_API void *
lxb_css_property_text_align_last_destroy(lxb_css_memory_t *memory,
                                         void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_text_align_last_serialize(const void *style,
                                           lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_text_align_last_t *tal = style;

    return lxb_css_value_serialize(tal->type, cb, ctx);
}

/* Text-justify. */

LXB_API void *
lxb_css_property_text_justify_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_text_justify_t));
}

LXB_API void *
lxb_css_property_text_justify_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_text_justify_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_text_justify_t *tj = style;

    return lxb_css_value_serialize(tj->type, cb, ctx);
}

/* Text-indent. */

LXB_API void *
lxb_css_property_text_indent_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_text_indent_t));
}

LXB_API void *
lxb_css_property_text_indent_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_text_indent_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_css_property_text_indent_t *ti = style;

    static const lexbor_str_t str_ws = lexbor_str(" ");

    if (ti->type == LXB_CSS_VALUE__LENGTH) {
        status = lxb_css_value_length_percentage_sr(&ti->length, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }
    }
    else if (ti->type != LXB_CSS_VALUE__UNDEF) {
        status = lxb_css_value_serialize(ti->type, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }
    }

    if (ti->hanging != LXB_CSS_VALUE__UNDEF) {
        lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);

        status = lxb_css_value_serialize(ti->hanging, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }
    }

    if (ti->each_line != LXB_CSS_VALUE__UNDEF) {
        lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);

        return lxb_css_value_serialize(ti->each_line, cb, ctx);
    }

    return LXB_STATUS_OK;
}

/* White-space. */

LXB_API void *
lxb_css_property_white_space_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_white_space_t));
}

LXB_API void *
lxb_css_property_white_space_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_white_space_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_white_space_t *ws = style;

    return lxb_css_value_serialize(ws->type, cb, ctx);
}

/* Tab-size. */

LXB_API void *
lxb_css_property_tab_size_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_tab_size_t));
}

LXB_API void *
lxb_css_property_tab_size_destroy(lxb_css_memory_t *memory,
                                  void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_tab_size_serialize(const void *style,
                                    lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_number_length_sr(style, cb, ctx);
}

/* Word-break. */

LXB_API void *
lxb_css_property_word_break_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_word_break_t));
}

LXB_API void *
lxb_css_property_word_break_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_word_break_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_word_break_t *wb = style;

    return lxb_css_value_serialize(wb->type, cb, ctx);
}

/* Line-break. */

LXB_API void *
lxb_css_property_line_break_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_line_break_t));
}

LXB_API void *
lxb_css_property_line_break_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_line_break_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_line_break_t *lb = style;

    return lxb_css_value_serialize(lb->type, cb, ctx);
}

/* Hyphens. */

LXB_API void *
lxb_css_property_hyphens_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_hyphens_t));
}

LXB_API void *
lxb_css_property_hyphens_destroy(lxb_css_memory_t *memory,
                                 void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_hyphens_serialize(const void *style,
                                   lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_hyphens_t *hpns = style;

    return lxb_css_value_serialize(hpns->type, cb, ctx);
}

/* Overflow-wrap. */

LXB_API void *
lxb_css_property_overflow_wrap_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_overflow_wrap_t));
}

LXB_API void *
lxb_css_property_overflow_wrap_destroy(lxb_css_memory_t *memory,
                                       void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_overflow_wrap_serialize(const void *style,
                                         lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_overflow_wrap_t *ow = style;

    return lxb_css_value_serialize(ow->type, cb, ctx);
}

/* Word-wrap. */

LXB_API void *
lxb_css_property_word_wrap_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_word_wrap_t));
}

LXB_API void *
lxb_css_property_word_wrap_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_word_wrap_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_word_wrap_t *ww = style;

    return lxb_css_value_serialize(ww->type, cb, ctx);
}

/* Word-spacing. */

LXB_API void *
lxb_css_property_word_spacing_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_word_spacing_t));
}

LXB_API void *
lxb_css_property_word_spacing_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_word_spacing_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_length_type_sr(style, cb, ctx);
}

/* Letter-spacing. */

LXB_API void *
lxb_css_property_letter_spacing_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_letter_spacing_t));
}

LXB_API void *
lxb_css_property_letter_spacing_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_letter_spacing_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_length_type_sr(style, cb, ctx);
}

/* Hanging-punctuation. */

LXB_API void *
lxb_css_property_hanging_punctuation_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_hanging_punctuation_t));
}

LXB_API void *
lxb_css_property_hanging_punctuation_destroy(lxb_css_memory_t *memory,
                                             void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_hanging_punctuation_serialize(const void *style,
                                               lexbor_serialize_cb_f cb, void *ctx)
{
    bool ws_print;
    lxb_status_t status;
    const lxb_css_property_hanging_punctuation_t *hp = style;

    static const lexbor_str_t str_ws = lexbor_str(" ");

    ws_print = false;

    if (hp->type_first != LXB_CSS_VALUE__UNDEF) {
        status = lxb_css_value_serialize(hp->type_first, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        ws_print = true;
    }

    if (hp->force_allow != LXB_CSS_VALUE__UNDEF) {
        if (ws_print) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
        }

        status = lxb_css_value_serialize(hp->force_allow, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        ws_print = true;
    }

    if (hp->last != LXB_CSS_VALUE__UNDEF) {
        if (ws_print) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
        }

        return lxb_css_value_serialize(hp->last, cb, ctx);
    }

    return LXB_STATUS_OK;
}

/* Font-family. */

void *
lxb_css_property_font_family_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_font_family_t));
}

void *
lxb_css_property_font_family_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy)
{
    lxb_css_property_font_family_t *ff = style;
    lxb_css_property_family_name_t *name, *next;

    name = ff->first;

    while (name != NULL) {
        next = name->next;

        if (!name->generic) {
            (void) lexbor_str_destroy(&name->u.str, memory->mraw, false);
        }

        lexbor_mraw_free(memory->mraw, name);

        name = next;
    }

    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_font_family_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_css_property_font_family_t *ff = style;
    const lxb_css_property_family_name_t *name;

    static const lexbor_str_t str_comma = lexbor_str(", ");

    name = ff->first;

    while (name != NULL) {
        if (name->generic) {
            status = lxb_css_value_serialize(name->u.type, cb, ctx);
        }
        else {
            status = lxb_css_syntax_ident_or_string_serialize(name->u.str.data,
                                                              name->u.str.length,
                                                              cb, ctx);
        }

        if (status != LXB_STATUS_OK) {
            return status;
        }

        name = name->next;

        if (name != NULL) {
            lexbor_serialize_write(cb, str_comma.data, str_comma.length,
                                   ctx, status);
        }
    }

    return LXB_STATUS_OK;
}

/* Font-weight. */

void *
lxb_css_property_font_weight_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_font_weight_t));
}

void *
lxb_css_property_font_weight_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_font_weight_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_number_type_sr(style, cb, ctx);
}

/* Font-stretch. */

void *
lxb_css_property_font_stretch_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_font_stretch_t));
}

void *
lxb_css_property_font_stretch_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_font_stretch_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_percentage_type_sr(style, cb, ctx);
}

/* Font-style. */

void *
lxb_css_property_font_style_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_font_style_t));
}

void *
lxb_css_property_font_style_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

lxb_status_t
lxb_css_property_font_style_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_css_property_font_style_t *fs = style;

    static const lexbor_str_t str_ws = lexbor_str(" ");

    status = lxb_css_value_serialize(fs->type, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (fs->angle.unit != (lxb_css_unit_angle_t) LXB_CSS_UNIT__UNDEF) {
        lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);

        status = lxb_css_value_angle_sr(&fs->angle, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }
    }

    return LXB_STATUS_OK;
}

/* Font-size. */

LXB_API void *
lxb_css_property_font_size_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_font_size_t));
}

LXB_API void *
lxb_css_property_font_size_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_font_size_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_length_percentage_type_sr(style, cb, ctx);
}

/* Float-reference. */

LXB_API void *
lxb_css_property_float_reference_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_float_reference_t));
}

LXB_API void *
lxb_css_property_float_reference_destroy(lxb_css_memory_t *memory,
                                         void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_float_reference_serialize(const void *style,
                                           lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_float_reference_t *fr = style;

    return lxb_css_value_serialize(fr->type, cb, ctx);
}

/* Float. */

LXB_API void *
lxb_css_property_float_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_float_t));
}

LXB_API void *
lxb_css_property_float_destroy(lxb_css_memory_t *memory,
                               void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_float_serialize(const void *style,
                                 lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_css_property_float_t *flt = style;

    static const lexbor_str_t str_o = lexbor_str("(");
    static const lexbor_str_t str_cm = lexbor_str(", ");
    static const lexbor_str_t str_c = lexbor_str(")");

    status = lxb_css_value_serialize(flt->type, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (flt->length.type != LXB_CSS_VALUE__LENGTH) {
        return LXB_STATUS_OK;
    }

    lexbor_serialize_write(cb, str_o.data, str_o.length, ctx, status);

    status = lxb_css_value_length_sr(&flt->length.length, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (flt->snap_type == LXB_CSS_VALUE__UNDEF) {
        return cb(str_c.data, str_c.length, ctx);
    }

    lexbor_serialize_write(cb, str_cm.data, str_cm.length, ctx, status);

    status = lxb_css_value_serialize(flt->snap_type, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    return cb(str_c.data, str_c.length, ctx);
}

/* Clear. */

LXB_API void *
lxb_css_property_clear_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_clear_t));
}

LXB_API void *
lxb_css_property_clear_destroy(lxb_css_memory_t *memory,
                               void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_clear_serialize(const void *style,
                                 lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_clear_t *cls = style;

    return lxb_css_value_serialize(cls->type, cb, ctx);
}

/* Float-defer. */

LXB_API void *
lxb_css_property_float_defer_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_float_defer_t));
}

LXB_API void *
lxb_css_property_float_defer_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_float_defer_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_float_defer_t *def = style;

    if (def->type == LXB_CSS_FLOAT_DEFER__INTEGER) {
        return lxb_css_value_integer_sr(&def->integer, cb, ctx);
    }

    return lxb_css_value_serialize(def->type, cb, ctx);
}

/* Float-offset. */

LXB_API void *
lxb_css_property_float_offset_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_float_offset_t));
}

LXB_API void *
lxb_css_property_float_offset_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_float_offset_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_length_percentage_sr(style, cb, ctx);
}

/* Wrap-flow. */

LXB_API void *
lxb_css_property_wrap_flow_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_wrap_flow_t));
}

LXB_API void *
lxb_css_property_wrap_flow_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_wrap_flow_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_wrap_flow_t *wf = style;

    return lxb_css_value_serialize(wf->type, cb, ctx);
}

/* Wrap-through. */

LXB_API void *
lxb_css_property_wrap_through_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_wrap_through_t));
}

LXB_API void *
lxb_css_property_wrap_through_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_wrap_through_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_wrap_through_t *wt = style;

    return lxb_css_value_serialize(wt->type, cb, ctx);
}

/* Flex-direction. */

LXB_API void *
lxb_css_property_flex_direction_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_flex_direction_t));
}

LXB_API void *
lxb_css_property_flex_direction_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_flex_direction_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_flex_direction_t *fd = style;

    return lxb_css_value_serialize(fd->type, cb, ctx);
}

/* Flex-wrap. */

LXB_API void *
lxb_css_property_flex_wrap_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_flex_wrap_t));
}

LXB_API void *
lxb_css_property_flex_wrap_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_flex_wrap_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_flex_wrap_t *fw = style;

    return lxb_css_value_serialize(fw->type, cb, ctx);
}

/* Flex-flow. */

LXB_API void *
lxb_css_property_flex_flow_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_flex_flow_t));
}

LXB_API void *
lxb_css_property_flex_flow_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_flex_flow_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_css_property_flex_flow_t *ff = style;

    static const lexbor_str_t str_ws = lexbor_str(" ");

    if (ff->type_direction != LXB_CSS_VALUE__UNDEF) {
        status = lxb_css_value_serialize(ff->type_direction, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }
    }

    if (ff->wrap != LXB_CSS_VALUE__UNDEF) {
        if (ff->type_direction != LXB_CSS_VALUE__UNDEF) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
        }

        return lxb_css_value_serialize(ff->wrap, cb, ctx);
    }

    return LXB_STATUS_OK;
}

/* Flex. */

LXB_API void *
lxb_css_property_flex_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_flex_t));
}

LXB_API void *
lxb_css_property_flex_destroy(lxb_css_memory_t *memory,
                              void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_flex_serialize(const void *style,
                                lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_css_property_flex_t *flex = style;

    static const lexbor_str_t str_ws = lexbor_str(" ");

    if (flex->type != LXB_CSS_VALUE__UNDEF) {
        return lxb_css_value_serialize(flex->type, cb, ctx);
    }

    if (flex->grow.type != LXB_CSS_VALUE__UNDEF) {
        status = lxb_css_value_number_sr(&flex->grow.number, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        if (flex->shrink.type != LXB_CSS_VALUE__UNDEF) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);

            status = lxb_css_value_number_sr(&flex->shrink.number, cb, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }
        }
    }

    if (flex->basis.type == LXB_CSS_VALUE__UNDEF) {
        return LXB_STATUS_OK;
    }

    if (flex->grow.type != LXB_CSS_VALUE__UNDEF) {
        lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
    }

    return lxb_css_property_flex_basis_serialize(&flex->basis, cb, ctx);
}

/* Flex-grow. */

LXB_API void *
lxb_css_property_flex_grow_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_flex_grow_t));
}

LXB_API void *
lxb_css_property_flex_grow_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_flex_grow_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_number_type_sr(style, cb, ctx);
}

/* Flex-shrink. */

LXB_API void *
lxb_css_property_flex_shrink_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_flex_shrink_t));
}

LXB_API void *
lxb_css_property_flex_shrink_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_flex_shrink_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_number_type_sr(style, cb, ctx);
}

/* Flex-basis. */

LXB_API void *
lxb_css_property_flex_basis_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_flex_basis_t));
}

LXB_API void *
lxb_css_property_flex_basis_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_flex_basis_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_width_serialize(style, cb, ctx);
}

/* Justify-content. */

LXB_API void *
lxb_css_property_justify_content_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_justify_content_t));
}

LXB_API void *
lxb_css_property_justify_content_destroy(lxb_css_memory_t *memory,
                                         void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_justify_content_serialize(const void *style,
                                           lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_justify_content_t *jc = style;

    return lxb_css_value_serialize(jc->type, cb, ctx);
}

/* Align-items. */

LXB_API void *
lxb_css_property_align_items_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_align_items_t));
}

LXB_API void *
lxb_css_property_align_items_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_align_items_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_align_items_t *ai = style;

    return lxb_css_value_serialize(ai->type, cb, ctx);
}

/* Align-self. */

LXB_API void *
lxb_css_property_align_self_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_align_self_t));
}

LXB_API void *
lxb_css_property_align_self_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_align_self_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_align_self_t *as = style;

    return lxb_css_value_serialize(as->type, cb, ctx);
}

/* Align-content. */

LXB_API void *
lxb_css_property_align_content_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_align_content_t));
}

LXB_API void *
lxb_css_property_align_content_destroy(lxb_css_memory_t *memory,
                                       void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_align_content_serialize(const void *style,
                                         lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_align_content_t *ac = style;

    return lxb_css_value_serialize(ac->type, cb, ctx);
}

/* Dominant-baseline. */

LXB_API void *
lxb_css_property_dominant_baseline_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_dominant_baseline_t));
}

LXB_API void *
lxb_css_property_dominant_baseline_destroy(lxb_css_memory_t *memory,
                                           void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_dominant_baseline_serialize(const void *style,
                                             lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_dominant_baseline_t *db = style;

    return lxb_css_value_serialize(db->type, cb, ctx);
}

/* Vertical-align. */

LXB_API void *
lxb_css_property_vertical_align_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_vertical_align_t));
}

LXB_API void *
lxb_css_property_vertical_align_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_vertical_align_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx)
{
    bool is;
    lxb_status_t status;
    const lxb_css_property_vertical_align_t *va = style;

    static const lexbor_str_t str_ws = lexbor_str(" ");

    is = false;

    if (va->type != LXB_CSS_VALUE__UNDEF) {
        status = lxb_css_value_serialize(va->type, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        is = true;
    }

    if (va->alignment.type != LXB_CSS_VALUE__UNDEF) {
        if (is) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
        }

        status = lxb_css_value_serialize(va->alignment.type, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        is = true;
    }

    if (va->shift.type != LXB_CSS_VALUE__UNDEF) {
        if (is) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
        }

        status = lxb_css_value_length_percentage_sr(&va->shift, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }
    }

    return LXB_STATUS_OK;
}

/* Baseline-source. */

LXB_API void *
lxb_css_property_baseline_source_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_baseline_source_t));
}

LXB_API void *
lxb_css_property_baseline_source_destroy(lxb_css_memory_t *memory,
                                         void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_baseline_source_serialize(const void *style,
                                           lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_baseline_source_t *bs = style;

    return lxb_css_value_serialize(bs->type, cb, ctx);
}

/* Alignment-baseline. */

LXB_API void *
lxb_css_property_alignment_baseline_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_alignment_baseline_t));
}

LXB_API void *
lxb_css_property_alignment_baseline_destroy(lxb_css_memory_t *memory,
                                            void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_alignment_baseline_serialize(const void *style,
                                              lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_alignment_baseline_t *ab = style;

    return lxb_css_value_serialize(ab->type, cb, ctx);
}

/* Baseline-shift. */

LXB_API void *
lxb_css_property_baseline_shift_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_baseline_shift_t));
}

LXB_API void *
lxb_css_property_baseline_shift_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_baseline_shift_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_length_percentage_sr(style, cb, ctx);
}

/* Line-height. */

LXB_API void *
lxb_css_property_line_height_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_line_height_t));
}

LXB_API void *
lxb_css_property_line_height_destroy(lxb_css_memory_t *memory,
                                     void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_line_height_serialize(const void *style,
                                       lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_number_length_percentage_type_sr(style, cb, ctx);
}

/* Z-index. */

LXB_API void *
lxb_css_property_z_index_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_property_z_index_t));
}

LXB_API void *
lxb_css_property_z_index_destroy(lxb_css_memory_t *memory,
                                 void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_z_index_serialize(const void *style,
                                   lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_value_integer_type_sr(style, cb, ctx);
}

/* Direction. */

LXB_API void *
lxb_css_property_direction_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_direction_t));
}

LXB_API void *
lxb_css_property_direction_destroy(lxb_css_memory_t *memory,
                                   void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_direction_serialize(const void *style,
                                     lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_direction_t *dr = style;

    return lxb_css_value_serialize(dr->type, cb, ctx);
}

/* Unicode-bidi. */

LXB_API void *
lxb_css_property_unicode_bidi_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_unicode_bidi_t));
}

LXB_API void *
lxb_css_property_unicode_bidi_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_unicode_bidi_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_unicode_bidi_t *ub = style;

    return lxb_css_value_serialize(ub->type, cb, ctx);
}

/* Writing-mode. */

LXB_API void *
lxb_css_property_writing_mode_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_writing_mode_t));
}

LXB_API void *
lxb_css_property_writing_mode_destroy(lxb_css_memory_t *memory,
                                      void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_writing_mode_serialize(const void *style,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_writing_mode_t *wm = style;

    return lxb_css_value_serialize(wm->type, cb, ctx);
}

/* Text-orientation. */

LXB_API void *
lxb_css_property_text_orientation_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_text_orientation_t));
}

LXB_API void *
lxb_css_property_text_orientation_destroy(lxb_css_memory_t *memory,
                                          void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_text_orientation_serialize(const void *style,
                                            lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_text_orientation_t *to = style;

    return lxb_css_value_serialize(to->type, cb, ctx);
}

/* Text-combine-upright. */

LXB_API void *
lxb_css_property_text_combine_upright_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_text_combine_upright_t));
}

LXB_API void *
lxb_css_property_text_combine_upright_destroy(lxb_css_memory_t *memory,
                                              void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_text_combine_upright_serialize(const void *style,
                                                lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_css_property_text_combine_upright_t *tcu = style;

    static const lexbor_str_t str_ws = lexbor_str(" ");

    if (tcu->type == LXB_CSS_TEXT_COMBINE_UPRIGHT_DIGITS) {
        status = lxb_css_value_serialize(tcu->type, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        if (tcu->digits.num != 0) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);

            return lxb_css_value_integer_sr(&tcu->digits, cb, ctx);
        }

        return LXB_STATUS_OK;
    }

    return lxb_css_value_serialize(tcu->type, cb, ctx);
}

/* Overflow-x. */

LXB_API void *
lxb_css_property_overflow_x_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_overflow_x_t));
}

LXB_API void *
lxb_css_property_overflow_x_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_overflow_x_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_overflow_x_t *ox = style;

    return lxb_css_value_serialize(ox->type, cb, ctx);
}

/* Overflow-y. */

LXB_API void *
lxb_css_property_overflow_y_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_overflow_y_t));
}

LXB_API void *
lxb_css_property_overflow_y_destroy(lxb_css_memory_t *memory,
                                    void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_overflow_y_serialize(const void *style,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_overflow_y_t *oy = style;

    return lxb_css_value_serialize(oy->type, cb, ctx);
}

/* Overflow-block. */

LXB_API void *
lxb_css_property_overflow_block_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_overflow_block_t));
}

LXB_API void *
lxb_css_property_overflow_block_destroy(lxb_css_memory_t *memory,
                                        void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_overflow_block_serialize(const void *style,
                                          lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_overflow_block_t *ob = style;

    return lxb_css_value_serialize(ob->type, cb, ctx);
}

/* Overflow-inline. */

LXB_API void *
lxb_css_property_overflow_inline_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_overflow_inline_t));
}

LXB_API void *
lxb_css_property_overflow_inline_destroy(lxb_css_memory_t *memory,
                                         void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_overflow_inline_serialize(const void *style,
                                           lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_overflow_inline_t *oi = style;

    return lxb_css_value_serialize(oi->type, cb, ctx);
}

/* Text-overflow. */

LXB_API void *
lxb_css_property_text_overflow_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_text_overflow_t));
}

LXB_API void *
lxb_css_property_text_overflow_destroy(lxb_css_memory_t *memory,
                                       void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_text_overflow_serialize(const void *style,
                                         lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_text_overflow_t *to = style;

    return lxb_css_value_serialize(to->type, cb, ctx);
}

/* Text-decoration-line. */

LXB_API void *
lxb_css_property_text_decoration_line_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_text_decoration_line_t));
}

LXB_API void *
lxb_css_property_text_decoration_line_destroy(lxb_css_memory_t *memory,
                                              void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_text_decoration_line_serialize(const void *style,
                                                lexbor_serialize_cb_f cb, void *ctx)
{
    bool itis;
    lxb_status_t status;
    const lxb_css_property_text_decoration_line_t *tdl = style;

    static const lexbor_str_t str_ws = lexbor_str(" ");

    itis = false;

    if (tdl->underline != LXB_CSS_VALUE__UNDEF) {
        status = lxb_css_value_serialize(tdl->underline, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        itis = true;
    }

    if (tdl->overline != LXB_CSS_VALUE__UNDEF) {
        if (itis) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
        }

        status = lxb_css_value_serialize(tdl->overline, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        itis = true;
    }

    if (tdl->line_through != LXB_CSS_VALUE__UNDEF) {
        if (itis) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
        }

        status = lxb_css_value_serialize(tdl->line_through, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        itis = true;
    }

    if (tdl->blink != LXB_CSS_VALUE__UNDEF) {
        if (itis) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
        }

        return lxb_css_value_serialize(tdl->blink, cb, ctx);
    }

    if (itis) {
        return LXB_STATUS_OK;
    }

    return lxb_css_value_serialize(tdl->type, cb, ctx);
}

/* Text-decoration-style. */

LXB_API void *
lxb_css_property_text_decoration_style_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_text_decoration_style_t));
}

LXB_API void *
lxb_css_property_text_decoration_style_destroy(lxb_css_memory_t *memory,
                                               void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_text_decoration_style_serialize(const void *style,
                                                 lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_property_text_decoration_style_t *tds = style;

    return lxb_css_value_serialize(tds->type, cb, ctx);
}

/* Text-decoration-color. */

LXB_API void *
lxb_css_property_text_decoration_color_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_text_decoration_color_t));
}

LXB_API void *
lxb_css_property_text_decoration_color_destroy(lxb_css_memory_t *memory,
                                               void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_text_decoration_color_serialize(const void *style,
                                                 lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_color_serialize(style, cb, ctx);
}

/* Text-decoration. */

LXB_API void *
lxb_css_property_text_decoration_create(lxb_css_memory_t *memory)
{
    return lexbor_mraw_calloc(memory->mraw,
                              sizeof(lxb_css_property_text_decoration_t));
}

LXB_API void *
lxb_css_property_text_decoration_destroy(lxb_css_memory_t *memory,
                                         void *style, bool self_destroy)
{
    return lxb_css_property__undef_destroy(memory, style, self_destroy);
}

LXB_API lxb_status_t
lxb_css_property_text_decoration_serialize(const void *style,
                                           lexbor_serialize_cb_f cb, void *ctx)
{
    bool itis;
    lxb_status_t status;
    const lxb_css_property_text_decoration_t *td = style;

    static const lexbor_str_t str_ws = lexbor_str(" ");

    itis = false;

    if (td->line.type != LXB_CSS_VALUE__UNDEF
        || td->line.underline != LXB_CSS_VALUE__UNDEF
        || td->line.overline != LXB_CSS_VALUE__UNDEF
        || td->line.line_through != LXB_CSS_VALUE__UNDEF
        || td->line.blink != LXB_CSS_VALUE__UNDEF)
    {
        status = lxb_css_property_text_decoration_line_serialize(&td->line,
                                                                 cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        itis = true;
    }

    if (td->style.type != LXB_CSS_VALUE__UNDEF) {
        if (itis) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
        }

        status = lxb_css_property_text_decoration_style_serialize(&td->style,
                                                                  cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        itis = true;
    }

    if (td->color.type != LXB_CSS_VALUE__UNDEF) {
        if (itis) {
            lexbor_serialize_write(cb, str_ws.data, str_ws.length, ctx, status);
        }

        return lxb_css_property_text_decoration_color_serialize(&td->color,
                                                                cb, ctx);
    }

    return LXB_STATUS_OK;
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_hex[256];
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_lowercase[256];
#endif


#define lxb_css_property_state_check_token(parser, token)                     \
    if ((token) == NULL) {                                                    \
        return lxb_css_parser_memory_fail(parser);                            \
    }

#define lxb_css_property_state_get_type(parser, token, type)                  \
    do {                                                                      \
        lxb_css_syntax_parser_consume(parser);                                \
                                                                              \
        token = lxb_css_syntax_parser_token_wo_ws(parser);                    \
        lxb_css_property_state_check_token(parser, token);                    \
                                                                              \
        if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {                      \
            return lxb_css_parser_success(parser);                            \
        }                                                                     \
                                                                              \
        type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data, \
                                  lxb_css_syntax_token_ident(token)->length); \
    }                                                                         \
    while (false)

#define LXB_CSS_PROPERTY_STATE_HEX_MASK(n)                                    \
    ((((uint32_t) 1 << (32 - (n))) - 1) << (n))


static bool
lxb_css_property_state_color_rgba_old(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      lxb_css_value_color_t *color);
static bool
lxb_css_property_state_color_hsla_old(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      lxb_css_value_color_hsla_t *hsl);

static bool
lxb_css_property_state_length(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token,
                              lxb_css_value_length_t *length)
{
    const lxb_css_data_t *unit;

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_DIMENSION:
            unit = lxb_css_unit_absolute_relative_by_name(lxb_css_syntax_token_dimension(token)->str.data,
                                                          lxb_css_syntax_token_dimension(token)->str.length);
            if (unit == NULL) {
                return false;
            }

            length->num = lxb_css_syntax_token_dimension(token)->num.num;
            length->is_float = lxb_css_syntax_token_dimension(token)->num.is_float;
            length->unit = (lxb_css_unit_t) unit->unique;
            break;

        case LXB_CSS_SYNTAX_TOKEN_NUMBER:
            if (lxb_css_syntax_token_number(token)->num != 0) {
                return false;
            }

            length->num = lxb_css_syntax_token_number(token)->num;
            length->is_float = lxb_css_syntax_token_number(token)->is_float;
            length->unit = LXB_CSS_UNIT__UNDEF;
            break;

        default:
            return false;
    }

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_length_percentage(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         lxb_css_value_length_percentage_t *lp)
{
    const lxb_css_data_t *unit;

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_DIMENSION:
            unit = lxb_css_unit_absolute_relative_by_name(lxb_css_syntax_token_dimension(token)->str.data,
                                                          lxb_css_syntax_token_dimension(token)->str.length);
            if (unit == NULL) {
                return false;
            }

            lp->type = LXB_CSS_VALUE__LENGTH;
            lp->u.length.num = lxb_css_syntax_token_dimension(token)->num.num;
            lp->u.length.is_float = lxb_css_syntax_token_dimension(token)->num.is_float;
            lp->u.length.unit = (lxb_css_unit_t) unit->unique;
            break;

        case LXB_CSS_SYNTAX_TOKEN_NUMBER:
            if (lxb_css_syntax_token_number(token)->num != 0) {
                return false;
            }

            lp->type = LXB_CSS_VALUE__NUMBER;
            lp->u.length.num = lxb_css_syntax_token_number(token)->num;
            lp->u.length.is_float = lxb_css_syntax_token_number(token)->is_float;
            lp->u.length.unit = LXB_CSS_UNIT__UNDEF;
            break;

        case LXB_CSS_SYNTAX_TOKEN_PERCENTAGE:
            lp->type = LXB_CSS_VALUE__PERCENTAGE;
            lp->u.percentage.num = lxb_css_syntax_token_percentage(token)->num;
            lp->u.percentage.is_float = lxb_css_syntax_token_percentage(token)->is_float;
            break;

        default:
            return false;
    }

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_number_length_percentage(lxb_css_parser_t *parser,
                                                const lxb_css_syntax_token_t *token,
                                                lxb_css_value_number_length_percentage_t *nlp)
{
    const lxb_css_data_t *unit;

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_DIMENSION:
            unit = lxb_css_unit_absolute_relative_by_name(lxb_css_syntax_token_dimension(token)->str.data,
                                                          lxb_css_syntax_token_dimension(token)->str.length);
            if (unit == NULL) {
                return false;
            }

            nlp->type = LXB_CSS_VALUE__LENGTH;
            nlp->u.length.num = lxb_css_syntax_token_dimension(token)->num.num;
            nlp->u.length.is_float = lxb_css_syntax_token_dimension(token)->num.is_float;
            nlp->u.length.unit = (lxb_css_unit_t) unit->unique;
            break;

        case LXB_CSS_SYNTAX_TOKEN_NUMBER:
            nlp->type = LXB_CSS_VALUE__NUMBER;
            nlp->u.number.num = lxb_css_syntax_token_number(token)->num;
            nlp->u.number.is_float = lxb_css_syntax_token_number(token)->is_float;
            break;

        case LXB_CSS_SYNTAX_TOKEN_PERCENTAGE:
            nlp->type = LXB_CSS_VALUE__PERCENTAGE;
            nlp->u.percentage.num = lxb_css_syntax_token_percentage(token)->num;
            nlp->u.percentage.is_float = lxb_css_syntax_token_percentage(token)->is_float;
            break;

        default:
            return false;
    }

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_number_length(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     lxb_css_value_number_length_t *nl)
{
    const lxb_css_data_t *unit;

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_DIMENSION:
            unit = lxb_css_unit_absolute_relative_by_name(lxb_css_syntax_token_dimension(token)->str.data,
                                                          lxb_css_syntax_token_dimension(token)->str.length);
            if (unit == NULL) {
                return false;
            }

            nl->type = LXB_CSS_VALUE__LENGTH;
            nl->u.length.num = lxb_css_syntax_token_dimension(token)->num.num;
            nl->u.length.is_float = lxb_css_syntax_token_dimension(token)->num.is_float;
            nl->u.length.unit = (lxb_css_unit_t) unit->unique;
            break;

        case LXB_CSS_SYNTAX_TOKEN_NUMBER:
            nl->type = LXB_CSS_VALUE__NUMBER;
            nl->u.number.num = lxb_css_syntax_token_number(token)->num;
            nl->u.number.is_float = lxb_css_syntax_token_number(token)->is_float;
            break;

        default:
            return false;
    }

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_number(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token,
                              lxb_css_value_number_t *number)
{
    if (token->type != LXB_CSS_SYNTAX_TOKEN_NUMBER) {
        return false;
    }

    number->num = lxb_css_syntax_token_number(token)->num;
    number->is_float = lxb_css_syntax_token_number(token)->is_float;

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_integer(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               lxb_css_value_integer_t *intg)
{
    long ln;
    double num;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_NUMBER) {
        return false;
    }

    num = lxb_css_syntax_token_number(token)->num;
    ln = lexbor_conv_double_to_long(num);

    num = num - (double) ln;

    if (num < 0.0 || num > 0.0) {
        return false;
    }

    intg->num = ln;

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_percentage(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  lxb_css_value_percentage_t *perc)
{
    if (token->type != LXB_CSS_SYNTAX_TOKEN_PERCENTAGE) {
        return false;
    }

    perc->num = lxb_css_syntax_token_percentage(token)->num;
    perc->is_float = lxb_css_syntax_token_percentage(token)->is_float;

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_number_percentage_none(lxb_css_parser_t *parser,
                                              const lxb_css_syntax_token_t *token,
                                              lxb_css_value_number_percentage_t *np)
{
    double num;
    lxb_css_value_type_t type;

    if (token->type == LXB_CSS_SYNTAX_TOKEN_NUMBER) {
        np->type = LXB_CSS_VALUE__NUMBER;
    }
    else if (token->type == LXB_CSS_SYNTAX_TOKEN_PERCENTAGE) {
        np->type = LXB_CSS_VALUE__PERCENTAGE;
    }
    else if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
        type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                     lxb_css_syntax_token_ident(token)->length);
        if (type != LXB_CSS_VALUE_NONE) {
            return false;
        }

        np->type = LXB_CSS_VALUE_NONE;

        lxb_css_syntax_parser_consume(parser);

        return true;
    }
    else {
        return false;
    }

    num = lxb_css_syntax_token_number(token)->num;

    np->u.number.num = num;
    np->u.number.is_float = lxb_css_syntax_token_number(token)->is_float;

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_percentage_none(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token,
                                       lxb_css_value_percentage_type_t *np)
{
    double num;
    lxb_css_value_type_t type;

    if (token->type == LXB_CSS_SYNTAX_TOKEN_PERCENTAGE) {
        np->type = LXB_CSS_VALUE__PERCENTAGE;
    }
    else if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
        type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                     lxb_css_syntax_token_ident(token)->length);
        if (type != LXB_CSS_VALUE_NONE) {
            return false;
        }

        np->type = LXB_CSS_VALUE_NONE;

        lxb_css_syntax_parser_consume(parser);

        return true;
    }
    else {
        return false;
    }

    num = lxb_css_syntax_token_number(token)->num;

    np->percentage.num = num;
    np->percentage.is_float = lxb_css_syntax_token_number(token)->is_float;

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_number_percentage(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         lxb_css_value_number_percentage_t *np)
{
    double num;

    if (token->type == LXB_CSS_SYNTAX_TOKEN_NUMBER) {
        np->type = LXB_CSS_VALUE__NUMBER;
    }
    else if (token->type == LXB_CSS_SYNTAX_TOKEN_PERCENTAGE) {
        np->type = LXB_CSS_VALUE__PERCENTAGE;
    }
    else {
        return false;
    }

    num = lxb_css_syntax_token_number(token)->num;

    np->u.number.num = num;
    np->u.number.is_float = lxb_css_syntax_token_number(token)->is_float;

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_angle(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token,
                             lxb_css_value_angle_t *angle)
{
    const lxb_css_data_t *unit;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_DIMENSION) {
        return false;
    }

    unit = lxb_css_unit_angle_by_name(lxb_css_syntax_token_dimension(token)->str.data,
                                      lxb_css_syntax_token_dimension(token)->str.length);
    if (unit == NULL) {
        return false;
    }

    angle->num = lxb_css_syntax_token_dimension(token)->num.num;
    angle->is_float = lxb_css_syntax_token_dimension(token)->num.is_float;
    angle->unit = (lxb_css_unit_angle_t) unit->unique;

    lxb_css_syntax_parser_consume(parser);

    return true;
}

bool
lxb_css_property_state_width_handler(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     lxb_css_property_width_t *width)
{
    lxb_css_value_type_t type;

    if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
        type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                     lxb_css_syntax_token_ident(token)->length);
        switch (type) {
            case LXB_CSS_VALUE_AUTO:
            case LXB_CSS_VALUE_MIN_CONTENT:
            case LXB_CSS_VALUE_MAX_CONTENT:
                width->type = type;
                break;

            default:
                return false;
        }

        lxb_css_syntax_parser_consume(parser);

        return true;
    }

    return lxb_css_property_state_length_percentage(parser, token,
                                   (lxb_css_value_length_percentage_t *)width);
}

static bool
lxb_css_property_state_hue(lxb_css_parser_t *parser,
                           const lxb_css_syntax_token_t *token,
                           lxb_css_value_hue_t *hue)
{
    const lxb_css_data_t *unit;

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_DIMENSION:
            unit = lxb_css_unit_angle_by_name(lxb_css_syntax_token_dimension(token)->str.data,
                                              lxb_css_syntax_token_dimension(token)->str.length);
            if (unit == NULL) {
                return false;
            }

            hue->type = LXB_CSS_VALUE__ANGLE;
            hue->u.angle.num = lxb_css_syntax_token_dimension(token)->num.num;
            hue->u.angle.is_float = lxb_css_syntax_token_dimension(token)->num.is_float;
            hue->u.angle.unit = (lxb_css_unit_angle_t) unit->unique;
            break;

        case LXB_CSS_SYNTAX_TOKEN_NUMBER:
            hue->type = LXB_CSS_VALUE__NUMBER;
            hue->u.number.num = lxb_css_syntax_token_number(token)->num;
            hue->u.number.is_float = lxb_css_syntax_token_number(token)->is_float;
            break;

        default:
            return false;
    }

    lxb_css_syntax_parser_consume(parser);

    return true;
}

lxb_inline bool
lxb_css_property_state_hue_none(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token,
                                lxb_css_value_hue_t *hue)
{
    lxb_css_value_type_t type;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_property_state_hue(parser, token, hue);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    if (type != LXB_CSS_VALUE_NONE) {
        return false;
    }

    hue->type = LXB_CSS_VALUE_NONE;

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_color_hex(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 lxb_css_value_color_t *color)
{
    size_t length;
    uint32_t chex;
    lxb_char_t ch;
    const lxb_char_t *end, *p;
    lxb_css_value_color_hex_rgba_t *rgba;

    length = token->types.hash.length;

    if (length > 8) {
        return false;
    }

    p = token->types.hash.data;
    end = p + length;

    chex = 0;

    while (p < end) {
        ch = lexbor_str_res_map_lowercase[lexbor_str_res_map_hex[*p]];

        if (ch == 0xff) {
            return false;
        }

        chex = chex << 4 | ch;

        p++;
    }

    rgba = &color->u.hex.rgba;

    switch (length) {
        case 3:
            rgba->r = chex >> 8;
            rgba->g = chex >> 4 & ~LXB_CSS_PROPERTY_STATE_HEX_MASK(4);
            rgba->b = chex & ~LXB_CSS_PROPERTY_STATE_HEX_MASK(4);
            rgba->a = 0xff;

            color->u.hex.type = LXB_CSS_PROPERTY_COLOR_HEX_TYPE_3;
            break;

        case 4:
            rgba->r = chex >> 12;
            rgba->g = chex >> 8 & ~LXB_CSS_PROPERTY_STATE_HEX_MASK(4);
            rgba->b = chex >> 4 & ~LXB_CSS_PROPERTY_STATE_HEX_MASK(4);
            rgba->a = chex & ~LXB_CSS_PROPERTY_STATE_HEX_MASK(4);

            color->u.hex.type = LXB_CSS_PROPERTY_COLOR_HEX_TYPE_4;
            break;

        case 6:
            rgba->r = chex >> 16;
            rgba->g = chex >> 8 & ~LXB_CSS_PROPERTY_STATE_HEX_MASK(8);
            rgba->b = chex & ~LXB_CSS_PROPERTY_STATE_HEX_MASK(8);
            rgba->a = 0xff;

            color->u.hex.type = LXB_CSS_PROPERTY_COLOR_HEX_TYPE_6;
            break;

        case 8:
            rgba->r = chex >> 24;
            rgba->g = chex >> 16 & ~LXB_CSS_PROPERTY_STATE_HEX_MASK(8);
            rgba->b = chex >> 8 & ~LXB_CSS_PROPERTY_STATE_HEX_MASK(8);
            rgba->a = chex & ~LXB_CSS_PROPERTY_STATE_HEX_MASK(8);

            color->u.hex.type = LXB_CSS_PROPERTY_COLOR_HEX_TYPE_8;
            break;

        default:
            return false;
    }

    color->type = LXB_CSS_COLOR_HEX;

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_color_rgba(lxb_css_parser_t *parser,
                                  lxb_css_value_color_t *color)
{
    bool res;
    lxb_css_color_type_t type;
    lxb_css_value_color_rgba_t *rgb;
    const lxb_css_syntax_token_t *token;

    rgb = &color->u.rgb;

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_number_percentage_none(parser, token, &rgb->r);
    if (res == false) {
        return false;
    }

    type = rgb->r.type;

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_COMMA) {
        /* Deprecated format. */

        if (type == LXB_CSS_VALUE_NONE) {
            return false;
        }

        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token_wo_ws(parser);
        lxb_css_property_state_check_token(parser, token);

        rgb->old = true;

        return lxb_css_property_state_color_rgba_old(parser, token, color);
    }

    res = lxb_css_property_state_number_percentage_none(parser, token, &rgb->g);
    if (res == false) {
        return false;
    }

    if (type != rgb->g.type) {
        if (type == LXB_CSS_VALUE_NONE) {
            type = rgb->g.type;
        }
        else if (rgb->g.type != LXB_CSS_VALUE_NONE) {
            return false;
        }
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_number_percentage_none(parser, token, &rgb->b);
    if (res == false) {
        return false;
    }

    if (type != rgb->b.type && type != LXB_CSS_VALUE_NONE
        && rgb->b.type != LXB_CSS_VALUE_NONE)
    {
            return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_DELIM) {
        if (lxb_css_syntax_token_delim(token)->character != '/') {
            return false;
        }

        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token_wo_ws(parser);
        lxb_css_property_state_check_token(parser, token);
    }
    else if (token->type == LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS) {
        lxb_css_syntax_parser_consume(parser);
        return true;
    }
    else {
        return false;
    }

    res = lxb_css_property_state_number_percentage_none(parser, token, &rgb->a);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS) {
        return false;
    }

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_color_rgba_old(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      lxb_css_value_color_t *color)
{
    bool res;
    lxb_css_value_color_rgba_t *rgb;

    rgb = &color->u.rgb;

    res = lxb_css_property_state_number_percentage(parser, token, &rgb->g);
    if (res == false) {
        return false;
    }

    if (rgb->r.type != rgb->g.type) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_COMMA) {
        return false;
    }

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_number_percentage(parser, token, &rgb->b);
    if (res == false) {
        return false;
    }

    if (rgb->r.type != rgb->b.type) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS) {
        lxb_css_syntax_parser_consume(parser);
        return true;
    }
    else if (token->type != LXB_CSS_SYNTAX_TOKEN_COMMA) {
        return false;
    }

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_number_percentage(parser, token, &rgb->a);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS) {
        return false;
    }

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_color_hsla(lxb_css_parser_t *parser,
                                  lxb_css_value_color_t *color)
{
    bool res;
    lxb_css_value_color_hsla_t *hsl;
    const lxb_css_syntax_token_t *token;

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    hsl = &color->u.hsl;

    res = lxb_css_property_state_hue_none(parser, token, &hsl->h);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_COMMA) {
        /* Deprecated format. */

        if (hsl->h.type == LXB_CSS_VALUE_NONE) {
            return false;
        }

        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token_wo_ws(parser);
        lxb_css_property_state_check_token(parser, token);

        hsl->old = true;

        return lxb_css_property_state_color_hsla_old(parser, token, hsl);
    }

    res = lxb_css_property_state_percentage_none(parser, token, &hsl->s);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_percentage_none(parser, token, &hsl->l);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_DELIM) {
        if (lxb_css_syntax_token_delim(token)->character != '/') {
            return false;
        }

        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token_wo_ws(parser);
        lxb_css_property_state_check_token(parser, token);
    }
    else if (token->type == LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS) {
        lxb_css_syntax_parser_consume(parser);
        return true;
    }

    res = lxb_css_property_state_number_percentage_none(parser, token, &hsl->a);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS) {
        return false;
    }

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_color_hsla_old(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      lxb_css_value_color_hsla_t *hsl)
{
    bool res;

    res = lxb_css_property_state_percentage(parser, token, &hsl->s.percentage);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_COMMA) {
        return false;
    }

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_percentage(parser, token, &hsl->l.percentage);
    if (res == false) {
        return false;
    }

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS) {
        goto done;
    }
    else if (token->type != LXB_CSS_SYNTAX_TOKEN_COMMA) {
        return false;
    }

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_number_percentage(parser, token, &hsl->a);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS) {
        return false;
    }

done:

    lxb_css_syntax_parser_consume(parser);

    hsl->s.type = LXB_CSS_VALUE__PERCENTAGE;
    hsl->l.type = LXB_CSS_VALUE__PERCENTAGE;

    return true;
}

static bool
lxb_css_property_state_color_lab(lxb_css_parser_t *parser,
                                 lxb_css_value_color_t *color)
{
    bool res;
    lxb_css_value_color_lab_t *lab;
    const lxb_css_syntax_token_t *token;

    lab = &color->u.lab;

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_number_percentage_none(parser, token, &lab->l);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_number_percentage_none(parser, token, &lab->a);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_number_percentage_none(parser, token, &lab->b);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_DELIM) {
        if (lxb_css_syntax_token_delim(token)->character != '/') {
            return false;
        }

        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token_wo_ws(parser);
        lxb_css_property_state_check_token(parser, token);
    }
    else if (token->type == LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS) {
        lxb_css_syntax_parser_consume(parser);
        return true;
    }
    else {
        return false;
    }

    res = lxb_css_property_state_number_percentage_none(parser, token,
                                                        &lab->alpha);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS) {
        return false;
    }

    lxb_css_syntax_parser_consume(parser);

    return true;
}

static bool
lxb_css_property_state_color_lch(lxb_css_parser_t *parser,
                                 lxb_css_value_color_t *color)
{
    bool res;
    lxb_css_value_color_lch_t *lch;
    const lxb_css_syntax_token_t *token;

    lch = &color->u.lch;

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_number_percentage_none(parser, token, &lch->l);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_number_percentage_none(parser, token, &lch->c);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_hue_none(parser, token, &lch->h);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_DELIM) {
        if (lxb_css_syntax_token_delim(token)->character != '/') {
            return false;
        }

        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token_wo_ws(parser);
        lxb_css_property_state_check_token(parser, token);
    }
    else if (token->type == LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS) {
        lxb_css_syntax_parser_consume(parser);
        return true;
    }
    else {
        return false;
    }

    res = lxb_css_property_state_number_percentage_none(parser, token, &lch->a);
    if (res == false) {
        return false;
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS) {
        return false;
    }

    lxb_css_syntax_parser_consume(parser);

    return true;
}

/*
 * Return:
 *     true  and status always LXB_STATUS_OK  token consumed, ok.
 *     false and status != LXB_STATUS_OK      token consumed, not ok.
 *     false and status == LXB_STATUS_OK      token not consumed, not ok.
 */
static bool
lxb_css_property_state_color_handler(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     lxb_css_value_color_t *color,
                                     lxb_status_t *status)
{
    bool res;
    lxb_css_value_type_t type;

    *status = LXB_STATUS_OK;

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_HASH:
            color->type = LXB_CSS_VALUE_HEX;

            return lxb_css_property_state_color_hex(parser, token, color);

        case LXB_CSS_SYNTAX_TOKEN_FUNCTION:
            type = lxb_css_value_by_name(lxb_css_syntax_token_function(token)->data,
                                         lxb_css_syntax_token_function(token)->length);
            color->type = type;

            switch (type) {
                /* <color> */
                case LXB_CSS_VALUE_RGB:
                case LXB_CSS_VALUE_RGBA:
                    res = lxb_css_property_state_color_rgba(parser, color);
                    break;

                case LXB_CSS_VALUE_HSL:
                case LXB_CSS_VALUE_HSLA:
                case LXB_CSS_VALUE_HWB:
                    res = lxb_css_property_state_color_hsla(parser, color);
                    break;

                case LXB_CSS_VALUE_LAB:
                case LXB_CSS_VALUE_OKLAB:
                    res = lxb_css_property_state_color_lab(parser, color);
                    break;

                case LXB_CSS_VALUE_LCH:
                case LXB_CSS_VALUE_OKLCH:
                    res = lxb_css_property_state_color_lch(parser, color);
                    break;

                case LXB_CSS_VALUE_COLOR:
                default:
                    *status = LXB_STATUS_OK;
                    return false;
            }

            if (!res) {
                *status = LXB_STATUS_ERROR_UNEXPECTED_DATA;
            }

            return res;

        case LXB_CSS_SYNTAX_TOKEN_IDENT:
            type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                         lxb_css_syntax_token_ident(token)->length);
            switch (type) {
                /* <color> */
                case LXB_CSS_VALUE_CURRENTCOLOR:
                /* <system-color> */
                case LXB_CSS_VALUE_CANVAS:
                case LXB_CSS_VALUE_CANVASTEXT:
                case LXB_CSS_VALUE_LINKTEXT:
                case LXB_CSS_VALUE_VISITEDTEXT:
                case LXB_CSS_VALUE_ACTIVETEXT:
                case LXB_CSS_VALUE_BUTTONFACE:
                case LXB_CSS_VALUE_BUTTONTEXT:
                case LXB_CSS_VALUE_BUTTONBORDER:
                case LXB_CSS_VALUE_FIELD:
                case LXB_CSS_VALUE_FIELDTEXT:
                case LXB_CSS_VALUE_HIGHLIGHT:
                case LXB_CSS_VALUE_HIGHLIGHTTEXT:
                case LXB_CSS_VALUE_SELECTEDITEM:
                case LXB_CSS_VALUE_SELECTEDITEMTEXT:
                case LXB_CSS_VALUE_MARK:
                case LXB_CSS_VALUE_MARKTEXT:
                case LXB_CSS_VALUE_GRAYTEXT:
                case LXB_CSS_VALUE_ACCENTCOLOR:
                case LXB_CSS_VALUE_ACCENTCOLORTEXT:
                /* <absolute-color-base> */
                case LXB_CSS_VALUE_TRANSPARENT:
                /* <named-color> */
                case LXB_CSS_VALUE_ALICEBLUE:
                case LXB_CSS_VALUE_ANTIQUEWHITE:
                case LXB_CSS_VALUE_AQUA:
                case LXB_CSS_VALUE_AQUAMARINE:
                case LXB_CSS_VALUE_AZURE:
                case LXB_CSS_VALUE_BEIGE:
                case LXB_CSS_VALUE_BISQUE:
                case LXB_CSS_VALUE_BLACK:
                case LXB_CSS_VALUE_BLANCHEDALMOND:
                case LXB_CSS_VALUE_BLUE:
                case LXB_CSS_VALUE_BLUEVIOLET:
                case LXB_CSS_VALUE_BROWN:
                case LXB_CSS_VALUE_BURLYWOOD:
                case LXB_CSS_VALUE_CADETBLUE:
                case LXB_CSS_VALUE_CHARTREUSE:
                case LXB_CSS_VALUE_CHOCOLATE:
                case LXB_CSS_VALUE_CORAL:
                case LXB_CSS_VALUE_CORNFLOWERBLUE:
                case LXB_CSS_VALUE_CORNSILK:
                case LXB_CSS_VALUE_CRIMSON:
                case LXB_CSS_VALUE_CYAN:
                case LXB_CSS_VALUE_DARKBLUE:
                case LXB_CSS_VALUE_DARKCYAN:
                case LXB_CSS_VALUE_DARKGOLDENROD:
                case LXB_CSS_VALUE_DARKGRAY:
                case LXB_CSS_VALUE_DARKGREEN:
                case LXB_CSS_VALUE_DARKGREY:
                case LXB_CSS_VALUE_DARKKHAKI:
                case LXB_CSS_VALUE_DARKMAGENTA:
                case LXB_CSS_VALUE_DARKOLIVEGREEN:
                case LXB_CSS_VALUE_DARKORANGE:
                case LXB_CSS_VALUE_DARKORCHID:
                case LXB_CSS_VALUE_DARKRED:
                case LXB_CSS_VALUE_DARKSALMON:
                case LXB_CSS_VALUE_DARKSEAGREEN:
                case LXB_CSS_VALUE_DARKSLATEBLUE:
                case LXB_CSS_VALUE_DARKSLATEGRAY:
                case LXB_CSS_VALUE_DARKSLATEGREY:
                case LXB_CSS_VALUE_DARKTURQUOISE:
                case LXB_CSS_VALUE_DARKVIOLET:
                case LXB_CSS_VALUE_DEEPPINK:
                case LXB_CSS_VALUE_DEEPSKYBLUE:
                case LXB_CSS_VALUE_DIMGRAY:
                case LXB_CSS_VALUE_DIMGREY:
                case LXB_CSS_VALUE_DODGERBLUE:
                case LXB_CSS_VALUE_FIREBRICK:
                case LXB_CSS_VALUE_FLORALWHITE:
                case LXB_CSS_VALUE_FORESTGREEN:
                case LXB_CSS_VALUE_FUCHSIA:
                case LXB_CSS_VALUE_GAINSBORO:
                case LXB_CSS_VALUE_GHOSTWHITE:
                case LXB_CSS_VALUE_GOLD:
                case LXB_CSS_VALUE_GOLDENROD:
                case LXB_CSS_VALUE_GRAY:
                case LXB_CSS_VALUE_GREEN:
                case LXB_CSS_VALUE_GREENYELLOW:
                case LXB_CSS_VALUE_GREY:
                case LXB_CSS_VALUE_HONEYDEW:
                case LXB_CSS_VALUE_HOTPINK:
                case LXB_CSS_VALUE_INDIANRED:
                case LXB_CSS_VALUE_INDIGO:
                case LXB_CSS_VALUE_IVORY:
                case LXB_CSS_VALUE_KHAKI:
                case LXB_CSS_VALUE_LAVENDER:
                case LXB_CSS_VALUE_LAVENDERBLUSH:
                case LXB_CSS_VALUE_LAWNGREEN:
                case LXB_CSS_VALUE_LEMONCHIFFON:
                case LXB_CSS_VALUE_LIGHTBLUE:
                case LXB_CSS_VALUE_LIGHTCORAL:
                case LXB_CSS_VALUE_LIGHTCYAN:
                case LXB_CSS_VALUE_LIGHTGOLDENRODYELLOW:
                case LXB_CSS_VALUE_LIGHTGRAY:
                case LXB_CSS_VALUE_LIGHTGREEN:
                case LXB_CSS_VALUE_LIGHTGREY:
                case LXB_CSS_VALUE_LIGHTPINK:
                case LXB_CSS_VALUE_LIGHTSALMON:
                case LXB_CSS_VALUE_LIGHTSEAGREEN:
                case LXB_CSS_VALUE_LIGHTSKYBLUE:
                case LXB_CSS_VALUE_LIGHTSLATEGRAY:
                case LXB_CSS_VALUE_LIGHTSLATEGREY:
                case LXB_CSS_VALUE_LIGHTSTEELBLUE:
                case LXB_CSS_VALUE_LIGHTYELLOW:
                case LXB_CSS_VALUE_LIME:
                case LXB_CSS_VALUE_LIMEGREEN:
                case LXB_CSS_VALUE_LINEN:
                case LXB_CSS_VALUE_MAGENTA:
                case LXB_CSS_VALUE_MAROON:
                case LXB_CSS_VALUE_MEDIUMAQUAMARINE:
                case LXB_CSS_VALUE_MEDIUMBLUE:
                case LXB_CSS_VALUE_MEDIUMORCHID:
                case LXB_CSS_VALUE_MEDIUMPURPLE:
                case LXB_CSS_VALUE_MEDIUMSEAGREEN:
                case LXB_CSS_VALUE_MEDIUMSLATEBLUE:
                case LXB_CSS_VALUE_MEDIUMSPRINGGREEN:
                case LXB_CSS_VALUE_MEDIUMTURQUOISE:
                case LXB_CSS_VALUE_MEDIUMVIOLETRED:
                case LXB_CSS_VALUE_MIDNIGHTBLUE:
                case LXB_CSS_VALUE_MINTCREAM:
                case LXB_CSS_VALUE_MISTYROSE:
                case LXB_CSS_VALUE_MOCCASIN:
                case LXB_CSS_VALUE_NAVAJOWHITE:
                case LXB_CSS_VALUE_NAVY:
                case LXB_CSS_VALUE_OLDLACE:
                case LXB_CSS_VALUE_OLIVE:
                case LXB_CSS_VALUE_OLIVEDRAB:
                case LXB_CSS_VALUE_ORANGE:
                case LXB_CSS_VALUE_ORANGERED:
                case LXB_CSS_VALUE_ORCHID:
                case LXB_CSS_VALUE_PALEGOLDENROD:
                case LXB_CSS_VALUE_PALEGREEN:
                case LXB_CSS_VALUE_PALETURQUOISE:
                case LXB_CSS_VALUE_PALEVIOLETRED:
                case LXB_CSS_VALUE_PAPAYAWHIP:
                case LXB_CSS_VALUE_PEACHPUFF:
                case LXB_CSS_VALUE_PERU:
                case LXB_CSS_VALUE_PINK:
                case LXB_CSS_VALUE_PLUM:
                case LXB_CSS_VALUE_POWDERBLUE:
                case LXB_CSS_VALUE_PURPLE:
                case LXB_CSS_VALUE_REBECCAPURPLE:
                case LXB_CSS_VALUE_RED:
                case LXB_CSS_VALUE_ROSYBROWN:
                case LXB_CSS_VALUE_ROYALBLUE:
                case LXB_CSS_VALUE_SADDLEBROWN:
                case LXB_CSS_VALUE_SALMON:
                case LXB_CSS_VALUE_SANDYBROWN:
                case LXB_CSS_VALUE_SEAGREEN:
                case LXB_CSS_VALUE_SEASHELL:
                case LXB_CSS_VALUE_SIENNA:
                case LXB_CSS_VALUE_SILVER:
                case LXB_CSS_VALUE_SKYBLUE:
                case LXB_CSS_VALUE_SLATEBLUE:
                case LXB_CSS_VALUE_SLATEGRAY:
                case LXB_CSS_VALUE_SLATEGREY:
                case LXB_CSS_VALUE_SNOW:
                case LXB_CSS_VALUE_SPRINGGREEN:
                case LXB_CSS_VALUE_STEELBLUE:
                case LXB_CSS_VALUE_TAN:
                case LXB_CSS_VALUE_TEAL:
                case LXB_CSS_VALUE_THISTLE:
                case LXB_CSS_VALUE_TOMATO:
                case LXB_CSS_VALUE_TURQUOISE:
                case LXB_CSS_VALUE_VIOLET:
                case LXB_CSS_VALUE_WHEAT:
                case LXB_CSS_VALUE_WHITE:
                case LXB_CSS_VALUE_WHITESMOKE:
                case LXB_CSS_VALUE_YELLOW:
                case LXB_CSS_VALUE_YELLOWGREEN:
                    color->type = type;
                    break;

                default:
                    return false;
            }

            break;

        default:
            return false;
    }

    lxb_css_syntax_parser_consume(parser);

    return true;
}

bool
lxb_css_property_state__undef(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_parser_failed(parser);
}

bool
lxb_css_property_state__custom(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_status_t status;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property__custom_t *custom = declar->u.custom;

    (void) lexbor_str_init(&custom->value, parser->memory->mraw, 0);
    if (custom->value.data == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        status = lxb_css_syntax_token_serialize_str(token, &custom->value,
                                                    parser->memory->mraw);
        if (status != LXB_STATUS_OK) {
            return lxb_css_parser_memory_fail(parser);
        }

        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_display(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_property_display_t *display;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    display = declar->u.display;

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);

    switch (type) {
        /* <display-outside> */
        case LXB_CSS_DISPLAY_BLOCK:
        case LXB_CSS_DISPLAY_INLINE:
        case LXB_CSS_DISPLAY_RUN_IN:
            display->a = type;
            goto inside_listitem;

        /* <display-inside> */
        case LXB_CSS_DISPLAY_FLOW:
        case LXB_CSS_DISPLAY_FLOW_ROOT:
            display->a = type;
            goto outside_listitem;

        case LXB_CSS_DISPLAY_TABLE:
        case LXB_CSS_DISPLAY_FLEX:
        case LXB_CSS_DISPLAY_GRID:
        case LXB_CSS_DISPLAY_RUBY:
            display->a = type;
            goto outside;

        /* <display-internal> */
        case LXB_CSS_DISPLAY_LIST_ITEM:
            display->a = type;
            goto listitem_only;

        /* <display-internal> */
        case LXB_CSS_DISPLAY_TABLE_ROW_GROUP:
        case LXB_CSS_DISPLAY_TABLE_HEADER_GROUP:
        case LXB_CSS_DISPLAY_TABLE_FOOTER_GROUP:
        case LXB_CSS_DISPLAY_TABLE_ROW:
        case LXB_CSS_DISPLAY_TABLE_CELL:
        case LXB_CSS_DISPLAY_TABLE_COLUMN_GROUP:
        case LXB_CSS_DISPLAY_TABLE_COLUMN:
        case LXB_CSS_DISPLAY_TABLE_CAPTION:
        case LXB_CSS_DISPLAY_RUBY_BASE:
        case LXB_CSS_DISPLAY_RUBY_TEXT:
        case LXB_CSS_DISPLAY_RUBY_BASE_CONTAINER:
        case LXB_CSS_DISPLAY_RUBY_TEXT_CONTAINER:
        /* <display-box> */
        case LXB_CSS_DISPLAY_CONTENTS:
        case LXB_CSS_DISPLAY_NONE:
        /* <display-legacy> */
        case LXB_CSS_DISPLAY_INLINE_BLOCK:
        case LXB_CSS_DISPLAY_INLINE_TABLE:
        case LXB_CSS_DISPLAY_INLINE_FLEX:
        case LXB_CSS_DISPLAY_INLINE_GRID:
            display->a = type;
            goto done;

        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
            display->a = type;
            goto done;

        default:
            return lxb_css_parser_failed(parser);
    }

inside_listitem:

    lxb_css_property_state_get_type(parser, token, type);

    switch (type) {
        /* <display-inside> */
        case LXB_CSS_DISPLAY_FLOW:
        case LXB_CSS_DISPLAY_FLOW_ROOT:
            display->b = type;
            break;

        case LXB_CSS_DISPLAY_TABLE:
        case LXB_CSS_DISPLAY_FLEX:
        case LXB_CSS_DISPLAY_GRID:
        case LXB_CSS_DISPLAY_RUBY:
            display->b = type;
            goto done;

        case LXB_CSS_DISPLAY_LIST_ITEM:
            display->b = type;
            goto flow_only;

        default:
            return lxb_css_parser_failed(parser);
    }

listitem:

    lxb_css_property_state_get_type(parser, token, type);

    if (type == LXB_CSS_DISPLAY_LIST_ITEM) {
        display->c = type;
        goto done;
    }

    return lxb_css_parser_failed(parser);

outside:

    lxb_css_property_state_get_type(parser, token, type);

    switch (type) {
        /* <display-outside> */
        case LXB_CSS_DISPLAY_BLOCK:
        case LXB_CSS_DISPLAY_INLINE:
        case LXB_CSS_DISPLAY_RUN_IN:
            if (display->b == LXB_CSS_PROPERTY__UNDEF) {
                display->b = type;
            }
            else {
                display->c = type;
            }

            goto done;

        default:
            return lxb_css_parser_failed(parser);
    }

outside_listitem:

    lxb_css_property_state_get_type(parser, token, type);

    switch (type) {
        /* <display-outside> */
        case LXB_CSS_DISPLAY_BLOCK:
        case LXB_CSS_DISPLAY_INLINE:
        case LXB_CSS_DISPLAY_RUN_IN:
            display->b = type;
            goto listitem;

        case LXB_CSS_DISPLAY_LIST_ITEM:
            display->b = type;
            goto outside;

        default:
            return lxb_css_parser_failed(parser);
    }

listitem_only:

    lxb_css_property_state_get_type(parser, token, type);

    switch (type) {
        /* <display-outside> */
        case LXB_CSS_DISPLAY_BLOCK:
        case LXB_CSS_DISPLAY_INLINE:
        case LXB_CSS_DISPLAY_RUN_IN:
            display->b = type;
            break;

        /* <display-listitem> */
        case LXB_CSS_DISPLAY_FLOW:
        case LXB_CSS_DISPLAY_FLOW_ROOT:
            display->b = type;
            goto outside;

        default:
            return lxb_css_parser_failed(parser);
    }

flow_only:

    lxb_css_property_state_get_type(parser, token, type);

    switch (type) {
        /* <display-listitem> */
        case LXB_CSS_DISPLAY_FLOW:
        case LXB_CSS_DISPLAY_FLOW_ROOT:
            display->c = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

done:

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_order(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    res = lxb_css_property_state_integer(parser, token,
                                         &declar->u.order->integer);
    if (res) {
        declar->u.order->type = LXB_CSS_ORDER__INTEGER;

        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
            declar->u.order->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_visibility(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_VISIBILITY_VISIBLE:
        case LXB_CSS_VISIBILITY_HIDDEN:
        case LXB_CSS_VISIBILITY_COLLAPSE:
            declar->u.visibility->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_width(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
        type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                     lxb_css_syntax_token_ident(token)->length);
        switch (type) {
            case LXB_CSS_VALUE_INITIAL:
            case LXB_CSS_VALUE_INHERIT:
            case LXB_CSS_VALUE_UNSET:
            case LXB_CSS_VALUE_REVERT:
            case LXB_CSS_VALUE_AUTO:
            case LXB_CSS_VALUE_MIN_CONTENT:
            case LXB_CSS_VALUE_MAX_CONTENT:
                declar->u.width->type = type;
                break;

            default:
                return lxb_css_parser_failed(parser);
        }

        lxb_css_syntax_parser_consume(parser);

        return lxb_css_parser_success(parser);
    }

    if (!lxb_css_property_state_length_percentage(parser, token,
                                                  declar->u.user))
    {
        return lxb_css_parser_failed(parser);
    }

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_height(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_width(parser, token, ctx);
}

bool
lxb_css_property_state_box_sizing(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        case LXB_CSS_VALUE_CONTENT_BOX:
        case LXB_CSS_VALUE_BORDER_BOX:
            declar->u.box_sizing->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_min_width(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_width(parser, token, ctx);
}

bool
lxb_css_property_state_min_height(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_width(parser, token, ctx);
}

bool
lxb_css_property_state_max_width(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
        type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                     lxb_css_syntax_token_ident(token)->length);
        switch (type) {
            case LXB_CSS_VALUE_INITIAL:
            case LXB_CSS_VALUE_INHERIT:
            case LXB_CSS_VALUE_UNSET:
            case LXB_CSS_VALUE_REVERT:
            case LXB_CSS_VALUE_NONE:
            case LXB_CSS_VALUE_MIN_CONTENT:
            case LXB_CSS_VALUE_MAX_CONTENT:
                declar->u.width->type = type;
                break;

            default:
                return lxb_css_parser_failed(parser);
        }

        lxb_css_syntax_parser_consume(parser);

        return lxb_css_parser_success(parser);
    }

    if (!lxb_css_property_state_length_percentage(parser, token,
                                                  declar->u.user))
    {
        return lxb_css_parser_failed(parser);
    }

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_max_height(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_max_width(parser, token, ctx);
}

static bool
lxb_css_property_state_mp(lxb_css_parser_t *parser,
                          const lxb_css_syntax_token_t *token,
                          lxb_css_rule_declaration_t *declar, bool with_auto)
{
    unsigned int state;
    lxb_css_value_type_t type;
    lxb_css_property_margin_top_t *top;

    state = 1;

next:

    switch (state) {
        case 1:
            top = &declar->u.margin->top;
            break;

        case 2:
            top = &declar->u.margin->right;
            break;

        case 3:
            top = &declar->u.margin->bottom;
            break;

        case 4:
            top = &declar->u.margin->left;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
        type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                     lxb_css_syntax_token_ident(token)->length);
        switch (type) {
            case LXB_CSS_VALUE_INITIAL:
            case LXB_CSS_VALUE_INHERIT:
            case LXB_CSS_VALUE_UNSET:
            case LXB_CSS_VALUE_REVERT:
                top->type = type;
                break;

            case LXB_CSS_VALUE_AUTO:
                if (with_auto) {
                    top->type = type;
                    break;
                }

                /* Fall through. */

            default:
                return lxb_css_parser_failed(parser);
        }

        lxb_css_syntax_parser_consume(parser);
    }
    else if (!lxb_css_property_state_length_percentage(parser, token,
                                    (lxb_css_value_length_percentage_t *) top))
    {
        return lxb_css_parser_failed(parser);
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN__END) {
        return lxb_css_parser_success(parser);
    }

    state++;

    goto next;
}

static bool
lxb_css_property_state_mp_top(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token,
                              lxb_css_rule_declaration_t *declar, bool with_auto)
{
    lxb_css_value_type_t type;

    if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
        type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                     lxb_css_syntax_token_ident(token)->length);
        switch (type) {
            case LXB_CSS_VALUE_INITIAL:
            case LXB_CSS_VALUE_INHERIT:
            case LXB_CSS_VALUE_UNSET:
            case LXB_CSS_VALUE_REVERT:
                declar->u.margin_top->type = type;
                break;

            case LXB_CSS_VALUE_AUTO:
                if (with_auto) {
                    declar->u.margin_top->type = type;
                    break;
                }

                /* Fall through. */

            default:
                return lxb_css_parser_failed(parser);
        }

        lxb_css_syntax_parser_consume(parser);

        return lxb_css_parser_success(parser);
    }

    if (!lxb_css_property_state_length_percentage(parser, token,
                                                  declar->u.user))
    {
        return lxb_css_parser_failed(parser);
    }

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_margin(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_mp(parser, token, ctx, true);
}

bool
lxb_css_property_state_margin_top(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_mp_top(parser, token, ctx, true);
}

bool
lxb_css_property_state_margin_right(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_mp_top(parser, token, ctx, true);
}

bool
lxb_css_property_state_margin_bottom(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_mp_top(parser, token, ctx, true);
}

bool
lxb_css_property_state_margin_left(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_mp_top(parser, token, ctx, true);
}

bool
lxb_css_property_state_padding(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_mp(parser, token, ctx, false);
}

bool
lxb_css_property_state_padding_top(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_mp_top(parser, token, ctx, false);
}

bool
lxb_css_property_state_padding_right(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_mp_top(parser, token, ctx, false);
}

bool
lxb_css_property_state_padding_bottom(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_mp_top(parser, token, ctx, false);
}

bool
lxb_css_property_state_padding_left(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_mp_top(parser, token, ctx, false);
}

static bool
lxb_css_property_state_line_width_style_color(lxb_css_parser_t *parser,
                                              const lxb_css_syntax_token_t *token,
                                              lxb_css_property_border_t *border)
{
    lxb_status_t status;
    lxb_css_value_type_t type;
    const lxb_css_data_t *unit;
    lxb_css_value_length_t *length;
    lxb_css_syntax_token_string_t *str;

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_DIMENSION:
            if (border->width.type != LXB_CSS_VALUE__UNDEF) {
                return false;
            }

            str = &lxb_css_syntax_token_dimension(token)->str;

            unit = lxb_css_unit_absolute_relative_by_name(str->data,
                                                          str->length);
            if (unit == NULL) {
                return false;
            }

            length = &border->width.length;

            border->width.type = LXB_CSS_VALUE__LENGTH;
            length->num = lxb_css_syntax_token_dimension(token)->num.num;
            length->is_float = lxb_css_syntax_token_dimension(token)->num.is_float;
            length->unit = (lxb_css_unit_t) unit->unique;
            break;

        case LXB_CSS_SYNTAX_TOKEN_NUMBER:
            if (border->width.type != LXB_CSS_VALUE__UNDEF) {
                return false;
            }

            length = &border->width.length;

            border->width.type = LXB_CSS_VALUE__NUMBER;
            length->num = lxb_css_syntax_token_number(token)->num;
            length->is_float = lxb_css_syntax_token_number(token)->is_float;
            break;

        case LXB_CSS_SYNTAX_TOKEN_IDENT:
            type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                         lxb_css_syntax_token_ident(token)->length);
            switch (type) {
                case LXB_CSS_VALUE_THIN:
                case LXB_CSS_VALUE_MEDIUM:
                case LXB_CSS_VALUE_THICK:
                    if (border->width.type != LXB_CSS_VALUE__UNDEF) {
                        return false;
                    }

                    border->width.type = type;
                    break;

                case LXB_CSS_VALUE_NONE:
                case LXB_CSS_VALUE_HIDDEN:
                case LXB_CSS_VALUE_DOTTED:
                case LXB_CSS_VALUE_DASHED:
                case LXB_CSS_VALUE_SOLID:
                case LXB_CSS_VALUE_DOUBLE:
                case LXB_CSS_VALUE_GROOVE:
                case LXB_CSS_VALUE_RIDGE:
                case LXB_CSS_VALUE_INSET:
                case LXB_CSS_VALUE_OUTSET:
                    if (border->style != LXB_CSS_VALUE__UNDEF) {
                        return false;
                    }

                    border->style = type;
                    break;

                default:
                    goto color;
            }

            break;

        default:
            goto color;
    }

    lxb_css_syntax_parser_consume(parser);

    return true;

color:

    if (border->color.type != LXB_CSS_VALUE__UNDEF) {
        return false;
    }

    return lxb_css_property_state_color_handler(parser, token, &border->color,
                                                &status);
}

bool
lxb_css_property_state_border(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
        type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                     lxb_css_syntax_token_ident(token)->length);
        switch (type) {
            case LXB_CSS_VALUE_INITIAL:
            case LXB_CSS_VALUE_INHERIT:
            case LXB_CSS_VALUE_UNSET:
            case LXB_CSS_VALUE_REVERT:
                declar->u.border->style = type;

                lxb_css_syntax_parser_consume(parser);
                return lxb_css_parser_success(parser);

            default:
                break;
        }
    }

    res = lxb_css_property_state_line_width_style_color(parser, token,
                                                        declar->u.border);
    if (!res) {
        return lxb_css_parser_failed(parser);
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN__END) {
        return lxb_css_parser_success(parser);
    }

    res = lxb_css_property_state_line_width_style_color(parser, token,
                                                        declar->u.border);
    if (!res) {
        return lxb_css_parser_failed(parser);
    }

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN__END) {
        return lxb_css_parser_success(parser);
    }

    res = lxb_css_property_state_line_width_style_color(parser, token,
                                                        declar->u.border);
    if (!res) {
        return lxb_css_parser_failed(parser);
    }

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_border_top(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_border(parser, token, ctx);
}

bool
lxb_css_property_state_border_right(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_border(parser, token, ctx);
}

bool
lxb_css_property_state_border_bottom(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_border(parser, token, ctx);
}

bool
lxb_css_property_state_border_left(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_border(parser, token, ctx);
}

bool
lxb_css_property_state_border_top_color(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_color(parser, token, ctx);
}

bool
lxb_css_property_state_border_right_color(lxb_css_parser_t *parser,
                                          const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_color(parser, token, ctx);
}

bool
lxb_css_property_state_border_bottom_color(lxb_css_parser_t *parser,
                                           const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_color(parser, token, ctx);
}

bool
lxb_css_property_state_border_left_color(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_color(parser, token, ctx);
}

bool
lxb_css_property_state_background_color(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_color(parser, token, ctx);
}

bool
lxb_css_property_state_color(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_status_t status;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
        type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                     lxb_css_syntax_token_ident(token)->length);
        switch (type) {
            /* Global. */
            case LXB_CSS_VALUE_INITIAL:
            case LXB_CSS_VALUE_INHERIT:
            case LXB_CSS_VALUE_UNSET:
            case LXB_CSS_VALUE_REVERT:
                declar->u.color->type = type;

                lxb_css_syntax_parser_consume(parser);
                return lxb_css_parser_success(parser);

            default:
                break;
        }
    }

    res = lxb_css_property_state_color_handler(parser, token,
                                    (lxb_css_value_color_t *) declar->u.color,
                                    &status);
    if (!res) {
        return lxb_css_parser_failed(parser);
    }

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_opacity(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_opacity_t *opacity = declar->u.opacity;

    res = lxb_css_property_state_number_percentage(parser, token,
                                (lxb_css_value_number_percentage_t *) opacity);
    if (res) {
        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
            opacity->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_position(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_POSITION_STATIC:
        case LXB_CSS_POSITION_RELATIVE:
        case LXB_CSS_POSITION_ABSOLUTE:
        case LXB_CSS_POSITION_STICKY:
        case LXB_CSS_POSITION_FIXED:
            declar->u.position->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_top(lxb_css_parser_t *parser,
                           const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_mp_top(parser, token, ctx, true);
}

bool
lxb_css_property_state_right(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_top(parser, token, ctx);
}

bool
lxb_css_property_state_bottom(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_top(parser, token, ctx);
}

bool
lxb_css_property_state_left(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_top(parser, token, ctx);
}

bool
lxb_css_property_state_inset_block_start(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_top(parser, token, ctx);
}

bool
lxb_css_property_state_inset_inline_start(lxb_css_parser_t *parser,
                                          const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_top(parser, token, ctx);
}

bool
lxb_css_property_state_inset_block_end(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_top(parser, token, ctx);
}

bool
lxb_css_property_state_inset_inline_end(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_top(parser, token, ctx);
}

bool
lxb_css_property_state_text_transform(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_text_transform_t *tt;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    tt = declar->u.text_transform;

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_TEXT_TRANSFORM_NONE:
            tt->type_case = type;
            break;

        case LXB_CSS_TEXT_TRANSFORM_CAPITALIZE:
        case LXB_CSS_TEXT_TRANSFORM_UPPERCASE:
        case LXB_CSS_TEXT_TRANSFORM_LOWERCASE:
            tt->type_case = type;
            goto next;

        case LXB_CSS_TEXT_TRANSFORM_FULL_WIDTH:
            tt->full_width = type;
            goto next;

        case LXB_CSS_TEXT_TRANSFORM_FULL_SIZE_KANA:
            tt->full_size_kana = type;
            goto next;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);

next:

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_success(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);

    switch (type) {
        case LXB_CSS_TEXT_TRANSFORM_CAPITALIZE:
        case LXB_CSS_TEXT_TRANSFORM_UPPERCASE:
        case LXB_CSS_TEXT_TRANSFORM_LOWERCASE:
            if (tt->type_case != LXB_CSS_VALUE__UNDEF) {
                return lxb_css_parser_failed(parser);
            }

            tt->type_case = type;
            goto next;

        case LXB_CSS_TEXT_TRANSFORM_FULL_WIDTH:
            if (tt->full_width != LXB_CSS_VALUE__UNDEF) {
                return lxb_css_parser_failed(parser);
            }

            tt->full_width = type;
            goto next;

        case LXB_CSS_TEXT_TRANSFORM_FULL_SIZE_KANA:
            if (tt->full_size_kana != LXB_CSS_VALUE__UNDEF) {
                return lxb_css_parser_failed(parser);
            }

            tt->full_size_kana = type;
            goto next;

        default:
            return lxb_css_parser_failed(parser);
    }
}

bool
lxb_css_property_state_text_align(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_TEXT_ALIGN_START:
        case LXB_CSS_TEXT_ALIGN_END:
        case LXB_CSS_TEXT_ALIGN_LEFT:
        case LXB_CSS_TEXT_ALIGN_RIGHT:
        case LXB_CSS_TEXT_ALIGN_CENTER:
        case LXB_CSS_TEXT_ALIGN_JUSTIFY:
        case LXB_CSS_TEXT_ALIGN_MATCH_PARENT:
        case LXB_CSS_TEXT_ALIGN_JUSTIFY_ALL:
            declar->u.text_align->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_text_align_all(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_TEXT_ALIGN_ALL_START:
        case LXB_CSS_TEXT_ALIGN_ALL_END:
        case LXB_CSS_TEXT_ALIGN_ALL_LEFT:
        case LXB_CSS_TEXT_ALIGN_ALL_RIGHT:
        case LXB_CSS_TEXT_ALIGN_ALL_CENTER:
        case LXB_CSS_TEXT_ALIGN_ALL_JUSTIFY:
        case LXB_CSS_TEXT_ALIGN_ALL_MATCH_PARENT:
            declar->u.text_align_all->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_text_align_last(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_TEXT_ALIGN_LAST_AUTO:
        case LXB_CSS_TEXT_ALIGN_LAST_START:
        case LXB_CSS_TEXT_ALIGN_LAST_END:
        case LXB_CSS_TEXT_ALIGN_LAST_LEFT:
        case LXB_CSS_TEXT_ALIGN_LAST_RIGHT:
        case LXB_CSS_TEXT_ALIGN_LAST_CENTER:
        case LXB_CSS_TEXT_ALIGN_LAST_JUSTIFY:
        case LXB_CSS_TEXT_ALIGN_LAST_MATCH_PARENT:
            declar->u.text_align_last->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_text_justify(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_TEXT_JUSTIFY_AUTO:
        case LXB_CSS_TEXT_JUSTIFY_NONE:
        case LXB_CSS_TEXT_JUSTIFY_INTER_WORD:
        case LXB_CSS_TEXT_JUSTIFY_INTER_CHARACTER:
            declar->u.text_justify->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_text_indent(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_text_indent_t *text_indent;

    text_indent = declar->u.text_indent;

    res = lxb_css_property_state_length_percentage(parser, token,
                                                   &text_indent->length);
    if (res) {
        token = lxb_css_syntax_parser_token_wo_ws(parser);
        lxb_css_property_state_check_token(parser, token);

        text_indent->type = LXB_CSS_VALUE__LENGTH;
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        if (!res) {
            return lxb_css_parser_failed(parser);
        }

        return lxb_css_parser_success(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
            if (res) {
                return lxb_css_parser_failed(parser);
            }

            text_indent->type = type;
            break;

        /* Local. */
        case LXB_CSS_TEXT_INDENT_HANGING:
            text_indent->hanging = type;
            goto next;

        case LXB_CSS_TEXT_INDENT_EACH_LINE:
            text_indent->each_line = type;
            goto next;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);

next:

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_length_percentage(parser, token,
                                                   &text_indent->length);
    if (res) {
        if (text_indent->type != LXB_CSS_VALUE__UNDEF) {
            return lxb_css_parser_failed(parser);
        }

        token = lxb_css_syntax_parser_token_wo_ws(parser);
        lxb_css_property_state_check_token(parser, token);

        text_indent->type = LXB_CSS_VALUE__LENGTH;
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        if (text_indent->type == LXB_CSS_VALUE__UNDEF) {
            return lxb_css_parser_failed(parser);
        }

        return lxb_css_parser_success(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);

    switch (type) {
        case LXB_CSS_TEXT_INDENT_HANGING:
            if (text_indent->hanging != LXB_CSS_VALUE__UNDEF) {
                return lxb_css_parser_failed(parser);
            }

            text_indent->hanging = type;
            goto next;

        case LXB_CSS_TEXT_INDENT_EACH_LINE:
            if (text_indent->each_line != LXB_CSS_VALUE__UNDEF) {
                return lxb_css_parser_failed(parser);
            }

            text_indent->each_line = type;
            goto next;

        default:
            return lxb_css_parser_failed(parser);
    }
}

bool
lxb_css_property_state_white_space(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_WHITE_SPACE_NORMAL:
        case LXB_CSS_WHITE_SPACE_PRE:
        case LXB_CSS_WHITE_SPACE_NOWRAP:
        case LXB_CSS_WHITE_SPACE_PRE_WRAP:
        case LXB_CSS_WHITE_SPACE_BREAK_SPACES:
        case LXB_CSS_WHITE_SPACE_PRE_LINE:
            declar->u.white_space->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_tab_size(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    res = lxb_css_property_state_number_length(parser, token,
                         (lxb_css_value_number_length_t *) declar->u.tab_size);
    if (res) {
        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
            declar->u.tab_size->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_word_break(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_WORD_BREAK_NORMAL:
        case LXB_CSS_WORD_BREAK_KEEP_ALL:
        case LXB_CSS_WORD_BREAK_BREAK_ALL:
        case LXB_CSS_WORD_BREAK_BREAK_WORD:
            declar->u.word_break->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_line_break(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_LINE_BREAK_AUTO:
        case LXB_CSS_LINE_BREAK_LOOSE:
        case LXB_CSS_LINE_BREAK_NORMAL:
        case LXB_CSS_LINE_BREAK_STRICT:
        case LXB_CSS_LINE_BREAK_ANYWHERE:
            declar->u.line_break->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_hyphens(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_HYPHENS_NONE:
        case LXB_CSS_HYPHENS_MANUAL:
        case LXB_CSS_HYPHENS_AUTO:
            declar->u.hyphens->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_overflow_wrap(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_OVERFLOW_WRAP_NORMAL:
        case LXB_CSS_OVERFLOW_WRAP_BREAK_WORD:
        case LXB_CSS_OVERFLOW_WRAP_ANYWHERE:
            declar->u.overflow_wrap->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_word_wrap(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_overflow_wrap(parser, token, ctx);
}

bool
lxb_css_property_state_word_spacing(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    res = lxb_css_property_state_length(parser, token,
                                        &declar->u.word_spacing->length);
    if (res) {
        declar->u.word_spacing->type = LXB_CSS_VALUE__LENGTH;

        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_WORD_SPACING_NORMAL:
            declar->u.word_spacing->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_letter_spacing(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_word_spacing(parser, token, ctx);
}

bool
lxb_css_property_state_hanging_punctuation(lxb_css_parser_t *parser,
                                           const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_hanging_punctuation_t *hp;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    hp = declar->u.hanging_punctuation;

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
            /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
            /* Local. */
        case LXB_CSS_HANGING_PUNCTUATION_NONE:
            hp->type_first = type;
            break;

        case LXB_CSS_HANGING_PUNCTUATION_FIRST:
            hp->type_first = type;
            goto next;

        case LXB_CSS_HANGING_PUNCTUATION_FORCE_END:
        case LXB_CSS_HANGING_PUNCTUATION_ALLOW_END:
            hp->force_allow = type;
            goto next;

        case LXB_CSS_HANGING_PUNCTUATION_LAST:
            hp->last = type;
            goto next;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);

next:

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_success(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);

    switch (type) {
        case LXB_CSS_HANGING_PUNCTUATION_FIRST:
            if (hp->type_first != LXB_CSS_VALUE__UNDEF) {
                return lxb_css_parser_failed(parser);
            }

            hp->type_first = type;
            goto next;

        case LXB_CSS_HANGING_PUNCTUATION_FORCE_END:
        case LXB_CSS_HANGING_PUNCTUATION_ALLOW_END:
            if (hp->force_allow != LXB_CSS_VALUE__UNDEF) {
                return lxb_css_parser_failed(parser);
            }

            hp->force_allow = type;
            goto next;

        case LXB_CSS_HANGING_PUNCTUATION_LAST:
            if (hp->last != LXB_CSS_VALUE__UNDEF) {
                return lxb_css_parser_failed(parser);
            }

            hp->last = type;
            goto next;

        default:
            return lxb_css_parser_failed(parser);
    }
}

bool
lxb_css_property_state_font_family(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx)
{
    size_t length;
    const lxb_char_t *data;
    lexbor_str_t *str;
    lexbor_mraw_t *mraw;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_font_family_t *ff;
    lxb_css_property_family_name_t *name;

    mraw = parser->memory->mraw;
    ff = declar->u.font_family;

    while (token != NULL) {
        name = lexbor_mraw_alloc(mraw, sizeof(lxb_css_property_family_name_t));
        if (name == NULL) {
            return lxb_css_parser_memory_fail(parser);
        }

        if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
            data = lxb_css_syntax_token_ident(token)->data;
            length = lxb_css_syntax_token_ident(token)->length;

            type = lxb_css_value_by_name(data, length);
            if (type != LXB_CSS_VALUE__UNDEF) {
                name->generic = true;
                name->u.type = type;

                goto next;
            }
        }
        else if (token->type == LXB_CSS_SYNTAX_TOKEN_STRING) {
            data = lxb_css_syntax_token_string(token)->data;
            length = lxb_css_syntax_token_string(token)->length;
        }
        else {
            return lxb_css_parser_failed(parser);
        }

        name->generic = false;

        str = &name->u.str;

        (void) lexbor_str_init(str, mraw, length);
        if (name->u.str.data == NULL) {
            return lxb_css_parser_memory_fail(parser);
        }

        memcpy(str->data, data, length);

        str->data[length] = '\0';
        str->length = length;

    next:

        if (ff->first == NULL) {
            ff->first = name;
        }
        else {
            ff->last->next = name;
        }

        name->next = NULL;
        name->prev = ff->last;
        ff->last = name;

        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token_wo_ws(parser);
        lxb_css_property_state_check_token(parser, token);

        if (token->type != LXB_CSS_SYNTAX_TOKEN_COMMA) {
            if (token->type == LXB_CSS_SYNTAX_TOKEN__END) {
                return lxb_css_parser_success(parser);
            }

            return lxb_css_parser_failed(parser);
        }

        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token_wo_ws(parser);
    }

    lxb_css_property_state_check_token(parser, token);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_font_weight(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx)\
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_font_weight_t *fw = declar->u.font_weight;

    res = lxb_css_property_state_number(parser, token, &fw->number);

    if (res) {
        if (fw->number.num < 1 || fw->number.num > 1000) {
            return lxb_css_parser_failed(parser);
        }

        fw->type = LXB_CSS_FONT_WEIGHT__NUMBER;
        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_FONT_WEIGHT_NORMAL:
        case LXB_CSS_FONT_WEIGHT_BOLD:
        case LXB_CSS_FONT_WEIGHT_BOLDER:
        case LXB_CSS_FONT_WEIGHT_LIGHTER:
            fw->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_font_stretch(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_font_stretch_t *fs = declar->u.font_stretch;

    res = lxb_css_property_state_percentage(parser, token, &fs->percentage);

    if (res) {
        if (fs->percentage.num < 0) {
            return lxb_css_parser_failed(parser);
        }

        fs->type = LXB_CSS_FONT_STRETCH__PERCENTAGE;
        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_FONT_STRETCH_NORMAL:
        case LXB_CSS_FONT_STRETCH_ULTRA_CONDENSED:
        case LXB_CSS_FONT_STRETCH_EXTRA_CONDENSED:
        case LXB_CSS_FONT_STRETCH_CONDENSED:
        case LXB_CSS_FONT_STRETCH_SEMI_CONDENSED:
        case LXB_CSS_FONT_STRETCH_SEMI_EXPANDED:
        case LXB_CSS_FONT_STRETCH_EXPANDED:
        case LXB_CSS_FONT_STRETCH_EXTRA_EXPANDED:
        case LXB_CSS_FONT_STRETCH_ULTRA_EXPANDED:
            fs->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_font_style(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_font_style_t *fs = declar->u.font_style;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
            /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
            /* Local. */
        case LXB_CSS_FONT_STYLE_NORMAL:
        case LXB_CSS_FONT_STYLE_ITALIC:
            fs->type = type;
            break;

        case LXB_CSS_FONT_STYLE_OBLIQUE:
            fs->type = type;

            lxb_css_syntax_parser_consume(parser);
            token = lxb_css_syntax_parser_token_wo_ws(parser);
            lxb_css_property_state_check_token(parser, token);

            res = lxb_css_property_state_angle(parser, token, &fs->angle);

            if (res) {
                if (fs->angle.num < -90 || fs->angle.num > 90) {
                    return lxb_css_parser_failed(parser);
                }

                return lxb_css_parser_success(parser);
            }
            else {
                fs->angle.unit = (lxb_css_unit_angle_t) LXB_CSS_UNIT__UNDEF;
            }

            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_font_size(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_font_size_t *fs = declar->u.font_size;

    res = lxb_css_property_state_length_percentage(parser, token, &fs->length);

    if (res) {
        if (fs->length.u.length.num < 0) {
            return lxb_css_parser_failed(parser);
        }

        fs->type = LXB_CSS_FONT_SIZE__LENGTH;

        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_FONT_SIZE_XX_SMALL:
        case LXB_CSS_FONT_SIZE_X_SMALL:
        case LXB_CSS_FONT_SIZE_SMALL:
        case LXB_CSS_FONT_SIZE_MEDIUM:
        case LXB_CSS_FONT_SIZE_LARGE:
        case LXB_CSS_FONT_SIZE_X_LARGE:
        case LXB_CSS_FONT_SIZE_XX_LARGE:
        case LXB_CSS_FONT_SIZE_XXX_LARGE:
        case LXB_CSS_FONT_SIZE_MATH:
        case LXB_CSS_FONT_SIZE_LARGER:
        case LXB_CSS_FONT_SIZE_SMALLER:
            fs->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_float_reference(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_FLOAT_REFERENCE_INLINE:
        case LXB_CSS_FLOAT_REFERENCE_COLUMN:
        case LXB_CSS_FLOAT_REFERENCE_REGION:
        case LXB_CSS_FLOAT_REFERENCE_PAGE:
            declar->u.float_reference->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_float(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_float_t *fp = declar->u.floatp;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        if (token->type == LXB_CSS_SYNTAX_TOKEN_FUNCTION) {
            goto snap;
        }

        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_FLOAT_BLOCK_START:
        case LXB_CSS_FLOAT_BLOCK_END:
        case LXB_CSS_FLOAT_INLINE_START:
        case LXB_CSS_FLOAT_INLINE_END:
        case LXB_CSS_FLOAT_SNAP_BLOCK:
        case LXB_CSS_FLOAT_SNAP_INLINE:
        case LXB_CSS_FLOAT_LEFT:
        case LXB_CSS_FLOAT_RIGHT:
        case LXB_CSS_FLOAT_TOP:
        case LXB_CSS_FLOAT_BOTTOM:
        case LXB_CSS_FLOAT_NONE:
            fp->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);

snap:

    type = lxb_css_value_by_name(lxb_css_syntax_token_function(token)->data,
                                 lxb_css_syntax_token_function(token)->length);

    if (type != LXB_CSS_FLOAT_SNAP_BLOCK
        && type != LXB_CSS_FLOAT_SNAP_INLINE)
    {
        return lxb_css_parser_failed(parser);
    }

    fp->type = type;

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_length(parser, token, &fp->length.length);
    if (!res) {
        return lxb_css_parser_failed(parser);
    }

    fp->length.type = LXB_CSS_VALUE__LENGTH;

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_COMMA) {
        if (token->type == LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS) {
            fp->snap_type = LXB_CSS_VALUE__UNDEF;

            lxb_css_syntax_parser_consume(parser);
            return lxb_css_parser_success(parser);
        }

        return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        case LXB_CSS_FLOAT_START:
        case LXB_CSS_FLOAT_END:
            if (fp->type != LXB_CSS_FLOAT_SNAP_BLOCK) {
                return lxb_css_parser_failed(parser);
            }

            fp->snap_type = type;
            break;

        case LXB_CSS_FLOAT_LEFT:
        case LXB_CSS_FLOAT_RIGHT:
            if (fp->type != LXB_CSS_FLOAT_SNAP_INLINE) {
                return lxb_css_parser_failed(parser);
            }

            fp->snap_type = type;
            break;

        case LXB_CSS_FLOAT_NEAR:
            fp->snap_type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS) {
        lxb_css_syntax_parser_consume(parser);

        return lxb_css_parser_success(parser);
    }

    return lxb_css_parser_failed(parser);
}

bool
lxb_css_property_state_clear(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_CLEAR_INLINE_START:
        case LXB_CSS_CLEAR_INLINE_END:
        case LXB_CSS_CLEAR_BLOCK_START:
        case LXB_CSS_CLEAR_BLOCK_END:
        case LXB_CSS_CLEAR_LEFT:
        case LXB_CSS_CLEAR_RIGHT:
        case LXB_CSS_CLEAR_TOP:
        case LXB_CSS_CLEAR_BOTTOM:
        case LXB_CSS_CLEAR_NONE:
            declar->u.clear->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_float_defer(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_float_defer_t *fd = declar->u.float_defer;

    res = lxb_css_property_state_integer(parser, token, &fd->integer);
    if (res) {
        fd->type = LXB_CSS_FLOAT_DEFER__INTEGER;

        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_FLOAT_DEFER_LAST:
        case LXB_CSS_FLOAT_DEFER_NONE:
            fd->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_float_offset(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_float_offset_t *fo = declar->u.float_offset;

    res = lxb_css_property_state_length_percentage(parser, token,
                                     (lxb_css_value_length_percentage_t *) fo);
    if (res) {
        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
            fo->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_wrap_flow(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_WRAP_FLOW_AUTO:
        case LXB_CSS_WRAP_FLOW_BOTH:
        case LXB_CSS_WRAP_FLOW_START:
        case LXB_CSS_WRAP_FLOW_END:
        case LXB_CSS_WRAP_FLOW_MINIMUM:
        case LXB_CSS_WRAP_FLOW_MAXIMUM:
        case LXB_CSS_WRAP_FLOW_CLEAR:
            declar->u.wrap_flow->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_wrap_through(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_WRAP_THROUGH_WRAP:
        case LXB_CSS_WRAP_THROUGH_NONE:
            declar->u.wrap_through->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_flex_direction(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_FLEX_DIRECTION_ROW:
        case LXB_CSS_FLEX_DIRECTION_ROW_REVERSE:
        case LXB_CSS_FLEX_DIRECTION_COLUMN:
        case LXB_CSS_FLEX_DIRECTION_COLUMN_REVERSE:
            declar->u.flex_direction->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_flex_wrap(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
            /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
            /* Local. */
        case LXB_CSS_FLEX_WRAP_NOWRAP:
        case LXB_CSS_FLEX_WRAP_WRAP:
        case LXB_CSS_FLEX_WRAP_WRAP_REVERSE:
            declar->u.flex_wrap->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_flex_flow(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_flex_flow_t *ff = declar->u.flex_flow;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_FLEX_DIRECTION_ROW:
        case LXB_CSS_FLEX_DIRECTION_ROW_REVERSE:
        case LXB_CSS_FLEX_DIRECTION_COLUMN:
        case LXB_CSS_FLEX_DIRECTION_COLUMN_REVERSE:
            ff->type_direction = type;
            goto direction;

        case LXB_CSS_FLEX_WRAP_NOWRAP:
        case LXB_CSS_FLEX_WRAP_WRAP:
        case LXB_CSS_FLEX_WRAP_WRAP_REVERSE:
            ff->wrap = type;
            goto wrap;

        default:
            return lxb_css_parser_failed(parser);
    }

direction:

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_success(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        case LXB_CSS_FLEX_WRAP_NOWRAP:
        case LXB_CSS_FLEX_WRAP_WRAP:
        case LXB_CSS_FLEX_WRAP_WRAP_REVERSE:
            ff->wrap = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    goto done;

wrap:

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_success(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        case LXB_CSS_FLEX_DIRECTION_ROW:
        case LXB_CSS_FLEX_DIRECTION_ROW_REVERSE:
        case LXB_CSS_FLEX_DIRECTION_COLUMN:
        case LXB_CSS_FLEX_DIRECTION_COLUMN_REVERSE:
            ff->type_direction = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

done:

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

lxb_inline bool
lxb_css_property_state_flex_grow_shrink(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        lxb_css_property_flex_t *flex)
{
    bool res;

    res = lxb_css_property_state_number(parser, token, &flex->grow.number);
    if (!res) {
        return false;
    }

    flex->grow.type = LXB_CSS_FLEX_GROW__NUMBER;

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    res = lxb_css_property_state_number(parser, token, &flex->shrink.number);
    if (res) {
        flex->shrink.type = LXB_CSS_FLEX_SHRINK__NUMBER;
    }

    return true;
}

lxb_inline bool
lxb_css_property_state_flex_grow_basis(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token,
                                       lxb_css_property_flex_t *flex)
{
    bool res;
    lxb_css_value_type_t type;

    res = lxb_css_property_state_width_handler(parser, token,
                               (lxb_css_property_flex_basis_t *) &flex->basis);
    if (res) {
        return true;
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return false;
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);

    if (type == LXB_CSS_FLEX_BASIS_CONTENT) {
        flex->basis.type = type;

        lxb_css_syntax_parser_consume(parser);
        return true;
    }

    return false;
}

bool
lxb_css_property_state_flex(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_flex_t *flex = declar->u.flex;

    res = lxb_css_property_state_flex_grow_shrink(parser, token, flex);

    if (res) {
        token = lxb_css_syntax_parser_token_wo_ws(parser);
        lxb_css_property_state_check_token(parser, token);

        res = lxb_css_property_state_flex_grow_basis(parser, token, flex);

        if (!res && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
            flex->basis.type = LXB_CSS_VALUE__NUMBER;
            flex->basis.u.length.num = flex->grow.number.num;
            flex->basis.u.length.unit = LXB_CSS_UNIT__UNDEF;
            flex->basis.u.length.is_float = flex->grow.number.is_float;

            flex->grow.type = LXB_CSS_VALUE__UNDEF;

            if (flex->shrink.type != LXB_CSS_VALUE__UNDEF) {
                flex->grow = flex->shrink;
                flex->shrink.type = LXB_CSS_VALUE__UNDEF;

                goto try_shrink_last;
            }

            res = lxb_css_property_state_flex_grow_shrink(parser, token, flex);
            if (!res) {
                return lxb_css_parser_failed(parser);
            }
        }

        return lxb_css_parser_success(parser);
    }
    else {
        res = lxb_css_property_state_flex_grow_basis(parser, token, flex);

        if (res) {
            token = lxb_css_syntax_parser_token_wo_ws(parser);
            lxb_css_property_state_check_token(parser, token);

            (void) lxb_css_property_state_flex_grow_shrink(parser, token, flex);

            return lxb_css_parser_success(parser);
        }
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_FLEX_NONE:
            flex->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);

try_shrink_last:

    res = lxb_css_property_state_number(parser, token, &flex->shrink.number);
    if (res) {
        flex->shrink.type = LXB_CSS_FLEX_SHRINK__NUMBER;
    }

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_flex_grow(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_flex_grow_t *fg = declar->u.flex_grow;

    res = lxb_css_property_state_number(parser, token, &fg->number);
    if (res) {
        if (fg->number.num < 0) {
            return lxb_css_parser_failed(parser);
        }

        fg->type = LXB_CSS_FLEX_GROW__NUMBER;

        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
            fg->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_flex_shrink(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_flex_grow_t *fs = declar->u.flex_shrink;

    res = lxb_css_property_state_number(parser, token, &fs->number);
    if (res) {
        if (fs->number.num < 0) {
            return lxb_css_parser_failed(parser);
        }

        fs->type = LXB_CSS_FLEX_SHRINK__NUMBER;

        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
            fs->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_flex_basis(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_flex_basis_t *fb = declar->u.flex_basis;

    res = lxb_css_property_state_width_handler(parser, token,
                                               (lxb_css_property_width_t *) fb);
    if (res) {
        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        case LXB_CSS_FLEX_BASIS_CONTENT:
            fb->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_justify_content(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_JUSTIFY_CONTENT_FLEX_START:
        case LXB_CSS_JUSTIFY_CONTENT_FLEX_END:
        case LXB_CSS_JUSTIFY_CONTENT_CENTER:
        case LXB_CSS_JUSTIFY_CONTENT_SPACE_BETWEEN:
        case LXB_CSS_JUSTIFY_CONTENT_SPACE_AROUND:
            declar->u.justify_content->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_align_items(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_ALIGN_ITEMS_FLEX_START:
        case LXB_CSS_ALIGN_ITEMS_FLEX_END:
        case LXB_CSS_ALIGN_ITEMS_CENTER:
        case LXB_CSS_ALIGN_ITEMS_BASELINE:
        case LXB_CSS_ALIGN_ITEMS_STRETCH:
            declar->u.align_items->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_align_self(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_ALIGN_SELF_AUTO:
        case LXB_CSS_ALIGN_SELF_FLEX_START:
        case LXB_CSS_ALIGN_SELF_FLEX_END:
        case LXB_CSS_ALIGN_SELF_CENTER:
        case LXB_CSS_ALIGN_SELF_BASELINE:
        case LXB_CSS_ALIGN_SELF_STRETCH:
            declar->u.align_self->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_align_content(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_ALIGN_CONTENT_FLEX_START:
        case LXB_CSS_ALIGN_CONTENT_FLEX_END:
        case LXB_CSS_ALIGN_CONTENT_CENTER:
        case LXB_CSS_ALIGN_CONTENT_SPACE_BETWEEN:
        case LXB_CSS_ALIGN_CONTENT_SPACE_AROUND:
        case LXB_CSS_ALIGN_CONTENT_STRETCH:
            declar->u.align_content->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_dominant_baseline(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_DOMINANT_BASELINE_AUTO:
        case LXB_CSS_DOMINANT_BASELINE_TEXT_BOTTOM:
        case LXB_CSS_DOMINANT_BASELINE_ALPHABETIC:
        case LXB_CSS_DOMINANT_BASELINE_IDEOGRAPHIC:
        case LXB_CSS_DOMINANT_BASELINE_MIDDLE:
        case LXB_CSS_DOMINANT_BASELINE_CENTRAL:
        case LXB_CSS_DOMINANT_BASELINE_MATHEMATICAL:
        case LXB_CSS_DOMINANT_BASELINE_HANGING:
        case LXB_CSS_DOMINANT_BASELINE_TEXT_TOP:
            declar->u.dominant_baseline->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_alignment_baseline_h(lxb_css_parser_t *parser,
                                            const lxb_css_syntax_token_t *token,
                                            lxb_css_property_alignment_baseline_t *ab)
{
    lxb_css_value_type_t type;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return false;
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        case LXB_CSS_ALIGNMENT_BASELINE_BASELINE:
        case LXB_CSS_ALIGNMENT_BASELINE_TEXT_BOTTOM:
        case LXB_CSS_ALIGNMENT_BASELINE_ALPHABETIC:
        case LXB_CSS_ALIGNMENT_BASELINE_IDEOGRAPHIC:
        case LXB_CSS_ALIGNMENT_BASELINE_MIDDLE:
        case LXB_CSS_ALIGNMENT_BASELINE_CENTRAL:
        case LXB_CSS_ALIGNMENT_BASELINE_MATHEMATICAL:
        case LXB_CSS_ALIGNMENT_BASELINE_TEXT_TOP:
            ab->type = type;

            lxb_css_syntax_parser_consume(parser);
            return true;

        default:
            return false;
    }
}

bool
lxb_css_property_state_baseline_shift_h(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        lxb_css_property_baseline_shift_t *bs)
{
    bool res;
    lxb_css_value_type_t type;

    res = lxb_css_property_state_length_percentage(parser, token, bs);

    if (res) {
        return true;
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return false;
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        case LXB_CSS_BASELINE_SHIFT_SUB:
        case LXB_CSS_BASELINE_SHIFT_SUPER:
        case LXB_CSS_BASELINE_SHIFT_TOP:
        case LXB_CSS_BASELINE_SHIFT_CENTER:
        case LXB_CSS_BASELINE_SHIFT_BOTTOM:
            bs->type = type;

            lxb_css_syntax_parser_consume(parser);
            return true;

        default:
            return false;
    }
}

bool
lxb_css_property_state_vertical_align(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    uint8_t maps;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_vertical_align_t *va = declar->u.vertical_align;

    maps = 0;

again:

    res = lxb_css_property_state_alignment_baseline_h(parser, token,
                                                      &va->alignment);
    if (res) {
        if (maps & 1 << 1) {
            return lxb_css_parser_failed(parser);
        }

        maps |= 1 << 1;

        token = lxb_css_syntax_parser_token_wo_ws(parser);
        lxb_css_property_state_check_token(parser, token);

        res = lxb_css_property_state_baseline_shift_h(parser, token,
                                                      &va->shift);
        if (res) {
            if (maps & 1 << 2) {
                return lxb_css_parser_failed(parser);
            }

            maps |= 1 << 2;

            token = lxb_css_syntax_parser_token_wo_ws(parser);
            lxb_css_property_state_check_token(parser, token);
        }
    }
    else {
        res = lxb_css_property_state_baseline_shift_h(parser, token,
                                                      &va->shift);
        if (res) {
            if (maps & 1 << 2) {
                return lxb_css_parser_failed(parser);
            }

            maps |= 1 << 2;

            token = lxb_css_syntax_parser_token_wo_ws(parser);
            lxb_css_property_state_check_token(parser, token);

            res = lxb_css_property_state_alignment_baseline_h(parser, token,
                                                              &va->alignment);
            if (res) {
                if (maps & 1 << 1) {
                    return lxb_css_parser_failed(parser);
                }

                maps |= 1 << 1;

                token = lxb_css_syntax_parser_token_wo_ws(parser);
                lxb_css_property_state_check_token(parser, token);
            }
        }
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        if (maps != 0) {
            return lxb_css_parser_success(parser);
        }

        return lxb_css_parser_failed(parser);
    }

    if (maps & 1 << 3) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_VERTICAL_ALIGN_FIRST:
        case LXB_CSS_VERTICAL_ALIGN_LAST:
            va->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    token = lxb_css_syntax_parser_token_wo_ws(parser);
    lxb_css_property_state_check_token(parser, token);

    maps = 1 << 3;

    goto again;
}

bool
lxb_css_property_state_baseline_source(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_BASELINE_SOURCE_AUTO:
        case LXB_CSS_BASELINE_SOURCE_FIRST:
        case LXB_CSS_BASELINE_SOURCE_LAST:
            declar->u.baseline_source->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_alignment_baseline(lxb_css_parser_t *parser,
                                          const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_ALIGNMENT_BASELINE_BASELINE:
        case LXB_CSS_ALIGNMENT_BASELINE_TEXT_BOTTOM:
        case LXB_CSS_ALIGNMENT_BASELINE_ALPHABETIC:
        case LXB_CSS_ALIGNMENT_BASELINE_IDEOGRAPHIC:
        case LXB_CSS_ALIGNMENT_BASELINE_MIDDLE:
        case LXB_CSS_ALIGNMENT_BASELINE_CENTRAL:
        case LXB_CSS_ALIGNMENT_BASELINE_MATHEMATICAL:
        case LXB_CSS_ALIGNMENT_BASELINE_TEXT_TOP:
            declar->u.alignment_baseline->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_baseline_shift(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    res = lxb_css_property_state_length_percentage(parser, token,
                                                   declar->u.baseline_shift);
    if (res) {
        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_BASELINE_SHIFT_SUB:
        case LXB_CSS_BASELINE_SHIFT_SUPER:
        case LXB_CSS_BASELINE_SHIFT_TOP:
        case LXB_CSS_BASELINE_SHIFT_CENTER:
        case LXB_CSS_BASELINE_SHIFT_BOTTOM:
            declar->u.baseline_shift->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_line_height(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    res = lxb_css_property_state_number_length_percentage(parser, token,
                                                          declar->u.line_height);
    if (res) {
        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_LINE_HEIGHT_NORMAL:
            declar->u.line_height->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_z_index(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    res = lxb_css_property_state_integer(parser, token,
                                         &declar->u.z_index->integer);
    if (res) {
        declar->u.z_index->type = LXB_CSS_VALUE__INTEGER;
        return lxb_css_parser_success(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_Z_INDEX_AUTO:
            declar->u.line_height->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_direction(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_DIRECTION_LTR:
        case LXB_CSS_DIRECTION_RTL:
            declar->u.direction->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_unicode_bidi(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_UNICODE_BIDI_NORMAL:
        case LXB_CSS_UNICODE_BIDI_EMBED:
        case LXB_CSS_UNICODE_BIDI_ISOLATE:
        case LXB_CSS_UNICODE_BIDI_BIDI_OVERRIDE:
        case LXB_CSS_UNICODE_BIDI_ISOLATE_OVERRIDE:
        case LXB_CSS_UNICODE_BIDI_PLAINTEXT:
            declar->u.unicode_bidi->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_writing_mode(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_WRITING_MODE_HORIZONTAL_TB:
        case LXB_CSS_WRITING_MODE_VERTICAL_RL:
        case LXB_CSS_WRITING_MODE_VERTICAL_LR:
        case LXB_CSS_WRITING_MODE_SIDEWAYS_RL:
        case LXB_CSS_WRITING_MODE_SIDEWAYS_LR:
            declar->u.writing_mode->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_text_orientation(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_TEXT_ORIENTATION_MIXED:
        case LXB_CSS_TEXT_ORIENTATION_UPRIGHT:
        case LXB_CSS_TEXT_ORIENTATION_SIDEWAYS:
            declar->u.text_orientation->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_text_combine_upright(lxb_css_parser_t *parser,
                                            const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_text_combine_upright_t *tcu = declar->u.text_combine_upright;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_TEXT_COMBINE_UPRIGHT_NONE:
        case LXB_CSS_TEXT_COMBINE_UPRIGHT_ALL:
            tcu->type = type;
            break;

        case LXB_CSS_TEXT_COMBINE_UPRIGHT_DIGITS:
            tcu->type = type;

            lxb_css_syntax_parser_consume(parser);
            token = lxb_css_syntax_parser_token_wo_ws(parser);
            lxb_css_property_state_check_token(parser, token);

            res = lxb_css_property_state_integer(parser, token,
                                                 &tcu->digits);
            if (res) {
                if (tcu->digits.num != 2 && tcu->digits.num != 4) {
                    return lxb_css_parser_failed(parser);
                }
            }

            return lxb_css_parser_success(parser);

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_overflow_x(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_OVERFLOW_X_VISIBLE:
        case LXB_CSS_OVERFLOW_X_HIDDEN:
        case LXB_CSS_OVERFLOW_X_CLIP:
        case LXB_CSS_OVERFLOW_X_SCROLL:
        case LXB_CSS_OVERFLOW_X_AUTO:
            declar->u.overflow_x->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_overflow_y(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_overflow_x(parser, token, ctx);
}

bool
lxb_css_property_state_overflow_block(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_overflow_x(parser, token, ctx);
}

bool
lxb_css_property_state_overflow_inline(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_overflow_x(parser, token, ctx);
}

bool
lxb_css_property_state_text_overflow(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_TEXT_OVERFLOW_CLIP:
        case LXB_CSS_TEXT_OVERFLOW_ELLIPSIS:
            declar->u.text_overflow->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

lxb_status_t
lxb_css_property_state_text_decoration_line_h(lxb_css_parser_t *parser,
                                              const lxb_css_syntax_token_t *token,
                                              lxb_css_property_text_decoration_line_t *tdl)
{
    lxb_css_value_type_t type;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return LXB_STATUS_NEXT;
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        case LXB_CSS_TEXT_DECORATION_LINE_NONE:
            tdl->type = type;

            lxb_css_syntax_parser_consume(parser);
            return LXB_STATUS_OK;

        default:
            goto first;
    }

next:

    lxb_css_syntax_parser_consume(parser);
    token = lxb_css_syntax_parser_token_wo_ws(parser);
    if (token == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return LXB_STATUS_OK;
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);

first:

    switch (type) {
        case LXB_CSS_TEXT_DECORATION_LINE_UNDERLINE:
            if (tdl->underline != LXB_CSS_VALUE__UNDEF) {
                return LXB_STATUS_STOP;
            }

            tdl->underline = type;
            goto next;

        case LXB_CSS_TEXT_DECORATION_LINE_OVERLINE:
            if (tdl->overline != LXB_CSS_VALUE__UNDEF) {
                return LXB_STATUS_STOP;
            }

            tdl->overline = type;
            goto next;

        case LXB_CSS_TEXT_DECORATION_LINE_LINE_THROUGH:
            if (tdl->line_through != LXB_CSS_VALUE__UNDEF) {
                return LXB_STATUS_STOP;
            }

            tdl->line_through = type;
            goto next;

        case LXB_CSS_TEXT_DECORATION_LINE_BLINK:
            if (tdl->blink != LXB_CSS_VALUE__UNDEF) {
                return LXB_STATUS_STOP;
            }

            tdl->blink = type;
            goto next;

        default:
            if (tdl->underline != LXB_CSS_VALUE__UNDEF
                || tdl->overline != LXB_CSS_VALUE__UNDEF
                || tdl->line_through != LXB_CSS_VALUE__UNDEF
                || tdl->blink != LXB_CSS_VALUE__UNDEF)
            {
                return LXB_STATUS_OK;
            }

            return LXB_STATUS_NEXT;
    }
}

bool
lxb_css_property_state_text_decoration_line(lxb_css_parser_t *parser,
                                            const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_status_t status;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_text_decoration_line_t *tdl = declar->u.text_decoration_line;

    status = lxb_css_property_state_text_decoration_line_h(parser, token, tdl);

    if (status == LXB_STATUS_OK) {
        return lxb_css_parser_success(parser);
    }
    else if (status == LXB_STATUS_STOP) {
        return lxb_css_parser_failed(parser);
    }
    else if (status != LXB_STATUS_NEXT) {
        return lxb_css_parser_memory_fail(parser);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
            tdl->type = type;

            lxb_css_syntax_parser_consume(parser);
            return lxb_css_parser_success(parser);

        default:
            return lxb_css_parser_failed(parser);
    }
}

bool
lxb_css_property_state_text_decoration_style_h(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token,
                            lxb_css_property_text_decoration_style_t *tds)
{
    lxb_css_value_type_t type;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return false;
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        case LXB_CSS_TEXT_DECORATION_STYLE_SOLID:
        case LXB_CSS_TEXT_DECORATION_STYLE_DOUBLE:
        case LXB_CSS_TEXT_DECORATION_STYLE_DOTTED:
        case LXB_CSS_TEXT_DECORATION_STYLE_DASHED:
        case LXB_CSS_TEXT_DECORATION_STYLE_WAVY:
            tds->type = type;

            lxb_css_syntax_parser_consume(parser);
            return true;

        default:
            return false;
    }
}

bool
lxb_css_property_state_text_decoration_style(lxb_css_parser_t *parser,
                                             const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        return lxb_css_parser_failed(parser);
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
        /* Local. */
        case LXB_CSS_TEXT_DECORATION_STYLE_SOLID:
        case LXB_CSS_TEXT_DECORATION_STYLE_DOUBLE:
        case LXB_CSS_TEXT_DECORATION_STYLE_DOTTED:
        case LXB_CSS_TEXT_DECORATION_STYLE_DASHED:
        case LXB_CSS_TEXT_DECORATION_STYLE_WAVY:
            declar->u.text_decoration_style->type = type;
            break;

        default:
            return lxb_css_parser_failed(parser);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_parser_success(parser);
}

bool
lxb_css_property_state_text_decoration_color(lxb_css_parser_t *parser,
                                             const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_property_state_color(parser, token, ctx);
}

bool
lxb_css_property_state_text_decoration(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token, void *ctx)
{
    bool res, line, style, color;
    lxb_status_t status;
    lxb_css_value_type_t type;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_property_text_decoration_t *td = declar->u.text_decoration;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        goto lsc;
    }

    type = lxb_css_value_by_name(lxb_css_syntax_token_ident(token)->data,
                                 lxb_css_syntax_token_ident(token)->length);
    switch (type) {
        /* Global. */
        case LXB_CSS_VALUE_INITIAL:
        case LXB_CSS_VALUE_INHERIT:
        case LXB_CSS_VALUE_UNSET:
        case LXB_CSS_VALUE_REVERT:
            td->line.type = type;

            lxb_css_syntax_parser_consume(parser);
            return lxb_css_parser_success(parser);

        default:
            break;
    }

lsc:

    line = false;
    style = false;
    color = false;

    for (size_t i = 0; i < 3; i++) {
        if (!line) {
            status = lxb_css_property_state_text_decoration_line_h(parser, token,
                                                                   &td->line);
            if (status == LXB_STATUS_OK) {
                token = lxb_css_syntax_parser_token_wo_ws(parser);
                lxb_css_property_state_check_token(parser, token);

                line = true;
            }
            else if (status == LXB_STATUS_STOP) {
                return lxb_css_parser_failed(parser);
            }
            else if (status != LXB_STATUS_NEXT) {
                return lxb_css_parser_memory_fail(parser);
            }
        }

        if (!style) {
            res = lxb_css_property_state_text_decoration_style_h(parser, token,
                                                                 &td->style);
            if (res) {
                token = lxb_css_syntax_parser_token_wo_ws(parser);
                lxb_css_property_state_check_token(parser, token);

                style = true;
            }
        }

        if (!color) {
            res = lxb_css_property_state_color_handler(parser, token,
                                         (lxb_css_value_color_t *) &td->color,
                                         &status);
            if (res) {
                token = lxb_css_syntax_parser_token_wo_ws(parser);
                lxb_css_property_state_check_token(parser, token);

                color = true;
            }
            else {
                if (status != LXB_STATUS_OK) {
                    return lxb_css_parser_failed(parser);
                }
            }
        }
    }

    if (!line && !style && !color) {
        return lxb_css_parser_failed(parser);
    }

    return lxb_css_parser_success(parser);
}

void *
lxb_css_rule_destroy(lxb_css_rule_t *rule, bool self_destroy)
{
    switch (rule->type) {
        case LXB_CSS_RULE_LIST:
            return lxb_css_rule_list_destroy(lxb_css_rule_list(rule),
                                             self_destroy);
        case LXB_CSS_RULE_AT_RULE:
            return lxb_css_rule_at_destroy(lxb_css_rule_at(rule),
                                           self_destroy);
        case LXB_CSS_RULE_STYLE:
            return lxb_css_rule_style_destroy(lxb_css_rule_style(rule),
                                              self_destroy);
        case LXB_CSS_RULE_BAD_STYLE:
            return lxb_css_rule_bad_style_destroy(lxb_css_rule_bad_style(rule),
                                                  self_destroy);
        case LXB_CSS_RULE_DECLARATION:
            return lxb_css_rule_declaration_destroy(lxb_css_rule_declaration(rule),
                                                    self_destroy);
        case LXB_CSS_RULE_DECLARATION_LIST:
            return lxb_css_rule_declaration_list_destroy(lxb_css_rule_declaration_list(rule),
                                                         self_destroy);
        case LXB_CSS_RULE_STYLESHEET:
        case LXB_CSS_RULE_UNDEF:
            return NULL;
    }

    return NULL;
}

lxb_status_t
lxb_css_rule_serialize(const lxb_css_rule_t *rule,
                       lexbor_serialize_cb_f cb, void *ctx)
{
    switch (rule->type) {
        case LXB_CSS_RULE_LIST:
            return lxb_css_rule_list_serialize(lxb_css_rule_list(rule), cb, ctx);

        case LXB_CSS_RULE_AT_RULE:
            return lxb_css_rule_at_serialize(lxb_css_rule_at(rule), cb, ctx);

        case LXB_CSS_RULE_STYLE:
            return lxb_css_rule_style_serialize(lxb_css_rule_style(rule),
                                                cb, ctx);
        case LXB_CSS_RULE_BAD_STYLE:
            return lxb_css_rule_bad_style_serialize(lxb_css_rule_bad_style(rule),
                                                    cb, ctx);
        case LXB_CSS_RULE_DECLARATION:
            return lxb_css_rule_declaration_serialize(lxb_css_rule_declaration(rule),
                                                      cb, ctx);
        case LXB_CSS_RULE_DECLARATION_LIST:
            return lxb_css_rule_declaration_list_serialize(lxb_css_rule_declaration_list(rule),
                                                           cb, ctx);
        case LXB_CSS_RULE_STYLESHEET:
        case LXB_CSS_RULE_UNDEF:
            break;
    }

    return LXB_STATUS_ERROR_WRONG_ARGS;
}

lxb_status_t
lxb_css_rule_serialize_chain(const lxb_css_rule_t *rule,
                             lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    static const lxb_char_t ws_str[] = "\n";

    status = lxb_css_rule_serialize(rule, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    rule = rule->next;

    while (rule != NULL) {
        lexbor_serialize_write(cb, ws_str, (sizeof(ws_str) - 1), ctx, status);

        status = lxb_css_rule_serialize(rule, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        rule = rule->next;
    }

    return LXB_STATUS_OK;
}

lxb_css_rule_list_t *
lxb_css_rule_list_destroy(lxb_css_rule_list_t *list, bool self_destroy)
{
    lxb_css_rule_t *rule, *next, *parent;
    lxb_css_rule_t *child_rule;
    lxb_css_memory_t *memory;
    lxb_css_rule_at_t *at;
    lxb_css_rule_style_t *style;
    lxb_css_rule_bad_style_t *bad;
    lxb_css_rule_list_t *sub_list;
    lxb_css_rule_declaration_list_t *declr_list;

    if (list == NULL) {
        return NULL;
    }

    rule = list->first;
    memory = lxb_css_rule(list)->memory;

    while (rule != NULL) {
        child_rule = NULL;

        switch (rule->type) {
            case LXB_CSS_RULE_LIST:
                sub_list = lxb_css_rule_list(rule);

                if (sub_list->first != NULL) {
                    child_rule = sub_list->first;

                    sub_list->first = NULL;
                    sub_list->last = NULL;
                }
                break;

            case LXB_CSS_RULE_STYLE:
                style = lxb_css_rule_style(rule);

                if (style->child != NULL) {
                    child_rule = lxb_css_rule(style->child);
                    style->child = NULL;
                }
                break;

            case LXB_CSS_RULE_BAD_STYLE:
                bad = lxb_css_rule_bad_style(rule);

                if (bad->child != NULL) {
                    child_rule = lxb_css_rule(bad->child);
                    bad->child = NULL;
                }
                break;

            case LXB_CSS_RULE_AT_RULE:
                at = lxb_css_rule_at(rule);

                if (at->type == LXB_CSS_AT_RULE_MEDIA) {
                    if (at->u.media != NULL && at->u.media->block != NULL) {
                        child_rule = lxb_css_rule(at->u.media->block);
                        at->u.media->block = NULL;
                    }
                }
                else if (at->type == LXB_CSS_AT_RULE__UNDEF) {
                    if (at->u.undef != NULL && at->u.undef->block != NULL) {
                        child_rule = lxb_css_rule(at->u.undef->block);
                        at->u.undef->block = NULL;
                    }
                }
                else if (at->type == LXB_CSS_AT_RULE__CUSTOM) {
                    if (at->u.custom != NULL && at->u.custom->block != NULL) {
                        child_rule = lxb_css_rule(at->u.custom->block);
                        at->u.custom->block = NULL;
                    }
                }
                else if (at->type == LXB_CSS_AT_RULE_FONT_FACE) {
                    if (at->u.font_face != NULL && at->u.font_face->block != NULL) {
                        child_rule = lxb_css_rule(at->u.font_face->block);
                        at->u.font_face->block = NULL;
                    }
                }
                break;

            case LXB_CSS_RULE_DECLARATION_LIST:
                declr_list = lxb_css_rule_declaration_list(rule);

                if (declr_list->first != NULL) {
                    child_rule = declr_list->first;

                    declr_list->first = NULL;
                    declr_list->last = NULL;
                }
                break;

            default:
                break;
        }

        if (child_rule != NULL) {
            rule = child_rule;
            continue;
        }

        next = rule->next;
        parent = rule->parent;

        (void) lxb_css_rule_destroy(rule, true);

        if (next != NULL) {
            rule = next;
        }
        else {
            if (parent == lxb_css_rule(list)) {
                break;
            }

            rule = parent;
        }
    }

    if (self_destroy) {
        return lexbor_mraw_free(memory->tree, list);
    }

    list->first = NULL;
    list->last = NULL;

    return list;
}

lxb_status_t
lxb_css_rule_list_serialize(const lxb_css_rule_list_t *list,
                            lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    lxb_css_rule_t *rule;

    static const lxb_char_t nl_str[] = "\n";

    rule = list->first;

    if (rule == NULL) {
        return LXB_STATUS_OK;
    }

    status = lxb_css_rule_serialize(rule, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    rule = rule->next;

    while (rule != NULL) {
        lexbor_serialize_write(cb, nl_str, (sizeof(nl_str) - 1), ctx, status);

        status = lxb_css_rule_serialize(rule, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        rule = rule->next;
    }

    return LXB_STATUS_OK;
}

lxb_css_rule_at_t *
lxb_css_rule_at_destroy(lxb_css_rule_at_t *at, bool self_destroy)
{
    lxb_css_memory_t *memory = lxb_css_rule(at)->memory;

    switch (at->type) {
        case LXB_CSS_AT_RULE__UNDEF:
            (void) lxb_css_at_rule__undef_destroy(memory, at->u.undef, true);
            break;

        case LXB_CSS_AT_RULE_MEDIA:
            (void) lxb_css_at_rule_media_destroy(memory, at->u.media, true);
            break;

        case LXB_CSS_AT_RULE_NAMESPACE:
            (void) lxb_css_at_rule_namespace_destroy(memory, at->u.ns, true);
            break;

        case LXB_CSS_AT_RULE__LAST_ENTRY:
            break;
    }

    if (self_destroy) {
        return lexbor_mraw_free(memory->tree, at);
    }

    return at;
}

lxb_status_t
lxb_css_rule_at_serialize(const lxb_css_rule_at_t *at, lexbor_serialize_cb_f cb,
                          void *ctx)
{
    lxb_status_t status;
    const lxb_css_at_rule__undef_t *undef;
    const lxb_css_at_rule__custom_t *custom;
    const lxb_css_entry_at_rule_data_t *data, *undata;

    static const lxb_char_t at_str[] = "@";

    data = lxb_css_at_rule_by_id(at->type);
    if (data == NULL) {
        return LXB_STATUS_ERROR_NOT_EXISTS;
    }

    lexbor_serialize_write(cb, at_str, (sizeof(at_str) - 1), ctx, status);

    if (at->type == LXB_CSS_AT_RULE__UNDEF) {
        undef = at->u.undef;

        undata = lxb_css_at_rule_by_id(undef->type);
        if (undata == NULL) {
            return LXB_STATUS_ERROR_NOT_EXISTS;
        }

        lexbor_serialize_write(cb, undata->name, undata->length, ctx, status);
    }
    else if (at->type == LXB_CSS_AT_RULE__CUSTOM) {
        custom = at->u.custom;

        lexbor_serialize_write(cb, custom->name.data,
                               custom->name.length, ctx, status);
    }
    else {
        lexbor_serialize_write(cb, data->name, data->length, ctx, status);
    }

    return data->serialize(at->u.user, cb, ctx);
}

lxb_status_t
lxb_css_rule_at_serialize_name(const lxb_css_rule_at_t *at,
                               lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_at_rule_serialize_name(at->u.user, at->type, cb, ctx);
}

lxb_css_rule_style_t *
lxb_css_rule_style_destroy(lxb_css_rule_style_t *style, bool self_destroy)
{
    lxb_css_memory_t *memory = lxb_css_rule(style)->memory;

    lxb_css_selector_list_destroy(style->selector);
    (void) lxb_css_rule_declaration_list_destroy(style->declarations, true);
    (void) lxb_css_rule_list_destroy(style->child, true);

    style->selector = NULL;
    style->declarations = NULL;
    style->child = NULL;

    if (self_destroy) {
        return lexbor_mraw_free(memory->tree, style);
    }

    return style;
}

lxb_status_t
lxb_css_rule_style_serialize(const lxb_css_rule_style_t *style,
                             lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    static const lxb_char_t lc_str[] = " {";
    static const lxb_char_t rc_str[] = "}";
    static const lxb_char_t cm_str[] = "; ";

    status = lxb_css_selector_serialize_list_chain(style->selector, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (style->declarations != NULL) {
        lexbor_serialize_write(cb, lc_str, (sizeof(lc_str) - 1), ctx, status);

        status = lxb_css_rule_declaration_list_serialize(style->declarations,
                                                         cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        if (style->child == NULL) {
            lexbor_serialize_write(cb, rc_str, (sizeof(rc_str) - 1),
                                   ctx, status);
        }
    }

    if (style->child != NULL && style->child->first != NULL) {
        lexbor_serialize_write(cb, cm_str, (sizeof(cm_str) - 1), ctx, status);

        status = lxb_css_rule_list_serialize(style->child, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }
    }

    if (style->declarations != NULL) {
        lexbor_serialize_write(cb, rc_str, (sizeof(rc_str) - 1), ctx, status);
    }

    return LXB_STATUS_OK;
}

lxb_css_rule_bad_style_t *
lxb_css_rule_bad_style_destroy(lxb_css_rule_bad_style_t *bad, bool self_destroy)
{
    lxb_css_memory_t *memory = lxb_css_rule(bad)->memory;

    (void) lexbor_str_destroy(&bad->selectors, memory->mraw, false);
    bad->declarations = lxb_css_rule_declaration_list_destroy(bad->declarations,
                                                              true);
    bad->child = lxb_css_rule_list_destroy(bad->child, true);

    if (self_destroy) {
        return lexbor_mraw_free(memory->tree, bad);
    }

    return bad;
}

lxb_status_t
lxb_css_rule_bad_style_serialize(const lxb_css_rule_bad_style_t *bad,
                                 lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    static const lxb_char_t lc_str[] = "{";
    static const lxb_char_t rc_str[] = "}";

    if (bad->selectors.data != NULL) {
        lexbor_serialize_write(cb, bad->selectors.data, bad->selectors.length,
                               ctx, status);
    }

    if (bad->declarations != NULL) {
        lexbor_serialize_write(cb, lc_str, (sizeof(lc_str) - 1), ctx, status);

        status = lxb_css_rule_declaration_list_serialize(bad->declarations,
                                                         cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        return cb(rc_str, (sizeof(rc_str) - 1), ctx);
    }

    return LXB_STATUS_OK;
}

lxb_css_rule_declaration_list_t *
lxb_css_rule_declaration_list_destroy(lxb_css_rule_declaration_list_t *list,
                                      bool self_destroy)
{
    lxb_css_rule_t *declr, *next;

    if (list == NULL) {
        return NULL;
    }

    declr = list->first;

    while (declr != NULL) {
        next = declr->next;
        (void) lxb_css_rule_destroy(declr, true);
        declr = next;
    }

    if (self_destroy) {
        return lexbor_mraw_free(lxb_css_rule(list)->memory->tree, list);
    }

    list->first = NULL;
    list->last = NULL;

    return list;
}

lxb_status_t
lxb_css_rule_declaration_list_serialize(const lxb_css_rule_declaration_list_t *list,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_css_rule_t *declr;

    static const lxb_char_t sm_str[] = "; ";

    declr = list->first;

    if (declr == NULL) {
        return LXB_STATUS_OK;
    }

    status = lxb_css_rule_serialize(declr, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    declr = declr->next;

    while (declr != NULL) {
        lexbor_serialize_write(cb, sm_str, (sizeof(sm_str) - 1), ctx, status);

        status = lxb_css_rule_serialize(declr, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        declr = declr->next;
    }

    return LXB_STATUS_OK;
}

lxb_css_rule_declaration_t *
lxb_css_rule_declaration_destroy(lxb_css_rule_declaration_t *declr,
                                 bool self_destroy)
{
    lxb_css_memory_t *memory = lxb_css_rule(declr)->memory;

    if (declr->u.user != NULL) {
        declr->u.user = lxb_css_property_destroy(memory, declr->u.user,
                                                 declr->type, true);
    }

    if (self_destroy) {
        return lexbor_mraw_free(memory->tree, declr);
    }

    return declr;
}

lxb_status_t
lxb_css_rule_declaration_serialize(const lxb_css_rule_declaration_t *declaration,
                                   lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_css_entry_data_t *data, *undata;
    const lxb_css_property__undef_t *undef;
    const lxb_css_property__custom_t *custom;

    static const lxb_char_t cl_str[] = ": ";
    static const lxb_char_t imp_str[] = " !important";

    data = lxb_css_property_by_id(declaration->type);
    if (data == NULL) {
        return LXB_STATUS_ERROR_NOT_EXISTS;
    }

    if (declaration->type == LXB_CSS_PROPERTY__UNDEF) {
        undef = declaration->u.undef;

        if (undef->type > LXB_CSS_PROPERTY__CUSTOM) {
            undata = lxb_css_property_by_id(undef->type);
            if (undata == NULL) {
                return LXB_STATUS_ERROR_NOT_EXISTS;
            }

            lexbor_serialize_write(cb, undata->name, undata->length, ctx, status);
            lexbor_serialize_write(cb, cl_str, (sizeof(cl_str) - 1), ctx, status);
        }
    }
    else if (declaration->type == LXB_CSS_PROPERTY__CUSTOM) {
        custom = declaration->u.custom;

        lexbor_serialize_write(cb, custom->name.data, custom->name.length,
                               ctx, status);
        lexbor_serialize_write(cb, cl_str, (sizeof(cl_str) - 1), ctx, status);
    }
    else {
        lexbor_serialize_write(cb, data->name, data->length, ctx, status);
        lexbor_serialize_write(cb, cl_str, (sizeof(cl_str) - 1), ctx, status);
    }

    status = data->serialize(declaration->u.user, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (declaration->important && declaration->type != LXB_CSS_PROPERTY__UNDEF) {
        lexbor_serialize_write(cb, imp_str, (sizeof(imp_str) - 1), ctx, status);
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_rule_declaration_serialize_name(const lxb_css_rule_declaration_t *declr,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_property_serialize_name(declr->u.user, declr->type, cb, ctx);
}

const lxb_css_selectors_pseudo_data_t *
lxb_css_selector_pseudo_class_by_name(const lxb_char_t *name, size_t length)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_selectors_pseudo_class_shs,
                                              name, length);
    if (entry == NULL) {
        return NULL;
    }

    return entry->value;
}

const lxb_css_selectors_pseudo_data_func_t *
lxb_css_selector_pseudo_class_function_by_name(const lxb_char_t *name,
                                               size_t length)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_selectors_pseudo_class_function_shs,
                                              name, length);
    if (entry == NULL) {
        return NULL;
    }

    return entry->value;
}

const lxb_css_selectors_pseudo_data_func_t *
lxb_css_selector_pseudo_class_function_by_id(unsigned id)
{
    return &lxb_css_selectors_pseudo_data_pseudo_class_function[id];
}

const lxb_css_selectors_pseudo_data_t *
lxb_css_selector_pseudo_element_by_name(const lxb_char_t *name, size_t length)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_selectors_pseudo_element_shs,
                                              name, length);
    if (entry == NULL) {
        return NULL;
    }

    return entry->value;
}

const lxb_css_selectors_pseudo_data_func_t *
lxb_css_selector_pseudo_element_function_by_name(const lxb_char_t *name,
                                                 size_t length)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_selectors_pseudo_element_function_shs,
                                              name, length);
    if (entry == NULL) {
        return NULL;
    }

    return entry->value;
}

const lxb_css_selectors_pseudo_data_func_t *
lxb_css_selector_pseudo_element_function_by_id(unsigned id)
{
    return &lxb_css_selectors_pseudo_data_pseudo_element_function[id];
}

const lxb_css_selectors_pseudo_data_func_t *
lxb_css_selector_pseudo_function_by_id(unsigned id, bool is_class)
{
    if (is_class) {
        return &lxb_css_selectors_pseudo_data_pseudo_class_function[id];
    }

    return &lxb_css_selectors_pseudo_data_pseudo_element_function[id];
}

bool
lxb_css_selector_pseudo_function_can_empty(unsigned id, bool is_class)
{
    if (is_class) {
        return lxb_css_selectors_pseudo_data_pseudo_class_function[id].empty;
    }

    return lxb_css_selectors_pseudo_data_pseudo_element_function[id].empty;
}

static bool
lxb_css_selectors_state_pseudo_anb(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

static bool
lxb_css_selectors_state_pseudo_of_begin(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx);

static lxb_status_t
lxb_css_selectors_state_pseudo_of_end(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      void *ctx, bool failed);
static bool
lxb_css_selectors_state_pseudo_of_back(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx);


static const lxb_css_syntax_cb_components_t lxb_css_selectors_comp = {
    .prelude = lxb_css_selectors_state_complex_list,
    .cb.failed = lxb_css_state_failed,
    .cb.end = lxb_css_selectors_state_pseudo_of_end
};


lxb_inline bool
lxb_css_selectors_state_pseudo_anb_begin(lxb_css_parser_t *parser,
    const lxb_css_syntax_token_t *token, void *ctx)
{
    (void) lxb_css_selectors_state_pseudo_anb(parser, token, ctx);
    if (parser->status != LXB_STATUS_OK) {
        parser->selectors->list = NULL;
        parser->selectors->list_last = NULL;

        return lxb_css_parser_failed(parser);
    }

    parser->selectors->list = NULL;

    return lxb_css_parser_success(parser);
}


bool
lxb_css_selectors_state_pseudo_class_function__undef(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_parser_fail(parser, LXB_STATUS_ERROR_UNEXPECTED_DATA);
}

bool
lxb_css_selectors_state_pseudo_class_function_current(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_parser_state_set(parser, lxb_css_selectors_state_complex_list);

    parser->selectors->list = NULL;
    parser->selectors->list_last = NULL;

    return true;
}

bool
lxb_css_selectors_state_pseudo_class_function_dir(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_parser_fail(parser, LXB_STATUS_ERROR_UNEXPECTED_DATA);
}

bool
lxb_css_selectors_state_pseudo_class_function_has(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_parser_state_set(parser, lxb_css_selectors_state_relative_list);

    parser->selectors->list = NULL;
    parser->selectors->list_last = NULL;

    return true;
}

bool
lxb_css_selectors_state_pseudo_class_function_is(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_parser_state_set(parser, lxb_css_selectors_state_complex_list);

    parser->selectors->list = NULL;
    parser->selectors->list_last = NULL;

    return true;
}

bool
lxb_css_selectors_state_pseudo_class_function_lang(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_parser_fail(parser, LXB_STATUS_ERROR_UNEXPECTED_DATA);
}

bool
lxb_css_selectors_state_pseudo_class_function_not(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_parser_state_set(parser, lxb_css_selectors_state_complex_list);

    parser->selectors->list = NULL;
    parser->selectors->list_last = NULL;

    return true;
}

bool
lxb_css_selectors_state_pseudo_class_function_nth_child(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_selectors_state_pseudo_of_begin(parser, token, ctx);
}

bool
lxb_css_selectors_state_pseudo_class_function_nth_col(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_selectors_state_pseudo_anb_begin(parser, token, ctx);
}

bool
lxb_css_selectors_state_pseudo_class_function_nth_last_child(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_selectors_state_pseudo_of_begin(parser, token, ctx);
}

bool
lxb_css_selectors_state_pseudo_class_function_nth_last_col(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_selectors_state_pseudo_anb_begin(parser, token, ctx);
}

bool
lxb_css_selectors_state_pseudo_class_function_nth_last_of_type(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_selectors_state_pseudo_anb_begin(parser, token, ctx);
}

bool
lxb_css_selectors_state_pseudo_class_function_nth_of_type(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_selectors_state_pseudo_anb_begin(parser, token, ctx);
}

bool
lxb_css_selectors_state_pseudo_class_function_where(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_parser_state_set(parser, lxb_css_selectors_state_complex_list);

    parser->selectors->list = NULL;
    parser->selectors->list_last = NULL;

    return true;
}

bool
lxb_css_selectors_state_pseudo_element_function__undef(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    return true;
}

bool
lxb_css_selectors_state_pseudo_class_function_lexbor_contains(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_selectors_t *selectors;
    lxb_css_selector_t *selector;
    lxb_css_selector_contains_t *contains;
    lexbor_str_t *str;
    const lxb_char_t *data;
    size_t length;

    selectors = parser->selectors;
    selector = selectors->list_last->last;

again:

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_STRING:
            data = token->types.string.data;
            length = token->types.string.length;
            break;

        case LXB_CSS_SYNTAX_TOKEN_IDENT:
            data = token->types.ident.data;
            length = token->types.ident.length;
            break;

        case LXB_CSS_SYNTAX_TOKEN_WHITESPACE:
            lxb_css_syntax_parser_consume(parser);
            lxb_css_parser_token_status_m(parser, token);
            goto again;

        default:
            lxb_css_parser_unexpected_data(parser, token);
            return lxb_css_parser_failed(parser);
    }

    contains = lexbor_mraw_alloc(parser->memory->mraw,
                            sizeof(lxb_css_selector_contains_t));
    if (contains == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    contains->insensitive = false;
    str = &contains->str;

    str->data = lexbor_mraw_alloc(parser->memory->mraw,
                                  sizeof(lexbor_str_t));
    if (str->data == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    memcpy(str->data, data, length + 1);

    str->length = length;
    str->data[length] = '\0';

    selector->u.pseudo.data = contains;

again_end:

    lxb_css_syntax_parser_consume(parser);
    lxb_css_parser_token_status_m(parser, token);

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN__END:
            break;

        case LXB_CSS_SYNTAX_TOKEN_WHITESPACE:
            goto again_end;

        case LXB_CSS_SYNTAX_TOKEN_IDENT:
            data = token->types.ident.data;
            length = token->types.ident.length;

            if (length == 1 && (*data == 'i' || *data == 'I')) {
                contains->insensitive = true;

                lxb_css_syntax_parser_consume(parser);
                lxb_css_parser_token_status_m(parser, token);

                if (token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {
                    lxb_css_syntax_parser_consume(parser);
                    lxb_css_parser_token_status_m(parser, token);
                }

                if (token->type != LXB_CSS_SYNTAX_TOKEN__END) {
                    goto failed;
                }

                break;
            }
            /* Fall through. */

        default:
            goto failed;
    }

    parser->selectors->list = NULL;

    return lxb_css_parser_success(parser);

failed:

    lexbor_mraw_free(parser->memory->mraw, contains->str.data);
    lexbor_mraw_free(parser->memory->mraw, contains);

    lxb_css_parser_unexpected_data(parser, token);
    return lxb_css_parser_failed(parser);
}

static bool
lxb_css_selectors_state_pseudo_anb(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token,
                                   void *ctx)
{
    lxb_css_selectors_t *selectors;
    lxb_css_selector_list_t *list;
    lxb_css_selector_anb_of_t *anbof;

    selectors = parser->selectors;

    anbof = lexbor_mraw_alloc(parser->memory->mraw,
                              sizeof(lxb_css_selector_anb_of_t));
    if (anbof == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    parser->status = lxb_css_syntax_anb_handler(parser, token, &anbof->anb);
    if (parser->status != LXB_STATUS_OK) {
        lexbor_mraw_free(parser->memory->mraw, anbof);
        return true;
    }

    list = selectors->list_last;
    list->last->u.pseudo.data = anbof;

    anbof->of = NULL;

    return true;
}

static bool
lxb_css_selectors_state_pseudo_of_begin(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        void *ctx)
{
    lxb_css_syntax_rule_t *rule;
    lxb_css_selectors_t *selectors;
    lxb_css_selector_list_t *list;
    lxb_css_syntax_token_ident_t *ident;

    static const lxb_char_t of[] = "of";

    selectors = parser->selectors;

    (void) lxb_css_selectors_state_pseudo_anb(parser, token, ctx);
    if (parser->status != LXB_STATUS_OK) {
        selectors->list = NULL;
        selectors->list_last = NULL;

        token = lxb_css_syntax_parser_token(parser);
        if (token == NULL) {
            return lxb_css_parser_memory_fail(parser);
        }

        if (token->type != LXB_CSS_SYNTAX_TOKEN__END) {
            if (lxb_css_syntax_token_error(parser, token, "Selectors") == NULL) {
                return lxb_css_parser_memory_fail(parser);
            }
        }

        return lxb_css_parser_failed(parser);
    }

    list = selectors->list_last;

    selectors->list = NULL;

    lxb_css_parser_token_wo_ws_m(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
        ident = lxb_css_syntax_token_ident(token);

        if (ident->length == sizeof(of) - 1
            && lexbor_str_data_ncasecmp(ident->data, of, ident->length))
        {
            lxb_css_syntax_token_consume(parser->tkz);

            selectors->list = NULL;
            selectors->list_last = NULL;

            token = lxb_css_syntax_parser_token(parser);
            if (token == NULL) {
                return lxb_css_parser_memory_fail(parser);
            }

            rule = lxb_css_syntax_parser_components_push(parser,
                                                         &lxb_css_selectors_comp,
                                                         lxb_css_selectors_state_pseudo_of_back,
                                                         list, LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS);
//            rule = lxb_css_syntax_parser_components_push(parser, token,
//                                                         lxb_css_selectors_state_pseudo_of_back,
//                                                         &lxb_css_selectors_comp, list,
//                                                         LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS);
            if (rule == NULL) {
                lexbor_mraw_free(parser->memory->mraw,
                                 list->last->u.pseudo.data);
                return lxb_css_parser_memory_fail(parser);
            }

            lxb_css_parser_state_set(parser,
                                     lxb_css_selectors_state_complex_list);
            return true;
        }
    }

    return lxb_css_parser_success(parser);
}

static lxb_status_t
lxb_css_selectors_state_pseudo_of_end(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      void *ctx, bool failed)
{
    lxb_css_selector_anb_of_t *anbof;
    lxb_css_selector_list_t *list = ctx;

    anbof = list->last->u.pseudo.data;
    anbof->of = parser->selectors->list;

    parser->selectors->list = NULL;

    return LXB_STATUS_OK;
}

static bool
lxb_css_selectors_state_pseudo_of_back(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token, void *ctx)
{
    parser->selectors->list = NULL;

    return lxb_css_parser_success(parser);
}

typedef void
(*lxb_css_selector_destroy_f)(lxb_css_selector_t *selector,
                              lxb_css_memory_t *mem);
typedef lxb_status_t
(*lxb_css_selector_serialize_f)(lxb_css_selector_t *selector,
                                lexbor_serialize_cb_f cb, void *ctx);


static void
lxb_css_selector_destroy_undef(lxb_css_selector_t *selector,
                               lxb_css_memory_t *mem);
static void
lxb_css_selector_destroy_any(lxb_css_selector_t *selector,
                             lxb_css_memory_t *mem);
static void
lxb_css_selector_destroy_id(lxb_css_selector_t *selector,
                            lxb_css_memory_t *mem);
static void
lxb_css_selector_destroy_attribute(lxb_css_selector_t *selector,
                                   lxb_css_memory_t *mem);
static void
lxb_css_selector_destroy_pseudo_class_function(lxb_css_selector_t *selector,
                                               lxb_css_memory_t *mem);
static void
lxb_css_selector_destroy_pseudo_element_function(lxb_css_selector_t *selector,
                                                 lxb_css_memory_t *mem);

static lxb_status_t
lxb_css_selector_serialize_undef(lxb_css_selector_t *selector,
                                 lexbor_serialize_cb_f cb, void *ctx);
static lxb_status_t
lxb_css_selector_serialize_any(lxb_css_selector_t *selector,
                               lexbor_serialize_cb_f cb, void *ctx);
static lxb_status_t
lxb_css_selector_serialize_id(lxb_css_selector_t *selector,
                              lexbor_serialize_cb_f cb, void *ctx);
static lxb_status_t
lxb_css_selector_serialize_class(lxb_css_selector_t *selector,
                                 lexbor_serialize_cb_f cb, void *ctx);
static lxb_status_t
lxb_css_selector_serialize_attribute(lxb_css_selector_t *selector,
                                     lexbor_serialize_cb_f cb, void *ctx);
static lxb_status_t
lxb_css_selector_serialize_pseudo_class(lxb_css_selector_t *selector,
                                        lexbor_serialize_cb_f cb, void *ctx);
static lxb_status_t
lxb_css_selector_serialize_pseudo_class_function(lxb_css_selector_t *selector,
                                                 lexbor_serialize_cb_f cb, void *ctx);
static lxb_status_t
lxb_css_selector_serialize_pseudo_element(lxb_css_selector_t *selector,
                                          lexbor_serialize_cb_f cb, void *ctx);
static lxb_status_t
lxb_css_selector_serialize_pseudo_element_function(lxb_css_selector_t *selector,
                                                   lexbor_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_css_selector_serialize_pseudo_single(lxb_css_selector_t *selector,
                                         lexbor_serialize_cb_f cb, void *ctx,
                                         bool is_class);


static const lxb_css_selector_destroy_f
                  lxb_selector_destroy_map[LXB_CSS_SELECTOR_TYPE__LAST_ENTRY] =
{
    lxb_css_selector_destroy_undef,
    lxb_css_selector_destroy_any,
    lxb_css_selector_destroy_any,
    lxb_css_selector_destroy_id,
    lxb_css_selector_destroy_id,
    lxb_css_selector_destroy_attribute,
    lxb_css_selector_destroy_undef,
    lxb_css_selector_destroy_pseudo_class_function,
    lxb_css_selector_destroy_undef,
    lxb_css_selector_destroy_pseudo_element_function
};

static const lxb_css_selector_serialize_f
                lxb_selector_serialize_map[LXB_CSS_SELECTOR_TYPE__LAST_ENTRY] =
{
    lxb_css_selector_serialize_undef,
    lxb_css_selector_serialize_any,
    lxb_css_selector_serialize_any,
    lxb_css_selector_serialize_id,
    lxb_css_selector_serialize_class,
    lxb_css_selector_serialize_attribute,
    lxb_css_selector_serialize_pseudo_class,
    lxb_css_selector_serialize_pseudo_class_function,
    lxb_css_selector_serialize_pseudo_element,
    lxb_css_selector_serialize_pseudo_element_function
};


lxb_css_selector_t *
lxb_css_selector_create(lxb_css_selector_list_t *list)
{
    lxb_css_selector_t *selector = lexbor_dobject_calloc(list->memory->objs);
    if (selector == NULL) {
        return NULL;
    }

    selector->list = list;

    return selector;
}

void
lxb_css_selector_destroy(lxb_css_selector_t *selector)
{
    lxb_css_memory_t *memory;

    if (selector != NULL) {
        memory = selector->list->memory;

        lxb_selector_destroy_map[selector->type](selector, memory);
        lexbor_dobject_free(memory->objs, selector);
    }
}

void
lxb_css_selector_destroy_chain(lxb_css_selector_t *selector)
{
    lxb_css_selector_t *next;

    while (selector != NULL) {
        next = selector->next;
        lxb_css_selector_destroy(selector);
        selector = next;
    }
}

void
lxb_css_selector_remove(lxb_css_selector_t *selector)
{
    if (selector->next != NULL) {
        selector->next->prev = selector->prev;
    }

    if (selector->prev != NULL) {
        selector->prev->next = selector->next;
    }

    if (selector->list->first == selector) {
        selector->list->first = selector->next;
    }

    if (selector->list->last == selector) {
        selector->list->last = selector->prev;
    }
}

lxb_css_selector_list_t *
lxb_css_selector_list_create(lxb_css_memory_t *mem)
{
    lxb_css_selector_list_t *list;

    list = lexbor_dobject_calloc(mem->objs);
    if (list == NULL) {
        return NULL;
    }

    list->memory = mem;

    return list;
}

void
lxb_css_selector_list_remove(lxb_css_selector_list_t *list)
{
    if (list->next != NULL) {
        list->next->prev = list->prev;
    }

    if (list->prev != NULL) {
        list->prev->next = list->next;
    }
}

void
lxb_css_selector_list_selectors_remove(lxb_css_selectors_t *selectors,
                                       lxb_css_selector_list_t *list)
{
    lxb_css_selector_list_remove(list);

    if (selectors->list == list) {
        selectors->list = list->next;
    }

    if (selectors->list_last == list) {
        selectors->list_last = list->prev;
    }
}

void
lxb_css_selector_list_destroy(lxb_css_selector_list_t *list)
{
    if (list != NULL) {
        lxb_css_selector_destroy_chain(list->first);
        lexbor_dobject_free(list->memory->objs, list);
    }
}

void
lxb_css_selector_list_destroy_chain(lxb_css_selector_list_t *list)
{
    lxb_css_selector_list_t *next;

    while (list != NULL) {
        next = list->next;
        lxb_css_selector_list_destroy(list);
        list = next;
    }
}

void
lxb_css_selector_list_destroy_memory(lxb_css_selector_list_t *list)
{
    if (list != NULL) {
        (void) lxb_css_memory_destroy(list->memory, true);
    }
}

static void
lxb_css_selector_destroy_undef(lxb_css_selector_t *selector,
                               lxb_css_memory_t *mem)
{
    /* Do nothing. */
}

static void
lxb_css_selector_destroy_any(lxb_css_selector_t *selector,
                             lxb_css_memory_t *mem)
{
    if (selector->ns.data != NULL) {
        lexbor_mraw_free(mem->mraw, selector->ns.data);
    }

    if (selector->name.data != NULL) {
        lexbor_mraw_free(mem->mraw, selector->name.data);
    }
}

static void
lxb_css_selector_destroy_id(lxb_css_selector_t *selector,
                            lxb_css_memory_t *mem)
{
    if (selector->name.data != NULL) {
        (void) lexbor_mraw_free(mem->mraw, selector->name.data);
    }
}

static void
lxb_css_selector_destroy_attribute(lxb_css_selector_t *selector,
                                   lxb_css_memory_t *mem)
{
    if (selector->ns.data != NULL) {
        lexbor_mraw_free(mem->mraw, selector->ns.data);
    }

    if (selector->name.data != NULL) {
        lexbor_mraw_free(mem->mraw, selector->name.data);
    }

    if (selector->u.attribute.value.data != NULL) {
        lexbor_mraw_free(mem->mraw, selector->u.attribute.value.data);
    }
}

static void
lxb_css_selector_destroy_pseudo_class_function(lxb_css_selector_t *selector,
                                               lxb_css_memory_t *mem)
{
    lxb_css_selector_anb_of_t *anbof;
    lxb_css_selector_pseudo_t *pseudo;

    pseudo = &selector->u.pseudo;

    switch (pseudo->type) {
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_CURRENT:
            break;
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_DIR:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_HAS:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_IS:
            lxb_css_selector_list_destroy_chain(pseudo->data);
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_LANG:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NOT:
            lxb_css_selector_list_destroy_chain(pseudo->data);
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_CHILD:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_COL:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_CHILD:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_COL:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_OF_TYPE:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_OF_TYPE:
            anbof = pseudo->data;

            if (anbof != NULL) {
                lxb_css_selector_list_destroy_chain(anbof->of);
                lexbor_mraw_free(mem->mraw, anbof);
            }
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_WHERE:
            lxb_css_selector_list_destroy_chain(pseudo->data);
            break;

        default:
            break;
    }
}

static void
lxb_css_selector_destroy_pseudo_element_function(lxb_css_selector_t *selector,
                                                 lxb_css_memory_t *mem)
{

}

lxb_status_t
lxb_css_selector_serialize(lxb_css_selector_t *selector,
                           lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_selector_serialize_map[selector->type](selector, cb, ctx);
}

lxb_status_t
lxb_css_selector_serialize_chain(lxb_css_selector_t *selector,
                                 lexbor_serialize_cb_f cb, void *ctx)
{
    size_t length;
    lxb_char_t *data;
    lxb_status_t status;

    if (selector == NULL) {
        return LXB_STATUS_OK;
    }

    if (selector->combinator > LXB_CSS_SELECTOR_COMBINATOR_CLOSE) {
        data = lxb_css_selector_combinator(selector, &length);
        if (data == NULL) {
            return LXB_STATUS_ERROR_UNEXPECTED_DATA;
        }

        lxb_css_selector_serialize_write(data, length);
        lxb_css_selector_serialize_write(" ", 1);
    }

    status = lxb_css_selector_serialize(selector, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    selector = selector->next;

    while (selector != NULL) {
        data = lxb_css_selector_combinator(selector, &length);
        if (data == NULL) {
            return LXB_STATUS_ERROR_UNEXPECTED_DATA;
        }

        if (length != 0) {
            lxb_css_selector_serialize_write(" ", 1);

            if (*data != ' ') {
                lxb_css_selector_serialize_write(data, length);
                lxb_css_selector_serialize_write(" ", 1);
            }
        }

        status = lxb_css_selector_serialize(selector, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        selector = selector->next;
    }

    return LXB_STATUS_OK;
}

lxb_char_t *
lxb_css_selector_serialize_chain_char(lxb_css_selector_t *selector,
                                      size_t *out_length)
{
    size_t length = 0;
    lxb_status_t status;
    lexbor_str_t str;

    status = lxb_css_selector_serialize_chain(selector, lexbor_serialize_length_cb,
                                              &length);
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    /* + 1 == '\0' */
    str.data = lexbor_malloc(length + 1);
    if (str.data == NULL) {
        goto failed;
    }

    str.length = 0;

    status = lxb_css_selector_serialize_chain(selector, lexbor_serialize_copy_cb,
                                              &str);
    if (status != LXB_STATUS_OK) {
        lexbor_free(str.data);
        goto failed;
    }

    str.data[str.length] = '\0';

    if (out_length != NULL) {
        *out_length = str.length;
    }

    return str.data;

failed:

    if (out_length != NULL) {
        *out_length = 0;
    }

    return NULL;
}

lxb_status_t
lxb_css_selector_serialize_list(lxb_css_selector_list_t *list,
                                 lexbor_serialize_cb_f cb, void *ctx)
{
    if (list != NULL) {
        return lxb_css_selector_serialize_chain(list->first, cb, ctx);
    }

    return LXB_STATUS_OK;
}

lxb_char_t *
lxb_css_selector_serialize_list_char(lxb_css_selector_list_t *list,
                                      size_t *out_length)
{
    size_t length = 0;
    lxb_status_t status;
    lexbor_str_t str;

    status = lxb_css_selector_serialize_list_chain(list, lexbor_serialize_length_cb,
                                                   &length);
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    /* + 1 == '\0' */
    str.data = lexbor_malloc(length + 1);
    if (str.data == NULL) {
        goto failed;
    }

    str.length = 0;

    status = lxb_css_selector_serialize_list_chain(list, lexbor_serialize_copy_cb,
                                                   &str);
    if (status != LXB_STATUS_OK) {
        lexbor_free(str.data);
        goto failed;
    }

    str.data[str.length] = '\0';

    if (out_length != NULL) {
        *out_length = str.length;
    }

    return str.data;

failed:

    if (out_length != NULL) {
        *out_length = 0;
    }

    return NULL;
}

lxb_status_t
lxb_css_selector_serialize_list_chain(lxb_css_selector_list_t *list,
                                      lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    if (list == NULL) {
        return LXB_STATUS_OK;
    }

    status = lxb_css_selector_serialize_chain(list->first, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    list = list->next;

    while (list != NULL) {
        lxb_css_selector_serialize_write(", ", 2);

        status = lxb_css_selector_serialize_chain(list->first, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        list = list->next;
    }

    return LXB_STATUS_OK;
}

lxb_char_t *
lxb_css_selector_serialize_list_chain_char(lxb_css_selector_list_t *list,
                                           size_t *out_length)
{
    size_t length = 0;
    lxb_status_t status;
    lexbor_str_t str;

    status = lxb_css_selector_serialize_list_chain(list, lexbor_serialize_length_cb,
                                                   &length);
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    /* + 1 == '\0' */
    str.data = lexbor_malloc(length + 1);
    if (str.data == NULL) {
        goto failed;
    }

    str.length = 0;

    status = lxb_css_selector_serialize_list_chain(list, lexbor_serialize_copy_cb,
                                                   &str);
    if (status != LXB_STATUS_OK) {
        lexbor_free(str.data);
        goto failed;
    }

    str.data[str.length] = '\0';

    if (out_length != NULL) {
        *out_length = str.length;
    }

    return str.data;

failed:

    if (out_length != NULL) {
        *out_length = 0;
    }

    return NULL;
}


static lxb_status_t
lxb_css_selector_serialize_undef(lxb_css_selector_t *selector,
                                 lexbor_serialize_cb_f cb, void *ctx)
{
    return LXB_STATUS_ERROR_UNEXPECTED_DATA;
}

static lxb_status_t
lxb_css_selector_serialize_any(lxb_css_selector_t *selector,
                               lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    if (selector->ns.data != NULL) {
        lxb_css_selector_serialize_write(selector->ns.data,
                                         selector->ns.length);
        lxb_css_selector_serialize_write("|", 1);
    }

    if (selector->name.data != NULL) {
        return cb(selector->name.data, selector->name.length, ctx);
    }

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_css_selector_serialize_id(lxb_css_selector_t *selector,
                              lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    lxb_css_selector_serialize_write("#", 1);

    if (selector->name.data != NULL) {
        return cb(selector->name.data, selector->name.length, ctx);
    }

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_css_selector_serialize_class(lxb_css_selector_t *selector,
                                 lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    lxb_css_selector_serialize_write(".", 1);

    if (selector->name.data != NULL) {
        return cb(selector->name.data, selector->name.length, ctx);
    }

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_css_selector_serialize_escape_write(lxb_char_t *p, lxb_char_t *end,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_char_t *begin;
    lxb_status_t status;

    begin = p;

    lxb_css_selector_serialize_write("\"", 1);

    while (p < end) {
        if (*p == '"') {
            if (begin < p) {
                lxb_css_selector_serialize_write(begin, p - begin);
            }

            lxb_css_selector_serialize_write("\\000022", 7);

            begin = p + 1;
        }

        p++;
    }

    if (begin < p) {
        lxb_css_selector_serialize_write(begin, p - begin);
    }

    lxb_css_selector_serialize_write("\"", 1);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_css_selector_serialize_attribute(lxb_css_selector_t *selector,
                                     lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_char_t *p, *end;
    lxb_status_t status;
    lxb_css_selector_attribute_t *attr;

    lxb_css_selector_serialize_write("[", 1);

    status = lxb_css_selector_serialize_any(selector, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    attr = &selector->u.attribute;

    if (attr->value.data == NULL) {
        return cb((lxb_char_t *) "]", 1, ctx);
    }

    switch (attr->match) {
        case LXB_CSS_SELECTOR_MATCH_EQUAL:
            lxb_css_selector_serialize_write("=", 1);
            break;
        case LXB_CSS_SELECTOR_MATCH_INCLUDE:
            lxb_css_selector_serialize_write("~=", 2);
            break;
        case LXB_CSS_SELECTOR_MATCH_DASH:
            lxb_css_selector_serialize_write("|=", 2);
            break;
        case LXB_CSS_SELECTOR_MATCH_PREFIX:
            lxb_css_selector_serialize_write("^=", 2);
            break;
        case LXB_CSS_SELECTOR_MATCH_SUFFIX:
            lxb_css_selector_serialize_write("$=", 2);
            break;
        case LXB_CSS_SELECTOR_MATCH_SUBSTRING:
            lxb_css_selector_serialize_write("*=", 2);
            break;

        default:
            return LXB_STATUS_ERROR_UNEXPECTED_DATA;
    }

    p = attr->value.data;
    end = attr->value.data + attr->value.length;

    status = lxb_css_selector_serialize_escape_write(p, end, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (attr->modifier != LXB_CSS_SELECTOR_MODIFIER_UNSET) {
        switch (attr->modifier) {
            case LXB_CSS_SELECTOR_MODIFIER_I:
                lxb_css_selector_serialize_write("i", 1);
                break;

            case LXB_CSS_SELECTOR_MODIFIER_S:
                lxb_css_selector_serialize_write("s", 1);
                break;

            default:
                return LXB_STATUS_ERROR_UNEXPECTED_DATA;
        }
    }

    return cb((lxb_char_t *) "]", 1, ctx);
}

static lxb_status_t
lxb_css_selector_serialize_pseudo_class(lxb_css_selector_t *selector,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_selector_serialize_pseudo_single(selector, cb, ctx, true);
}

static lxb_status_t
lxb_css_selector_serialize_pseudo_class_function(lxb_css_selector_t *selector,
                                                 lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    lxb_char_t *p, *end;
    lxb_css_selector_pseudo_t *pseudo;
    lxb_css_selector_contains_t *contains;
    const lxb_css_selectors_pseudo_data_func_t *pfunc;

    pseudo = &selector->u.pseudo;

    pfunc = &lxb_css_selectors_pseudo_data_pseudo_class_function[pseudo->type];

    lxb_css_selector_serialize_write(":", 1);
    lxb_css_selector_serialize_write(pfunc->name, pfunc->length);
    lxb_css_selector_serialize_write("(", 1);

    switch (pseudo->type) {
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_CURRENT:
            break;
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_DIR:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_HAS:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_IS:
            status = lxb_css_selector_serialize_list_chain(pseudo->data,
                                                           cb, ctx);
            break;
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_LANG:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NOT:
            status = lxb_css_selector_serialize_list_chain(pseudo->data,
                                                           cb, ctx);
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_CHILD:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_COL:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_CHILD:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_COL:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_OF_TYPE:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_OF_TYPE:
            status = LXB_STATUS_OK;

            if (pseudo->data != NULL) {
                status = lxb_css_selector_serialize_anb_of(pseudo->data,
                                                           cb, ctx);
            }
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_WHERE:
            status = lxb_css_selector_serialize_list_chain(pseudo->data,
                                                           cb, ctx);
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_LEXBOR_CONTAINS:
            contains = pseudo->data;
            p = contains->str.data;
            end = p + contains->str.length;

            status = lxb_css_selector_serialize_escape_write(p, end, cb, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            if (contains->insensitive) {
                lxb_css_selector_serialize_write(" i", 2);
            }

            break;

        default:
            status = LXB_STATUS_OK;
            break;
    }

    if (status != LXB_STATUS_OK) {
        return status;
    }

    lxb_css_selector_serialize_write(")", 1);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_css_selector_serialize_pseudo_element(lxb_css_selector_t *selector,
                                          lexbor_serialize_cb_f cb, void *ctx)
{
    return lxb_css_selector_serialize_pseudo_single(selector, cb, ctx, false);
}

static lxb_status_t
lxb_css_selector_serialize_pseudo_element_function(lxb_css_selector_t *selector,
                                                   lexbor_serialize_cb_f cb, void *ctx)
{
    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_css_selector_serialize_pseudo_single(lxb_css_selector_t *selector,
                                         lexbor_serialize_cb_f cb, void *ctx,
                                         bool is_class)
{
    lxb_status_t status;
    lxb_css_selector_pseudo_t *pseudo;
    const lxb_css_selectors_pseudo_data_t *pclass;

    pseudo = &selector->u.pseudo;

    if (is_class) {
        pclass = &lxb_css_selectors_pseudo_data_pseudo_class[pseudo->type];
        lxb_css_selector_serialize_write(":", 1);
    }
    else {
        pclass = &lxb_css_selectors_pseudo_data_pseudo_element[pseudo->type];
        lxb_css_selector_serialize_write("::", 2);
    }

    lxb_css_selector_serialize_write(pclass->name, pclass->length);

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_selector_serialize_anb_of(lxb_css_selector_anb_of_t *anbof,
                                  lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    static const lxb_char_t of[] = " of ";

    status = lxb_css_syntax_anb_serialize(&anbof->anb, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (anbof->of != NULL) {
        lxb_css_selector_serialize_write(of, sizeof(of) - 1);

        return lxb_css_selector_serialize_list_chain(anbof->of, cb, ctx);
    }

    return LXB_STATUS_OK;
}

lxb_char_t *
lxb_css_selector_combinator(lxb_css_selector_t *selector, size_t *out_length)
{
    switch (selector->combinator) {
        case LXB_CSS_SELECTOR_COMBINATOR_DESCENDANT:
            if (out_length != NULL) {*out_length = 1;}
            return (lxb_char_t *) " ";

        case LXB_CSS_SELECTOR_COMBINATOR_CLOSE:
            if (out_length != NULL) {*out_length = 0;}
            return (lxb_char_t *) "";

        case LXB_CSS_SELECTOR_COMBINATOR_CHILD:
            if (out_length != NULL) {*out_length = 1;}
            return (lxb_char_t *) ">";

        case LXB_CSS_SELECTOR_COMBINATOR_SIBLING:
            if (out_length != NULL) {*out_length = 1;}
            return (lxb_char_t *) "+";

        case LXB_CSS_SELECTOR_COMBINATOR_FOLLOWING:
            if (out_length != NULL) {*out_length = 1;}
            return (lxb_char_t *) "~";

        case LXB_CSS_SELECTOR_COMBINATOR_CELL:
            if (out_length != NULL) {*out_length = 2;}
            return (lxb_char_t *) "||";

        default:
            if (out_length != NULL) {*out_length = 0;}
            return NULL;
    }
}

void
lxb_css_selector_list_append(lxb_css_selector_list_t *list,
                             lxb_css_selector_t *selector)
{
    selector->prev = list->last;

    if (list->last != NULL) {
        list->last->next = selector;
    }
    else {
        list->first = selector;
    }

    list->last = selector;
}

void
lxb_css_selector_append_next(lxb_css_selector_t *dist, lxb_css_selector_t *src)
{
    if (dist->next != NULL) {
        dist->next->prev = src;
    }

    src->prev = dist;
    src->next = dist->next;

    dist->next = src;
}

void
lxb_css_selector_list_append_next(lxb_css_selector_list_t *dist,
                                  lxb_css_selector_list_t *src)
{
    if (dist->next != NULL) {
        dist->next->prev = src;
    }

    src->prev = dist;
    src->next = dist->next;

    dist->next = src;
}

static lxb_css_selector_list_t *
lxb_css_selectors_parse_list(lxb_css_parser_t *parser,
                             const lxb_css_syntax_cb_components_t *components,
                             const lxb_char_t *data, size_t length);

static lxb_status_t
lxb_css_selectors_components_end(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 void *ctx, bool failed);


static const lxb_css_syntax_cb_components_t lxb_css_selectors_complex_list_cb = {
    .prelude = lxb_css_selectors_state_complex_list,
    .cb.failed = lxb_css_state_failed,
    .cb.end = lxb_css_selectors_components_end
};

static const lxb_css_syntax_cb_components_t lxb_css_selectors_compound_list_cb = {
    .prelude = lxb_css_selectors_state_compound_list,
    .cb.failed = lxb_css_state_failed,
    .cb.end = lxb_css_selectors_components_end
};

static const lxb_css_syntax_cb_components_t lxb_css_selectors_simple_list_cb = {
    .prelude = lxb_css_selectors_state_simple_list,
    .cb.failed = lxb_css_state_failed,
    .cb.end = lxb_css_selectors_components_end
};

static const lxb_css_syntax_cb_components_t lxb_css_selectors_relative_list_cb = {
    .prelude = lxb_css_selectors_state_relative_list,
    .cb.failed = lxb_css_state_failed,
    .cb.end = lxb_css_selectors_components_end
};

static const lxb_css_syntax_cb_components_t lxb_css_selectors_complex_cb = {
    .prelude = lxb_css_selectors_state_complex,
    .cb.failed = lxb_css_state_failed,
    .cb.end = lxb_css_selectors_components_end
};

static const lxb_css_syntax_cb_components_t lxb_css_selectors_compound_cb = {
    .prelude = lxb_css_selectors_state_compound,
    .cb.failed = lxb_css_state_failed,
    .cb.end = lxb_css_selectors_components_end
};

static const lxb_css_syntax_cb_components_t lxb_css_selectors_simple_cb = {
    .prelude = lxb_css_selectors_state_simple,
    .cb.failed = lxb_css_state_failed,
    .cb.end = lxb_css_selectors_components_end
};

static const lxb_css_syntax_cb_components_t lxb_css_selectors_relative_cb = {
    .prelude = lxb_css_selectors_state_relative,
    .cb.failed = lxb_css_state_failed,
    .cb.end = lxb_css_selectors_components_end
};


lxb_css_selectors_t *
lxb_css_selectors_create(void)
{
    return lexbor_calloc(1, sizeof(lxb_css_selectors_t));
}

lxb_status_t
lxb_css_selectors_init(lxb_css_selectors_t *selectors)
{
    if (selectors == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    selectors->list = NULL;
    selectors->list_last = NULL;
    selectors->parent = NULL;
    selectors->combinator = LXB_CSS_SELECTOR_COMBINATOR_DESCENDANT;
    selectors->comb_default = LXB_CSS_SELECTOR_COMBINATOR_DESCENDANT;
    selectors->error = 0;
    selectors->err_in_function = false;
    selectors->failed = false;

    return LXB_STATUS_OK;
}

void
lxb_css_selectors_clean(lxb_css_selectors_t *selectors)
{
    if (selectors != NULL) {
        selectors->list = NULL;
        selectors->list_last = NULL;
        selectors->parent = NULL;
        selectors->combinator = LXB_CSS_SELECTOR_COMBINATOR_DESCENDANT;
        selectors->comb_default = LXB_CSS_SELECTOR_COMBINATOR_DESCENDANT;
        selectors->error = 0;
        selectors->err_in_function = false;
        selectors->failed = false;
    }
}

lxb_css_selectors_t *
lxb_css_selectors_destroy(lxb_css_selectors_t *selectors, bool self_destroy)
{
    if (selectors == NULL) {
        return NULL;
    }

    if (self_destroy) {
        return lexbor_free(selectors);
    }

    return selectors;
}

lxb_css_selector_list_t *
lxb_css_selectors_parse(lxb_css_parser_t *parser,
                        const lxb_char_t *data, size_t length)
{
    return lxb_css_selectors_parse_complex_list(parser, data, length);
}

lxb_css_selector_list_t *
lxb_css_selectors_parse_complex_list(lxb_css_parser_t *parser,
                                     const lxb_char_t *data, size_t length)
{
    return lxb_css_selectors_parse_list(parser, &lxb_css_selectors_complex_list_cb,
                                        data, length);
}

lxb_css_selector_list_t *
lxb_css_selectors_parse_compound_list(lxb_css_parser_t *parser,
                                      const lxb_char_t *data, size_t length)
{
    return lxb_css_selectors_parse_list(parser, &lxb_css_selectors_compound_list_cb,
                                        data, length);
}

lxb_css_selector_list_t *
lxb_css_selectors_parse_simple_list(lxb_css_parser_t *parser,
                                    const lxb_char_t *data, size_t length)
{
    return lxb_css_selectors_parse_list(parser, &lxb_css_selectors_simple_list_cb,
                                        data, length);
}

lxb_css_selector_list_t *
lxb_css_selectors_parse_relative_list(lxb_css_parser_t *parser,
                                      const lxb_char_t *data, size_t length)
{
    return lxb_css_selectors_parse_list(parser, &lxb_css_selectors_relative_list_cb,
                                        data, length);
}

static lxb_status_t
lxb_css_selectors_parse_prepare(lxb_css_parser_t *parser)
{
    if (parser->stage != LXB_CSS_PARSER_CLEAN) {
        if (parser->stage == LXB_CSS_PARSER_RUN) {
            return LXB_STATUS_ERROR_WRONG_ARGS;
        }

        lxb_css_parser_clean(parser);
    }

    parser->tkz->with_comment = false;
    parser->stage = LXB_CSS_PARSER_RUN;

    return LXB_STATUS_OK;
}

static lxb_css_selector_list_t *
lxb_css_selectors_parse_process(lxb_css_parser_t *parser,
                                const lxb_css_syntax_cb_components_t *components,
                                const lxb_char_t *data, size_t length)
{
    lxb_css_syntax_rule_t *rule;

    lxb_css_parser_buffer_set(parser, data, length);

    rule = lxb_css_syntax_parser_components_push(parser, components, NULL, NULL,
                                                 LXB_CSS_SYNTAX_TOKEN_UNDEF);
    if (rule == NULL) {
        return NULL;
    }

    parser->status = lxb_css_syntax_parser_run(parser);
    if (parser->status != LXB_STATUS_OK) {
        return NULL;
    }

    return parser->selectors->list;
}

static void
lxb_css_selectors_parse_finish(lxb_css_parser_t *parser)
{
    parser->stage = LXB_CSS_PARSER_END;
}

static lxb_css_selector_list_t *
lxb_css_selectors_parse_list(lxb_css_parser_t *parser,
                             const lxb_css_syntax_cb_components_t *components,
                             const lxb_char_t *data, size_t length)
{
    bool my_mem, my_selectors;
    lxb_css_selector_list_t *list;

    my_mem = false;
    my_selectors = false;

    if (parser->selectors == NULL) {
        parser->selectors = lxb_css_selectors_create();
        parser->status = lxb_css_selectors_init(parser->selectors);

        if (parser->status != LXB_STATUS_OK) {
            (void) lxb_css_selectors_destroy(parser->selectors, true);
            return NULL;
        }

        my_selectors = true;
    }
    else {
        lxb_css_selectors_clean(parser->selectors);
    }

    if (parser->memory == NULL) {
        parser->memory = lxb_css_memory_create();
        parser->status = lxb_css_memory_init(parser->memory, 256);

        if (parser->status != LXB_STATUS_OK) {
            if (my_selectors) {
                parser->selectors = lxb_css_selectors_destroy(parser->selectors,
                                                              true);
            }

            (void) lxb_css_memory_destroy(parser->memory, true);
            return NULL;
        }

        my_mem = true;
    }

    parser->status = lxb_css_selectors_parse_prepare(parser);
    if (parser->status != LXB_STATUS_OK) {
        list = NULL;
        goto end;
    }

    list = lxb_css_selectors_parse_process(parser, components, data, length);

    lxb_css_selectors_parse_finish(parser);

end:

    if (list == NULL && my_mem) {
        parser->memory = lxb_css_memory_destroy(parser->memory, true);
    }

    if (my_selectors) {
        parser->selectors = lxb_css_selectors_destroy(parser->selectors, true);
    }

    return list;
}

static lxb_status_t
lxb_css_selectors_components_end(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 void *ctx, bool failed)
{
    lxb_css_selector_list_t *list;
    lxb_css_selectors_t *selectors = parser->selectors;

    if (failed) {
        list = selectors->list_last;

        if (list != NULL) {
            lxb_css_selector_list_selectors_remove(selectors, list);
            lxb_css_selector_list_destroy(list);
        }
    }

    return LXB_STATUS_OK;
}

lxb_css_selector_list_t *
lxb_css_selectors_parse_complex(lxb_css_parser_t *parser,
                                const lxb_char_t *data, size_t length)
{
    return lxb_css_selectors_parse_list(parser, &lxb_css_selectors_complex_cb,
                                        data, length);
}

lxb_css_selector_list_t *
lxb_css_selectors_parse_compound(lxb_css_parser_t *parser,
                                 const lxb_char_t *data, size_t length)
{
    return lxb_css_selectors_parse_list(parser, &lxb_css_selectors_compound_cb,
                                        data, length);
}

lxb_css_selector_list_t *
lxb_css_selectors_parse_simple(lxb_css_parser_t *parser,
                               const lxb_char_t *data, size_t length)
{
    return lxb_css_selectors_parse_list(parser, &lxb_css_selectors_simple_cb,
                                        data, length);
}

lxb_css_selector_list_t *
lxb_css_selectors_parse_relative(lxb_css_parser_t *parser,
                                 const lxb_char_t *data, size_t length)
{
    return lxb_css_selectors_parse_list(parser, &lxb_css_selectors_relative_cb,
                                        data, length);
}

static const char lxb_css_selectors_module_name[] = "Selectors";


#define lxb_css_selectors_state_string_dup_m(selectors, name)                  \
    do {                                                                       \
        (status) = lxb_css_syntax_token_string_dup(                            \
                    lxb_css_syntax_token_string(token), (name),                \
                    (parser)->memory->mraw);                                   \
        if ((status) != LXB_STATUS_OK) {                                       \
            return (status);                                                   \
        }                                                                      \
    }                                                                          \
    while (false)

#define lxb_css_selectors_state_append(parser, selectors, selector)            \
    do {                                                                       \
        (selector) = lxb_css_selector_create((selectors)->list_last);          \
        if ((selector) == NULL) {                                              \
            return lxb_css_parser_memory_fail(parser);                         \
        }                                                                      \
                                                                               \
        lxb_css_selectors_append_next((selectors), (selector));                \
                                                                               \
        (selector)->combinator = (selectors)->combinator;                      \
        (selectors)->combinator = LXB_CSS_SELECTOR_COMBINATOR_CLOSE;           \
    }                                                                          \
    while (false)

#define lxb_css_selectors_state_list_append(parser, selectors, list)           \
    do {                                                                       \
        (list) = lxb_css_selector_list_create((parser)->memory);               \
        if ((list) == NULL) {                                                  \
            return lxb_css_parser_memory_fail(parser);                         \
        }                                                                      \
                                                                               \
        lxb_css_selectors_list_append_next((selectors), (list));               \
                                                                               \
        (list)->parent = selectors->parent;                                    \
    }                                                                          \
    while (false)


static bool
lxb_css_selectors_state_complex_list_end(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx);

static bool
lxb_css_selectors_state_relative_list_end(lxb_css_parser_t *parser,
                                          const lxb_css_syntax_token_t *token,
                                          void *ctx);

static bool
lxb_css_selectors_state_relative_list_wo_root(lxb_css_parser_t *parser,
                                              const lxb_css_syntax_token_t *token,
                                              void *ctx);

static bool
lxb_css_selectors_state_relative_wo_root(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx);

static bool
lxb_css_selectors_state_relative_handler(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx, bool list, bool root);

static bool
lxb_css_selectors_state_complex_end(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token,
                                    void *ctx);

static bool
lxb_css_selectors_state_complex_wo_root(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        void *ctx);

static bool
lxb_css_selectors_state_complex_handler(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        void *ctx, bool root);

static bool
lxb_css_selectors_state_compound_list_end(lxb_css_parser_t *parser,
                                          const lxb_css_syntax_token_t *token,
                                          void *ctx);

static bool
lxb_css_selectors_state_compound_wo_root(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx);

static bool
lxb_css_selectors_state_compound_handler(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx);

static bool
lxb_css_selectors_state_compound_sub(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx);

static bool
lxb_css_selectors_state_compound_pseudo(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        void *ctx);

static bool
lxb_css_selectors_state_simple_list_end(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        void *ctx);

static bool
lxb_css_selectors_state_simple_wo_root(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token,
                                       void *ctx);

static bool
lxb_css_selectors_state_simple_handler(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token,
                                       void *ctx);

static bool
lxb_css_selectors_state_simple_back(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token,
                                    void *ctx);

static lxb_status_t
lxb_css_selectors_state_hash(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token);

static lxb_status_t
lxb_css_selectors_state_class(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token);

static lxb_status_t
lxb_css_selectors_state_element_ns(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token);

static lxb_status_t
lxb_css_selectors_state_element(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token);

static lxb_status_t
lxb_css_selectors_state_attribute(lxb_css_parser_t *parser);

static lxb_status_t
lxb_css_selectors_state_ns(lxb_css_parser_t *parser,
                           lxb_css_selector_t *selector);

static lxb_status_t
lxb_css_selectors_state_ns_ident(lxb_css_parser_t *parser,
                                 lxb_css_selector_t *selector);

static lxb_status_t
lxb_css_selectors_state_pseudo_class(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token);

static lxb_status_t
lxb_css_selectors_state_pseudo_class_function(lxb_css_parser_t *parser,
                                              const lxb_css_syntax_token_t *token,
                                              lxb_css_parser_state_f success);

static lxb_status_t
lxb_css_selectors_state_pseudo_element(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token);

static lxb_status_t
lxb_css_selectors_state_pseudo_element_function(lxb_css_parser_t *parser,
                                                const lxb_css_syntax_token_t *token,
                                                lxb_css_parser_state_f success);

static lxb_status_t
lxb_css_selectors_state_forgiving_cb(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx, lxb_css_parser_state_f state,
                                     bool failed);

static void
lxb_css_selectors_state_restore_parent(lxb_css_selectors_t *selectors,
                                       lxb_css_selector_list_t *last);

static bool
lxb_css_selectors_state_list_end(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 lxb_css_parser_state_f state);

static bool
lxb_css_selectors_state_end(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token, void *ctx);

static const lxb_css_syntax_token_t *
lxb_css_selectors_state_function_error(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token);


lxb_inline bool
lxb_css_selectors_done(lxb_css_parser_t *parser)
{
    lxb_css_parser_states_pop(parser);

    return lxb_css_parser_states_set_back(parser);
}

lxb_inline void
lxb_css_selectors_state_specificity_set_b(lxb_css_selectors_t *selectors)
{
    lxb_css_selector_list_t *last = selectors->list_last;

    if (selectors->parent == NULL) {
        lxb_css_selector_sp_set_b(last->specificity,
                                  lxb_css_selector_sp_b(last->specificity) + 1);
    }
    else if (last->specificity > LXB_CSS_SELECTOR_SP_B_MAX) {
        if (selectors->combinator == LXB_CSS_SELECTOR_COMBINATOR_CLOSE) {
            lxb_css_selector_sp_set_b(last->specificity, 1);
        }
    }
    else {
        if (selectors->combinator != LXB_CSS_SELECTOR_COMBINATOR_CLOSE) {
            last->specificity = 0;
        }

        lxb_css_selector_sp_set_b(last->specificity, 1);
    }
}

lxb_inline void
lxb_css_selectors_state_specificity_set_c(lxb_css_selectors_t *selectors)
{
    lxb_css_selector_list_t *last = selectors->list_last;

    if (selectors->parent == NULL) {
        lxb_css_selector_sp_set_c(last->specificity,
                                  lxb_css_selector_sp_c(last->specificity) + 1);
    }
    else if (last->specificity > LXB_CSS_SELECTOR_SP_C_MAX) {
        if (selectors->combinator == LXB_CSS_SELECTOR_COMBINATOR_CLOSE) {
            lxb_css_selector_sp_set_c(last->specificity, 1);
        }
    }
    else {
        if (selectors->combinator != LXB_CSS_SELECTOR_COMBINATOR_CLOSE) {
            last->specificity = 0;
        }

        lxb_css_selector_sp_set_c(last->specificity, 1);
    }
}

lxb_inline void
lxb_css_selectors_state_func_specificity(lxb_css_selectors_t *selectors)
{
    lxb_css_selector_list_t *prev, *last;

    last = selectors->list_last;
    prev = last->prev;

    if (prev->specificity > last->specificity) {
        last->specificity = prev->specificity;
    }

    prev->specificity = 0;
}

/*
 * <complex-selector-list>
 */
bool
lxb_css_selectors_state_complex_list(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx)
{
    lxb_css_parser_state_t *states;

    states = lxb_css_parser_states_next(parser,
                                        lxb_css_selectors_state_complex_wo_root,
                                        lxb_css_selectors_state_complex_list_end,
                                        ctx, true);
    if (states == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    return false;
}

static bool
lxb_css_selectors_state_complex_list_end(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx)
{
    return lxb_css_selectors_state_list_end(parser, token,
                                            lxb_css_selectors_state_complex_wo_root);
}

/*
 * <relative-selector-list>
 */
bool
lxb_css_selectors_state_relative_list(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      void *ctx)
{
    lxb_css_parser_state_t *states;

    states = lxb_css_parser_states_next(parser,
                                        lxb_css_selectors_state_relative_list_wo_root,
                                        lxb_css_selectors_state_relative_list_end,
                                        ctx, true);
    if (states == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    return false;
}

static bool
lxb_css_selectors_state_relative_list_end(lxb_css_parser_t *parser,
                                          const lxb_css_syntax_token_t *token,
                                          void *ctx)
{
    return lxb_css_selectors_state_list_end(parser, token,
                                            lxb_css_selectors_state_relative_list_wo_root);
}

/*
 * <relative-selector>
 */
bool
lxb_css_selectors_state_relative(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 void *ctx)
{
    lxb_css_parser_state_t *states;

    states = lxb_css_parser_states_next(parser,
                                        lxb_css_selectors_state_relative_wo_root,
                                        lxb_css_selectors_state_end,
                                        ctx, true);
    if (states == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    return false;
}

static bool
lxb_css_selectors_state_relative_list_wo_root(lxb_css_parser_t *parser,
                                              const lxb_css_syntax_token_t *token,
                                              void *ctx)
{
    return lxb_css_selectors_state_relative_handler(parser, token, ctx, true,
                                                    false);
}

static bool
lxb_css_selectors_state_relative_wo_root(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx)
{
    return lxb_css_selectors_state_relative_handler(parser, token, ctx, false,
                                                    false);
}

static bool
lxb_css_selectors_state_relative_handler(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx, bool list, bool root)
{
    lxb_css_parser_state_f back;
    lxb_css_parser_state_t *states;
    lxb_css_selectors_t *selectors = parser->selectors;

    /* <combinator> */

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_WHITESPACE:
            lxb_css_syntax_parser_consume(parser);
            selectors->combinator = LXB_CSS_SELECTOR_COMBINATOR_DESCENDANT;
            return true;

        case LXB_CSS_SYNTAX_TOKEN_DELIM:
            switch (lxb_css_syntax_token_delim_char(token)) {
                case '>':
                    selectors->combinator = LXB_CSS_SELECTOR_COMBINATOR_CHILD;
                    break;

                case '+':
                    selectors->combinator = LXB_CSS_SELECTOR_COMBINATOR_SIBLING;
                    break;

                case '~':
                    selectors->combinator = LXB_CSS_SELECTOR_COMBINATOR_FOLLOWING;
                    break;

                case '|':
                    lxb_css_parser_token_next_m(parser, token);

                    if (token->type == LXB_CSS_SYNTAX_TOKEN_DELIM
                        && lxb_css_syntax_token_delim_char(token) == '|')
                    {
                        lxb_css_syntax_parser_consume(parser);
                        selectors->combinator = LXB_CSS_SELECTOR_COMBINATOR_CELL;
                        break;
                    }

                    goto done;

                default:
                    goto done;
            }

            break;

        default:
            goto done;
    }

    lxb_css_syntax_parser_consume(parser);

done:

    back = (list) ? lxb_css_selectors_state_complex_end
                  : lxb_css_selectors_state_end;

    states = lxb_css_parser_states_next(parser,
                                        lxb_css_selectors_state_compound_wo_root,
                                        back, ctx, root);
    if (states == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    return true;
}

/*
 * <complex-selector>
 */
bool
lxb_css_selectors_state_complex(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_parser_state_t *states;

    states = lxb_css_parser_states_next(parser,
                                        lxb_css_selectors_state_complex_wo_root,
                                        lxb_css_selectors_state_end,
                                        ctx, true);
    if (states == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    return false;
}

static bool
lxb_css_selectors_state_complex_wo_root(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        void *ctx)
{
    return lxb_css_selectors_state_complex_handler(parser, token, ctx, false);
}

static bool
lxb_css_selectors_state_complex_handler(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        void *ctx, bool root)
{
    lxb_css_parser_state_t *states;

    states = lxb_css_parser_states_next(parser,
                                        lxb_css_selectors_state_compound_wo_root,
                                        lxb_css_selectors_state_complex_end,
                                        ctx, root);
    if (states == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    return false;
}

static bool
lxb_css_selectors_state_complex_end(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token,
                                    void *ctx)
{
    lxb_css_selectors_t *selectors = parser->selectors;

    /* <combinator> */

again:

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_WHITESPACE:
            lxb_css_syntax_parser_consume(parser);

            selectors->combinator = LXB_CSS_SELECTOR_COMBINATOR_DESCENDANT;

            lxb_css_parser_token_m(parser, token);
            goto again;

        case LXB_CSS_SYNTAX_TOKEN__END:
            return lxb_css_selectors_done(parser);

        case LXB_CSS_SYNTAX_TOKEN_DELIM:
            switch (lxb_css_syntax_token_delim_char(token)) {
                case '>':
                    selectors->combinator = LXB_CSS_SELECTOR_COMBINATOR_CHILD;
                    break;

                case '+':
                    selectors->combinator = LXB_CSS_SELECTOR_COMBINATOR_SIBLING;
                    break;

                case '~':
                    selectors->combinator = LXB_CSS_SELECTOR_COMBINATOR_FOLLOWING;
                    break;

                case '|':
                    lxb_css_parser_token_next_m(parser, token);

                    if (token->type == LXB_CSS_SYNTAX_TOKEN_DELIM
                        && lxb_css_syntax_token_delim_char(token) == '|')
                    {
                        lxb_css_syntax_parser_consume(parser);
                        selectors->combinator = LXB_CSS_SELECTOR_COMBINATOR_CELL;
                        break;
                    }

                    goto done;

                default:
                    if (selectors->combinator != LXB_CSS_SELECTOR_COMBINATOR_DESCENDANT) {
                        goto unexpected;
                    }

                    goto done;
            }

            break;

        case LXB_CSS_SYNTAX_TOKEN_COMMA:
            return lxb_css_selectors_done(parser);

        default:
            if (selectors->combinator != LXB_CSS_SELECTOR_COMBINATOR_DESCENDANT) {
                goto unexpected;
            }

            goto done;
    }

    lxb_css_syntax_parser_consume(parser);

done:

    lxb_css_parser_state_set(parser, lxb_css_selectors_state_compound_handler);

    return true;

unexpected:

    (void) lxb_css_selectors_done(parser);

    return lxb_css_parser_unexpected(parser);
}

/*
 * <compound-selector-list>
 */
bool
lxb_css_selectors_state_compound_list(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      void *ctx)
{
    lxb_css_parser_state_t *states;

    states = lxb_css_parser_states_next(parser,
                                        lxb_css_selectors_state_compound_wo_root,
                                        lxb_css_selectors_state_compound_list_end,
                                        ctx, true);
    if (states == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    return false;
}

static bool
lxb_css_selectors_state_compound_list_end(lxb_css_parser_t *parser,
                                          const lxb_css_syntax_token_t *token,
                                          void *ctx)
{
    return lxb_css_selectors_state_list_end(parser, token,
                                            lxb_css_selectors_state_compound_wo_root);
}

/*
 *
 * <compound-selector>
 */
bool
lxb_css_selectors_state_compound(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 void *ctx)
{
    lxb_css_parser_state_t *states;

    states = lxb_css_parser_states_next(parser,
                                        lxb_css_selectors_state_compound_wo_root,
                                        lxb_css_selectors_state_end,
                                        ctx, true);
    if (states == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    return false;
}

static bool
lxb_css_selectors_state_compound_wo_root(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx)
{
    lxb_css_selector_list_t *list;

    lxb_css_selectors_state_list_append(parser, parser->selectors, list);

    lxb_css_parser_state_set(parser, lxb_css_selectors_state_compound_handler);

    return false;
}

static bool
lxb_css_selectors_state_compound_handler(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx)
{
    lxb_status_t status;
    lxb_css_selectors_t *selectors;

again:

    lxb_css_parser_state_set(parser, lxb_css_selectors_state_compound_sub);

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_HASH:
            status = lxb_css_selectors_state_hash(parser, token);
            break;

        case LXB_CSS_SYNTAX_TOKEN_DELIM:
            switch (lxb_css_syntax_token_delim_char(token)) {
                case '.':
                    lxb_css_syntax_parser_consume(parser);
                    status = lxb_css_selectors_state_class(parser, token);
                    break;

                case '|':
                case '*':
                    status = lxb_css_selectors_state_element_ns(parser, token);
                    break;

                default:
                    goto unexpected;
            }

            break;

        case LXB_CSS_SYNTAX_TOKEN_IDENT:
            status = lxb_css_selectors_state_element(parser, token);
            break;

        case LXB_CSS_SYNTAX_TOKEN_LS_BRACKET:
            lxb_css_syntax_parser_consume(parser);
            status = lxb_css_selectors_state_attribute(parser);
            break;

        case LXB_CSS_SYNTAX_TOKEN_COLON:
            lxb_css_syntax_parser_consume(parser);
            lxb_css_parser_token_m(parser, token);

            if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
                status = lxb_css_selectors_state_pseudo_class(parser, token);
                break;
            }
            else if (token->type == LXB_CSS_SYNTAX_TOKEN_COLON) {
                lxb_css_syntax_parser_consume(parser);
                lxb_css_parser_token_m(parser, token);

                if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
                    lxb_css_parser_state_set(parser,
                                             lxb_css_selectors_state_compound_pseudo);
                    status = lxb_css_selectors_state_pseudo_element(parser, token);
                    break;
                }
                else if (token->type != LXB_CSS_SYNTAX_TOKEN_FUNCTION) {
                    return lxb_css_parser_unexpected(parser);
                }

                status = lxb_css_selectors_state_pseudo_element_function(parser, token,
                                               lxb_css_selectors_state_compound_pseudo);
                break;
            }
            else if (token->type != LXB_CSS_SYNTAX_TOKEN_FUNCTION) {
                goto unexpected;
            }

            status = lxb_css_selectors_state_pseudo_class_function(parser, token,
                                            lxb_css_selectors_state_compound_sub);
            break;

        case LXB_CSS_SYNTAX_TOKEN_WHITESPACE:
            lxb_css_syntax_parser_consume(parser);
            lxb_css_parser_token_m(parser, token);
            goto again;

        case LXB_CSS_SYNTAX_TOKEN__END:
            selectors = parser->selectors;

            if (selectors->combinator > LXB_CSS_SELECTOR_COMBINATOR_CLOSE
                || selectors->list_last->first == NULL)
            {
                goto unexpected;
            }

            return lxb_css_selectors_done(parser);

        default:
            goto unexpected;
    }

    if (status == LXB_STATUS_OK) {
        return true;
    }

    if (status == LXB_STATUS_ERROR_MEMORY_ALLOCATION) {
        return lxb_css_parser_memory_fail(parser);
    }

unexpected:

    (void) lxb_css_parser_states_to_root(parser);
    (void) lxb_css_parser_states_set_back(parser);

    return lxb_css_parser_unexpected(parser);
}

static bool
lxb_css_selectors_state_compound_sub(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx)
{
    lxb_status_t status;

    /* <subclass-selector> */

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_HASH:
            status = lxb_css_selectors_state_hash(parser, token);
            break;

        case LXB_CSS_SYNTAX_TOKEN_DELIM:
            switch (lxb_css_syntax_token_delim_char(token)) {
                case '.':
                    lxb_css_syntax_parser_consume(parser);
                    status = lxb_css_selectors_state_class(parser, token);
                    break;

                default:
                    return lxb_css_parser_states_set_back(parser);
            }

            break;

        case LXB_CSS_SYNTAX_TOKEN_LS_BRACKET:
            lxb_css_syntax_parser_consume(parser);
            status = lxb_css_selectors_state_attribute(parser);
            break;

        case LXB_CSS_SYNTAX_TOKEN_COLON:
            lxb_css_syntax_parser_consume(parser);
            lxb_css_parser_token_m(parser, token);

            if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
                status = lxb_css_selectors_state_pseudo_class(parser, token);
                break;
            }
            else if (token->type == LXB_CSS_SYNTAX_TOKEN_COLON) {
                lxb_css_syntax_parser_consume(parser);
                lxb_css_parser_token_m(parser, token);

                if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
                    lxb_css_parser_state_set(parser,
                                      lxb_css_selectors_state_compound_pseudo);
                    status = lxb_css_selectors_state_pseudo_element(parser,
                                                                    token);
                    break;
                }
                else if (token->type != LXB_CSS_SYNTAX_TOKEN_FUNCTION) {
                    return lxb_css_parser_unexpected(parser);
                }

                status = lxb_css_selectors_state_pseudo_element_function(parser,
                                token, lxb_css_selectors_state_compound_pseudo);
                break;
            }
            else if (token->type != LXB_CSS_SYNTAX_TOKEN_FUNCTION) {
                return lxb_css_parser_unexpected(parser);
            }

            status = lxb_css_selectors_state_pseudo_class_function(parser, token,
                                            lxb_css_selectors_state_compound_sub);
            break;

        default:
            return lxb_css_parser_states_set_back(parser);
    }

    if (status == LXB_STATUS_OK) {
        return true;
    }

    if (status == LXB_STATUS_ERROR_MEMORY_ALLOCATION) {
        return lxb_css_parser_memory_fail(parser);
    }

    return lxb_css_parser_unexpected(parser);
}

static bool
lxb_css_selectors_state_compound_pseudo(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        void *ctx)
{
    lxb_status_t status;

    if (token->type != LXB_CSS_SYNTAX_TOKEN_COLON) {
        return lxb_css_parser_states_set_back(parser);
    }

    lxb_css_syntax_parser_consume(parser);
    lxb_css_parser_token_m(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
        status = lxb_css_selectors_state_pseudo_class(parser, token);
    }
    else if (token->type == LXB_CSS_SYNTAX_TOKEN_COLON) {
        lxb_css_syntax_parser_consume(parser);
        lxb_css_parser_token_m(parser, token);

        if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
            status = lxb_css_selectors_state_pseudo_element(parser, token);
        }
        else if (token->type == LXB_CSS_SYNTAX_TOKEN_FUNCTION) {
            status = lxb_css_selectors_state_pseudo_element_function(parser, token,
                                           lxb_css_selectors_state_compound_pseudo);
        }
        else {
            return lxb_css_parser_unexpected(parser);
        }
    }
    else if (token->type != LXB_CSS_SYNTAX_TOKEN_FUNCTION) {
        return lxb_css_parser_unexpected(parser);
    }
    else {
        status = lxb_css_selectors_state_pseudo_class_function(parser, token,
                                       lxb_css_selectors_state_compound_pseudo);
    }

    if (status == LXB_STATUS_OK) {
        return true;
    }

    if (status == LXB_STATUS_ERROR_MEMORY_ALLOCATION) {
        return lxb_css_parser_memory_fail(parser);
    }

    return lxb_css_parser_unexpected(parser);
}

/*
 * <simple-selector-list>
 */
bool
lxb_css_selectors_state_simple_list(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token,
                                    void *ctx)
{
    lxb_css_parser_state_t *states;

    states = lxb_css_parser_states_next(parser, lxb_css_selectors_state_simple_wo_root,
                                        lxb_css_selectors_state_simple_list_end,
                                        ctx, true);
    if (states == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    return false;
}

static bool
lxb_css_selectors_state_simple_list_end(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        void *ctx)
{
    return lxb_css_selectors_state_list_end(parser, token,
                                            lxb_css_selectors_state_simple_wo_root);
}

/*
 * <simple-selector>
 */
bool
lxb_css_selectors_state_simple(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_parser_state_t *states;

    states = lxb_css_parser_states_next(parser,
                                        lxb_css_selectors_state_simple_wo_root,
                                        lxb_css_selectors_state_end,
                                        ctx, true);
    if (states == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    return false;
}

static bool
lxb_css_selectors_state_simple_wo_root(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token,
                                       void *ctx)
{
    lxb_css_selector_list_t *list;

    lxb_css_selectors_state_list_append(parser, parser->selectors, list);

    lxb_css_parser_state_set(parser, lxb_css_selectors_state_simple_handler);

    return false;
}

static bool
lxb_css_selectors_state_simple_handler(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token,
                                       void *ctx)
{
    lxb_status_t status;

again:

    lxb_css_parser_state_set(parser, lxb_css_selectors_state_simple_back);

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_HASH:
            status = lxb_css_selectors_state_hash(parser, token);
            break;

        case LXB_CSS_SYNTAX_TOKEN_DELIM:
            switch (lxb_css_syntax_token_delim_char(token)) {
                case '.':
                    lxb_css_syntax_parser_consume(parser);
                    status = lxb_css_selectors_state_class(parser, token);
                    break;

                case '|':
                case '*':
                    status = lxb_css_selectors_state_element_ns(parser, token);
                    break;

                default:
                    goto unexpected;
            }

            break;

        case LXB_CSS_SYNTAX_TOKEN_IDENT:
            status = lxb_css_selectors_state_element(parser, token);
            break;

        case LXB_CSS_SYNTAX_TOKEN_LS_BRACKET:
            lxb_css_syntax_parser_consume(parser);
            status = lxb_css_selectors_state_attribute(parser);
            break;

        case LXB_CSS_SYNTAX_TOKEN_COLON:
            lxb_css_syntax_parser_consume(parser);
            lxb_css_parser_token_m(parser, token);

            if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
                status = lxb_css_selectors_state_pseudo_class(parser, token);
                break;
            }
            else if (token->type != LXB_CSS_SYNTAX_TOKEN_FUNCTION) {
                goto unexpected;
            }

            status = lxb_css_selectors_state_pseudo_class_function(parser, token,
                                           lxb_css_selectors_state_simple_back);
            break;

        case LXB_CSS_SYNTAX_TOKEN_WHITESPACE:
            lxb_css_syntax_parser_consume(parser);
            lxb_css_parser_token_m(parser, token);
            goto again;

        case LXB_CSS_SYNTAX_TOKEN__END:
            return lxb_css_parser_states_set_back(parser);

        default:
            goto unexpected;
    }

    if (status == LXB_STATUS_OK) {
        return true;
    }

    if (status == LXB_STATUS_ERROR_MEMORY_ALLOCATION) {
        return lxb_css_parser_memory_fail(parser);
    }

unexpected:

    (void) lxb_css_parser_states_set_back(parser);

    return lxb_css_parser_unexpected(parser);
}

static bool
lxb_css_selectors_state_simple_back(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token,
                                    void *ctx)
{
    return lxb_css_parser_states_set_back(parser);
}

static lxb_status_t
lxb_css_selectors_state_hash(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token)
{
    lxb_status_t status;
    lxb_css_selector_t *selector;
    lxb_css_selectors_t *selectors;
    lxb_css_selector_list_t *last;

    selectors = parser->selectors;
    last = selectors->list_last;

    if (selectors->parent == NULL) {
        lxb_css_selector_sp_set_a(last->specificity,
                                  lxb_css_selector_sp_a(last->specificity) + 1);
    }
    else if (lxb_css_selector_sp_a(last->specificity) == 0) {
        if (selectors->combinator != LXB_CSS_SELECTOR_COMBINATOR_CLOSE) {
            last->specificity = 0;
        }

        lxb_css_selector_sp_set_a(last->specificity, 1);
    }

    lxb_css_selectors_state_append(parser, selectors, selector);

    selector->type = LXB_CSS_SELECTOR_TYPE_ID;

    status = lxb_css_syntax_token_string_dup(lxb_css_syntax_token_string(token),
                                             &selector->name, parser->memory->mraw);
    lxb_css_syntax_parser_consume(parser);

    return status;
}

static lxb_status_t
lxb_css_selectors_state_class(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token)
{
    lxb_status_t status;
    lxb_css_selector_t *selector;
    lxb_css_selectors_t *selectors;

    lxb_css_parser_token_status_m(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
        selectors = parser->selectors;

        lxb_css_selectors_state_specificity_set_b(selectors);
        lxb_css_selectors_state_append(parser, selectors, selector);

        selector->type = LXB_CSS_SELECTOR_TYPE_CLASS;

        status = lxb_css_syntax_token_string_dup(lxb_css_syntax_token_string(token),
                                                 &selector->name, parser->memory->mraw);
        lxb_css_syntax_parser_consume(parser);

        return status;
    }

    return lxb_css_parser_unexpected_status(parser);
}

static lxb_status_t
lxb_css_selectors_state_element_ns(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token)
{
    lxb_css_selector_t *selector;
    lxb_css_selectors_t *selectors;

    selectors = parser->selectors;

    lxb_css_selectors_state_append(parser, selectors, selector);

    selector->type = LXB_CSS_SELECTOR_TYPE_ANY;

    selector->name.data = lexbor_mraw_alloc(parser->memory->mraw, 2);
    if (selector->name.data == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    selector->name.data[0] = '*';
    selector->name.data[1] = '\0';
    selector->name.length = 1;

    if (lxb_css_syntax_token_delim_char(token) == '*') {
        lxb_css_syntax_parser_consume(parser);
        return lxb_css_selectors_state_ns(parser, selector);
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_selectors_state_ns_ident(parser, selector);
}

static lxb_status_t
lxb_css_selectors_state_element(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token)
{
    lxb_status_t status;
    lxb_css_selector_t *selector;
    lxb_css_selectors_t *selectors;

    selectors = parser->selectors;

    lxb_css_selectors_state_specificity_set_c(selectors);

    lxb_css_selectors_state_append(parser, selectors, selector);

    selector->type = LXB_CSS_SELECTOR_TYPE_ELEMENT;

    lxb_css_selectors_state_string_dup_m(selectors, &selector->name);

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_selectors_state_ns(parser, selector);
}


static lxb_status_t
lxb_css_selectors_state_attribute(lxb_css_parser_t *parser)
{
    lxb_char_t modifier;
    lxb_status_t status;
    lxb_css_selector_t *selector;
    lxb_css_selectors_t *selectors;
    const lxb_css_syntax_token_t *token;
    lxb_css_selector_attribute_t *attribute;

    selectors = parser->selectors;

    lxb_css_selectors_state_append(parser, selectors, selector);
    lxb_css_parser_token_status_wo_ws_m(parser, token);

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_DELIM:
            if (lxb_css_syntax_token_delim_char(token) != '|') {
                goto failed;
            }

            lxb_css_syntax_parser_consume(parser);
            lxb_css_parser_token_status_m(parser, token);

            if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
                goto failed;
            }

            selector->type = LXB_CSS_SELECTOR_TYPE_ATTRIBUTE;

            selector->ns.data = lexbor_mraw_alloc(parser->memory->mraw, 2);
            if (selector->ns.data == NULL) {
                return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
            }

            selector->ns.data[0] = '*';
            selector->ns.data[1] = '\0';
            selector->ns.length = 1;

            lxb_css_selectors_state_string_dup_m(parser->selectors,
                                                 &selector->name);

            lxb_css_syntax_parser_consume(parser);
            lxb_css_parser_token_status_wo_ws_m(parser, token);
            break;

        case LXB_CSS_SYNTAX_TOKEN_IDENT:
            selector->type = LXB_CSS_SELECTOR_TYPE_ATTRIBUTE;

            lxb_css_selectors_state_string_dup_m(selectors, &selector->name);

            lxb_css_syntax_parser_consume(parser);
            lxb_css_parser_token_status_m(parser, token);

            if (token->type != LXB_CSS_SYNTAX_TOKEN_DELIM
                || lxb_css_syntax_token_delim_char(token) != '|')
            {
                if (token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {
                    lxb_css_syntax_parser_consume(parser);
                    lxb_css_parser_token_status_m(parser, token);
                }

                break;
            }

            lxb_css_syntax_parser_consume(parser);
            lxb_css_parser_token_status_m(parser, token);

            if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
                attribute = &selector->u.attribute;
                attribute->match = LXB_CSS_SELECTOR_MATCH_DASH;

                goto assignment;
            }

            selector->ns = selector->name;
            lexbor_str_clean_all(&selector->name);

            lxb_css_selectors_state_string_dup_m(selectors, &selector->name);

            lxb_css_syntax_parser_consume(parser);
            lxb_css_parser_token_status_wo_ws_m(parser, token);
            break;

        default:
            goto failed;
    }

    attribute = &selector->u.attribute;

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_RS_BRACKET:
            goto done;

        case LXB_CSS_SYNTAX_TOKEN_DELIM:
            switch (lxb_css_syntax_token_delim_char(token)) {
                case '~':
                    attribute->match = LXB_CSS_SELECTOR_MATCH_INCLUDE;
                    break;

                case '|':
                    attribute->match = LXB_CSS_SELECTOR_MATCH_DASH;
                    break;

                case '^':
                    attribute->match = LXB_CSS_SELECTOR_MATCH_PREFIX;
                    break;

                case '$':
                    attribute->match = LXB_CSS_SELECTOR_MATCH_SUFFIX;
                    break;

                case '*':
                    attribute->match = LXB_CSS_SELECTOR_MATCH_SUBSTRING;
                    break;

                case '=':
                    attribute->match = LXB_CSS_SELECTOR_MATCH_EQUAL;

                    lxb_css_syntax_parser_consume(parser);
                    lxb_css_parser_token_status_wo_ws_m(parser, token);
                    goto string_or_ident;

                default:
                    goto failed;
            }

            lxb_css_syntax_parser_consume(parser);
            lxb_css_parser_token_status_m(parser, token);

            break;

        default:
            goto failed;
    }

assignment:

    if (token->type != LXB_CSS_SYNTAX_TOKEN_DELIM
        || lxb_css_syntax_token_delim_char(token) != '=')
    {
        goto failed;
    }

    lxb_css_syntax_parser_consume(parser);
    lxb_css_parser_token_status_wo_ws_m(parser, token);

string_or_ident:

    if (token->type != LXB_CSS_SYNTAX_TOKEN_STRING
        && token->type != LXB_CSS_SYNTAX_TOKEN_IDENT)
    {
        goto failed;
    }

    lxb_css_selectors_state_string_dup_m(selectors, &attribute->value);

    lxb_css_syntax_parser_consume(parser);
    lxb_css_parser_token_status_wo_ws_m(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_RS_BRACKET) {
        goto done;
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
        goto failed;
    }

    modifier = *lxb_css_syntax_token_string(token)->data;

    switch (modifier) {
        case 'i':
            attribute->modifier = LXB_CSS_SELECTOR_MODIFIER_I;
            break;

        case 's':
            attribute->modifier = LXB_CSS_SELECTOR_MODIFIER_S;
            break;

        default:
            goto failed;
    }

    lxb_css_syntax_parser_consume(parser);
    lxb_css_parser_token_status_wo_ws_m(parser, token);

    if (token->type != LXB_CSS_SYNTAX_TOKEN_RS_BRACKET) {
        goto failed;
    }

done:

    lxb_css_selectors_state_specificity_set_b(selectors);
    lxb_css_syntax_parser_consume(parser);

    return LXB_STATUS_OK;

failed:

    return lxb_css_parser_unexpected_status(parser);
}

static lxb_status_t
lxb_css_selectors_state_ns(lxb_css_parser_t *parser,
                           lxb_css_selector_t *selector)
{
    const lxb_css_syntax_token_t *token;

    lxb_css_parser_token_status_m(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_DELIM
        && lxb_css_syntax_token_delim_char(token) == '|')
    {
        lxb_css_syntax_parser_consume(parser);
        return lxb_css_selectors_state_ns_ident(parser, selector);
    }

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_css_selectors_state_ns_ident(lxb_css_parser_t *parser,
                                 lxb_css_selector_t *selector)
{
    lxb_status_t status;
    const lxb_css_syntax_token_t *token;
    lxb_css_selectors_t *selectors;

    lxb_css_parser_token_status_m(parser, token);

    if (token->type == LXB_CSS_SYNTAX_TOKEN_IDENT) {
        selectors = parser->selectors;

        lxb_css_selectors_state_specificity_set_c(selectors);

        selector->type = LXB_CSS_SELECTOR_TYPE_ELEMENT;

        selector->ns = selector->name;
        lexbor_str_clean_all(&selector->name);

        status = lxb_css_syntax_token_string_dup(lxb_css_syntax_token_string(token),
                                           &selector->name, parser->memory->mraw);

        lxb_css_syntax_parser_consume(parser);

        return status;
    }
    else if (token->type == LXB_CSS_SYNTAX_TOKEN_DELIM
             && lxb_css_syntax_token_delim_char(token) == '*')
    {
        lxb_css_syntax_parser_consume(parser);

        selector->type = LXB_CSS_SELECTOR_TYPE_ANY;

        selector->ns = selector->name;

        selector->name.data = lexbor_mraw_alloc(parser->memory->mraw, 2);
        if (selector->name.data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        selector->name.data[0] = '*';
        selector->name.data[1] = '\0';
        selector->name.length = 1;

        return LXB_STATUS_OK;
    }

    return lxb_css_parser_unexpected_status(parser);
}

static lxb_status_t
lxb_css_selectors_state_pseudo_class(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token)
{
    lxb_status_t status;
    lxb_css_log_message_t *msg;
    lxb_css_selector_t *selector;
    lxb_css_selectors_t *selectors;
    const lxb_css_selectors_pseudo_data_t *pseudo;

    selectors = parser->selectors;

    lxb_css_selectors_state_append(parser, selectors, selector);
    selector->type = LXB_CSS_SELECTOR_TYPE_PSEUDO_CLASS;

    lxb_css_selectors_state_string_dup_m(selectors, &selector->name);

    pseudo = lxb_css_selector_pseudo_class_by_name(selector->name.data,
                                                   selector->name.length);
    if (pseudo == NULL) {
        return lxb_css_parser_unexpected_status(parser);
    }

    switch (pseudo->id) {
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_CURRENT:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_DEFAULT:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FOCUS_VISIBLE:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FOCUS_WITHIN:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FULLSCREEN:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUTURE:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_IN_RANGE:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_INDETERMINATE:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_INVALID:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_LOCAL_LINK:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_OUT_OF_RANGE:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_PAST:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_SCOPE:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_TARGET:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_TARGET_WITHIN:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_USER_INVALID:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_VALID:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_VISITED:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_WARNING:
            msg = lxb_css_log_not_supported(parser->log,
                                            lxb_css_selectors_module_name,
                                            (const char *) selector->name.data);
            if (msg == NULL) {
                return lxb_css_parser_memory_fail(parser);
            }

            return lxb_css_parser_unexpected_status(parser);

        default:
            break;
    }

    selector->u.pseudo.type = pseudo->id;
    selector->u.pseudo.data = NULL;

    lxb_css_syntax_parser_consume(parser);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_css_selectors_state_pseudo_class_function(lxb_css_parser_t *parser,
                                              const lxb_css_syntax_token_t *token,
                                              lxb_css_parser_state_f success)
{
    lxb_status_t status;
    lxb_css_selector_t *selector;
    lxb_css_selectors_t *selectors;
    lxb_css_log_message_t *msg;
    lxb_css_syntax_rule_t *rule;
    const lxb_css_selectors_pseudo_data_func_t *func;

    selectors = parser->selectors;

    lxb_css_selectors_state_append(parser, selectors, selector);
    selector->type = LXB_CSS_SELECTOR_TYPE_PSEUDO_CLASS_FUNCTION;

    lxb_css_selectors_state_string_dup_m(selectors, &selector->name);

    func = lxb_css_selector_pseudo_class_function_by_name(selector->name.data,
                                                          selector->name.length);
    if (func == NULL) {
        return lxb_css_parser_unexpected_status(parser);
    }

    switch (func->id) {
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_DIR:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_LANG:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_COL:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_COL:
            msg = lxb_css_log_not_supported(parser->log,
                                            lxb_css_selectors_module_name,
                                            (const char *) selector->name.data);
            if (msg == NULL) {
                goto failed;
            }

            return lxb_css_parser_unexpected_status(parser);

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_CHILD:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_CHILD:
            lxb_css_selectors_state_specificity_set_b(selectors);
            break;

        default:
            break;
    }

    selector->u.pseudo.type = func->id;
    selector->u.pseudo.data = NULL;

    selectors->combinator = func->combinator;
    selectors->comb_default = func->combinator;
    selectors->parent = selector;

    rule = lxb_css_syntax_consume_function(parser, token, &func->cb,
                                           success, selectors->list_last);
    if (rule == NULL) {
        goto failed;
    }

    lxb_css_syntax_parser_consume(parser);

    return LXB_STATUS_OK;

failed:

    (void) lxb_css_parser_memory_fail(parser);

    return parser->status;
}

static lxb_status_t
lxb_css_selectors_state_pseudo_element(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token)
{
    lxb_status_t status;
    lxb_css_log_message_t *msg;
    lxb_css_selector_t *selector;
    lxb_css_selectors_t *selectors;
    const lxb_css_selectors_pseudo_data_t *pseudo;

    selectors = parser->selectors;

    lxb_css_selectors_state_append(parser, selectors, selector);
    selector->type = LXB_CSS_SELECTOR_TYPE_PSEUDO_ELEMENT;

    lxb_css_selectors_state_string_dup_m(selectors, &selector->name);

    pseudo = lxb_css_selector_pseudo_element_by_name(selector->name.data,
                                                     selector->name.length);
    if (pseudo == NULL) {
        return lxb_css_parser_unexpected_status(parser);
    }

    switch (pseudo->id) {
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_AFTER:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_BACKDROP:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_BEFORE:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_FIRST_LETTER:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_FIRST_LINE:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_GRAMMAR_ERROR:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_INACTIVE_SELECTION:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_MARKER:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_PLACEHOLDER:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_SELECTION:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_SPELLING_ERROR:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_TARGET_TEXT:
            msg = lxb_css_log_not_supported(parser->log,
                                            lxb_css_selectors_module_name,
                                            (const char *) selector->name.data);
            if (msg == NULL) {
                (void) lxb_css_parser_memory_fail(parser);
                return parser->status;
            }

            return lxb_css_parser_unexpected_status(parser);

        default:
            break;
    }

    selector->u.pseudo.type = pseudo->id;
    selector->u.pseudo.data = NULL;

    lxb_css_syntax_parser_consume(parser);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_css_selectors_state_pseudo_element_function(lxb_css_parser_t *parser,
                                                const lxb_css_syntax_token_t *token,
                                                lxb_css_parser_state_f success)
{
    lxb_status_t status;
    lxb_css_selector_t *selector;
    lxb_css_selectors_t *selectors;
    lxb_css_syntax_rule_t *rule;
    const lxb_css_selectors_pseudo_data_func_t *func;

    selectors = parser->selectors;

    lxb_css_selectors_state_append(parser, selectors, selector);
    selector->type = LXB_CSS_SELECTOR_TYPE_PSEUDO_ELEMENT_FUNCTION;

    lxb_css_selectors_state_string_dup_m(selectors, &selector->name);

    func = lxb_css_selector_pseudo_element_function_by_name(selector->name.data,
                                                            selector->name.length);
    if (func == NULL) {
        return lxb_css_parser_unexpected_status(parser);
    }

    selector->u.pseudo.type = func->id;
    selector->u.pseudo.data = NULL;

    selectors->combinator = func->combinator;
    selectors->comb_default = func->combinator;
    selectors->parent = selector;

    rule = lxb_css_syntax_consume_function(parser, token, &func->cb,
                                           success, selectors->list_last);
    if (rule == NULL) {
        (void) lxb_css_parser_memory_fail(parser);
        return parser->status;
    }

    lxb_css_syntax_parser_consume(parser);

    return LXB_STATUS_OK;
}

lxb_inline void
lxb_css_selectors_state_restore_combinator(lxb_css_selectors_t *selectors)
{
    lxb_css_selector_t *parent;
    lxb_css_selector_combinator_t comb_default;
    const lxb_css_selectors_pseudo_data_func_t *data_func;

    comb_default = LXB_CSS_SELECTOR_COMBINATOR_DESCENDANT;

    if (selectors->parent != NULL) {
        parent = selectors->parent;

        if (parent->type == LXB_CSS_SELECTOR_TYPE_PSEUDO_CLASS_FUNCTION) {
            data_func = lxb_css_selector_pseudo_class_function_by_id(parent->u.pseudo.type);
        }
        else {
            data_func = lxb_css_selector_pseudo_element_function_by_id(parent->u.pseudo.type);
        }

        comb_default = data_func->combinator;
    }

    selectors->combinator = LXB_CSS_SELECTOR_COMBINATOR_CLOSE;
    selectors->comb_default = comb_default;
}

lxb_status_t
lxb_css_selectors_state_function_end(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx, bool failed)
{
    bool cy;
    lxb_css_selector_t *selector;
    lxb_css_selectors_t *selectors = parser->selectors;

    if (token->type == LXB_CSS_SYNTAX_TOKEN__EOF) {
        (void) lxb_css_log_format(parser->log, LXB_CSS_LOG_SYNTAX_ERROR,
                                  "%s. End Of File in pseudo function",
                                  lxb_css_selectors_module_name);
    }

    if (selectors->list_last == NULL) {
        lxb_css_selectors_state_restore_parent(selectors, ctx);
        goto empty;
    }

    lxb_css_selectors_state_restore_parent(selectors, ctx);

    return LXB_STATUS_OK;

empty:

    selector = selectors->list_last->last;

    cy = selector->type == LXB_CSS_SELECTOR_TYPE_PSEUDO_CLASS_FUNCTION;
    cy = lxb_css_selector_pseudo_function_can_empty(selector->u.pseudo.type,
                                                    cy);
    if (cy) {
        lxb_css_parser_set_ok(parser);
        return LXB_STATUS_OK;
    }

    (void) lxb_css_log_format(parser->log, LXB_CSS_LOG_SYNTAX_ERROR,
                              "%s. Pseudo function can't be empty: %S()",
                              lxb_css_selectors_module_name, &selector->name);

    lxb_css_selector_remove(selector);
    lxb_css_selector_destroy(selector);

    lxb_css_parser_failed_set_by_id(parser, -1, true);
    selectors->err_in_function = true;

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_selectors_state_function_forgiving(lxb_css_parser_t *parser,
                                           const lxb_css_syntax_token_t *token,
                                           void *ctx, bool failed)
{
    return lxb_css_selectors_state_forgiving_cb(parser, token, ctx,
                                                lxb_css_selectors_state_complex_list,
                                                failed);
}

lxb_status_t
lxb_css_selectors_state_function_forgiving_relative(lxb_css_parser_t *parser,
                                                    const lxb_css_syntax_token_t *token,
                                                    void *ctx, bool failed)
{
    return lxb_css_selectors_state_forgiving_cb(parser, token, ctx,
                                                lxb_css_selectors_state_relative_list,
                                                failed);
}

static lxb_status_t
lxb_css_selectors_state_forgiving_cb(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx, lxb_css_parser_state_f state,
                                     bool failed)
{
    bool cy;
    lxb_css_selector_t *selector;
    lxb_css_selectors_t *selectors = parser->selectors;

    lxb_css_parser_set_ok(parser);

    if (token->type == LXB_CSS_SYNTAX_TOKEN__EOF) {
        (void) lxb_css_log_format(parser->log, LXB_CSS_LOG_SYNTAX_ERROR,
                                  "%s. End Of File in pseudo function",
                                  lxb_css_selectors_module_name);
    }

    if (selectors->list_last == NULL) {
        lxb_css_selectors_state_restore_parent(selectors, ctx);
        goto empty;
    }

    if (selectors->parent->u.pseudo.type
        == LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_WHERE)
    {
        selectors->list_last->specificity = 0;
    }

    lxb_css_selectors_state_restore_parent(selectors, ctx);

    return LXB_STATUS_OK;

empty:

    selector = selectors->list_last->last;

    cy = selector->type == LXB_CSS_SELECTOR_TYPE_PSEUDO_CLASS_FUNCTION;
    cy = lxb_css_selector_pseudo_function_can_empty(selector->u.pseudo.type,
                                                    cy);
    if (cy) {
        return LXB_STATUS_OK;
    }

    (void) lxb_css_log_format(parser->log, LXB_CSS_LOG_SYNTAX_ERROR,
                              "%s. Pseudo function can't be empty: %S()",
                              lxb_css_selectors_module_name, &selector->name);

    lxb_css_selector_remove(selector);
    lxb_css_selector_destroy(selector);

    lxb_css_parser_failed_set_by_id(parser, -1, true);
    selectors->err_in_function = true;

    return LXB_STATUS_OK;
}

static void
lxb_css_selectors_state_restore_parent(lxb_css_selectors_t *selectors,
                                       lxb_css_selector_list_t *last)
{
    uint32_t src, dst;

    if (selectors->list_last != NULL && selectors->list_last != last) {
        dst = last->specificity;
        src = selectors->list_last->specificity;

        selectors->list_last = 0;

        if (last->parent == NULL) {
            lxb_css_selector_sp_add_a(dst, lxb_css_selector_sp_a(src));
            lxb_css_selector_sp_add_b(dst, lxb_css_selector_sp_b(src));
            lxb_css_selector_sp_add_c(dst, lxb_css_selector_sp_c(src));
        }
        else if (selectors->combinator == LXB_CSS_SELECTOR_COMBINATOR_CLOSE) {
            dst |= src;
        }
        else if (src > dst) {
            dst = src;
        }

        last->specificity = dst;
    }

    if (selectors->list != NULL) {
        last->last->u.pseudo.data = selectors->list;
    }

    selectors->list_last = last;

    /* Get first Selector in chain. */
    while (last->prev != NULL) {
        last = last->prev;
    }

    selectors->list = last;
    selectors->parent = last->parent;

    lxb_css_selectors_state_restore_combinator(selectors);
}

static bool
lxb_css_selectors_state_list_end(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 lxb_css_parser_state_f state)
{
    lxb_css_parser_state_t *states;
    lxb_css_selectors_t *selectors = parser->selectors;

    if (lxb_css_parser_is_failed(parser)) {
        token = lxb_css_selectors_state_function_error(parser, token);
        if (token == NULL) {
            return lxb_css_parser_fail(parser,
                                       LXB_STATUS_ERROR_MEMORY_ALLOCATION);
        }
    }
    else if (token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {
        lxb_css_syntax_parser_consume(parser);
        lxb_css_parser_token_status_m(parser, token);
    }

    if (selectors->parent != NULL && selectors->list_last &&
        selectors->list_last->prev != NULL)
    {
        lxb_css_selectors_state_func_specificity(selectors);
    }

    if (token->type != LXB_CSS_SYNTAX_TOKEN_COMMA) {
        states = lxb_css_parser_states_current(parser);

        if (states->root) {
            if (token->type != LXB_CSS_SYNTAX_TOKEN__END) {
                token = lxb_css_selectors_state_function_error(parser, token);
                if (token == NULL) {
                    return lxb_css_parser_fail(parser,
                                               LXB_STATUS_ERROR_MEMORY_ALLOCATION);
                }
            }

            (void) lxb_css_parser_states_pop(parser);
            return lxb_css_parser_success(parser);
        }

        return lxb_css_selectors_done(parser);
    }

    selectors->combinator = selectors->comb_default;

    lxb_css_syntax_token_consume(parser->tkz);
    lxb_css_parser_state_set(parser, state);
    lxb_css_parser_set_ok(parser);

    return true;
}

static bool
lxb_css_selectors_state_end(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_parser_state_t *states;

    if (token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {
        lxb_css_syntax_parser_consume(parser);
        lxb_css_parser_token_status_m(parser, token);
    }

    if (lxb_css_parser_is_failed(parser)) {
        token = lxb_css_selectors_state_function_error(parser, token);
        if (token == NULL) {
            return lxb_css_parser_fail(parser,
                                       LXB_STATUS_ERROR_MEMORY_ALLOCATION);
        }
    }

    states = lxb_css_parser_states_current(parser);

    if (states->root) {
        if (token->type != LXB_CSS_SYNTAX_TOKEN__END) {
            token = lxb_css_selectors_state_function_error(parser, token);
            if (token == NULL) {
                return lxb_css_parser_fail(parser,
                                           LXB_STATUS_ERROR_MEMORY_ALLOCATION);
            }
        }

        (void) lxb_css_parser_states_pop(parser);
        return lxb_css_parser_success(parser);
    }

    return lxb_css_selectors_done(parser);
}


static const lxb_css_syntax_token_t *
lxb_css_selectors_state_function_error(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token)
{
    bool cy, comma;
    lxb_css_selector_list_t *list;
    lxb_css_selector_t *selector;
    lxb_css_selectors_t *selectors = parser->selectors;
    const lxb_css_syntax_token_t *origin;
    const lxb_css_selectors_pseudo_data_func_t *func;

    cy = false;
    comma = true;
    list = selectors->list_last;
    selector = selectors->parent;

    if (selector != NULL) {
        cy = selector->type == LXB_CSS_SELECTOR_TYPE_PSEUDO_CLASS_FUNCTION;

        func = lxb_css_selector_pseudo_function_by_id(selector->u.pseudo.type,
                                                      cy);
        if (func == NULL) {
            return NULL;
        }

        cy = func->forgiving;
        comma = func->comma;
    }

    if (!selectors->err_in_function) {
        origin = lxb_css_syntax_token(parser->tkz);
        if (origin == NULL) {
            return NULL;
        }

        if (token->type != LXB_CSS_SYNTAX_TOKEN__END) {
            origin = token;
        }
        else if (origin->type != LXB_CSS_SYNTAX_TOKEN__EOF) {
            origin = NULL;
        }

        if (origin != NULL) {
            if (lxb_css_syntax_token_error(parser, origin,
                                           "Selectors") == NULL)
            {
                return NULL;
            }
        }
    }

    selectors->err_in_function = false;

    if (cy) {
        lxb_css_selector_list_selectors_remove(selectors, list);
        lxb_css_selector_list_destroy(list);

        while (token != NULL
               && token->type != LXB_CSS_SYNTAX_TOKEN__END)
        {
            if (comma == true
                && token->type == LXB_CSS_SYNTAX_TOKEN_COMMA
                && lxb_css_parser_rule_deep(parser) == 0)
            {
                break;
            }

            lxb_css_syntax_parser_consume(parser);
            token = lxb_css_syntax_parser_token(parser);
        }

        return token;
    }

    lxb_css_selector_list_destroy_chain(selectors->list);

    selectors->list = NULL;
    selectors->list_last = NULL;

    while (token != NULL
           && token->type != LXB_CSS_SYNTAX_TOKEN__END)
    {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return token;
}

static bool
lxb_css_state_list_rules_next(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx);

static lxb_status_t
lxb_css_state_list_rules_end(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token,
                             void *ctx, bool failed);

static const lxb_css_syntax_cb_at_rule_t *
lxb_css_state_at_rule_begin(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token, void *ctx,
                            void **out_rule);

static bool
lxb_css_state_at_rule_prelude(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token,
                              void *ctx);

static lxb_status_t
lxb_css_state_at_rule_prelude_end(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  void *ctx, bool failed);
static bool
lxb_css_state_at_rule_prelude_failed(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx);
static lxb_status_t
lxb_css_state_at_rule_end(lxb_css_parser_t *parser,
                          const lxb_css_syntax_token_t *token,
                          void *ctx, bool failed);

static const lxb_css_syntax_cb_qualified_rule_t *
lxb_css_state_qualified_rule_begin(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token,
                                   void *ctx, void **out_rule);

static bool
lxb_css_state_qualified_rule_prelude(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx);

static lxb_status_t
lxb_css_state_qualified_rule_prelude_end(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx, bool failed);

static const lxb_css_syntax_cb_block_t *
lxb_css_state_qualified_rule_block_begin(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx, void **out_rule);

static bool
lxb_css_state_qualified_rule_prelude_failed(lxb_css_parser_t *parser,
                                            const lxb_css_syntax_token_t *token,
                                            void *ctx);
static lxb_status_t
lxb_css_state_qualified_rule_end(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 void *ctx, bool failed);
static bool
lxb_css_state_block_next(lxb_css_parser_t *parser,
                         const lxb_css_syntax_token_t *token, void *ctx);

static lxb_status_t
lxb_css_state_block_end(lxb_css_parser_t *parser,
                        const lxb_css_syntax_token_t *token,
                        void *ctx, bool failed);

static const lxb_css_syntax_cb_declarations_t *
lxb_css_state_declarations_begin(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 void *ctx, void **out_rule);

static lxb_css_parser_state_f
lxb_css_state_declaration_name(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               void *ctx, void **out_rule);

static lxb_status_t
lxb_css_state_declaration_end(lxb_css_parser_t *parser,
                              void *declarations, void *ctx,
                              const lxb_css_syntax_token_t *token,
                              lxb_css_syntax_declaration_offset_t *offset,
                              bool important, bool failed);

static lxb_status_t
lxb_css_state_declarations_end(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               void *ctx, bool failed);

static bool
lxb_css_state_declarations_bad(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx);


static const lxb_css_syntax_cb_list_rules_t lxb_css_state_list_rules = {
    .at_rule = lxb_css_state_at_rule_begin,
    .qualified_rule = lxb_css_state_qualified_rule_begin,
    .next = lxb_css_state_list_rules_next,
    .cb.failed = lxb_css_state_failed,
    .cb.end = lxb_css_state_list_rules_end
};

static const lxb_css_syntax_cb_at_rule_t lxb_css_state_at_rule = {
    .prelude = lxb_css_state_at_rule_prelude,
    .prelude_end = lxb_css_state_at_rule_prelude_end,
    .block = lxb_css_state_at_rule_block_begin,
    .cb.failed = lxb_css_state_at_rule_prelude_failed,
    .cb.end = lxb_css_state_at_rule_end
};

static const lxb_css_syntax_cb_qualified_rule_t lxb_css_state_qualified_rule = {
    .prelude = lxb_css_state_qualified_rule_prelude,
    .prelude_end = lxb_css_state_qualified_rule_prelude_end,
    .block = lxb_css_state_qualified_rule_block_begin,
    .cb.failed = lxb_css_state_qualified_rule_prelude_failed,
    .cb.end = lxb_css_state_qualified_rule_end
};

static const lxb_css_syntax_cb_block_t lxb_css_state_block = {
    .at_rule = lxb_css_state_at_rule_begin,
    .declarations = lxb_css_state_declarations_begin,
    .qualified_rule = lxb_css_state_qualified_rule_begin,
    .next = lxb_css_state_block_next,
    .cb.failed = lxb_css_state_failed,
    .cb.end = lxb_css_state_block_end,
};

static const lxb_css_syntax_cb_declarations_t lxb_css_state_declaration = {
    .name = lxb_css_state_declaration_name,
    .end = lxb_css_state_declaration_end,
    .cb.failed = lxb_css_state_declarations_bad,
    .cb.end = lxb_css_state_declarations_end
};


bool
lxb_css_state_success(lxb_css_parser_t *parser,
                      const lxb_css_syntax_token_t *token, void *ctx)
{
    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_WHITESPACE:
            lxb_css_syntax_parser_consume(parser);
            return true;

        case LXB_CSS_SYNTAX_TOKEN__END:
            return true;

        default:
            break;
    }

    return lxb_css_parser_failed(parser);
}

bool
lxb_css_state_failed(lxb_css_parser_t *parser,
                     const lxb_css_syntax_token_t *token, void *ctx)
{
    if (token->type == LXB_CSS_SYNTAX_TOKEN__END) {
        return lxb_css_parser_success(parser);
    }

    /* The lxb_css_syntax_parser_consume(...) locked in this state. */

    lxb_css_syntax_token_consume(parser->tkz);

    return true;
}

bool
lxb_css_state_stop(lxb_css_parser_t *parser,
                   const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_parser_stop(parser);
}

bool
lxb_css_state_blank(lxb_css_parser_t *parser,
                    const lxb_css_syntax_token_t *token, void *ctx)
{
    return lxb_css_parser_success(parser);
}

const lxb_css_syntax_cb_list_rules_t *
lxb_css_state_cb_list_rules(void)
{
    return &lxb_css_state_list_rules;
}

const lxb_css_syntax_cb_at_rule_t *
lxb_css_state_cb_at_rule(void)
{
    return &lxb_css_state_at_rule;
}

const lxb_css_syntax_cb_qualified_rule_t *
lxb_css_state_cb_qualified_rule(void)
{
    return &lxb_css_state_qualified_rule;
}

const lxb_css_syntax_cb_block_t *
lxb_css_state_cb_block(void)
{
    return &lxb_css_state_block;
}

const lxb_css_syntax_cb_declarations_t *
lxb_css_state_cb_declarations(void)
{
    return &lxb_css_state_declaration;
}

static bool
lxb_css_state_list_rules_next(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx)
{
    void *returned = lxb_css_syntax_returned(parser);
    lxb_css_rule_list_t *list = ctx;

    if (returned != NULL) {
        lxb_css_rule_list_append(list, returned);
    }

    return lxb_css_parser_success(parser);
}

static lxb_status_t
lxb_css_state_list_rules_end(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token,
                             void *ctx, bool failed)
{
    lxb_css_rule_list_t *list = ctx;

    lxb_css_syntax_set_return(parser, list);

    return LXB_STATUS_OK;
}

static const lxb_css_syntax_cb_at_rule_t *
lxb_css_state_at_rule_begin(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token, void *ctx,
                            void **out_rule)
{
    lxb_css_rule_at_t *at;
    const lxb_css_entry_at_rule_data_t *entry;

    at = lxb_css_at_rule_create(parser, lxb_css_syntax_token_ident(token)->data,
                                lxb_css_syntax_token_ident(token)->length,
                                &entry);
    if (at == NULL) {
        return lxb_css_parser_memory_fail_null(parser);
    }

    *out_rule = at;

    return entry->cbs;
}

static bool
lxb_css_state_at_rule_prelude(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_rule_at_t *at = ctx;

    at->prelude_begin = token->offset;

    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

static lxb_status_t
lxb_css_state_at_rule_prelude_end(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  void *ctx, bool failed)
{
    lxb_status_t status;
    lxb_css_rule_at_t *at = ctx;
    lxb_css_at_rule__custom_t *custom;

    at->prelude_end = token->offset;

    custom = at->u.custom;

    status = lxb_css_make_data(parser, &custom->prelude, at->prelude_begin,
                               at->prelude_end);
    if (status != LXB_STATUS_OK) {
        return lxb_css_parser_memory_fail_status(parser);
    }

    return LXB_STATUS_OK;
}

const lxb_css_syntax_cb_block_t *
lxb_css_state_at_rule_block_begin(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  void *ctx, void **out_rule)
{
    lxb_css_rule_list_t *list;

    list = lxb_css_rule_list_create(parser->memory);
    if (list == NULL) {
        return lxb_css_parser_memory_fail_null(parser);
    }

    *out_rule = list;

    return &lxb_css_state_block;
}

static bool
lxb_css_state_at_rule_prelude_failed(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx)
{
    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

static lxb_status_t
lxb_css_state_at_rule_end(lxb_css_parser_t *parser,
                          const lxb_css_syntax_token_t *token,
                          void *ctx, bool failed)
{
    lxb_css_rule_at_t *at = ctx;
    lxb_css_rule_list_t *block = lxb_css_syntax_returned(parser);

    at->u.custom->block = block;

    lxb_css_syntax_set_return(parser, at);

    return LXB_STATUS_OK;
}

static const lxb_css_syntax_cb_qualified_rule_t *
lxb_css_state_qualified_rule_begin(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_token_t *token,
                                   void *ctx, void **out_rule)
{
    lxb_css_rule_style_t *style;

    style = lxb_css_rule_style_create(parser->memory);
    if (style == NULL) {
        return lxb_css_parser_memory_fail_null(parser);
    }

    *out_rule = style;

    return &lxb_css_state_qualified_rule;
}

static bool
lxb_css_state_qualified_rule_prelude(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     void *ctx)
{
    lxb_css_rule_style_t *style = ctx;

    lxb_css_selectors_clean(parser->selectors);
    lxb_css_parser_state_set(parser, lxb_css_selectors_state_complex_list);

    style->prelude_begin = token->offset;

    return false;
}

static lxb_status_t
lxb_css_state_qualified_rule_prelude_end(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx, bool failed)
{
    size_t begin;
    lxb_status_t status;
    lxb_css_rule_style_t *style = ctx;
    lxb_css_rule_bad_style_t *bad;

    if (!failed) {
        style->selector = parser->selectors->list;
        style->prelude_end = token->offset;

        return LXB_STATUS_OK;
    }

    begin = style->prelude_begin;

    (void) lxb_css_rule_style_destroy(style, true);

    bad = lxb_css_rule_bad_style_create(parser->memory);
    if (bad == NULL) {
        return lxb_css_parser_memory_fail_status(parser);
    }

    bad->prelude_begin = begin;
    bad->prelude_end = token->offset;

    status = lxb_css_make_data(parser, &bad->selectors, bad->prelude_begin,
                               bad->prelude_end);
    if (status != LXB_STATUS_OK) {
        return lxb_css_parser_memory_fail_status(parser);
    }

    lxb_css_parser_set_context(parser, bad);

    return LXB_STATUS_OK;
}

static const lxb_css_syntax_cb_block_t *
lxb_css_state_qualified_rule_block_begin(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         void *ctx, void **out_rule)
{
    lxb_css_rule_list_t *list;

    list = lxb_css_rule_list_create(parser->memory);
    if (list == NULL) {
        return lxb_css_parser_memory_fail_null(parser);
    }

    *out_rule = list;

    return &lxb_css_state_block;
}

static bool
lxb_css_state_qualified_rule_prelude_failed(lxb_css_parser_t *parser,
                                            const lxb_css_syntax_token_t *token,
                                            void *ctx)
{
    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

static lxb_status_t
lxb_css_state_qualified_rule_end(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 void *ctx, bool failed)
{
    lxb_css_rule_t *declrs;
    lxb_css_rule_list_t *list;
    lxb_css_rule_style_t *style;
    lxb_css_rule_bad_style_t *bad;

    list = lxb_css_syntax_returned(parser);

    if (!failed) {
        style = ctx;

        if (list != NULL && list->first != NULL
            && list->first->type == LXB_CSS_RULE_DECLARATION_LIST)
        {
            declrs = list->first;
            style->declarations = lxb_css_rule_declaration_list(declrs);

            declrs->parent = lxb_css_rule(style);

            if (list->first == list->last) {
                list->last = NULL;
            }

            if (declrs->next != NULL) {
                declrs->next->prev = NULL;
            }

            list->first = declrs->next;
            declrs->next = NULL;
        }

        style->child = list;

        lxb_css_syntax_set_return(parser, style);
    }
    else {
        bad = ctx;

        if (list != NULL && list->first != NULL
            && list->first->type == LXB_CSS_RULE_DECLARATION_LIST)
        {
            declrs = list->first;
            bad->declarations = lxb_css_rule_declaration_list(declrs);

            declrs->parent = lxb_css_rule(bad);

            if (list->first == list->last) {
                list->last = NULL;
            }

            if (declrs->next != NULL) {
                declrs->next->prev = NULL;
            }

            list->first = declrs->next;
            declrs->next = NULL;
        }

        bad->child = list;

        lxb_css_syntax_set_return(parser, bad);
    }

    return LXB_STATUS_OK;
}

static bool
lxb_css_state_block_next(lxb_css_parser_t *parser,
                         const lxb_css_syntax_token_t *token, void *ctx)
{
    /* rule can be either a declaration list or an at rule.  */

    lxb_css_rule_t *rule = lxb_css_syntax_returned(parser);
    lxb_css_rule_list_t *list = ctx;

    lxb_css_rule_list_append(list, rule);

    return lxb_css_parser_success(parser);
}

static lxb_status_t
lxb_css_state_block_end(lxb_css_parser_t *parser,
                        const lxb_css_syntax_token_t *token,
                        void *ctx, bool failed)
{
    lxb_css_rule_list_t *list = ctx;

    lxb_css_syntax_set_return(parser, list);

    return LXB_STATUS_OK;
}

static const lxb_css_syntax_cb_declarations_t *
lxb_css_state_declarations_begin(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 void *ctx, void **out_rule)
{
    lxb_css_rule_declaration_list_t *list;

    list = lxb_css_rule_declaration_list_create(parser->memory);
    if (list == NULL) {
        return lxb_css_parser_memory_fail_null(parser);
    }

    *out_rule = list;

    return &lxb_css_state_declaration;
}

static lxb_css_parser_state_f
lxb_css_state_declaration_name(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               void *ctx, void **out_rule)
{
    const lxb_css_entry_data_t *entry;
    lxb_css_rule_declaration_t *declar;

    declar = lxb_css_declaration_create(parser,
                                        lxb_css_syntax_token_ident(token)->data,
                                        lxb_css_syntax_token_ident(token)->length,
                                        &entry);
    if (declar == NULL) {
        (void) lxb_css_parser_memory_fail_null(parser);
        return NULL;
    }

    /* We present an original position. */

    declar->offset.name_begin = token->offset;
    declar->offset.name_end = token->offset
                                + lxb_css_syntax_token_base(token)->length;
    *out_rule = declar;

    return entry->state;
}

static lxb_status_t
lxb_css_state_declaration_end(lxb_css_parser_t *parser,
                              void *declarations, void *ctx,
                              const lxb_css_syntax_token_t *token,
                              lxb_css_syntax_declaration_offset_t *offset,
                              bool important, bool failed)
{
    lxb_status_t status;
    lxb_css_property__undef_t *undef;
    lxb_css_rule_declaration_t *declar = ctx;
    lxb_css_rule_declaration_list_t *list = declarations;

    declar->offset.value_begin = offset->value_begin;
    declar->offset.value_end = offset->value_end;
    declar->offset.important_begin = offset->important_begin;
    declar->offset.important_end = offset->important_end;
    declar->important = important;

    if (failed) {
        lxb_css_rule_declaration_destroy(declar, false);

        undef = lxb_css_property__undef_create(parser->memory);
        if (undef == NULL) {
            return lxb_css_parser_memory_fail_status(parser);
        }

        undef->type = declar->type;

        status = lxb_css_make_data(parser, &undef->value,
                                   declar->offset.value_begin,
                                   declar->offset.value_end);
        if (status != LXB_STATUS_OK) {
            return lxb_css_parser_memory_fail_status(parser);
        }

        declar->u.undef = undef;
        declar->type = LXB_CSS_PROPERTY__UNDEF;
    }

    lxb_css_rule_declaration_list_append(list, lxb_css_rule(declar));

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_css_state_declarations_end(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               void *ctx, bool failed)
{
    lxb_css_rule_declaration_list_t *list = ctx;

    lxb_css_syntax_set_return(parser, list);

    return LXB_STATUS_OK;
}

static bool
lxb_css_state_declarations_bad(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token, void *ctx)
{
    lxb_css_rule_declaration_t *declar;

    if (ctx == NULL) {
        declar = lxb_css_rule_declaration_create(parser->memory);
        if (declar == NULL) {
            return lxb_css_parser_memory_fail(parser);
        }

        lxb_css_parser_current_rule(parser)->context = declar;
        declar->type = LXB_CSS_PROPERTY__UNDEF;
    }

    while (token != NULL && token->type != LXB_CSS_SYNTAX_TOKEN__END) {
        lxb_css_syntax_parser_consume(parser);
        token = lxb_css_syntax_parser_token(parser);
    }

    return lxb_css_parser_success(parser);
}

lxb_css_stylesheet_t *
lxb_css_stylesheet_create(lxb_css_memory_t *memory)
{
    lxb_status_t status;
    lxb_css_stylesheet_t *stylesheet;

    if (memory == NULL) {
        memory = lxb_css_memory_create();
        status = lxb_css_memory_init(memory, 1024);

        if (status != LXB_STATUS_OK) {
            (void) lxb_css_memory_destroy(memory, true);
            return NULL;
        }
    }
    else {
        (void) lxb_css_memory_ref_inc(memory);
    }

    stylesheet = lexbor_mraw_calloc(memory->mraw, sizeof(lxb_css_stylesheet_t));
    if (stylesheet == NULL) {
        return NULL;
    }

    stylesheet->memory = memory;

    return stylesheet;
}

lxb_css_stylesheet_t *
lxb_css_stylesheet_destroy(lxb_css_stylesheet_t *sst, bool destroy_memory)
{
    if (sst == NULL) {
        return NULL;
    }

    if (destroy_memory) {
        (void) lxb_css_memory_ref_dec_destroy(sst->memory);
        return NULL;
    }

    if (sst->root != NULL) {
        (void) lxb_css_rule_destroy(sst->root, true);
    }

    (void) lexbor_mraw_free(sst->memory->mraw, sst);

    return NULL;
}

lxb_status_t
lxb_css_stylesheet_parse(lxb_css_stylesheet_t *sst, lxb_css_parser_t *parser,
                         const lxb_char_t *data, size_t length)
{
    lxb_status_t status;
    lxb_css_rule_list_t *list;
    lxb_css_selectors_t selectors;

    if (sst == NULL || parser == NULL) {
        return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    if (parser->selectors == NULL) {
        status = lxb_css_selectors_init(&selectors);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        parser->selectors = &selectors;
    }
    else {
        lxb_css_selectors_clean(parser->selectors);
    }

    parser->memory = sst->memory;

    list = lxb_css_syntax_parse_list_rules(parser,
                                           lxb_css_state_cb_list_rules(),
                                           data, length);

    if (parser->selectors == &selectors) {
        parser->selectors = lxb_css_selectors_destroy(&selectors, false);
    }

    if (list == NULL) {
        sst->root = NULL;
        return parser->status;
    }

    sst->root = &list->rule;

    return LXB_STATUS_OK;
}

static bool
lxb_css_syntax_anb_state(lxb_css_parser_t *parser,
                         const lxb_css_syntax_token_t *token, void *ctx);

static lxb_status_t
lxb_css_syntax_anb_end(lxb_css_parser_t *parser,
                       const lxb_css_syntax_token_t *token,
                       void *ctx, bool failed);

static lxb_css_log_message_t *
lxb_css_syntax_anb_fail(lxb_css_parser_t *parser,
                        const lxb_css_syntax_token_t *token);

static lxb_status_t
lxb_css_syntax_anb_state_ident(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               lxb_css_syntax_anb_t *anb);

static lxb_status_t
lxb_css_syntax_anb_state_ident_data(lxb_css_parser_t *parser,
                                    lxb_css_syntax_anb_t *anb,
                                    const lxb_css_syntax_token_t *token,
                                    const lxb_char_t *data,
                                    const lxb_char_t *end);


static const lxb_css_syntax_cb_pipe_t lxb_css_syntax_anb_pipe = {
    .prelude = lxb_css_syntax_anb_state,
    .cb.failed = lxb_css_state_failed,
    .cb.end = lxb_css_syntax_anb_end
};


lxb_css_syntax_anb_t
lxb_css_syntax_anb_parse(lxb_css_parser_t *parser,
                         const lxb_char_t *data, size_t length)
{
    lxb_status_t status;
    lxb_css_syntax_anb_t anb;
    lxb_css_syntax_rule_t *rule;

    memset(&anb, 0, sizeof(lxb_css_syntax_anb_t));

    if (parser->stage != LXB_CSS_PARSER_CLEAN) {
        if (parser->stage == LXB_CSS_PARSER_RUN) {
            parser->status = LXB_STATUS_ERROR_WRONG_ARGS;
            return anb;
        }

        lxb_css_parser_clean(parser);
    }

    lxb_css_parser_buffer_set(parser, data, length);

    rule = lxb_css_syntax_parser_pipe_push(parser, &lxb_css_syntax_anb_pipe,
                                           NULL, &anb,
                                           LXB_CSS_SYNTAX_TOKEN_UNDEF);
    if (rule == NULL) {
        return anb;
    }

    parser->tkz->with_comment = false;
    parser->stage = LXB_CSS_PARSER_RUN;

    status = lxb_css_syntax_parser_run(parser);
    if (status != LXB_STATUS_OK) {
        /* Destroy. */
    }

    parser->stage = LXB_CSS_PARSER_END;

    return anb;
}

static bool
lxb_css_syntax_anb_state(lxb_css_parser_t *parser,
                         const lxb_css_syntax_token_t *token, void *ctx)
{
    parser->status = lxb_css_syntax_anb_handler(parser, token, ctx);

    token = lxb_css_syntax_parser_token(parser);
    if (token == NULL) {
        return lxb_css_parser_memory_fail(parser);
    }

    if (parser->status != LXB_STATUS_OK
        || (token->type != LXB_CSS_SYNTAX_TOKEN__END))
    {
        (void) lxb_css_syntax_anb_fail(parser, token);
    }

    return lxb_css_parser_success(parser);
}

static lxb_status_t
lxb_css_syntax_anb_end(lxb_css_parser_t *parser,
                       const lxb_css_syntax_token_t *token,
                       void *ctx, bool failed)
{
    return LXB_STATUS_OK;
}

static lxb_css_log_message_t *
lxb_css_syntax_anb_fail(lxb_css_parser_t *parser,
                        const lxb_css_syntax_token_t *token)
{
    parser->status = LXB_STATUS_ERROR_UNEXPECTED_DATA;

    static const char anb[] = "An+B";

    return lxb_css_syntax_token_error(parser, token, anb);
}

lxb_status_t
lxb_css_syntax_anb_handler(lxb_css_parser_t *parser,
                           const lxb_css_syntax_token_t *token,
                           lxb_css_syntax_anb_t *anb)
{
    const lxb_char_t *data, *end;
    lxb_css_syntax_token_ident_t *ident;

again:

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_DIMENSION:
            if (lxb_css_syntax_token_dimension(token)->num.is_float) {
                return LXB_STATUS_ERROR_UNEXPECTED_DATA;
            }

            anb->a = lexbor_conv_double_to_long(lxb_css_syntax_token_dimension(token)->num.num);

            ident = lxb_css_syntax_token_dimension_string(token);

            goto ident;

        case LXB_CSS_SYNTAX_TOKEN_IDENT:
            return lxb_css_syntax_anb_state_ident(parser, token, anb);

        case LXB_CSS_SYNTAX_TOKEN_NUMBER:
            if (lxb_css_syntax_token_number(token)->is_float) {
                return LXB_STATUS_ERROR_UNEXPECTED_DATA;
            }

            anb->a = 0;
            anb->b = lexbor_conv_double_to_long(lxb_css_syntax_token_number(token)->num);
            break;

        case LXB_CSS_SYNTAX_TOKEN_DELIM:
            if (lxb_css_syntax_token_delim(token)->character != '+') {
                return LXB_STATUS_ERROR_UNEXPECTED_DATA;
            }

            lxb_css_syntax_parser_consume(parser);
            lxb_css_parser_token_status_m(parser, token);

            if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
                return LXB_STATUS_ERROR_UNEXPECTED_DATA;
            }

            anb->a = 1;

            ident = lxb_css_syntax_token_ident(token);

            goto ident;

        case LXB_CSS_SYNTAX_TOKEN_WHITESPACE:
            lxb_css_syntax_parser_consume(parser);
            lxb_css_parser_token_status_m(parser, token);
            goto again;

        default:
            return LXB_STATUS_ERROR_UNEXPECTED_DATA;
    }

    lxb_css_syntax_parser_consume(parser);

    return LXB_STATUS_OK;

ident:

    data = ident->data;
    end = ident->data + ident->length;

    if (*data != 'n' && *data != 'N') {
        return LXB_STATUS_ERROR_UNEXPECTED_DATA;
    }

    data++;

    return lxb_css_syntax_anb_state_ident_data(parser, anb, token, data, end);
}

static lxb_status_t
lxb_css_syntax_anb_state_ident(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               lxb_css_syntax_anb_t *anb)
{
    size_t length;
    lxb_char_t c;
    const lxb_char_t *data, *end;
    lxb_css_syntax_token_ident_t *ident;

    static const lxb_char_t odd[] = "odd";
    static const lxb_char_t even[] = "even";

    ident = lxb_css_syntax_token_ident(token);

    length = ident->length;
    data = ident->data;
    end = data + length;

    c = *data++;

    /* 'n' or '-n' */

    if (c == 'n' || c == 'N') {
        anb->a = 1;
    }
    else if (c == '-') {
        if (data >= end) {
            return LXB_STATUS_ERROR_UNEXPECTED_DATA;
        }

        c = *data++;

        if (c != 'n' && c != 'N') {
            return LXB_STATUS_ERROR_UNEXPECTED_DATA;
        }

        anb->a = -1;
    }
    else if (length == sizeof(odd) - 1
             && lexbor_str_data_ncasecmp(ident->data, odd, sizeof(odd) - 1))
    {
        anb->a = 2;
        anb->b = 1;

        lxb_css_syntax_parser_consume(parser);
        return LXB_STATUS_OK;
    }
    else if (length == sizeof(even) - 1
             && lexbor_str_data_ncasecmp(ident->data, even, sizeof(even) - 1))
    {
        anb->a = 2;
        anb->b = 0;

        lxb_css_syntax_parser_consume(parser);
        return LXB_STATUS_OK;
    }
    else {
        return LXB_STATUS_ERROR_UNEXPECTED_DATA;
    }

    return lxb_css_syntax_anb_state_ident_data(parser, anb, token, data, end);
}

static lxb_status_t
lxb_css_syntax_anb_state_ident_data(lxb_css_parser_t *parser,
                                    lxb_css_syntax_anb_t *anb,
                                    const lxb_css_syntax_token_t *token,
                                    const lxb_char_t *data,
                                    const lxb_char_t *end)
{
    unsigned sign;
    lxb_char_t c;
    const lxb_char_t *p;

    sign = 0;

    if (data >= end) {
        lxb_css_syntax_parser_consume(parser);
        lxb_css_parser_token_status_wo_ws_m(parser, token);

        switch (token->type) {
            case LXB_CSS_SYNTAX_TOKEN_NUMBER:
                if (!lxb_css_syntax_token_number(token)->have_sign) {
                    anb->b = 0;
                    return LXB_STATUS_OK;
                }

                break;

            case LXB_CSS_SYNTAX_TOKEN_DELIM:
                c = lxb_css_syntax_token_delim(token)->character;

                switch (c) {
                    case '-':
                        sign = 1;
                        break;

                    case '+':
                        sign = 2;
                        break;

                    default:
                        anb->b = 0;
                        return LXB_STATUS_OK;
                }

                lxb_css_syntax_parser_consume(parser);
                lxb_css_parser_token_status_wo_ws_m(parser, token);

                break;

            case LXB_CSS_SYNTAX_TOKEN__EOF:
                anb->b = 0;
                return LXB_STATUS_OK;

            default:
                anb->b = 0;
                return LXB_STATUS_OK;
        }

        goto number;
    }

    c = *data++;

    if (c != '-') {
        return LXB_STATUS_ERROR_UNEXPECTED_DATA;
    }

    if (data < end) {
        p = data;
        anb->b = -lexbor_conv_data_to_long(&data, end - data);

        if (anb->b > 0 || data == p || data < end) {
            return LXB_STATUS_ERROR_UNEXPECTED_DATA;
        }

        goto done;
    }

    sign = 1;

    lxb_css_syntax_parser_consume(parser);
    lxb_css_parser_token_status_wo_ws_m(parser, token);

number:

    if (token->type != LXB_CSS_SYNTAX_TOKEN_NUMBER) {
        return LXB_STATUS_ERROR_UNEXPECTED_DATA;
    }

    if (lxb_css_syntax_token_number(token)->is_float
        || (sign > 0 && lxb_css_syntax_token_number(token)->have_sign))
    {
        return LXB_STATUS_ERROR_UNEXPECTED_DATA;
    }

    anb->b = lexbor_conv_double_to_long(lxb_css_syntax_token_number(token)->num);

    if (sign == 1) {
        anb->b = -anb->b;
    }

done:

    lxb_css_syntax_parser_consume(parser);

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_syntax_anb_serialize(lxb_css_syntax_anb_t *anb,
                             lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_char_t buf[128];
    lxb_char_t *p, *end;

    if (anb == NULL) {
        return LXB_STATUS_OK;
    }

    static const lxb_char_t odd[] = "odd";
    static const lxb_char_t even[] = "even";

    if (anb->a == 2) {
        if (anb->b == 1) {
            return cb(odd, sizeof(odd) - 1, ctx);
        }

        if (anb->b == 0) {
            return cb(even, sizeof(even) - 1, ctx);
        }
    }

    p = buf;
    end = p + sizeof(buf);

    if (anb->a == 1) {
        *p = '+';
        p++;
    }
    else if (anb->a == -1) {
        *p = '-';
        p++;
    }
    else {
        p += lexbor_conv_float_to_data((double) anb->a, p, end - p);
        if (p >= end) {
            return LXB_STATUS_ERROR_SMALL_BUFFER;
        }
    }

    *p = 'n';
    p++;

    if (p >= end) {
        return cb(buf, p - buf, ctx);
    }

    if (anb->b == 0) {
        return cb(buf, p - buf, ctx);
    }

    if (anb->b > 0) {
        *p = '+';
        p++;

        if (p >= end) {
            return LXB_STATUS_ERROR_SMALL_BUFFER;
        }
    }

    p += lexbor_conv_float_to_data((double) anb->b, p, end - p);

    return cb(buf, p - buf, ctx);
}

lxb_char_t *
lxb_css_syntax_anb_serialize_char(lxb_css_syntax_anb_t *anb, size_t *out_length)
{
    size_t length = 0;
    lxb_status_t status;
    lexbor_str_t str;

    status = lxb_css_syntax_anb_serialize(anb, lexbor_serialize_length_cb,
                                          &length);
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    /* + 1 == '\0' */
    str.data = lexbor_malloc(length + 1);
    if (str.data == NULL) {
        goto failed;
    }

    str.length = 0;

    status = lxb_css_syntax_anb_serialize(anb, lexbor_serialize_copy_cb, &str);
    if (status != LXB_STATUS_OK) {
        lexbor_free(str.data);
        goto failed;
    }

    str.data[str.length] = '\0';

    if (out_length != NULL) {
        *out_length = str.length;
    }

    return str.data;

failed:

    if (out_length != NULL) {
        *out_length = 0;
    }

    return NULL;
}

static const lexbor_str_t lxb_css_err_rc = lexbor_str("Unexpected token in "
                                                      "qualified rule: RC_BRACKET");

static lxb_css_syntax_rule_t *
lxb_css_syntax_parser_stack_pop(lxb_css_parser_t *parser);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_list_rules(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_list_rules_at(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token,
                                    lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_list_rules_qualified(lxb_css_parser_t *parser,
                                           const lxb_css_syntax_token_t *token,
                                           lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_list_rules_back(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_at_begin(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               lxb_css_syntax_rule_t *rule,
                               lxb_css_parser_state_f back_state,
                               lxb_css_syntax_begin_at_rule_f cb,
                               bool nested);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_at_rule(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token,
                              lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_at_block(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_at_prelude_end(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_at_prelude_end_consule_token(lxb_css_parser_t *parser,
                                                   const lxb_css_syntax_token_t *token,
                                                   lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_at_back_to_prelude(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_qualified_rule(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_qualified_rule_block(lxb_css_parser_t *parser,
                                           const lxb_css_syntax_token_t *token,
                                           lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_qualified_prelude_end(lxb_css_parser_t *parser,
                                            const lxb_css_syntax_token_t *token,
                                            lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_qualified_back_to_prelude(lxb_css_parser_t *parser,
                                                const lxb_css_syntax_token_t *token,
                                                lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_block_begin(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  lxb_css_syntax_rule_t *rule,
                                  lxb_css_parser_state_f back_state,
                                  lxb_css_syntax_begin_block_f cb);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_block(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token,
                            lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_block_at(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_block_declarations(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_block_qualified(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_block_back(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_validate(lxb_css_parser_t *parser,
                                            const lxb_css_syntax_token_t *token,
                                            lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_begin(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_name(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_value(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_drop(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_next(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declaration_back_to_value(lxb_css_parser_t *parser,
                                                const lxb_css_syntax_token_t *token,
                                                lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declaration_end(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declaration_end_handler(lxb_css_parser_t *parser,
                                              const lxb_css_syntax_token_t *token,
                                              lxb_css_syntax_rule_t *rule,
                                              bool skip_token);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_end(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token,
                                       lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_end_h(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         lxb_css_syntax_rule_t *rule,
                                         bool skip_token);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_components(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_components_back_to_value(lxb_css_parser_t *parser,
                                               const lxb_css_syntax_token_t *token,
                                               lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_function(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_function_back(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token,
                                    lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_pipe(lxb_css_parser_t *parser,
                           const lxb_css_syntax_token_t *token,
                           lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_pipe_back(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token,
                                lxb_css_syntax_rule_t *rule);

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_end_back(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               lxb_css_syntax_rule_t *rule);


lxb_inline const lxb_css_syntax_token_t *
lxb_css_syntax_parser_failed(lxb_css_parser_t *parser, lxb_status_t status)
{
    parser->status = status;
    return NULL;
}

lxb_inline const lxb_css_syntax_token_t *
lxb_css_syntax_token_parser_do_phase_again(lxb_css_parser_t *parser)
{
    parser->fake_null = true;
    return NULL;
}

lxb_inline const lxb_css_syntax_token_t *
lxb_css_syntax_parser_call_back(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token)
{
    lxb_css_syntax_rule_t *rules;

    (void) lxb_css_syntax_parser_stack_pop(parser);

    rules = parser->rules;

    if (parser->rules <= parser->rules_begin) {
        rules->state = lxb_css_state_stop;
        return token;
    }

    return rules->back(parser, token, rules);
}


lxb_status_t
lxb_css_syntax_parser_run(lxb_css_parser_t *parser)
{
    const lxb_css_syntax_token_t *token;

    parser->loop = true;

    do {
        token = lxb_css_syntax_parser_token(parser);
        if (token == NULL) {
            if (parser->fake_null) {
                parser->fake_null = false;
                continue;
            }

            return parser->status;
        }

        while (parser->rules->state(parser, token,
                                    parser->rules->context) == false) {};
    }
    while (parser->loop);

    return parser->status;
}

const lxb_css_syntax_token_t *
lxb_css_syntax_parser_token(lxb_css_parser_t *parser)
{
    lxb_css_syntax_token_t *token;
    lxb_css_syntax_rule_t *rule = parser->rules;

    token = lxb_css_syntax_token(parser->tkz);
    if (token == NULL) {
        return lxb_css_syntax_parser_failed(parser, parser->tkz->status);
    }

    return rule->phase(parser, token, rule);
}

const lxb_css_syntax_token_t *
lxb_css_syntax_parser_token_wo_ws(lxb_css_parser_t *parser)
{
    const lxb_css_syntax_token_t *token;

    token = lxb_css_syntax_parser_token(parser);

    if (token != NULL && token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {
        lxb_css_syntax_parser_consume(parser);
        return lxb_css_syntax_parser_token(parser);
    }

    return token;
}

void
lxb_css_syntax_parser_consume(lxb_css_parser_t *parser)
{
    if (!parser->rules->skip_consume) {
        lxb_css_syntax_token_consume(parser->tkz);
    }
}

lxb_css_syntax_rule_t *
lxb_css_syntax_parser_list_rules_push(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_cb_list_rules_t *cb_rules,
                                      lxb_css_parser_state_f back,
                                      void *ctx, lxb_css_syntax_token_type_t stop)
{
    lxb_css_syntax_rule_t *rule;

    if ((parser->rules + 1) >= parser->rules_end) {
        parser->status = lxb_css_syntax_stack_expand(parser, 1);
        if (parser->status != LXB_STATUS_OK) {
            return NULL;
        }
    }

    parser->rules->back_state = back;

    rule = ++parser->rules;

    *rule = (lxb_css_syntax_rule_t) {
        .phase = lxb_css_syntax_parser_list_rules,
        .state = lxb_css_state_blank,
        .back = lxb_css_syntax_parser_list_rules_back,
        .cbx.list_rules = cb_rules,
        .context = ctx,
        .block_end = stop
    };

    return rule;
}

lxb_css_syntax_rule_t *
lxb_css_syntax_parser_at_rule_push(lxb_css_parser_t *parser,
                                   const lxb_css_syntax_cb_at_rule_t *at_rule,
                                   lxb_css_parser_state_f back, void *ctx,
                                   lxb_css_syntax_token_type_t stop,
                                   bool nested)
{
    lxb_css_syntax_rule_t *rule;

    if ((parser->rules + 1) >= parser->rules_end) {
        parser->status = lxb_css_syntax_stack_expand(parser, 1);
        if (parser->status != LXB_STATUS_OK) {
            return NULL;
        }
    }

    parser->rules->back_state = back;

    rule = ++parser->rules;

    *rule = (lxb_css_syntax_rule_t) {
        .phase = lxb_css_syntax_parser_at_rule,
        .state = at_rule->prelude,
        .back = lxb_css_syntax_parser_at_back_to_prelude,
        .cbx.at_rule = at_rule,
        .context = ctx,
        .block_end = stop,
        .nested = nested
    };

    return rule;
}

lxb_css_syntax_rule_t *
lxb_css_syntax_parser_qualified_push(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_cb_qualified_rule_t *qualified,
                                     lxb_css_parser_state_f back, void *ctx,
                                     lxb_css_syntax_token_type_t stop,
                                     bool nested)
{
    lxb_css_syntax_rule_t *rule;

    if ((parser->rules + 1) >= parser->rules_end) {
        parser->status = lxb_css_syntax_stack_expand(parser, 1);
        if (parser->status != LXB_STATUS_OK) {
            return NULL;
        }
    }

    parser->rules->back_state = back;

    rule = ++parser->rules;

    *rule = (lxb_css_syntax_rule_t) {
        .phase = lxb_css_syntax_parser_qualified_rule,
        .state = qualified->prelude,
        .back = lxb_css_syntax_parser_qualified_back_to_prelude,
        .cbx.qualified_rule = qualified,
        .context = ctx,
        .block_end = stop,
        .nested = nested
    };

    return rule;
}

lxb_css_syntax_rule_t *
lxb_css_syntax_parser_block_push(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_cb_block_t *block,
                                 lxb_css_parser_state_f back, void *ctx)
{
    lxb_css_syntax_rule_t *rule;

    if ((parser->rules + 1) >= parser->rules_end) {
        parser->status = lxb_css_syntax_stack_expand(parser, 1);
        if (parser->status != LXB_STATUS_OK) {
            return NULL;
        }
    }

    parser->rules->back_state = back;

    rule = ++parser->rules;

    *rule = (lxb_css_syntax_rule_t) {
        .phase = lxb_css_syntax_parser_block,
        .state = lxb_css_state_blank,
        .back = lxb_css_syntax_parser_block_back,
        .cbx.block = block,
        .context = ctx
    };

    return rule;
}

lxb_css_syntax_rule_t *
lxb_css_syntax_parser_declarations_push(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_cb_declarations_t *declr,
                                        lxb_css_parser_state_f back, void *ctx,
                                        lxb_css_syntax_token_type_t stop,
                                        bool name_validate, bool nested)
{
    lxb_css_syntax_rule_t *rule;
    lxb_css_syntax_state_f phase;

    if ((parser->rules + 1) >= parser->rules_end) {
        parser->status = lxb_css_syntax_stack_expand(parser, 1);
        if (parser->status != LXB_STATUS_OK) {
            return NULL;
        }
    }

    parser->rules->back_state = back;

    rule = ++parser->rules;

    phase = (!name_validate) ? lxb_css_syntax_parser_declarations_begin
                             : lxb_css_syntax_parser_declarations_validate;

    *rule = (lxb_css_syntax_rule_t) {
        .phase = phase,
        .state = lxb_css_state_blank,
        .back = lxb_css_syntax_parser_declaration_back_to_value,
        .cbx.declarations = declr,
        .context = ctx,
        .block_end = stop,
        .nested = nested
    };

    return rule;
}

lxb_css_syntax_rule_t *
lxb_css_syntax_parser_components_push(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_cb_components_t *comp,
                                      lxb_css_parser_state_f back, void *ctx,
                                      lxb_css_syntax_token_type_t stop)
{
    lxb_css_syntax_rule_t *rule;

    if ((parser->rules + 1) >= parser->rules_end) {
        parser->status = lxb_css_syntax_stack_expand(parser, 1);
        if (parser->status != LXB_STATUS_OK) {
            return NULL;
        }
    }

    parser->rules->back_state = back;

    rule = ++parser->rules;

    *rule = (lxb_css_syntax_rule_t) {
        .phase = lxb_css_syntax_parser_components,
        .state = comp->prelude,
        .back = lxb_css_syntax_parser_components_back_to_value,
        .cbx.components = comp,
        .context = ctx,
        .block_end = stop
    };

    return rule;
}

lxb_css_syntax_rule_t *
lxb_css_syntax_parser_function_push(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_cb_function_t *func,
                                    lxb_css_parser_state_f back, void *ctx)
{
    lxb_css_syntax_rule_t *rule;

    if ((parser->rules + 1) >= parser->rules_end) {
        parser->status = lxb_css_syntax_stack_expand(parser, 1);
        if (parser->status != LXB_STATUS_OK) {
            return NULL;
        }
    }

    parser->rules->back_state = back;

    rule = ++parser->rules;

    *rule = (lxb_css_syntax_rule_t) {
        .phase = lxb_css_syntax_parser_function,
        .state = func->value,
        .back = lxb_css_syntax_parser_function_back,
        .cbx.func = func,
        .context = ctx
    };

    return rule;
}

lxb_css_syntax_rule_t *
lxb_css_syntax_parser_pipe_push(lxb_css_parser_t *parser,
                                const lxb_css_syntax_cb_pipe_t *pipe,
                                lxb_css_parser_state_f back, void *ctx,
                                lxb_css_syntax_token_type_t stop)
{
    lxb_css_syntax_rule_t *rule;

    if ((parser->rules + 1) >= parser->rules_end) {
        parser->status = lxb_css_syntax_stack_expand(parser, 1);
        if (parser->status != LXB_STATUS_OK) {
            return NULL;
        }
    }

    parser->rules->back_state = back;

    rule = ++parser->rules;

    *rule = (lxb_css_syntax_rule_t) {
        .phase = lxb_css_syntax_parser_pipe,
        .state = pipe->prelude,
        .back = lxb_css_syntax_parser_pipe_back,
        .cbx.pipe = pipe,
        .context = ctx,
        .block_end = stop
    };

    return rule;
}

static lxb_css_syntax_rule_t *
lxb_css_syntax_parser_stack_pop(lxb_css_parser_t *parser)
{
    return parser->rules--;
}

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_list_rules(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 lxb_css_syntax_rule_t *rule)
{
    if (rule->offset > token->offset) {
        return token;
    }

    rule->skip_consume = true;

begin:

    rule->offset = token->offset + lxb_css_syntax_token_base(token)->length;

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_WHITESPACE:
        case LXB_CSS_SYNTAX_TOKEN_CDC:
        case LXB_CSS_SYNTAX_TOKEN_CDO:
            lxb_css_syntax_token_consume(parser->tkz);

            token = lxb_css_syntax_token(parser->tkz);
            if (token == NULL) {
                return lxb_css_syntax_parser_failed(parser,
                                                    parser->tkz->status);
            }

            goto begin;

        case LXB_CSS_SYNTAX_TOKEN_AT_KEYWORD:
            rule->phase = lxb_css_syntax_parser_list_rules_at;
            break;

        case LXB_CSS_SYNTAX_TOKEN__EOF:
            goto done;

        default:
            if (rule->block_end == token->type && rule->deep == 0) {
                goto done;
            }

            rule->phase = lxb_css_syntax_parser_list_rules_qualified;
            break;
    }

    return token;

done:

    rule->phase = lxb_css_syntax_parser_end;

    return lxb_css_parser_token_end(parser, 0);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_list_rules_at(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token,
                                    lxb_css_syntax_rule_t *rule)
{
    const lxb_css_syntax_cb_list_rules_t *list_rules = rule->cbx.list_rules;

    return lxb_css_syntax_parser_at_begin(parser, token, rule, list_rules->next,
                                          list_rules->at_rule, false);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_list_rules_qualified(lxb_css_parser_t *parser,
                                           const lxb_css_syntax_token_t *token,
                                           lxb_css_syntax_rule_t *rule)
{
    void *qualified_ctx;
    lxb_css_syntax_rule_t *qualified;
    lxb_css_syntax_begin_qualified_rule_f cb;
    const lxb_css_syntax_cb_list_rules_t *list_rules;
    const lxb_css_syntax_cb_qualified_rule_t *cb_qualified;

    qualified_ctx = NULL;
    list_rules = rule->cbx.list_rules;
    cb = list_rules->qualified_rule;

    rule->skip_consume = false;

    cb_qualified = cb(parser, token, rule->context, &qualified_ctx);
    if (cb_qualified == NULL) {
        return lxb_css_syntax_parser_failed(parser,
                                            LXB_STATUS_ERROR_UNEXPECTED_DATA);
    }

    qualified = lxb_css_syntax_parser_qualified_push(parser, cb_qualified,
                                                     list_rules->next,
                                                     qualified_ctx,
                                                     rule->block_end,
                                                     false);
    if (qualified == NULL) {
        return lxb_css_syntax_parser_failed(parser,
                                            LXB_STATUS_ERROR_MEMORY_ALLOCATION);
    }

    return lxb_css_syntax_token_parser_do_phase_again(parser);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_list_rules_back(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      lxb_css_syntax_rule_t *rule)
{
    rule->phase = lxb_css_syntax_parser_list_rules;
    rule->state = rule->back_state;
    rule->skip_consume = true;

    return token;
}

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_at_begin(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               lxb_css_syntax_rule_t *rule,
                               lxb_css_parser_state_f back_state,
                               lxb_css_syntax_begin_at_rule_f cb,
                               bool nested)
{
    void *at_rule_ctx;
    lxb_css_syntax_rule_t *at_rule;
    const lxb_css_syntax_cb_at_rule_t *cb_at_rule;

    at_rule_ctx = NULL;
    rule->skip_consume = false;

    cb_at_rule = cb(parser, token, rule->context, &at_rule_ctx);
    if (cb_at_rule == NULL) {
        return lxb_css_syntax_parser_failed(parser,
                                            LXB_STATUS_ERROR_UNEXPECTED_DATA);
    }

    at_rule = lxb_css_syntax_parser_at_rule_push(parser, cb_at_rule,
                                                 back_state, at_rule_ctx,
                                                 rule->block_end, nested);
    if (at_rule == NULL) {
        return lxb_css_syntax_parser_failed(parser,
                                            LXB_STATUS_ERROR_MEMORY_ALLOCATION);
    }

    lxb_css_syntax_token_consume(parser->tkz);

    token = lxb_css_syntax_token(parser->tkz);
    if (token == NULL) {
        return lxb_css_syntax_parser_failed(parser, parser->tkz->status);
    }

    if (token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {
        lxb_css_syntax_token_consume(parser->tkz);
    }

    return lxb_css_syntax_token_parser_do_phase_again(parser);
}

/*
 * First call for this code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 * Rule -- lxb_css_syntax_rule_t with at_rule callbacks.
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_at_rule(lxb_css_parser_t *parser,
                              const lxb_css_syntax_token_t *token,
                              lxb_css_syntax_rule_t *rule)
{
    lxb_status_t status;
    const lxb_css_log_message_t *msg;

    if (rule->offset > token->offset) {
        return token;
    }

    rule->offset = token->offset + lxb_css_syntax_token_base(token)->length;

    if (rule->block_end == token->type && rule->deep == 0) {
        rule->phase = lxb_css_syntax_parser_at_prelude_end;
        goto done;
    }

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_LS_BRACKET:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_RS_BRACKET);
            break;

        case LXB_CSS_SYNTAX_TOKEN_FUNCTION:
        case LXB_CSS_SYNTAX_TOKEN_L_PARENTHESIS:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS);
            break;

        case LXB_CSS_SYNTAX_TOKEN_LC_BRACKET:
            if (rule->deep == 0) {
                rule->phase = lxb_css_syntax_parser_at_block;
                rule->back = lxb_css_syntax_parser_end_back;
                rule->skip_consume = true;

                return lxb_css_parser_token_end(parser, token->offset);
            }

            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_RC_BRACKET);
            break;

        case LXB_CSS_SYNTAX_TOKEN_RC_BRACKET:
            if (rule->deep != 0) {
                if (parser->types_pos[-1] == token->type) {
                    parser->types_pos--;
                    rule->deep--;
                }
            }
            else {
                msg = lxb_css_log_format(parser->log,
                                         LXB_CSS_LOG_SYNTAX_ERROR,
                                         "%S", &lxb_css_err_rc);
                if (msg == NULL) {
                    return lxb_css_syntax_parser_failed(parser,
                                           LXB_STATUS_ERROR_MEMORY_ALLOCATION);
                }

                if (rule->nested) {
                    rule->phase = lxb_css_syntax_parser_at_prelude_end;
                    goto done;
                }
            }

            return token;

        case LXB_CSS_SYNTAX_TOKEN_RS_BRACKET:
        case LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS:
            if (rule->deep != 0 && parser->types_pos[-1] == token->type) {
                parser->types_pos--;
                rule->deep--;
            }

            return token;

        case LXB_CSS_SYNTAX_TOKEN_SEMICOLON:
            if (rule->deep == 0) {
                rule->phase = lxb_css_syntax_parser_at_prelude_end_consule_token;
                goto done;
            }

            return token;

        case LXB_CSS_SYNTAX_TOKEN__EOF:
            rule->phase = lxb_css_syntax_parser_at_prelude_end;
            goto done;

        default:
            return token;
    }

    if (status != LXB_STATUS_OK) {
        return lxb_css_syntax_parser_failed(parser, status);
    }

    rule->deep++;

    return token;

done:

    rule->skip_consume = true;

    return lxb_css_parser_token_end(parser, token->offset);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_at_block(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               lxb_css_syntax_rule_t *rule)
{
    lxb_status_t status;
    const lxb_css_syntax_cb_at_rule_t *at_rule = rule->cbx.at_rule;

    status = at_rule->prelude_end(parser, token, rule->context, rule->failed);
    if (status != LXB_STATUS_OK) {
        return lxb_css_syntax_parser_failed(parser, status);
    }

    return lxb_css_syntax_parser_block_begin(parser, token, rule,
                                             at_rule->prelude, at_rule->block);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_at_prelude_end(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     lxb_css_syntax_rule_t *rule)
{
    lxb_status_t status;
    const lxb_css_syntax_cb_at_rule_t *at_rule = rule->cbx.at_rule;

    rule->phase = lxb_css_syntax_parser_end;
    rule->state = lxb_css_state_success;

    status = at_rule->prelude_end(parser, token, rule->context, rule->failed);
    if (status != LXB_STATUS_OK) {
        return lxb_css_syntax_parser_failed(parser, status);
    }

    return lxb_css_syntax_token_parser_do_phase_again(parser);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_at_prelude_end_consule_token(lxb_css_parser_t *parser,
                                                   const lxb_css_syntax_token_t *token,
                                                   lxb_css_syntax_rule_t *rule)
{
    lxb_status_t status;
    const lxb_css_syntax_cb_at_rule_t *at_rule = rule->cbx.at_rule;

    rule->phase = lxb_css_syntax_parser_end_consume_token;

    status = at_rule->prelude_end(parser, token, rule->context, rule->failed);
    if (status != LXB_STATUS_OK) {
        return lxb_css_syntax_parser_failed(parser, status);
    }

    return lxb_css_syntax_token_parser_do_phase_again(parser);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_at_back_to_prelude(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         lxb_css_syntax_rule_t *rule)
{
    rule->phase = lxb_css_syntax_parser_at_rule;
    rule->state = rule->back_state;
    rule->skip_consume = false;

    return token;
}

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_qualified_rule(lxb_css_parser_t *parser,
                                     const lxb_css_syntax_token_t *token,
                                     lxb_css_syntax_rule_t *rule)
{
    lxb_status_t status;
    const lxb_css_log_message_t *msg;

    if (rule->offset > token->offset) {
        return token;
    }

    rule->offset = token->offset + lxb_css_syntax_token_base(token)->length;

    if (rule->block_end == token->type && rule->deep == 0) {
        goto done;
    }

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_LS_BRACKET:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_RS_BRACKET);
            break;

        case LXB_CSS_SYNTAX_TOKEN_FUNCTION:
        case LXB_CSS_SYNTAX_TOKEN_L_PARENTHESIS:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS);
            break;

        case LXB_CSS_SYNTAX_TOKEN_LC_BRACKET:
            if (rule->deep == 0) {
                rule->phase = lxb_css_syntax_parser_qualified_rule_block;
                rule->back = lxb_css_syntax_parser_end_back;
                rule->skip_consume = true;

                return lxb_css_parser_token_end(parser, token->offset);
            }

            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_RC_BRACKET);
            break;

        case LXB_CSS_SYNTAX_TOKEN_RC_BRACKET:
            if (rule->deep != 0) {
                if (parser->types_pos[-1] == token->type) {
                    parser->types_pos--;
                    rule->deep--;
                }
            }
            else {
                msg = lxb_css_log_format(parser->log,
                                         LXB_CSS_LOG_SYNTAX_ERROR,
                                         "%S", &lxb_css_err_rc);
                if (msg == NULL) {
                    return lxb_css_syntax_parser_failed(parser,
                                        LXB_STATUS_ERROR_MEMORY_ALLOCATION);
                }

                if (rule->nested) {
                    goto done;
                }
            }

            return token;

        case LXB_CSS_SYNTAX_TOKEN_RS_BRACKET:
        case LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS:
            if (rule->deep != 0 && parser->types_pos[-1] == token->type) {
                parser->types_pos--;
                rule->deep--;
            }

            return token;

        case LXB_CSS_SYNTAX_TOKEN__EOF:
            goto done;

        default:
            return token;
    }

    if (status != LXB_STATUS_OK) {
        return lxb_css_syntax_parser_failed(parser, status);
    }

    rule->deep++;

    return token;

done:

    rule->phase = lxb_css_syntax_parser_qualified_prelude_end;
    rule->skip_consume = true;

    return lxb_css_parser_token_end(parser, token->offset);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_qualified_rule_block(lxb_css_parser_t *parser,
                                           const lxb_css_syntax_token_t *token,
                                           lxb_css_syntax_rule_t *rule)
{
    const lxb_css_syntax_cb_qualified_rule_t *qualified_rule;

    qualified_rule = rule->cbx.qualified_rule;

    parser->status = qualified_rule->prelude_end(parser, token,
                                                 rule->context, rule->failed);
    if (parser->status != LXB_STATUS_OK) {
        return NULL;
    }

    return lxb_css_syntax_parser_block_begin(parser, token, rule,
                                             qualified_rule->prelude,
                                             qualified_rule->block);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_qualified_prelude_end(lxb_css_parser_t *parser,
                                            const lxb_css_syntax_token_t *token,
                                            lxb_css_syntax_rule_t *rule)
{
    const lxb_css_syntax_cb_qualified_rule_t *qualified_rule;

    qualified_rule = rule->cbx.qualified_rule;

    parser->status = qualified_rule->prelude_end(parser, token,
                                                 rule->context, rule->failed);
    if (parser->status != LXB_STATUS_OK) {
        return NULL;
    }

    rule->phase = lxb_css_syntax_parser_end;
    rule->state = lxb_css_state_success;

    return lxb_css_syntax_token_parser_do_phase_again(parser);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_qualified_back_to_prelude(lxb_css_parser_t *parser,
                                                const lxb_css_syntax_token_t *token,
                                                lxb_css_syntax_rule_t *rule)
{
    rule->phase = lxb_css_syntax_parser_qualified_rule;
    rule->state = rule->back_state;
    rule->skip_consume = false;

    return token;
}

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_block_begin(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  lxb_css_syntax_rule_t *rule,
                                  lxb_css_parser_state_f back_state,
                                  lxb_css_syntax_begin_block_f cb)
{
    void *block_ctx;
    lxb_css_syntax_rule_t *block;
    const lxb_css_syntax_cb_block_t *cb_block;

    block_ctx = NULL;
    rule->skip_consume = false;

    cb_block = cb(parser, token, rule->context, &block_ctx);
    if (cb_block == NULL) {
        return lxb_css_syntax_parser_failed(parser,
                                            LXB_STATUS_ERROR_UNEXPECTED_DATA);
    }

    block = lxb_css_syntax_parser_block_push(parser, cb_block, back_state,
                                             block_ctx);
    if (block == NULL) {
        return lxb_css_syntax_parser_failed(parser,
                                            LXB_STATUS_ERROR_MEMORY_ALLOCATION);
    }

    lxb_css_syntax_token_consume(parser->tkz);

    return lxb_css_syntax_token_parser_do_phase_again(parser);
}

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_block(lxb_css_parser_t *parser,
                            const lxb_css_syntax_token_t *token,
                            lxb_css_syntax_rule_t *rule)
{
    if (rule->offset > token->offset) {
        return token;
    }

begin:

    rule->offset = token->offset + lxb_css_syntax_token_base(token)->length;

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_SEMICOLON:
        case LXB_CSS_SYNTAX_TOKEN_WHITESPACE:
            lxb_css_syntax_token_consume(parser->tkz);

            token = lxb_css_syntax_token(parser->tkz);
            if (token == NULL) {
                return lxb_css_syntax_parser_failed(parser,
                                                    parser->tkz->status);
            }

            goto begin;

        case LXB_CSS_SYNTAX_TOKEN_RC_BRACKET:
            if (rule->deep == 0) {
                rule->phase = lxb_css_syntax_parser_end_consume_token;
                break;
            }

            if (parser->types_pos[-1] == token->type) {
                parser->types_pos--;
                rule->deep--;
            }

            return token;

        case LXB_CSS_SYNTAX_TOKEN__EOF:
            rule->phase = lxb_css_syntax_parser_end;
            break;

        case LXB_CSS_SYNTAX_TOKEN_AT_KEYWORD:
            rule->phase = lxb_css_syntax_parser_block_at;
            break;

        case LXB_CSS_SYNTAX_TOKEN_IDENT:
            if (lxb_css_syntax_tokenizer_lookup_colon(parser->tkz)) {
                rule->phase = lxb_css_syntax_parser_block_declarations;
                break;
            }

            /* Fall Through. */

        default:
            rule->phase = lxb_css_syntax_parser_block_qualified;
            break;
    }

    rule->skip_consume = true;

    return lxb_css_parser_token_end(parser, 0);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_block_at(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               lxb_css_syntax_rule_t *rule)
{
    const lxb_css_syntax_cb_block_t *block = rule->cbx.block;

    return lxb_css_syntax_parser_at_begin(parser, token, rule,
                                          block->next, block->at_rule, true);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_block_declarations(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         lxb_css_syntax_rule_t *rule)
{
    void *declr_ctx;
    lxb_css_syntax_rule_t *declr_rule;
    lxb_css_syntax_begin_declarations_f cb;
    const lxb_css_syntax_cb_block_t *block;
    const lxb_css_syntax_cb_declarations_t *cb_declr;

    declr_ctx = NULL;
    block = rule->cbx.block;
    cb = block->declarations;

    rule->skip_consume = false;

    cb_declr = cb(parser, token, rule->context, &declr_ctx);
    if (cb_declr == NULL) {
        return lxb_css_syntax_parser_failed(parser,
                                            LXB_STATUS_ERROR_UNEXPECTED_DATA);
    }

    declr_rule = lxb_css_syntax_parser_declarations_push(parser, cb_declr,
                                                         block->next, declr_ctx,
                                                         LXB_CSS_SYNTAX_TOKEN_RC_BRACKET,
                                                         false, true);
    if (declr_rule == NULL) {
        return lxb_css_syntax_parser_failed(parser,
                                            LXB_STATUS_ERROR_MEMORY_ALLOCATION);
    }

    return lxb_css_syntax_token_parser_do_phase_again(parser);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_block_qualified(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      lxb_css_syntax_rule_t *rule)
{
    void *qualified_ctx;
    lxb_css_syntax_rule_t *qualified;
    const lxb_css_syntax_cb_block_t *block;
    lxb_css_syntax_begin_qualified_rule_f cb;
    const lxb_css_syntax_cb_qualified_rule_t *cb_qualified;

    qualified_ctx = NULL;
    block = rule->cbx.block;
    cb = block->qualified_rule;

    rule->skip_consume = false;

    cb_qualified = cb(parser, token, rule->context, &qualified_ctx);
    if (cb_qualified == NULL) {
        return lxb_css_syntax_parser_failed(parser,
                                            LXB_STATUS_ERROR_UNEXPECTED_DATA);
    }

    qualified = lxb_css_syntax_parser_qualified_push(parser, cb_qualified,
                                                     block->next, qualified_ctx,
                                                     LXB_CSS_SYNTAX_TOKEN_SEMICOLON,
                                                     true);
    if (qualified == NULL) {
        return lxb_css_syntax_parser_failed(parser,
                                            LXB_STATUS_ERROR_MEMORY_ALLOCATION);
    }

    return lxb_css_syntax_token_parser_do_phase_again(parser);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_block_back(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 lxb_css_syntax_rule_t *rule)
{
    rule->phase = lxb_css_syntax_parser_block;
    rule->state = rule->back_state;
    rule->skip_consume = true;

    return token;
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_validate(lxb_css_parser_t *parser,
                                            const lxb_css_syntax_token_t *token,
                                            lxb_css_syntax_rule_t *rule)
{
    if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT
        || !lxb_css_syntax_tokenizer_lookup_colon(parser->tkz))
    {
        rule->phase = lxb_css_syntax_parser_declarations_drop;
        rule->state = rule->cbx.cb->failed;
        rule->begin = token->offset;
        rule->context_old = rule->context;
        rule->context = NULL;
        rule->failed = true;

        parser->offset.value_end = 0;

        return lxb_css_syntax_token_parser_do_phase_again(parser);
    }

    return lxb_css_syntax_parser_declarations_begin(parser, token, rule);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_begin(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         lxb_css_syntax_rule_t *rule)
{
    void *declr_ctx;
    lxb_css_syntax_declaration_name_f cb;

    declr_ctx = NULL;
    cb = rule->cbx.declarations->name;

    rule->state = cb(parser, token, rule->context, &declr_ctx);
    if (rule->state == NULL) {
        return lxb_css_syntax_parser_failed(parser,
                                            LXB_STATUS_ERROR_UNEXPECTED_DATA);
    }

    rule->phase = lxb_css_syntax_parser_declarations_name;
    rule->context_old = rule->context;
    rule->context = declr_ctx;
    rule->skip_consume = false;

    lxb_css_syntax_token_consume(parser->tkz);

    return lxb_css_syntax_token_parser_do_phase_again(parser);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_name(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        lxb_css_syntax_rule_t *rule)
{
    /* 1. */

    if (token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {
        lxb_css_syntax_token_consume(parser->tkz);

        token = lxb_css_syntax_token(parser->tkz);
        if (token == NULL) {
            return lxb_css_syntax_parser_failed(parser, parser->tkz->status);
        }
    }

    /* 2. */

    if (token->type != LXB_CSS_SYNTAX_TOKEN_COLON) {
        /* Parse error. */

        /*
         * It can't be.
         *
         * Before entering the lxb_css_syntax_parser_declarations_name()
         * function, data validation takes place. In fact, these checks are not
         * needed here.
         */

        /*
         * But it's good for validation, if we come here it means we're
         * doing badly.
         */

        return NULL;
    }

    lxb_css_syntax_token_consume(parser->tkz);

    token = lxb_css_syntax_token(parser->tkz);
    if (token == NULL) {
        return lxb_css_syntax_parser_failed(parser, parser->tkz->status);
    }

    /* 3. */

    if (token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {
        lxb_css_syntax_token_consume(parser->tkz);

        token = lxb_css_syntax_token(parser->tkz);
        if (token == NULL) {
            return lxb_css_syntax_parser_failed(parser, parser->tkz->status);
        }
    }

    rule->begin = token->offset;
    parser->offset.value_end = 0;

    /* 4. */

    rule->phase = lxb_css_syntax_parser_declarations_value;

    return lxb_css_syntax_parser_declarations_value(parser, token, rule);
}

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_value(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         lxb_css_syntax_rule_t *rule)
{
    bool imp;
    size_t offset;
    lxb_status_t status;

    if (rule->offset > token->offset) {
        return token;
    }

again:

    rule->offset = token->offset + lxb_css_syntax_token_base(token)->length;

    if (rule->block_end == token->type && rule->deep == 0) {
        goto done;
    }

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_WHITESPACE:
            if (rule->deep != 0) {
                return token;
            }

            imp = lxb_css_syntax_tokenizer_lookup_declaration_ws_end(parser->tkz,
            rule->block_end,
            (rule->block_end == LXB_CSS_SYNTAX_TOKEN_RC_BRACKET) ? 0x7D : 0x00);

            if (!imp) {
                return token;
            }

            parser->offset.value_end = token->offset;

            lxb_css_syntax_token_consume(parser->tkz);

            token = lxb_css_syntax_token(parser->tkz);
            if (token == NULL) {
                return lxb_css_syntax_parser_failed(parser, parser->tkz->status);
            }

            /* Have !important? */

            if (token->type == LXB_CSS_SYNTAX_TOKEN_DELIM) {
                rule->important = true;
                parser->offset.important_begin = token->offset;

                lxb_css_syntax_token_consume(parser->tkz);

                /* Skip important */

                token = lxb_css_syntax_token(parser->tkz);
                if (token == NULL) {
                    return lxb_css_syntax_parser_failed(parser, parser->tkz->status);
                }

                parser->offset.important_end = token->offset
                    + lxb_css_syntax_token_base(token)->length;

                lxb_css_syntax_token_consume(parser->tkz);

                token = lxb_css_syntax_token(parser->tkz);
                if (token == NULL) {
                    return lxb_css_syntax_parser_failed(parser, parser->tkz->status);
                }

                if (token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {
                    lxb_css_syntax_token_consume(parser->tkz);

                    token = lxb_css_syntax_token(parser->tkz);
                    if (token == NULL) {
                        return lxb_css_syntax_parser_failed(parser,
                                                            parser->tkz->status);
                    }
                }
            }
            else {
                parser->offset.important_begin = 0;
                parser->offset.important_end = 0;
            }

            goto again;

        case LXB_CSS_SYNTAX_TOKEN_SEMICOLON:
            if (rule->deep == 0) {
                rule->phase = lxb_css_syntax_parser_declarations_next;

                offset = token->offset;

                parser->offset.value_begin = rule->begin;
                parser->offset.end = offset;

                if (parser->offset.value_end == 0) {
                    parser->offset.value_end = offset;
                    parser->offset.important_begin = 0;
                    parser->offset.important_end = 0;
                }

                lxb_css_syntax_token_consume(parser->tkz);

                return lxb_css_parser_token_end(parser, offset);
            }

            return token;

        case LXB_CSS_SYNTAX_TOKEN_DELIM:
            if (lxb_css_syntax_token_delim(token)->character != '!') {
                return token;
            }

            imp = lxb_css_syntax_tokenizer_lookup_important(parser->tkz,
            rule->block_end,
            (rule->block_end == LXB_CSS_SYNTAX_TOKEN_RC_BRACKET) ? 0x7D : 0x00);

            if (!imp) {
                return token;
            }

            rule->important = true;

            parser->offset.value_end = token->offset;
            parser->offset.important_begin = token->offset;

            lxb_css_syntax_token_consume(parser->tkz);

            token = lxb_css_syntax_token(parser->tkz);
            if (token == NULL) {
                return lxb_css_syntax_parser_failed(parser, parser->tkz->status);
            }

            parser->offset.important_end = token->offset
                + lxb_css_syntax_token_base(token)->length;

            lxb_css_syntax_token_consume(parser->tkz);

            token = lxb_css_syntax_token(parser->tkz);
            if (token == NULL) {
                return lxb_css_syntax_parser_failed(parser, parser->tkz->status);
            }

            if (token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {
                lxb_css_syntax_token_consume(parser->tkz);

                token = lxb_css_syntax_token(parser->tkz);
                if (token == NULL) {
                    return lxb_css_syntax_parser_failed(parser,
                                                        parser->tkz->status);
                }
            }

            goto again;

        case LXB_CSS_SYNTAX_TOKEN_LS_BRACKET:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_RS_BRACKET);
            break;

        case LXB_CSS_SYNTAX_TOKEN_FUNCTION:
        case LXB_CSS_SYNTAX_TOKEN_L_PARENTHESIS:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS);
            break;

        case LXB_CSS_SYNTAX_TOKEN_LC_BRACKET:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_RC_BRACKET);
            break;

        case LXB_CSS_SYNTAX_TOKEN_RC_BRACKET:
        case LXB_CSS_SYNTAX_TOKEN_RS_BRACKET:
        case LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS:
            if (rule->deep != 0 && parser->types_pos[-1] == token->type) {
                parser->types_pos--;
                rule->deep--;
            }

            return token;

        case LXB_CSS_SYNTAX_TOKEN__EOF:
            goto done;

        default:
            return token;
    }

    if (status != LXB_STATUS_OK) {
        return lxb_css_syntax_parser_failed(parser, status);
    }

    rule->deep++;

    return token;

done:

    parser->offset.value_begin = rule->begin;
    parser->offset.end = token->offset;

    if (parser->offset.value_end == 0) {
        parser->offset.value_end = token->offset;
        parser->offset.important_begin = 0;
        parser->offset.important_end = 0;
    }

    rule->phase = lxb_css_syntax_parser_declaration_end;
    rule->skip_consume = true;

    return lxb_css_parser_token_end(parser, token->offset);
}

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_drop(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        lxb_css_syntax_rule_t *rule)
{
    size_t offset;
    lxb_status_t status;

    if (rule->offset > token->offset) {
        return token;
    }

    rule->offset = token->offset + lxb_css_syntax_token_base(token)->length;

    if (rule->block_end == token->type && rule->deep == 0) {
        goto done;
    }

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_SEMICOLON:
            if (rule->deep == 0) {
                rule->phase = lxb_css_syntax_parser_declarations_next;

                offset = token->offset;

                parser->offset.value_begin = rule->begin;
                parser->offset.end = offset;

                if (parser->offset.value_end == 0) {
                    parser->offset.value_end = offset;
                    parser->offset.important_begin = 0;
                    parser->offset.important_end = 0;
                }

                lxb_css_syntax_token_consume(parser->tkz);

                return lxb_css_parser_token_end(parser, offset);
            }

            return token;

        case LXB_CSS_SYNTAX_TOKEN_LS_BRACKET:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_RS_BRACKET);
            break;

        case LXB_CSS_SYNTAX_TOKEN_FUNCTION:
        case LXB_CSS_SYNTAX_TOKEN_L_PARENTHESIS:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS);
            break;

        case LXB_CSS_SYNTAX_TOKEN_LC_BRACKET:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_RC_BRACKET);
            break;

        case LXB_CSS_SYNTAX_TOKEN_RC_BRACKET:
            if (rule->deep == 0) {
                if (rule->nested) {
                    goto done;
                }
            }
            else if (parser->types_pos[-1] == token->type) {
                parser->types_pos--;
                rule->deep--;
            }

            return token;

        case LXB_CSS_SYNTAX_TOKEN_RS_BRACKET:
        case LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS:
            if (rule->deep != 0 && parser->types_pos[-1] == token->type) {
                parser->types_pos--;
                rule->deep--;
            }

            return token;

        case LXB_CSS_SYNTAX_TOKEN__EOF:
            goto done;

        default:
            return token;
    }

    if (status != LXB_STATUS_OK) {
        return lxb_css_syntax_parser_failed(parser, status);
    }

    rule->deep++;

    return token;

done:

    parser->offset.value_begin = rule->begin;
    parser->offset.end = token->offset;

    if (parser->offset.value_end == 0) {
        parser->offset.value_end = token->offset;
        parser->offset.important_begin = 0;
        parser->offset.important_end = 0;
    }

    rule->phase = lxb_css_syntax_parser_declaration_end;
    rule->skip_consume = true;

    return lxb_css_parser_token_end(parser, token->offset);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_next(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        lxb_css_syntax_rule_t *rule)
{
    void *out_rule;
    lxb_status_t status;
    lxb_css_syntax_declaration_name_f name;

    if (rule->state != lxb_css_state_success) {
        rule->skip_consume = true;

        return lxb_css_parser_token_end(parser, token->offset);
    }

    status = rule->cbx.declarations->end(parser, rule->context_old,
                                         rule->context, token, &parser->offset,
                                         rule->important, rule->failed);
    if (status != LXB_STATUS_OK) {
        return lxb_css_syntax_parser_failed(parser, status);
    }

begin:

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_SEMICOLON:
        case LXB_CSS_SYNTAX_TOKEN_WHITESPACE:
            lxb_css_syntax_token_consume(parser->tkz);

            token = lxb_css_syntax_token(parser->tkz);
            if (token == NULL) {
                return lxb_css_syntax_parser_failed(parser,
                                                    parser->tkz->status);
            }

            goto begin;

        case LXB_CSS_SYNTAX_TOKEN__EOF:
            rule->phase = lxb_css_syntax_parser_declarations_end;
            break;

        case LXB_CSS_SYNTAX_TOKEN_IDENT:
            if (lxb_css_syntax_tokenizer_lookup_colon(parser->tkz)) {
                out_rule = NULL;
                name = rule->cbx.declarations->name;
                rule->skip_consume = true;

                rule->state = name(parser, token, rule->context, &out_rule);
                if (rule->state == NULL) {
                    return lxb_css_syntax_parser_failed(parser,
                                                        LXB_STATUS_ERROR_UNEXPECTED_DATA);
                }

                rule->context = out_rule;

                lxb_css_syntax_token_consume(parser->tkz);

                rule->phase = lxb_css_syntax_parser_declarations_name;
                rule->context = out_rule;

                break;
            }

            /* Fall through. */

        default:
            if (rule->nested) {
                rule->phase = lxb_css_syntax_parser_declarations_end;
            }
            else {
                rule->phase = lxb_css_syntax_parser_declarations_drop;
                rule->state = rule->cbx.cb->failed;
                rule->begin = token->offset;
                rule->context = NULL;
                rule->failed = true;

                parser->offset.value_end = 0;

                return lxb_css_syntax_token_parser_do_phase_again(parser);
            }

            break;
    }

    rule->skip_consume = false;
    rule->important = false;
    rule->failed = false;

    return lxb_css_syntax_token_parser_do_phase_again(parser);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declaration_back_to_value(lxb_css_parser_t *parser,
                                                const lxb_css_syntax_token_t *token,
                                                lxb_css_syntax_rule_t *rule)
{
    rule->phase = lxb_css_syntax_parser_declarations_value;
    rule->state = rule->back_state;
    rule->skip_consume = false;

    return token;
}

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declaration_end(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      lxb_css_syntax_rule_t *rule)
{
    return lxb_css_syntax_parser_declaration_end_handler(parser, token,
                                                         rule, false);
}

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declaration_end_handler(lxb_css_parser_t *parser,
                                              const lxb_css_syntax_token_t *token,
                                              lxb_css_syntax_rule_t *rule,
                                              bool skip_token)
{
    lxb_status_t status;

    if (rule->state != lxb_css_state_success) {
        rule->skip_consume = true;

        return lxb_css_parser_token_end(parser, token->offset);
    }

    status = rule->cbx.declarations->end(parser, rule->context_old,
                                         rule->context, token, &parser->offset,
                                         rule->important, rule->failed);
    if (status != LXB_STATUS_OK) {
        return lxb_css_syntax_parser_failed(parser, status);
    }

    return lxb_css_syntax_parser_declarations_end_h(parser, token,
                                                    rule, skip_token);
}

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_end(lxb_css_parser_t *parser,
                                       const lxb_css_syntax_token_t *token,
                                       lxb_css_syntax_rule_t *rule)
{
    return lxb_css_syntax_parser_declarations_end_h(parser, token,
                                                    rule, false);
}

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_declarations_end_h(lxb_css_parser_t *parser,
                                         const lxb_css_syntax_token_t *token,
                                         lxb_css_syntax_rule_t *rule,
                                         bool skip_token)
{
    lxb_status_t status;

    /* This code will be called exclusively from the lxb_css_parser_run(...). */

    rule->context = rule->context_old;

    status = rule->cbx.cb->end(parser, token, rule->context, false);
    if (status != LXB_STATUS_OK) {
        return lxb_css_syntax_parser_failed(parser, status);
    }

    if (skip_token) {
        lxb_css_syntax_token_consume(parser->tkz);

        token = lxb_css_syntax_token(parser->tkz);
        if (token == NULL) {
            return lxb_css_syntax_parser_failed(parser,
                                                parser->tkz->status);
        }
    }

    return lxb_css_syntax_parser_call_back(parser, token);
}

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_components(lxb_css_parser_t *parser,
                                 const lxb_css_syntax_token_t *token,
                                 lxb_css_syntax_rule_t *rule)
{
    lxb_status_t status;

    if (rule->offset > token->offset) {
        return token;
    }

    rule->offset = token->offset + lxb_css_syntax_token_base(token)->length;

    if (rule->block_end == token->type && rule->deep == 0) {
        goto done;
    }

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_LS_BRACKET:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_RS_BRACKET);
            break;

        case LXB_CSS_SYNTAX_TOKEN_FUNCTION:
        case LXB_CSS_SYNTAX_TOKEN_L_PARENTHESIS:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS);
            break;

        case LXB_CSS_SYNTAX_TOKEN_LC_BRACKET:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_RC_BRACKET);
            break;

        case LXB_CSS_SYNTAX_TOKEN_RC_BRACKET:
        case LXB_CSS_SYNTAX_TOKEN_RS_BRACKET:
        case LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS:
            if (rule->deep != 0 && parser->types_pos[-1] == token->type) {
                parser->types_pos--;
                rule->deep--;
            }

            return token;

        case LXB_CSS_SYNTAX_TOKEN__EOF:
            goto done;

        default:
            return token;
    }

    if (status != LXB_STATUS_OK) {
        return lxb_css_syntax_parser_failed(parser, status);
    }

    rule->deep++;

    return token;

done:

    rule->phase = lxb_css_syntax_parser_end;
    rule->skip_consume = true;

    return lxb_css_parser_token_end(parser, token->offset);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_components_back_to_value(lxb_css_parser_t *parser,
                                               const lxb_css_syntax_token_t *token,
                                               lxb_css_syntax_rule_t *rule)
{
    rule->phase = lxb_css_syntax_parser_components;
    rule->state = rule->back_state;
    rule->skip_consume = false;

    return token;
}

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_function(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               lxb_css_syntax_rule_t *rule)
{
    lxb_status_t status;

    if (rule->offset > token->offset) {
        return token;
    }

    rule->offset = token->offset + lxb_css_syntax_token_base(token)->length;

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_LS_BRACKET:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_RS_BRACKET);
            break;

        case LXB_CSS_SYNTAX_TOKEN_FUNCTION:
        case LXB_CSS_SYNTAX_TOKEN_L_PARENTHESIS:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS);
            break;

        case LXB_CSS_SYNTAX_TOKEN_LC_BRACKET:
            status = lxb_css_parser_types_push(parser,
                                               LXB_CSS_SYNTAX_TOKEN_RC_BRACKET);
            break;

        case LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS:
            if (rule->deep == 0)  {
                rule->phase = lxb_css_syntax_parser_end_consume_token;
                goto done;
            }

            if (parser->types_pos[-1] == token->type) {
                parser->types_pos--;
                rule->deep--;
            }

            return token;

        case LXB_CSS_SYNTAX_TOKEN_RC_BRACKET:
        case LXB_CSS_SYNTAX_TOKEN_RS_BRACKET:
            if (rule->deep != 0 && parser->types_pos[-1] == token->type) {
                parser->types_pos--;
                rule->deep--;
            }

            return token;

        case LXB_CSS_SYNTAX_TOKEN__EOF:
            rule->phase = lxb_css_syntax_parser_end;
            goto done;

        default:
            return token;
    }

    if (status != LXB_STATUS_OK) {
        return lxb_css_syntax_parser_failed(parser, status);
    }

    rule->deep++;

    return token;

done:

    rule->skip_consume = true;

    return lxb_css_parser_token_end(parser, token->offset);
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_function_back(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token,
                                    lxb_css_syntax_rule_t *rule)
{
    rule->phase = lxb_css_syntax_parser_function;
    rule->state = rule->back_state;
    rule->skip_consume = false;

    return token;
}

static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_pipe(lxb_css_parser_t *parser,
                           const lxb_css_syntax_token_t *token,
                           lxb_css_syntax_rule_t *rule)
{
    if ((rule->block_end == token->type && rule->deep == 0)
        || token->type == LXB_CSS_SYNTAX_TOKEN__EOF)
    {
        rule->phase = lxb_css_syntax_parser_end;
        rule->skip_consume = true;

        return lxb_css_parser_token_end(parser, token->offset);
    }

    return token;
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_pipe_back(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token,
                                lxb_css_syntax_rule_t *rule)
{
    rule->phase = lxb_css_syntax_parser_pipe;
    rule->state = rule->back_state;
    rule->skip_consume = false;

    return token;
}

/*
 * This code will be called before rule->state is called.
 * Exclusively from the lxb_css_parser_run(...).
 */
static const lxb_css_syntax_token_t *
lxb_css_syntax_parser_end_back(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               lxb_css_syntax_rule_t *rule)
{
    rule->phase = lxb_css_syntax_parser_end;
    rule->state = lxb_css_state_blank;

    return token;
}

const lxb_css_syntax_token_t *
lxb_css_syntax_parser_end(lxb_css_parser_t *parser,
                          const lxb_css_syntax_token_t *token,
                          lxb_css_syntax_rule_t *rule)
{
    lxb_status_t status;
    lxb_css_syntax_cb_base_t *base;

    rule->skip_consume = true;

    if (rule->state != lxb_css_state_success) {
        return lxb_css_parser_token_end(parser, token->offset);
    }

    /* This code will be called exclusively from the lxb_css_parser_run(...). */

    base = rule->cbx.user;

    status = base->end(parser, token, rule->context, rule->failed);
    if (status != LXB_STATUS_OK) {
        return lxb_css_syntax_parser_failed(parser, status);
    }

    rule->skip_consume = false;

    return lxb_css_syntax_parser_call_back(parser, token);
}

const lxb_css_syntax_token_t *
lxb_css_syntax_parser_end_consume_token(lxb_css_parser_t *parser,
                                        const lxb_css_syntax_token_t *token,
                                        lxb_css_syntax_rule_t *rule)
{
    lxb_status_t status;
    lxb_css_syntax_cb_base_t *base;

    rule->skip_consume = true;

    if (rule->state != lxb_css_state_success) {
        return lxb_css_parser_token_end(parser, token->offset);
    }

    /* This code will be called exclusively from the lxb_css_parser_run(...). */

    base = rule->cbx.user;

    status = base->end(parser, token, rule->context, rule->failed);
    if (status != LXB_STATUS_OK) {
        return lxb_css_syntax_parser_failed(parser, status);
    }

    rule->skip_consume = false;

    lxb_css_syntax_token_consume(parser->tkz);

    token = lxb_css_syntax_token(parser->tkz);
    if (token == NULL) {
        return lxb_css_syntax_parser_failed(parser,
                                            parser->tkz->status);
    }

    return lxb_css_syntax_parser_call_back(parser, token);
}

#include <string.h>
#include <float.h>


#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_hex[256];
#endif

#define LXB_CSS_SYNTAX_ERROR_CODEPOINT 0x1FFFFF

#define lxb_css_syntax_buffer_append_m(_tkz, _begin, _length)                 \
    do {                                                                      \
        if ((_length) > 0) {                                                  \
            lxb_status_t status = lxb_css_syntax_string_append(_tkz,          \
                                               (const lxb_char_t *) (_begin), \
                                               _length);                      \
            if (status != LXB_STATUS_OK) {                                    \
                return NULL;                                                  \
            }                                                                 \
        }                                                                     \
    }                                                                         \
    while (0)

#define LXB_CSS_SYNTAX_CARRIAGE_RETURN_BLOCK(tkz, begin, data, end)           \
    {                                                                         \
        lxb_css_syntax_buffer_append_m(tkz, begin, ((data) - (begin)) + 1);   \
        (tkz)->pos[-1] = 0x0A;                                                \
                                                                              \
        /* U+000A LINE FEED (LF) */                                           \
        if ((data) + 1 < (end) && (data)[1] == 0x0A) {                        \
            (data) += 1;                                                      \
        }                                                                     \
                                                                              \
        (begin) = (data) + 1;                                                 \
    }

#define LXB_CSS_SYNTAX_FORM_FEED_BLOCK(tkz, begin, data, end)                 \
    {                                                                         \
        lxb_css_syntax_buffer_append_m(tkz, begin, ((data) - (begin)) + 1);   \
        (tkz)->pos[-1] = 0x0A;                                                \
                                                                              \
        (begin) = (data) + 1;                                                 \
    }

#define LXB_CSS_SYNTAX_NULL_BLOCK(tkz, begin, data, end)                      \
    {                                                                         \
        lxb_css_syntax_buffer_append_m(tkz, begin, ((data) - (begin)));       \
                                                                              \
        /* U+FFFD REPLACEMENT CHARACTER */                                    \
        lxb_css_syntax_buffer_append_m(tkz, "\uFFFD",                         \
                                       lxb_css_syntax_replacement_length);    \
        (begin) = (data) + 1;                                                 \
    }

#define LXB_CSS_SYNTAX_UTF_8_UP_80_BLOCK(tkz, begin, data, end)               \
        lxb_codepoint_t cp = lxb_css_syntax_state_decode_utf_8_up_80(&data,   \
                                                                     end);    \
                                                                              \
        if (cp == LXB_CSS_SYNTAX_ERROR_CODEPOINT) {                           \
            lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);         \
            /* U+FFFD REPLACEMENT CHARACTER */                                \
            lxb_css_syntax_buffer_append_m(tkz, "\uFFFD",                     \
                                           lxb_css_syntax_replacement_length);\
            data += 1;                                                        \
            begin = data;                                                     \
        }                                                                     \
        /* Surrogate U+D800 to U+DFFF. */                                     \
        else if (cp >= 0xD800 && cp <= 0xDFFF) {                              \
            lxb_css_syntax_buffer_append_m(tkz, begin,                        \
                                           (data - begin) - 3);               \
            /* U+FFFD REPLACEMENT CHARACTER */                                \
            lxb_css_syntax_buffer_append_m(tkz, "\uFFFD",                     \
                                           lxb_css_syntax_replacement_length);\
            begin = data;                                                     \
        }


static const size_t lxb_css_syntax_replacement_length = 3; /* sizeof("\uFFFD") - 1 */


static const lxb_char_t *
lxb_css_syntax_state_consume_numeric(lxb_css_syntax_tokenizer_t *tkz,
                                     lxb_css_syntax_token_t *token,
                                     const lxb_char_t *data,
                                     const lxb_char_t *end);

static const lxb_char_t *
lxb_css_syntax_state_consume_numeric_name_start(lxb_css_syntax_tokenizer_t *tkz,
                                                lxb_css_syntax_token_t *token,
                                                const lxb_char_t *data,
                                                const lxb_char_t *end);

static const lxb_char_t *
lxb_css_syntax_state_consume_ident(lxb_css_syntax_tokenizer_t *tkz,
                                   lxb_css_syntax_token_t *token,
                                   const lxb_char_t *data, const lxb_char_t *end);

static const lxb_char_t *
lxb_css_syntax_state_consume_unicode_range(lxb_css_syntax_tokenizer_t *tkz,
                                           lxb_css_syntax_token_t *token,
                                           const lxb_char_t *data,
                                           const lxb_char_t *end);

static const lxb_char_t *
lxb_css_syntax_state_url(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                         const lxb_char_t *data, const lxb_char_t *end);

static const lxb_char_t *
lxb_css_syntax_state_bad_url(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                             const lxb_char_t *data, const lxb_char_t *end);

static const lxb_char_t *
lxb_css_syntax_state_escaped(lxb_css_syntax_tokenizer_t *tkz,
                             const lxb_char_t *data, const lxb_char_t *end);

static bool
lxb_css_syntax_state_start_number(const lxb_char_t *data, const lxb_char_t *end);

static bool
lxb_css_syntax_state_start_ident_sequence(const lxb_char_t *data,
                                          const lxb_char_t *end);

static lxb_codepoint_t
lxb_css_syntax_state_decode_utf_8_up_80(const lxb_char_t **data,
                                        const lxb_char_t *end);


lxb_inline bool
lxb_css_syntax_state_valid_escape(const lxb_char_t *data,
                                  const lxb_char_t *end)
{
    /* U+005C REVERSE SOLIDUS (\) */
    if (*data == 0x5C) {
        data += 1;
        if (data >= end || (*data != 0x0A && *data != 0x0C && *data != 0x0D)) {
            return true;
        }
    }

    return false;
}

lxb_inline bool
lxb_css_syntax_state_non_ascii(lxb_codepoint_t cp)
{
    /*
     * Actually here the comparison should be to U+D7FF.
     * But we capture surrogate pairs, they will be further converted to 0xFFFD.
     */

    /* This code is generated by the file utils/lexbor/css/syntax/non_ascii.pl */

    /* Begin */
    if (cp <= 0x2FEF) {
        if (cp <= 0x1FFF) {
            if (cp >= 0x00F8 && cp < 0x037D) {
                return true;
            }
            else if (cp >= 0x037F) {
                return true;
            }
        }
        else if (cp >= 0x2070) {
            if (cp <= 0x218F) {
                return true;
            }
            else if (cp >= 0x2C00) {
                return true;
            }
        }
    }
    else if (cp >= 0x3001) {
        if (cp <= 0xFDCF) {
            if (cp <= 0xDFFF) {
                return true;
            }
            else if (cp >= 0xF900) {
                return true;
            }
        }
        else if (cp >= 0xFDF0) {
            if (cp <= 0xFFFD) {
                return true;
            }
            else if (cp >= 0x10000) {
                if (cp <= 0x10FFFF) {
                    return true;
                }
            }
        }
    }
    /* End */

    return cp == 0x200C || cp == 0x200D || cp == 0x203F || cp == 0x2040;
}

lxb_inline bool
lxb_css_syntax_state_start_ident_utf_8_80(const lxb_char_t **data,
                                          const lxb_char_t *end)
{
    lxb_codepoint_t cp;

    cp = lxb_css_syntax_state_decode_utf_8_up_80(data, end);
    if (cp == LXB_CSS_SYNTAX_ERROR_CODEPOINT) {
        return true; /* To be replaced by \uFFFD. */
    }

    return lxb_css_syntax_state_non_ascii(cp);
}

lxb_inline lxb_status_t
lxb_css_syntax_string_realloc(lxb_css_syntax_tokenizer_t *tkz, size_t upto)
{
    size_t len = tkz->pos - tkz->start;
    size_t size = (tkz->end - tkz->start) + upto;

    lxb_char_t *tmp = lexbor_realloc(tkz->start, size);
    if (tmp == NULL) {
        tkz->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        return tkz->status;
    }

    tkz->start = tmp;
    tkz->pos = tmp + len;
    tkz->end = tmp + size;

    return LXB_STATUS_OK;
}

lxb_inline lxb_status_t
lxb_css_syntax_string_append(lxb_css_syntax_tokenizer_t *tkz,
                             const lxb_char_t *data, size_t length)
{
    if ((size_t) (tkz->end - tkz->pos) <= length) {
        if (lxb_css_syntax_string_realloc(tkz, length + 1024) != LXB_STATUS_OK) {
            return tkz->status;
        }
    }

    memcpy(tkz->pos, data, length);

    tkz->pos += length;

    return LXB_STATUS_OK;
}

lxb_inline lxb_status_t
lxb_css_syntax_state_string_term(lxb_css_syntax_tokenizer_t *tkz)
{
    if (tkz->pos >= tkz->end) {
        if (lxb_css_syntax_string_realloc(tkz, 1024) != LXB_STATUS_OK) {
            return tkz->status;
        }
    }

    *tkz->pos = 0x00;

    return LXB_STATUS_OK;
}

lxb_inline const lxb_char_t *
lxb_css_syntax_state_string_set(lxb_css_syntax_tokenizer_t *tkz,
                                lxb_css_syntax_token_t *token,
                                const lxb_char_t *data)
{
    if(lxb_css_syntax_state_string_term(tkz) != LXB_STATUS_OK) {
        return NULL;
    }

    lxb_css_syntax_token_string(token)->data = tkz->start;
    lxb_css_syntax_token_string(token)->length = tkz->pos - tkz->start;

    tkz->pos = tkz->start;

    return data;
}

lxb_inline const lxb_char_t *
lxb_css_syntax_state_dimension_set(lxb_css_syntax_tokenizer_t *tkz,
                                   lxb_css_syntax_token_t *token,
                                   const lxb_char_t *data)
{
    if(lxb_css_syntax_state_string_term(tkz) != LXB_STATUS_OK) {
        return NULL;
    }

    lxb_css_syntax_token_dimension_string(token)->data = tkz->start;
    lxb_css_syntax_token_dimension_string(token)->length = tkz->pos - tkz->start;

    tkz->pos = tkz->start;

    return data;
}

/*
 * Delim
 */
lxb_inline const lxb_char_t *
lxb_css_syntax_state_delim_set(lxb_css_syntax_token_t *token,
                               const lxb_char_t *data, lxb_char_t ch)
{
    token->type = LXB_CSS_SYNTAX_TOKEN_DELIM;

    lxb_css_syntax_token_delim(token)->character = (lxb_codepoint_t) ch;
    lxb_css_syntax_token_base(token)->length = 1;

    return data + 1;
}

lxb_inline const lxb_char_t *
lxb_css_syntax_state_delim_set_cp(lxb_css_syntax_token_t *token,
                                  const lxb_char_t *data, const lxb_char_t *end)
{
    lxb_codepoint_t cp;

    if (*data < 0x80) {
        cp = *data++;
    }
    else {
        cp = lxb_css_syntax_state_decode_utf_8_up_80(&data, end);
    }

    token->type = LXB_CSS_SYNTAX_TOKEN_DELIM;

    lxb_css_syntax_token_delim(token)->character = cp;

    return data;
}

const lxb_char_t *
lxb_css_syntax_state_delim(lxb_css_syntax_tokenizer_t *tkz,
                           lxb_css_syntax_token_t *token,
                           const lxb_char_t *data, const lxb_char_t *end)
{
    lxb_css_syntax_state_delim_set(token, data, *data);

    return data + 1;
}

/*
 * Comment
 */
const lxb_char_t *
lxb_css_syntax_state_comment(lxb_css_syntax_tokenizer_t *tkz,
                             lxb_css_syntax_token_t *token,
                             const lxb_char_t *data, const lxb_char_t *end)
{
    bool failed;
    const lxb_char_t *begin;

    /* Skip forward slash (/) */
    data += 1;

    /* U+002A ASTERISK (*) */
    if (data >= end || *data != 0x2A) {
        return lxb_css_syntax_state_delim_set(token, data - 1, '/');
    }

    /* Skip U+002A ASTERISK (*) */
    begin = ++data;
    failed = true;

    while (data < end) {
        switch (*data) {
            /* U+002A ASTERISK (*) */
            case 0x2A:
                data += 1;

                if (data >= end) {
                    lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);
                    goto done;
                }

                /* U+002F Forward slash (/) */
                if (*data == 0x2F) {
                    lxb_css_syntax_buffer_append_m(tkz, begin,
                                                   (data - begin) - 1);
                    data += 1;
                    failed = false;
                    goto done;
                }

                continue;

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                LXB_CSS_SYNTAX_CARRIAGE_RETURN_BLOCK(tkz, begin, data, end)
                break;

            /* U+000C FORM FEED (FF) */
            case 0x0C:
                LXB_CSS_SYNTAX_FORM_FEED_BLOCK(tkz, begin, data, end)
                break;

            /* U+0000 NULL */
            case 0x00:
                LXB_CSS_SYNTAX_NULL_BLOCK(tkz, begin, data, end)
                break;

            default:
                if (*data >= 0x80) {
                    LXB_CSS_SYNTAX_UTF_8_UP_80_BLOCK(tkz, begin, data, end)
                    continue;
                }

                break;
        }

        data += 1;
    }

    lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);

done:

    if (failed) {
        lxb_css_syntax_tokenizer_error_add(tkz->parse_errors, data,
                                           LXB_CSS_SYNTAX_TOKENIZER_ERROR_EOINCO);
    }

    token->type = LXB_CSS_SYNTAX_TOKEN_COMMENT;

    return lxb_css_syntax_state_string_set(tkz, token, data);
}

/*
 * Whitespace
 */
const lxb_char_t *
lxb_css_syntax_state_whitespace(lxb_css_syntax_tokenizer_t *tkz,
                                lxb_css_syntax_token_t *token,
                                const lxb_char_t *data, const lxb_char_t *end)
{
    const lxb_char_t *begin;

    begin = data;

    do {
        switch (*data) {
            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                LXB_CSS_SYNTAX_CARRIAGE_RETURN_BLOCK(tkz, begin, data, end)
                break;

            /* U+000C FORM FEED (FF) */
            case 0x0C:
                LXB_CSS_SYNTAX_FORM_FEED_BLOCK(tkz, begin, data, end)
                break;

            case 0x09:
            case 0x20:
            case 0x0A:
                break;

            default:
                goto done;
        }

        data += 1;
    }
    while (data < end);

done:

    token->type = LXB_CSS_SYNTAX_TOKEN_WHITESPACE;

    lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);

    return lxb_css_syntax_state_string_set(tkz, token, data);
}

/*
 * String token for U+0022 Quotation Mark (") and U+0027 Apostrophe (')
 */
const lxb_char_t *
lxb_css_syntax_state_string(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                            const lxb_char_t *data, const lxb_char_t *end)
{
    lxb_char_t mark;
    const lxb_char_t *begin;
    lxb_codepoint_t cp;

    mark = *data++;
    begin = data;

    token->type = LXB_CSS_SYNTAX_TOKEN_STRING;

    while (data < end) {
        switch (*data) {
            /* U+0000 NULL */
            case 0x00:
                LXB_CSS_SYNTAX_NULL_BLOCK(tkz, begin, data, end)
                break;

            /*
             * U+000A LINE FEED
             * U+000D CARRIAGE RETURN
             * U+000C FORM FEED
             */
            case 0x0A:
            case 0x0D:
            case 0x0C:
                lxb_css_syntax_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_CSS_SYNTAX_TOKENIZER_ERROR_NEINST);

                token->type = LXB_CSS_SYNTAX_TOKEN_BAD_STRING;

                goto done;

            /* U+005C REVERSE SOLIDUS (\) */
            case 0x5C:
                lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);

                data += 1;
                begin = data;

                if (data >= end) {
                    data = lxb_css_syntax_state_escaped(tkz, data, end);
                    begin = data;
                    continue;
                }

                switch (*data) {
                    /* U+000D CARRIAGE RETURN (CR) */
                    case 0x0D:
                        /* U+000A LINE FEED (LF) */
                        if (data + 1 < end && data[1] == 0x0A) {
                            data += 1;
                        }

                        begin = data + 1;
                        break;

                    /* U+000C FORM FEED (FF) */
                    case 0x0A:
                    case 0x0C:
                        begin = data + 1;
                        break;

                    /* U+0000 NULL */
                    case 0x00:
                        LXB_CSS_SYNTAX_NULL_BLOCK(tkz, begin, data, end)
                        break;

                    default:
                        if (*data < 0x80) {
                            data = lxb_css_syntax_state_escaped(tkz, data, end);
                            begin = data;
                        }
                        else {
                            cp = lxb_css_syntax_state_decode_utf_8_up_80(&data, end);

                            if (cp == LXB_CSS_SYNTAX_ERROR_CODEPOINT) {
                                /* U+FFFD REPLACEMENT CHARACTER */
                                lxb_css_syntax_buffer_append_m(tkz, "\uFFFD",
                                                               lxb_css_syntax_replacement_length);
                                data += 1;
                                begin = data;
                            }
                            /* Surrogate U+D800 to U+DFFF. */
                            else if (cp >= 0xD800 && cp <= 0xDFFF) {
                                /* U+FFFD REPLACEMENT CHARACTER */
                                lxb_css_syntax_buffer_append_m(tkz, "\uFFFD",
                                                               lxb_css_syntax_replacement_length);
                                begin = data;
                            }
                        }

                        continue;
                }

                break;

            default:
                /* '"' or '\'' */
                if (*data == mark) {
                    lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);

                    return lxb_css_syntax_state_string_set(tkz, token, data + 1);
                }

                if (*data >= 0x80) {
                    LXB_CSS_SYNTAX_UTF_8_UP_80_BLOCK(tkz, begin, data, end)
                    continue;
                }

                break;
        }

        data += 1;
    }

    lxb_css_syntax_tokenizer_error_add(tkz->parse_errors, data,
                                       LXB_CSS_SYNTAX_TOKENIZER_ERROR_EOINST);
done:

    lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);

    return lxb_css_syntax_state_string_set(tkz, token, data);
}

/*
 * U+0023 NUMBER SIGN (#)
 */
const lxb_char_t *
lxb_css_syntax_state_hash(lxb_css_syntax_tokenizer_t *tkz,
                          lxb_css_syntax_token_t *token, const lxb_char_t *data,
                          const lxb_char_t *end)
{
    lxb_char_t ch;
    const lxb_char_t *begin;

    data += 1;
    if (data >= end) {
        return lxb_css_syntax_state_delim_set(token, data - 1, '#');
    }

    if (lxb_css_syntax_res_name_map[*data] == 0x00) {
        if (*data == 0x00) {
            goto hash;
        }

        /* U+005C REVERSE SOLIDUS (\) */
        if (*data != 0x5C) {
            if (*data >= 0x80) {
                begin = data;

                if (lxb_css_syntax_state_start_ident_utf_8_80(&data, end)) {
                    data = begin;
                    goto hash;
                }
            }

            return lxb_css_syntax_state_delim_set(token, data - 1, '#');
        }

        data += 1;

        if (data < end) {
            ch = *data;

            if (ch == 0x0A || ch == 0x0C || ch == 0x0D) {
                return lxb_css_syntax_state_delim_set(token, data - 2, '#');
            }
        }

        data -= 1;
    }

hash:

    token->type = LXB_CSS_SYNTAX_TOKEN_HASH;

    return lxb_css_syntax_state_consume_ident(tkz, token, data, end);
}

/*
 * U+0028 LEFT PARENTHESIS (()
 */
const lxb_char_t *
lxb_css_syntax_state_lparenthesis(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                                  const lxb_char_t *data, const lxb_char_t *end)
{
    token->type = LXB_CSS_SYNTAX_TOKEN_L_PARENTHESIS;
    return data + 1;
}

/*
 * U+0029 RIGHT PARENTHESIS ())
 */
const lxb_char_t *
lxb_css_syntax_state_rparenthesis(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                                  const lxb_char_t *data, const lxb_char_t *end)
{
    token->type = LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS;
    return data + 1;
}

/*
 * U+002B PLUS SIGN (+)
 */
const lxb_char_t *
lxb_css_syntax_state_plus(lxb_css_syntax_tokenizer_t *tkz,
                          lxb_css_syntax_token_t *token,
                          const lxb_char_t *data, const lxb_char_t *end)
{
    /* Skip U+002B PLUS SIGN (+). */
    data += 1;

    if (data >= end) {
        return lxb_css_syntax_state_delim_set(token, data - 1, '+');
    }

    /* U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9) */
    if (*data >= 0x30 && *data <= 0x39) {
        lxb_css_syntax_token_number(token)->have_sign = true;
        return lxb_css_syntax_state_consume_numeric(tkz, token, data, end);
    }

    /* U+002E FULL STOP (.) */
    if (*data == 0x2E) {
        data += 1;

        if (data >= end) {
            return lxb_css_syntax_state_delim_set(token, data - 2, '+');
        }

        /* U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9) */
        if (*data >= 0x30 && *data <= 0x39) {
            lxb_css_syntax_token_number(token)->have_sign = true;
            return lxb_css_syntax_state_consume_numeric(tkz, token,
                                                        data - 1, end);
        }

        data -= 1;
    }

    return lxb_css_syntax_state_delim_set(token, data - 1, '+');
}

/*
 * U+002C COMMA (,)
 */
const lxb_char_t *
lxb_css_syntax_state_comma(lxb_css_syntax_tokenizer_t *tkz,
                           lxb_css_syntax_token_t *token,
                           const lxb_char_t *data, const lxb_char_t *end)
{
    token->type = LXB_CSS_SYNTAX_TOKEN_COMMA;
    return data + 1;
}

/*
 * U+002D HYPHEN-MINUS (-)
 */
const lxb_char_t *
lxb_css_syntax_state_minus(lxb_css_syntax_tokenizer_t *tkz,
                           lxb_css_syntax_token_t *token,
                           const lxb_char_t *data, const lxb_char_t *end)
{
    lxb_css_syntax_token_number_t *number;

    /* Check for <number-token> */

    if (lxb_css_syntax_state_start_number(data, end)) {
        data = lxb_css_syntax_state_consume_numeric(tkz, token, data + 1, end);

        number = lxb_css_syntax_token_number(token);
        number->num = -number->num;

        lxb_css_syntax_token_number(token)->have_sign = true;

        return data;
    }

    /* Check for <CDC-token> */

    if (data + 3 <= end) {
        /* U+002D HYPHEN-MINUS U+003E GREATER-THAN SIGN (->) */
        if (data[1] == 0x2D && data[2] == 0x3E) {
            token->type = LXB_CSS_SYNTAX_TOKEN_CDC;
            return data + 3;
        }
    }

    if (lxb_css_syntax_state_start_ident_sequence(data, end)) {
        return lxb_css_syntax_state_ident_like_not_url(tkz, token,
                                                       data, end);
    }

    return lxb_css_syntax_state_delim_set(token, data, '-');
}

/*
 * U+002E FULL STOP (.)
 */
const lxb_char_t *
lxb_css_syntax_state_full_stop(lxb_css_syntax_tokenizer_t *tkz,
                               lxb_css_syntax_token_t *token,
                               const lxb_char_t *data, const lxb_char_t *end)
{
    if (lxb_css_syntax_state_start_number(data, end)) {
        lxb_css_syntax_token_number(token)->have_sign = false;
        return lxb_css_syntax_state_consume_numeric(tkz, token, data, end);
    }

    return lxb_css_syntax_state_delim_set(token, data, '.');
}

/*
 * U+003A COLON (:)
 */
const lxb_char_t *
lxb_css_syntax_state_colon(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                           const lxb_char_t *data, const lxb_char_t *end)
{
    token->type = LXB_CSS_SYNTAX_TOKEN_COLON;
    return data + 1;
}

/*
 * U+003B SEMICOLON (;)
 */
const lxb_char_t *
lxb_css_syntax_state_semicolon(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                               const lxb_char_t *data, const lxb_char_t *end)
{
    token->type = LXB_CSS_SYNTAX_TOKEN_SEMICOLON;
    return data + 1;
}

/*
 * U+003C LESS-THAN SIGN (<)
 */
const lxb_char_t *
lxb_css_syntax_state_less_sign(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                               const lxb_char_t *data, const lxb_char_t *end)
{
    if (data + 4 <= end) {
        /* U+0021 EXCLAMATION MARK
         * U+002D HYPHEN-MINUS
         * U+002D HYPHEN-MINUS
         * (!--)
         */
        if (data[1] == 0x21 && data[2] == 0x2D && data[3] == 0x2D) {
            token->type = LXB_CSS_SYNTAX_TOKEN_CDO;
            return data + 4;
        }
    }

    return lxb_css_syntax_state_delim_set(token, data, '<');
}

/*
 * U+0040 COMMERCIAL AT (@)
 */
const lxb_char_t *
lxb_css_syntax_state_at(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                        const lxb_char_t *data, const lxb_char_t *end)
{
    /* Skip U+0040 COMMERCIAL AT (@) */
    data += 1;

    if (lxb_css_syntax_state_start_ident_sequence(data, end)) {
        token->type = LXB_CSS_SYNTAX_TOKEN_AT_KEYWORD;

        return lxb_css_syntax_state_consume_ident(tkz, token, data, end);
    }

    return lxb_css_syntax_state_delim_set(token, data - 1, '@');
}

/*
 * U+005B LEFT SQUARE BRACKET ([)
 */
const lxb_char_t *
lxb_css_syntax_state_ls_bracket(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                                const lxb_char_t *data, const lxb_char_t *end)
{
    token->type = LXB_CSS_SYNTAX_TOKEN_LS_BRACKET;
    return data + 1;
}

/*
 * U+005C REVERSE SOLIDUS (\)
 */
const lxb_char_t *
lxb_css_syntax_state_rsolidus(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                              const lxb_char_t *data, const lxb_char_t *end)
{
    if (lxb_css_syntax_state_valid_escape(data, end)) {
        return lxb_css_syntax_state_ident_like(tkz, token, data, end);
    }

    return lxb_css_syntax_state_delim_set(token, data, '\\');
}

/*
 * U+005D RIGHT SQUARE BRACKET (])
 */
const lxb_char_t *
lxb_css_syntax_state_rs_bracket(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                                const lxb_char_t *data, const lxb_char_t *end)
{
    token->type = LXB_CSS_SYNTAX_TOKEN_RS_BRACKET;
    return data + 1;
}

/*
 * U+007B LEFT CURLY BRACKET ({)
 */
const lxb_char_t *
lxb_css_syntax_state_lc_bracket(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                                const lxb_char_t *data, const lxb_char_t *end)
{
    token->type = LXB_CSS_SYNTAX_TOKEN_LC_BRACKET;
    return data + 1;
}

/*
 * U+007D RIGHT CURLY BRACKET (})
 */
const lxb_char_t *
lxb_css_syntax_state_rc_bracket(lxb_css_syntax_tokenizer_t *tkz, lxb_css_syntax_token_t *token,
                                const lxb_char_t *data, const lxb_char_t *end)
{
    token->type = LXB_CSS_SYNTAX_TOKEN_RC_BRACKET;
    return data + 1;
}

/*
 * Numeric
 */
lxb_inline void
lxb_css_syntax_consume_numeric_set(lxb_css_syntax_tokenizer_t *tkz,
                                   lxb_css_syntax_token_t *token,
                                   const lxb_char_t *start, const lxb_char_t *end,
                                   bool is_float, bool e_is_negative,
                                   int exponent, int e_digit)
{
    if (e_is_negative) {
        exponent = e_digit - exponent;
        exponent = -exponent;
    }
    else {
        exponent = e_digit + exponent;
    }

    double num = lexbor_strtod_internal(start, (end - start), exponent);

    token->type = LXB_CSS_SYNTAX_TOKEN_NUMBER;

    lxb_css_syntax_token_number(token)->is_float = is_float;
    lxb_css_syntax_token_number(token)->num = num;
}

const lxb_char_t *
lxb_css_syntax_state_consume_before_numeric(lxb_css_syntax_tokenizer_t *tkz,
                                            lxb_css_syntax_token_t *token,
                                            const lxb_char_t *data,
                                            const lxb_char_t *end)
{
    lxb_css_syntax_token_number(token)->have_sign = false;

    return lxb_css_syntax_state_consume_numeric(tkz, token, data, end);
}

static const lxb_char_t *
lxb_css_syntax_state_consume_numeric(lxb_css_syntax_tokenizer_t *tkz,
                                     lxb_css_syntax_token_t *token,
                                     const lxb_char_t *data,
                                     const lxb_char_t *end)
{
    bool e_is_negative, is_float;
    int exponent, e_digit;
    lxb_char_t ch, *buf_p;
    const lxb_char_t *begin, *buf_end;
    lxb_css_syntax_token_t *t_str;
    lxb_css_syntax_token_string_t *str;
    lxb_char_t buf[128];

    buf_p = buf;
    buf_end = buf + sizeof(buf);

    str = lxb_css_syntax_token_dimension_string(token);
    t_str = (lxb_css_syntax_token_t *) (void *) str;

    /* U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9) */
    while (*data >= 0x30 && *data <= 0x39) {
        if (buf_p != buf_end) {
            *buf_p++ = *data;
        }

        data += 1;

        if (data >= end) {
            lxb_css_syntax_consume_numeric_set(tkz, token, buf, buf_p,
                                               false, false, 0, 0);
            return data;
        }
    }

    exponent = 0;
    is_float = false;

    /* U+002E FULL STOP (.) */
    if (*data == 0x2E) {
        data += 1;

        /* U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9) */
        if (data >= end || *data < 0x30 || *data > 0x39) {
            lxb_css_syntax_consume_numeric_set(tkz, token, buf, buf_p,
                                               false, false, 0, 0);
            return data - 1;
        }

        begin = buf_p;

        /* U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9) */
        do {
            if (buf_p != buf_end) {
                *buf_p++ = *data;
            }

            data += 1;
        }
        while (data < end && *data >= 0x30 && *data <= 0x39);

        exponent = -(int) (buf_p - begin);
        is_float = true;

        if (data >= end) {
            lxb_css_syntax_consume_numeric_set(tkz, token, buf, buf_p,
                                               true, false, exponent, 0);
            return data;
        }
    }

    ch = *data;

    /* U+0045 Latin Capital Letter (E) or U+0065 Latin Small Letter (e) */
    if (ch != 0x45 && ch != 0x65) {
        lxb_css_syntax_consume_numeric_set(tkz, token, buf, buf_p,
                                           is_float, false, exponent, 0);

        return lxb_css_syntax_state_consume_numeric_name_start(tkz, token,
                                                               data, end);
    }

    lxb_css_syntax_token_base(t_str)->begin = data;

    data += 1;

    if (data >= end) {
        data -= 1;

        lxb_css_syntax_token_base(t_str)->length = 1;
        lxb_css_syntax_buffer_append_m(tkz, data, 1);

        lxb_css_syntax_consume_numeric_set(tkz, token, buf, buf_p,
                                           is_float, false, exponent, 0);

        token->type = LXB_CSS_SYNTAX_TOKEN_DIMENSION;

        return lxb_css_syntax_state_dimension_set(tkz, token, data + 1);
    }

    e_is_negative = false;

    switch (*data) {
        /* U+002D HYPHEN-MINUS (-) */
        case 0x2D:
            e_is_negative = true;
            /* fall through */

        /* U+002B PLUS SIGN (+) */
        case 0x2B:
            data += 1;
            break;

        default:
            break;
    }

    /* U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9) */
    if (data >= end || *data < 0x30 || *data > 0x39) {
        data -= 1;
        if (*data != ch) {
            data -= 1;
        }

        lxb_css_syntax_consume_numeric_set(tkz, token, buf, buf_p,
                                           is_float, false, exponent, 0);

        token->type = LXB_CSS_SYNTAX_TOKEN_DIMENSION;

        begin = lxb_css_syntax_state_consume_ident(tkz, t_str, data, end);

        lxb_css_syntax_token_base(t_str)->begin = data;
        lxb_css_syntax_token_base(t_str)->length = begin - data;

        return begin;
    }

    e_digit = 0;

    /* U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9) */
    do {
        if (e_digit < INT_MAX / 10) {
            e_digit = (*data - 0x30) + e_digit * 0x0A;
        }

        data += 1;

        if (data >= end) {
            lxb_css_syntax_consume_numeric_set(tkz, token, buf, buf_p,
                                               true, e_is_negative,
                                               exponent, e_digit);
            return data;
        }
    }
    while(*data >= 0x30 && *data <= 0x39);

    lxb_css_syntax_consume_numeric_set(tkz, token, buf, buf_p,
                                       true, e_is_negative,
                                       exponent, e_digit);

    return lxb_css_syntax_state_consume_numeric_name_start(tkz, token,
                                                           data, end);
}

static const lxb_char_t *
lxb_css_syntax_state_consume_numeric_name_start(lxb_css_syntax_tokenizer_t *tkz,
                                                lxb_css_syntax_token_t *token,
                                                const lxb_char_t *data,
                                                const lxb_char_t *end)
{
    const lxb_char_t *p;
    lxb_css_syntax_token_t *t_str;
    lxb_css_syntax_token_string_t *str;

    if (lxb_css_syntax_state_start_ident_sequence(data, end)) {
        str = lxb_css_syntax_token_dimension_string(token);
        t_str = (lxb_css_syntax_token_t *) (void *) str;

        token->type = LXB_CSS_SYNTAX_TOKEN_DIMENSION;

        p = lxb_css_syntax_state_consume_ident(tkz, t_str, data, end);

        lxb_css_syntax_token_base(t_str)->begin = data;
        lxb_css_syntax_token_base(t_str)->length = p - data;

        return p;
    }

    /* U+0025 PERCENTAGE SIGN (%) */
    if (*data == 0x25) {
        token->type = LXB_CSS_SYNTAX_TOKEN_PERCENTAGE;
        return data + 1;
    }

    return data;
}

static const lxb_char_t *
lxb_css_syntax_state_consume_ident(lxb_css_syntax_tokenizer_t *tkz,
                                   lxb_css_syntax_token_t *token,
                                   const lxb_char_t *data, const lxb_char_t *end)
{
    const lxb_char_t *begin;

    begin = data;

    while (data < end) {
        if (*data < 0x80) {
            if (lxb_css_syntax_res_name_map[*data] == 0x00) {
                /* U+005C REVERSE SOLIDUS (\) */
                if (*data == 0x5C) {
                    lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);

                    data += 1;

                    if (data < end) {
                        if (*data == 0x0A || *data == 0x0C || *data == 0x0D) {
                            data -= 1;
                            begin = data;
                            break;
                        }
                    }

                    data = lxb_css_syntax_state_escaped(tkz, data, end);
                    if (data == NULL) {
                        return NULL;
                    }

                    begin = data;
                    continue;
                }
                else if (*data == 0x00)
                    LXB_CSS_SYNTAX_NULL_BLOCK(tkz, begin, data, end)
                else {
                    break;
                }
            }

            data += 1;
        }
        else {
            LXB_CSS_SYNTAX_UTF_8_UP_80_BLOCK(tkz, begin, data, end)
            else if (!lxb_css_syntax_state_non_ascii(cp)) {
                break;
            }
        }
    }

    lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);

    return lxb_css_syntax_state_string_set(tkz, token, data);
}

static const lxb_char_t *
lxb_css_syntax_state_consume_unicode_range(lxb_css_syntax_tokenizer_t *tkz,
                                           lxb_css_syntax_token_t *token,
                                           const lxb_char_t *data,
                                           const lxb_char_t *end)
{
    bool mq;
    unsigned count, question;
    lxb_codepoint_t cp, range_start, range_end;

    token->type = LXB_CSS_SYNTAX_TOKEN_UNICODE_RANGE;

    /* Skip [Uu]\+ */
    data += 2;
    mq = true;

again:

    cp = 0x0000;
    count = 6;

    while (data < end && count > 0) {
        if (lexbor_str_res_map_hex[*data] == LEXBOR_STR_RES_SLIP) {
            /* U+003F QUESTION MARK (?) */
            if (*data == 0x3F && mq) {
                question = 0;

                do {
                    question += 1;
                    count -= 1;
                    data += 1;
                }
                while (data < end && *data == 0x3F && count > 0);

                range_start = cp << (4 * question);
                range_end = range_start | ((1 << (4 * question)) - 1);

                lxb_css_syntax_token_unicode_range(token)->start = range_start;
                lxb_css_syntax_token_unicode_range(token)->end = range_end;

                return data;
            }

            break;
        }

        cp <<= 4;
        cp |= lexbor_str_res_map_hex[ *data ];

        count -= 1;
        data += 1;
    }

    if (mq) {
        mq = false;

        lxb_css_syntax_token_unicode_range(token)->start = cp;

        /* U+002D HYPHEN-MINUS (-) */
        if (data + 2 > end || data[0] != 0x2D
            || lexbor_str_res_map_hex[data[1]] == LEXBOR_STR_RES_SLIP)
        {
            lxb_css_syntax_token_unicode_range(token)->end = cp;
            return data;
        }

        /* Skip U+002D HYPHEN-MINUS (-) */
        data += 1;

        goto again;
    }

    lxb_css_syntax_token_unicode_range(token)->end = cp;

    return data;
}


const lxb_char_t *
lxb_css_syntax_state_ident_like(lxb_css_syntax_tokenizer_t *tkz,
                                lxb_css_syntax_token_t *token,
                                const lxb_char_t *data, const lxb_char_t *end)
{
    lxb_char_t ch;
    const lxb_char_t *begin;
    lxb_css_syntax_token_string_t *str;
    static const lxb_char_t url[] = "url";

    /* Would start a unicode-range. */
    /*
     * U+002B PLUS SIGN (+)
     * U+003F QUESTION MARK (?)
     */
    if (tkz->with_unicode_range && data + 3 <= end && data[1] == 0x2B
        && (lexbor_str_res_map_hex[ data[2] ] != 0xFF || data[2] == 0x3F))
    {
        return lxb_css_syntax_state_consume_unicode_range(tkz, token,
                                                          data, end);
    }

    data = lxb_css_syntax_state_consume_ident(tkz, token, data, end);
    if (data == NULL) {
        goto done;
    }

    if (data < end && *data == '(') {
        data += 1;
        str = lxb_css_syntax_token_string(token);

        if (str->length != 3 || !lexbor_str_data_casecmp(str->data, url)) {
            token->type = LXB_CSS_SYNTAX_TOKEN_FUNCTION;

            return data;
        }

        begin = data;

        while (data < end) {
            ch = *data;

            if (lexbor_utils_whitespace(ch, !=, &&)) {
                /* U+0022 QUOTATION MARK (") or U+0027 APOSTROPHE (') */
                if (ch == 0x22 || ch == 0x27) {
                    break;
                }

                tkz->pos = tkz->start;

                return lxb_css_syntax_state_url(tkz, token, data, end);
            }

            data++;
        }

        token->type = LXB_CSS_SYNTAX_TOKEN_FUNCTION;

        return begin;
    }

done:

    token->type = LXB_CSS_SYNTAX_TOKEN_IDENT;

    return data;
}

const lxb_char_t *
lxb_css_syntax_state_ident_like_not_url_start(lxb_css_syntax_tokenizer_t *tkz,
                                              lxb_css_syntax_token_t *token,
                                              const lxb_char_t *data, const lxb_char_t *end)
{
    const lxb_char_t *begin = data;

    if (lxb_css_syntax_state_start_ident_utf_8_80(&data, end)) {
        return lxb_css_syntax_state_ident_like_not_url(tkz, token, begin, end);
    }

    return lxb_css_syntax_state_delim_set_cp(token, begin, end);
}

const lxb_char_t *
lxb_css_syntax_state_ident_like_not_url(lxb_css_syntax_tokenizer_t *tkz,
                                        lxb_css_syntax_token_t *token,
                                        const lxb_char_t *data, const lxb_char_t *end)
{
    data = lxb_css_syntax_state_consume_ident(tkz, token, data, end);
    if (data == NULL) {
        return NULL;
    }

    if (data < end && *data == '(') {
        token->type = LXB_CSS_SYNTAX_TOKEN_FUNCTION;

        return data + 1;
    }

    token->type = LXB_CSS_SYNTAX_TOKEN_IDENT;

    return data;
}

const lxb_char_t *
lxb_css_syntax_state_ident_like_not_url_surrogate(lxb_css_syntax_tokenizer_t *tkz,
                                                  lxb_css_syntax_token_t *token,
                                                  const lxb_char_t *data, const lxb_char_t *end)
{
    const lxb_char_t *begin = data;

    if (data + 3 <= end) {
        lxb_codepoint_t srp = data[1] << 8 | data[2];

        /* Leading surrogate U+D800 to U+DFFF. */
        if (srp >= (0xA0 << 8 | 0x80) && srp <= (0xBF << 8 | 0xBF)) {
            return lxb_css_syntax_state_ident_like_not_url(tkz, token,
                                                           data, end);
        }
    }

    if (lxb_css_syntax_state_start_ident_utf_8_80(&data, end)) {
        return lxb_css_syntax_state_ident_like_not_url(tkz, token, begin, end);
    }

    return lxb_css_syntax_state_delim_set_cp(token, begin, end);
}

/*
 * URL
 */
static const lxb_char_t *
lxb_css_syntax_state_url(lxb_css_syntax_tokenizer_t *tkz,
                         lxb_css_syntax_token_t *token,
                         const lxb_char_t *data, const lxb_char_t *end)
{
    lxb_char_t ch;
    const lxb_char_t *begin;

    *tkz->pos = 0x00;

    begin = data;

    while (data < end) {
        switch (*data) {
            /* U+0000 NULL */
            case 0x00:
                LXB_CSS_SYNTAX_NULL_BLOCK(tkz, begin, data, end)
                break;

            /* U+0029 RIGHT PARENTHESIS ()) */
            case 0x29:
                lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);
                data += 1;
                goto done;

            /*
             * U+0022 QUOTATION MARK (")
             * U+0027 APOSTROPHE (')
             * U+0028 LEFT PARENTHESIS (()
             * U+000B LINE TABULATION
             * U+007F DELETE
             */
            case 0x22:
            case 0x27:
            case 0x28:
            case 0x0B:
            case 0x7F:
                goto bad;

            /* U+005C REVERSE SOLIDUS (\) */
            case 0x5C:
                lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);

                data += 1;

                if (data >= end) {
                    lxb_css_syntax_tokenizer_error_add(tkz->parse_errors, data,
                                      LXB_CSS_SYNTAX_TOKENIZER_ERROR_WRESINUR);
                }
                else {
                    ch = *data;

                    if (ch == 0x0A || ch == 0x0C || ch == 0x0D) {
                        lxb_css_syntax_tokenizer_error_add(tkz->parse_errors, data,
                                          LXB_CSS_SYNTAX_TOKENIZER_ERROR_WRESINUR);

                        return lxb_css_syntax_state_bad_url(tkz, token, data, end);
                    }
                }

                data = lxb_css_syntax_state_escaped(tkz, data, end);
                if (data == NULL) {
                    return NULL;
                }

                begin = data;
                continue;

            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+000D CARRIAGE RETURN (CR)
             * U+0020 SPACE
             */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
                lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);

                data += 1;

                while (data < end) {
                    ch = *data;

                    if (lexbor_utils_whitespace(ch, !=, &&)) {
                        /* U+0029 RIGHT PARENTHESIS ()) */
                        if (*data == 0x29) {
                            data += 1;
                            goto done;
                        }

                        return lxb_css_syntax_state_bad_url(tkz, token,
                                                            data, end);
                    }

                    data += 1;
                }

                lxb_css_syntax_tokenizer_error_add(tkz->parse_errors, data,
                                        LXB_CSS_SYNTAX_TOKENIZER_ERROR_EOINUR);

                goto done;

            default:
                if (*data >= 0x80) {
                    LXB_CSS_SYNTAX_UTF_8_UP_80_BLOCK(tkz, begin, data, end)
                    continue;
                }

                /*
                 * Inclusive:
                 * U+0000 NULL and U+0008 BACKSPACE or
                 * U+000E SHIFT OUT and U+001F INFORMATION SEPARATOR ONE
                 */
                if ((*data <= 0x08) || (*data >= 0x0E && *data <= 0x1F)) {
                    goto bad;
                }

                break;
        }

        data += 1;
    }

    lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);

    lxb_css_syntax_tokenizer_error_add(tkz->parse_errors, data,
                                       LXB_CSS_SYNTAX_TOKENIZER_ERROR_EOINUR);

done:

    token->type = LXB_CSS_SYNTAX_TOKEN_URL;

    return lxb_css_syntax_state_string_set(tkz, token, data);

bad:

    lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);

    lxb_css_syntax_tokenizer_error_add(tkz->parse_errors, data,
                                       LXB_CSS_SYNTAX_TOKENIZER_ERROR_QOINUR);

    return lxb_css_syntax_state_bad_url(tkz, token, data, end);
}

/*
 * Bad URL
 */
static const lxb_char_t *
lxb_css_syntax_state_bad_url(lxb_css_syntax_tokenizer_t *tkz,
                             lxb_css_syntax_token_t *token,
                             const lxb_char_t *data, const lxb_char_t *end)
{
    const lxb_char_t *begin;

    token->type = LXB_CSS_SYNTAX_TOKEN_BAD_URL;

    begin = data;

    while (data < end) {
        /* U+0029 RIGHT PARENTHESIS ()) */
        if (*data == 0x29) {
            lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);
            return lxb_css_syntax_state_string_set(tkz, token, data + 1);
        }
        /* U+005C REVERSE SOLIDUS (\) */
        else if (*data == 0x5C) {
            data += 1;
            if (data >= end) {
                break;
            }
        }

        if (*data >= 0x80) {
            LXB_CSS_SYNTAX_UTF_8_UP_80_BLOCK(tkz, begin, data, end)
            continue;
        }

        data += 1;
    }

    lxb_css_syntax_buffer_append_m(tkz, begin, data - begin);

    return lxb_css_syntax_state_string_set(tkz, token, data);
}

static const lxb_char_t *
lxb_css_syntax_state_escaped(lxb_css_syntax_tokenizer_t *tkz,
                             const lxb_char_t *data, const lxb_char_t *end)
{
    unsigned count;
    lxb_codepoint_t cp;

    cp = 0;

    for (count = 0; count < 6; count++, data++) {
        if (data >= end) {
            if (count == 0) {
                lxb_css_syntax_tokenizer_error_add(tkz->parse_errors, data,
                                                   LXB_CSS_SYNTAX_TOKENIZER_ERROR_EOINES);
            }

            goto done;
        }

        if (lexbor_str_res_map_hex[*data] == 0xFF) {
            if (count == 0) {
                cp = (lxb_codepoint_t) *data++;
                goto done;
            }

            break;
        }

        cp <<= 4;
        cp |= lexbor_str_res_map_hex[*data];
    }

    if (data < end) {
        switch (*data) {
            case 0x0D:
                data += 1;

                if (data >= end) {
                    break;
                }

                if (*data == 0x0A) {
                    data += 1;
                }

                break;

            case 0x09:
            case 0x20:
            case 0x0A:
            case 0x0C:
                data += 1;
                break;

            default:
                break;
        }
    }

done:

    if ((tkz->end - tkz->pos) < 6) {
        if (lxb_css_syntax_string_realloc(tkz, 1024) != LXB_STATUS_OK) {
            return NULL;
        }
    }

    lxb_css_syntax_codepoint_to_ascii(tkz, cp);

    return data;
}

static bool
lxb_css_syntax_state_start_number(const lxb_char_t *data, const lxb_char_t *end)
{
    switch (*data) {
        /*
         * U+002B PLUS SIGN (+)
         * U+002D HYPHEN-MINUS (-)
         */
        case 0x2B:
        case 0x2D:
            data += 1;
            if (data >= end) {
                return false;
            }

            /* U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9) */
            if (*data >= 0x30 && *data <= 0x39) {
                return true;
            }

            break;

        default:
            break;
    }

    /* U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9) */
    if (*data >= 0x30 && *data <= 0x39) {
        return true;
    }

    /* U+002E FULL STOP (.) */
    if (*data == 0x2E) {
        data += 1;

        if (data >= end || *data < 0x30 || *data > 0x39) {
            return false;
        }

        return true;
    }

    return false;
}

static bool
lxb_css_syntax_state_start_ident_sequence(const lxb_char_t *data,
                                          const lxb_char_t *end)
{
    if (data >= end) {
        return false;
    }

    if (*data < 0x80) {
        /* U+002D HYPHEN-MINUS */
        if (*data == 0x2D) {
            data += 1;

            if (data >= end) {
                return false;
            }

            if (*data < 0x80) {
                /* U+002D HYPHEN-MINUS */
                if (*data == 0x2D
                    || lxb_css_syntax_res_name_map[*data] == LXB_CSS_SYNTAX_RES_NAME_START
                    || lxb_css_syntax_state_valid_escape(data, end)
                    || *data == 0x00)
                {
                    return true;
                }
            }
        }
        /* U+005C REVERSE SOLIDUS (\) */
        else if (*data == 0x5C) {
            return lxb_css_syntax_state_valid_escape(data, end);
        }

        return lxb_css_syntax_res_name_map[*data] == LXB_CSS_SYNTAX_RES_NAME_START
               || *data == 0x00;
    }

    return lxb_css_syntax_state_start_ident_utf_8_80(&data, end);
}

static lxb_codepoint_t
lxb_css_syntax_state_decode_utf_8_up_80(const lxb_char_t **data,
                                        const lxb_char_t *end)
{
    lxb_char_t ch;
    const lxb_char_t *p;
    lxb_codepoint_t cp;

    p = *data;
    ch = *p;

    if (ch <= 0xDF) {
        if (ch < 0xC2 || p + 1 >= end) {
            return LXB_CSS_SYNTAX_ERROR_CODEPOINT;
        }

        cp = ch & 0x1F;

        if (p[1] < 0x80 || p[1] > 0xBF) {
            return LXB_CSS_SYNTAX_ERROR_CODEPOINT;
        }

        cp = (cp << 6) | (p[1] & 0x3F);

        *data += 2;
    }
    else if (ch < 0xF0) {
        cp = ch & 0x0F;

        if (p + 2 >= end) {
            return LXB_CSS_SYNTAX_ERROR_CODEPOINT;
        }

        if (ch == 0xE0) {
            if (p[1] < 0xA0 || p[1] > 0xBF) {
                return LXB_CSS_SYNTAX_ERROR_CODEPOINT;
            }
        }

        /*
         * We returning surrogate pair!
         */
/*
        else if (ch == 0xED) {
            if (p[1] < 0x80 || p[1] > 0x9F) {
                return LXB_CSS_SYNTAX_ERROR_CODEPOINT;
            }
        }
 */
        else if (p[1] < 0x80 || p[1] > 0xBF) {
            return LXB_CSS_SYNTAX_ERROR_CODEPOINT;
        }

        if (p[2] < 0x80 || p[2] > 0xBF) {
            return LXB_CSS_SYNTAX_ERROR_CODEPOINT;
        }

        cp = (cp << 6) | (p[1] & 0x3F);
        cp = (cp << 6) | (p[2] & 0x3F);

        *data += 3;
    }
    else if (ch < 0xF5) {
        cp = ch & 0x07;

        if (p + 3 >= end) {
            return LXB_CSS_SYNTAX_ERROR_CODEPOINT;
        }

        if (ch == 0xF0) {
            if (p[1] < 0x90 || p[1] > 0xBF) {
                return LXB_CSS_SYNTAX_ERROR_CODEPOINT;
            }
        }
        else if (ch == 0xF4) {
            if (p[1] < 0x80 || p[1] > 0x8F) {
                return LXB_CSS_SYNTAX_ERROR_CODEPOINT;
            }
        }
        else if (p[1] < 0x80 || p[1] > 0xBF) {
            return LXB_CSS_SYNTAX_ERROR_CODEPOINT;
        }

        if ((p[2] < 0x80 || p[2] > 0xBF) || (p[3] < 0x80 || p[3] > 0xBF)) {
            return LXB_CSS_SYNTAX_ERROR_CODEPOINT;
        }

        cp = (cp << 6) | (p[1] & 0x3F);
        cp = (cp << 6) | (p[2] & 0x3F);
        cp = (cp << 6) | (p[3] & 0x3F);

        *data += 4;
    }
    else {
        return LXB_CSS_SYNTAX_ERROR_CODEPOINT;
    }

    return cp;
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_ansi_replacement_character[4];
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_hex[256];
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_hex_to_char_lowercase[17];
    LXB_EXTERN const char *lexbor_str_res_char_to_two_hex_value_lowercase[257];
    LXB_EXTERN const lxb_char_t lxb_css_syntax_res_name_map[256];
#endif

static const lexbor_str_t lxb_css_syntax_str_ws = lexbor_str(" ");


lxb_css_rule_list_t *
lxb_css_syntax_parse_list_rules(lxb_css_parser_t *parser,
                                const lxb_css_syntax_cb_list_rules_t *cb,
                                const lxb_char_t *data, size_t length)
{
    lxb_css_rule_list_t *list;
    lxb_css_syntax_rule_t *rule;

    if (lxb_css_parser_is_running(parser)) {
        parser->status = LXB_STATUS_ERROR_WRONG_STAGE;
        return NULL;
    }

    lxb_css_parser_clean(parser);
    lxb_css_parser_buffer_set(parser, data, length);

    list = lxb_css_rule_list_create(parser->memory);
    if (list == NULL) {
        parser->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        goto failed;
    }

    rule = lxb_css_syntax_parser_list_rules_push(parser, cb, NULL, list,
                                                 LXB_CSS_SYNTAX_TOKEN_UNDEF);
    if (rule == NULL) {
        goto failed;
    }

    parser->tkz->with_comment = false;
    parser->stage = LXB_CSS_PARSER_RUN;

    parser->status = lxb_css_syntax_parser_run(parser);
    if (parser->status != LXB_STATUS_OK) {
        goto failed;
    }

    parser->stage = LXB_CSS_PARSER_END;

    return list;

failed:

    if (list != NULL) {
        lxb_css_rule_list_destroy(list, true);
    }

    parser->stage = LXB_CSS_PARSER_END;

    return NULL;
}

lxb_css_rule_declaration_list_t *
lxb_css_syntax_parse_declarations(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_cb_declarations_t *cb,
                                  const lxb_char_t *data, size_t length)
{
    lxb_css_rule_declaration_list_t *list;
    lxb_css_syntax_rule_t *rule;

    if (lxb_css_parser_is_running(parser)) {
        parser->status = LXB_STATUS_ERROR_WRONG_STAGE;
        return NULL;
    }

    lxb_css_parser_clean(parser);
    lxb_css_parser_buffer_set(parser, data, length);

    list = lxb_css_rule_declaration_list_create(parser->memory);
    if (list == NULL) {
        parser->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        goto failed;
    }

    rule = lxb_css_syntax_parser_declarations_push(parser, cb, NULL, list,
                                                   LXB_CSS_SYNTAX_TOKEN_UNDEF,
                                                   true, false);
    if (rule == NULL) {
        goto failed;
    }

    parser->tkz->with_comment = false;
    parser->stage = LXB_CSS_PARSER_RUN;

    parser->status = lxb_css_syntax_parser_run(parser);
    if (parser->status != LXB_STATUS_OK) {
        goto failed;
    }

    parser->stage = LXB_CSS_PARSER_END;

    return list;

failed:

    if (list != NULL) {
        lxb_css_rule_declaration_list_destroy(list, true);
    }

    parser->stage = LXB_CSS_PARSER_END;

    return NULL;
}

lxb_css_syntax_rule_t *
lxb_css_syntax_consume_list_rules(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_cb_list_rules_t *list_rules,
                                  lxb_css_parser_state_f back,
                                  void *ctx, lxb_css_syntax_token_type_t stop)
{
    return lxb_css_syntax_parser_list_rules_push(parser, list_rules, back,
                                                 ctx, stop);
}

lxb_css_syntax_rule_t *
lxb_css_syntax_consume_at_rule(lxb_css_parser_t *parser,
                               const lxb_css_syntax_token_t *token,
                               const lxb_css_syntax_cb_at_rule_t *at_rule,
                               lxb_css_parser_state_f back,
                               void *ctx, lxb_css_syntax_token_type_t stop)
{
    if (token->type != LXB_CSS_SYNTAX_TOKEN_AT_KEYWORD) {
        return NULL;
    }

    if (parser->rules > parser->rules_begin && parser->rules->deep != 0
        && parser->types_pos[-1] == LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS)
    {
        parser->types_pos -= 1;
        parser->rules->deep -= 1;
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_syntax_parser_at_rule_push(parser, at_rule, back, ctx,
                                              stop, false);
}

lxb_css_syntax_rule_t *
lxb_css_syntax_consume_qualified_rule(lxb_css_parser_t *parser,
                                      const lxb_css_syntax_token_t *token,
                                      const lxb_css_syntax_cb_qualified_rule_t *qualified,
                                      lxb_css_parser_state_f back,
                                      void *ctx, lxb_css_syntax_token_type_t stop)
{
    lxb_css_syntax_token_type_t type;

    if (parser->rules > parser->rules_begin && parser->rules->deep != 0) {
        switch (token->type) {
            case LXB_CSS_SYNTAX_TOKEN_LS_BRACKET:
                type = LXB_CSS_SYNTAX_TOKEN_RS_BRACKET;
                break;

            case LXB_CSS_SYNTAX_TOKEN_FUNCTION:
            case LXB_CSS_SYNTAX_TOKEN_L_PARENTHESIS:
                type = LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS;
                break;

            case LXB_CSS_SYNTAX_TOKEN_LC_BRACKET:
                type = LXB_CSS_SYNTAX_TOKEN_RC_BRACKET;
                break;

            default:
                type = LXB_CSS_SYNTAX_TOKEN_UNDEF;
                break;
        }


        if (parser->types_pos[-1] == type) {
            parser->types_pos -= 1;
            parser->rules->deep -= 1;
        }
    }

    return lxb_css_syntax_parser_qualified_push(parser, qualified, back,
                                                ctx, stop, false);
}

lxb_css_syntax_rule_t *
lxb_css_syntax_consume_block(lxb_css_parser_t *parser,
                             const lxb_css_syntax_token_t *token,
                             const lxb_css_syntax_cb_block_t *block,
                             lxb_css_parser_state_f back, void *ctx)
{
    if (token->type != LXB_CSS_SYNTAX_TOKEN_LC_BRACKET) {
        return NULL;
    }

    if (parser->rules > parser->rules_begin && parser->rules->deep != 0
        && parser->types_pos[-1] == LXB_CSS_SYNTAX_TOKEN_RC_BRACKET)
    {
        parser->types_pos -= 1;
        parser->rules->deep -= 1;
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_syntax_parser_block_push(parser, block, back, ctx);
}

lxb_css_syntax_rule_t *
lxb_css_syntax_consume_declarations(lxb_css_parser_t *parser,
                                    const lxb_css_syntax_token_t *token,
                                    const lxb_css_syntax_cb_declarations_t *declr,
                                    lxb_css_parser_state_f back, void *ctx,
                                    lxb_css_syntax_token_type_t stop)
{
    lxb_css_syntax_token_type_t type;

    if (parser->rules > parser->rules_begin && parser->rules->deep != 0) {
        switch (token->type) {
            case LXB_CSS_SYNTAX_TOKEN_LS_BRACKET:
                type = LXB_CSS_SYNTAX_TOKEN_RS_BRACKET;
                break;

            case LXB_CSS_SYNTAX_TOKEN_FUNCTION:
            case LXB_CSS_SYNTAX_TOKEN_L_PARENTHESIS:
                type = LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS;
                break;

            case LXB_CSS_SYNTAX_TOKEN_LC_BRACKET:
                type = LXB_CSS_SYNTAX_TOKEN_RC_BRACKET;
                break;

            default:
                type = LXB_CSS_SYNTAX_TOKEN_UNDEF;
                break;
        }


        if (parser->types_pos[-1] == type) {
            parser->types_pos -= 1;
            parser->rules->deep -= 1;
        }
    }

    return lxb_css_syntax_parser_declarations_push(parser, declr, back,
                                                   ctx, stop, true, false);
}

lxb_css_syntax_rule_t *
lxb_css_syntax_consume_components(lxb_css_parser_t *parser,
                                  const lxb_css_syntax_token_t *token,
                                  const lxb_css_syntax_cb_components_t *comp,
                                  lxb_css_parser_state_f back,
                                  void *ctx, lxb_css_syntax_token_type_t stop)
{
    lxb_css_syntax_token_type_t type;

    if (parser->rules > parser->rules_begin && parser->rules->deep != 0) {
        switch (token->type) {
            case LXB_CSS_SYNTAX_TOKEN_LS_BRACKET:
                type = LXB_CSS_SYNTAX_TOKEN_RS_BRACKET;
                break;

            case LXB_CSS_SYNTAX_TOKEN_FUNCTION:
            case LXB_CSS_SYNTAX_TOKEN_L_PARENTHESIS:
                type = LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS;
                break;

            case LXB_CSS_SYNTAX_TOKEN_LC_BRACKET:
                type = LXB_CSS_SYNTAX_TOKEN_RC_BRACKET;
                break;

            default:
                type = LXB_CSS_SYNTAX_TOKEN_UNDEF;
                break;
        }


        if (parser->types_pos[-1] == type) {
            parser->types_pos -= 1;
            parser->rules->deep -= 1;
        }
    }

    return lxb_css_syntax_parser_components_push(parser, comp, back, ctx, stop);
}

lxb_css_syntax_rule_t *
lxb_css_syntax_consume_function(lxb_css_parser_t *parser,
                                const lxb_css_syntax_token_t *token,
                                const lxb_css_syntax_cb_function_t *func,
                                lxb_css_parser_state_f back, void *ctx)
{
    if (token->type != LXB_CSS_SYNTAX_TOKEN_FUNCTION) {
        return NULL;
    }

    if (parser->rules > parser->rules_begin && parser->rules->deep != 0
        && parser->types_pos[-1] == LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS)
    {
        parser->types_pos -= 1;
        parser->rules->deep -= 1;
    }

    lxb_css_syntax_parser_consume(parser);

    return lxb_css_syntax_parser_function_push(parser, func, back, ctx);
}

lxb_status_t
lxb_css_syntax_stack_expand(lxb_css_parser_t *parser, size_t count)
{
    size_t length, cur_len, size;
    lxb_css_syntax_rule_t *p;

    cur_len = parser->rules - parser->rules_begin;

    length = cur_len + count + 1024;
    size = length * sizeof(lxb_css_syntax_rule_t);

    p = lexbor_realloc(parser->rules_begin, size);
    if (p == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    parser->rules_begin = p;
    parser->rules_end = p + length;
    parser->rules = p + cur_len;

    return LXB_STATUS_OK;
}

void
lxb_css_syntax_codepoint_to_ascii(lxb_css_syntax_tokenizer_t *tkz,
                                  lxb_codepoint_t cp)
{
    /*
     * Zero, or is for a surrogate, or is greater than
     * the maximum allowed code point (tkz->num > 0x10FFFF).
     */
    if (cp == 0 || cp > 0x10FFFF || (cp >= 0xD800 && cp <= 0xDFFF)) {
        memcpy(tkz->pos, lexbor_str_res_ansi_replacement_character, 3);

        tkz->pos += 3;
        *tkz->pos = '\0';

        return;
    }

    lxb_char_t *data = tkz->pos;

    if (cp <= 0x0000007F) {
        /* 0xxxxxxx */
        data[0] = (lxb_char_t) cp;

        tkz->pos += 1;
    }
    else if (cp <= 0x000007FF) {
        /* 110xxxxx 10xxxxxx */
        data[0] = (char)(0xC0 | (cp >> 6  ));
        data[1] = (char)(0x80 | (cp & 0x3F));

        tkz->pos += 2;
    }
    else if (cp <= 0x0000FFFF) {
        /* 1110xxxx 10xxxxxx 10xxxxxx */
        data[0] = (char)(0xE0 | ((cp >> 12)));
        data[1] = (char)(0x80 | ((cp >> 6 ) & 0x3F));
        data[2] = (char)(0x80 | ( cp & 0x3F));

        tkz->pos += 3;
    }
    else if (cp <= 0x001FFFFF) {
        /* 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx */
        data[0] = (char)(0xF0 | ( cp >> 18));
        data[1] = (char)(0x80 | ((cp >> 12) & 0x3F));
        data[2] = (char)(0x80 | ((cp >> 6 ) & 0x3F));
        data[3] = (char)(0x80 | ( cp & 0x3F));

        tkz->pos += 4;
    }

    *tkz->pos = '\0';
}

lxb_status_t
lxb_css_syntax_ident_serialize(const lxb_char_t *data, size_t length,
                               lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_char_t ch;
    lxb_status_t status;
    const char **hex_map;
    const lxb_char_t *p = data, *end;

    static const lexbor_str_t str_s = lexbor_str("\\");

    end = data + length;
    hex_map = lexbor_str_res_char_to_two_hex_value_lowercase;

    while (p < end) {
        ch = *p;

        if (lxb_css_syntax_res_name_map[ch] == 0x00) {
            lexbor_serialize_write(cb, data, p - data, ctx, status);
            lexbor_serialize_write(cb, str_s.data, str_s.length, ctx, status);
            lexbor_serialize_write(cb, hex_map[ch], 2, ctx, status);

            data = ++p;

            if (p < end && lexbor_str_res_map_hex[*p] != 0xff) {
                lexbor_serialize_write(cb, lxb_css_syntax_str_ws.data,
                                       lxb_css_syntax_str_ws.length,
                                       ctx, status);
            }

            continue;
        }

        p++;
    }

    if (data < p) {
        lexbor_serialize_write(cb, data, p - data, ctx, status);
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_syntax_string_serialize(const lxb_char_t *data, size_t length,
                                lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_char_t ch;
    lxb_status_t status;
    const char **hex_map;
    const lxb_char_t *p, *end;

    static const lexbor_str_t str_s = lexbor_str("\\");
    static const lexbor_str_t str_dk = lexbor_str("\"");
    static const lexbor_str_t str_ds = lexbor_str("\\\\");
    static const lexbor_str_t str_dks = lexbor_str("\\\"");

    p = data;
    end = data + length;
    hex_map = lexbor_str_res_char_to_two_hex_value_lowercase;

    lexbor_serialize_write(cb, str_dk.data, str_dk.length, ctx, status);

    while (p < end) {
        ch = *p;

        if (lxb_css_syntax_res_name_map[ch] == 0x00) {
            switch (ch) {
                case '\\':
                    lexbor_serialize_write(cb, data, p - data, ctx, status);
                    lexbor_serialize_write(cb, str_ds.data, str_ds.length,
                                           ctx, status);
                    break;

                case '"':
                    lexbor_serialize_write(cb, data, p - data, ctx, status);
                    lexbor_serialize_write(cb, str_dks.data, str_dks.length,
                                           ctx, status);
                    break;

                case '\n':
                case '\t':
                case '\r':
                    lexbor_serialize_write(cb, data, p - data, ctx, status);
                    lexbor_serialize_write(cb, str_s.data, str_s.length,
                                           ctx, status);
                    lexbor_serialize_write(cb, hex_map[ch], 2, ctx, status);

                    p++;

                    if (p < end && lexbor_str_res_map_hex[*p] != 0xff) {
                        lexbor_serialize_write(cb, lxb_css_syntax_str_ws.data,
                                               lxb_css_syntax_str_ws.length,
                                               ctx, status);
                    }

                    data = p;
                    continue;

                default:
                    p++;
                    continue;
            }

            data = ++p;
            continue;
        }

        p++;
    }

    if (data < p) {
        lexbor_serialize_write(cb, data, p - data, ctx, status);
    }

    lexbor_serialize_write(cb, str_dk.data, str_dk.length, ctx, status);

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_syntax_ident_or_string_serialize(const lxb_char_t *data, size_t length,
                                         lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_char_t *p, *end;

    p = data;
    end = data + length;

    while (p < end) {
        if (lxb_css_syntax_res_name_map[*p++] == 0x00) {
            return lxb_css_syntax_string_serialize(data, length, cb, ctx);
        }
    }

    return cb(data, length, ctx);
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_ansi_replacement_character[4];
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_hex[256];
#endif

lxb_css_syntax_token_t *
lxb_css_syntax_tokenizer_token(lxb_css_syntax_tokenizer_t *tkz);


typedef struct {
    lexbor_str_t  *str;
    lexbor_mraw_t *mraw;
}
lxb_css_syntax_token_ctx_t;


static lxb_status_t
lxb_css_syntax_token_str_cb(const lxb_char_t *data, size_t len, void *ctx);

static int8_t
lxb_css_syntax_token_encode_utf_8(lxb_char_t *data, lxb_codepoint_t cp);


lxb_css_syntax_token_t *
lxb_css_syntax_token(lxb_css_syntax_tokenizer_t *tkz)
{
    if (tkz->first != NULL) {
        return tkz->first;
    }

    return lxb_css_syntax_tokenizer_token(tkz);
}

lxb_css_syntax_token_t *
lxb_css_syntax_token_next(lxb_css_syntax_tokenizer_t *tkz)
{
    return lxb_css_syntax_tokenizer_token(tkz);
}

void
lxb_css_syntax_token_consume(lxb_css_syntax_tokenizer_t *tkz)
{
    lxb_css_syntax_token_t *token;

    if (tkz->first) {
        token = tkz->first;
        tkz->first = token->next;

        if (tkz->last == token) {
            tkz->last = NULL;
        }

        lxb_css_syntax_token_string_free(tkz, token);
        lexbor_dobject_free(tkz->tokens, token);
    }
}

void
lxb_css_syntax_token_consume_n(lxb_css_syntax_tokenizer_t *tkz, unsigned count)
{
    while (count != 0) {
        count--;
        lxb_css_syntax_token_consume(tkz);
    }
}

lxb_status_t
lxb_css_syntax_token_string_dup(lxb_css_syntax_token_string_t *token,
                                lexbor_str_t *str, lexbor_mraw_t *mraw)
{
    size_t length;

    length = token->length + 1;

    if (length > str->length) {
        if (str->data == NULL) {
            str->data = lexbor_mraw_alloc(mraw, length);
            if (str->data == NULL) {
                return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
            }

            str->length = 0;
        }
        else {
            if (lexbor_str_realloc(str, mraw, length) == NULL) {
                return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
            }
        }
    }

    /* + 1 = '\0' */
    memcpy(str->data, token->data, length);

    str->length = token->length;

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_syntax_token_string_make(lxb_css_syntax_tokenizer_t *tkz,
                                 lxb_css_syntax_token_t *token)
{
    lxb_char_t *data;
    lxb_css_syntax_token_string_t *token_string;

    if (token->type >= LXB_CSS_SYNTAX_TOKEN_IDENT
        && token->type <= LXB_CSS_SYNTAX_TOKEN_WHITESPACE)
    {
        token_string = lxb_css_syntax_token_string(token);
        goto copy;
    }
    else if (token->type == LXB_CSS_SYNTAX_TOKEN_DIMENSION) {
        token_string = lxb_css_syntax_token_dimension_string(token);
        goto copy;
    }

    return LXB_STATUS_OK;

copy:

    data = lexbor_mraw_alloc(tkz->mraw, token_string->length + 1);
    if (data == NULL) {
        tkz->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        return tkz->status;
    }

    /* + 1 = '\0' */
    memcpy(data, token_string->data, token_string->length + 1);

    token_string->data = data;
    token->cloned = true;

    return LXB_STATUS_OK;
}

void
lxb_css_syntax_token_string_free(lxb_css_syntax_tokenizer_t *tkz,
                                 lxb_css_syntax_token_t *token)
{
    lxb_css_syntax_token_string_t *token_string;

    if (token->cloned) {
        if (token->type == LXB_CSS_SYNTAX_TOKEN_DIMENSION) {
            token_string = lxb_css_syntax_token_dimension_string(token);
        }
        else {
            token_string = lxb_css_syntax_token_string(token);
        }

        lexbor_mraw_free(tkz->mraw, (lxb_char_t *) token_string->data);
    }
}

const lxb_char_t *
lxb_css_syntax_token_type_name_by_id(lxb_css_syntax_token_type_t type)
{
    switch (type) {
        case LXB_CSS_SYNTAX_TOKEN_IDENT:
            return (lxb_char_t *) "ident";
        case LXB_CSS_SYNTAX_TOKEN_FUNCTION:
            return (lxb_char_t *) "function";
        case LXB_CSS_SYNTAX_TOKEN_AT_KEYWORD:
            return (lxb_char_t *) "at-keyword";
        case LXB_CSS_SYNTAX_TOKEN_HASH:
            return (lxb_char_t *) "hash";
        case LXB_CSS_SYNTAX_TOKEN_STRING:
            return (lxb_char_t *) "string";
        case LXB_CSS_SYNTAX_TOKEN_BAD_STRING:
            return (lxb_char_t *) "bad-string";
        case LXB_CSS_SYNTAX_TOKEN_URL:
            return (lxb_char_t *) "url";
        case LXB_CSS_SYNTAX_TOKEN_BAD_URL:
            return (lxb_char_t *) "bad-url";
        case LXB_CSS_SYNTAX_TOKEN_DELIM:
            return (lxb_char_t *) "delim";
        case LXB_CSS_SYNTAX_TOKEN_UNICODE_RANGE:
            return (lxb_char_t *) "unicode-range";
        case LXB_CSS_SYNTAX_TOKEN_NUMBER:
            return (lxb_char_t *) "number";
        case LXB_CSS_SYNTAX_TOKEN_PERCENTAGE:
            return (lxb_char_t *) "percentage";
        case LXB_CSS_SYNTAX_TOKEN_DIMENSION:
            return (lxb_char_t *) "dimension";
        case LXB_CSS_SYNTAX_TOKEN_WHITESPACE:
            return (lxb_char_t *) "whitespace";
        case LXB_CSS_SYNTAX_TOKEN_CDO:
            return (lxb_char_t *) "CDO";
        case LXB_CSS_SYNTAX_TOKEN_CDC:
            return (lxb_char_t *) "CDC";
        case LXB_CSS_SYNTAX_TOKEN_COLON:
            return (lxb_char_t *) "colon";
        case LXB_CSS_SYNTAX_TOKEN_SEMICOLON:
            return (lxb_char_t *) "semicolon";
        case LXB_CSS_SYNTAX_TOKEN_COMMA:
            return (lxb_char_t *) "comma";
        case LXB_CSS_SYNTAX_TOKEN_LS_BRACKET:
            return (lxb_char_t *) "left-square-bracket";
        case LXB_CSS_SYNTAX_TOKEN_RS_BRACKET:
            return (lxb_char_t *) "right-square-bracket";
        case LXB_CSS_SYNTAX_TOKEN_L_PARENTHESIS:
            return (lxb_char_t *) "left-parenthesis";
        case LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS:
            return (lxb_char_t *) "right-parenthesis";
        case LXB_CSS_SYNTAX_TOKEN_LC_BRACKET:
            return (lxb_char_t *) "left-curly-bracket";
        case LXB_CSS_SYNTAX_TOKEN_RC_BRACKET:
            return (lxb_char_t *) "right-curly-bracket";
        case LXB_CSS_SYNTAX_TOKEN_COMMENT:
            return (lxb_char_t *) "comment";
        case LXB_CSS_SYNTAX_TOKEN__EOF:
            return (lxb_char_t *) "end-of-file";
        case LXB_CSS_SYNTAX_TOKEN__END:
            return (lxb_char_t *) "end";
        default:
            return (lxb_char_t *) "undefined";
    }
}

lxb_css_syntax_token_type_t
lxb_css_syntax_token_type_id_by_name(const lxb_char_t *type_name, size_t len)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_syntax_token_res_name_shs_map,
                                              type_name, len);
    if (entry == NULL) {
        return LXB_CSS_SYNTAX_TOKEN_UNDEF;
    }

    return (lxb_css_syntax_token_type_t) (uintptr_t) entry->value;
}


lxb_status_t
lxb_css_syntax_token_serialize(const lxb_css_syntax_token_t *token,
                               lxb_css_syntax_token_cb_f cb, void *ctx)
{
    size_t len;
    lxb_status_t status;
    lxb_char_t buf[128];
    const lxb_css_syntax_token_string_t *str;
    const lxb_css_syntax_token_dimension_t *dim;

    switch (token->type) {
        case LXB_CSS_SYNTAX_TOKEN_DELIM:
            len = lxb_css_syntax_token_encode_utf_8(buf,
                                                    token->types.delim.character);
            buf[len] = 0x00;

            return cb(buf, len, ctx);

        case LXB_CSS_SYNTAX_TOKEN_UNICODE_RANGE:
            /* Start */
            buf[0] = 'U';
            buf[1] = '+';
            len = 2;
            len += lexbor_conv_dec_to_hex(token->types.unicode_range.start,
                                          &buf[len], (sizeof(buf) - 1) - len,
                                          true);

            /* End */
            buf[len] = '-';
            len += 1;
            len += lexbor_conv_dec_to_hex(token->types.unicode_range.end,
                                          &buf[len], (sizeof(buf) - 1) - len,
                                          true);
            buf[len] = 0x00;

            return cb(buf, len, ctx);

        case LXB_CSS_SYNTAX_TOKEN_NUMBER:
            len = lexbor_conv_float_to_data(token->types.number.num,
                                            buf, (sizeof(buf) - 1));

            buf[len] = 0x00;

            return cb(buf, len, ctx);

        case LXB_CSS_SYNTAX_TOKEN_PERCENTAGE:
            len = lexbor_conv_float_to_data(token->types.number.num,
                                            buf, (sizeof(buf) - 1));

            buf[len] = 0x00;

            status = cb(buf, len, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            return cb((lxb_char_t *) "%", 1, ctx);

        case LXB_CSS_SYNTAX_TOKEN_CDO:
            return cb((lxb_char_t *) "<!--", 4, ctx);

        case LXB_CSS_SYNTAX_TOKEN_CDC:
            return cb((lxb_char_t *) "-->", 3, ctx);

        case LXB_CSS_SYNTAX_TOKEN_COLON:
            return cb((lxb_char_t *) ":", 1, ctx);

        case LXB_CSS_SYNTAX_TOKEN_SEMICOLON:
            return cb((lxb_char_t *) ";", 1, ctx);

        case LXB_CSS_SYNTAX_TOKEN_COMMA:
            return cb((lxb_char_t *) ",", 1, ctx);

        case LXB_CSS_SYNTAX_TOKEN_LS_BRACKET:
            return cb((lxb_char_t *) "[", 1, ctx);

        case LXB_CSS_SYNTAX_TOKEN_RS_BRACKET:
            return cb((lxb_char_t *) "]", 1, ctx);

        case LXB_CSS_SYNTAX_TOKEN_L_PARENTHESIS:
            return cb((lxb_char_t *) "(", 1, ctx);

        case LXB_CSS_SYNTAX_TOKEN_R_PARENTHESIS:
            return cb((lxb_char_t *) ")", 1, ctx);

        case LXB_CSS_SYNTAX_TOKEN_LC_BRACKET:
            return cb((lxb_char_t *) "{", 1, ctx);

        case LXB_CSS_SYNTAX_TOKEN_RC_BRACKET:
            return cb((lxb_char_t *) "}", 1, ctx);

        case LXB_CSS_SYNTAX_TOKEN_HASH:
            status = cb((lxb_char_t *) "#", 1, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            str = &token->types.string;

            return cb(str->data, str->length, ctx);

        case LXB_CSS_SYNTAX_TOKEN_AT_KEYWORD:
            status = cb((lxb_char_t *) "@", 1, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            str = &token->types.string;

            return cb(str->data, str->length, ctx);

        case LXB_CSS_SYNTAX_TOKEN_WHITESPACE:
        case LXB_CSS_SYNTAX_TOKEN_IDENT:
            str = &token->types.string;

            return cb(str->data, str->length, ctx);

        case LXB_CSS_SYNTAX_TOKEN_FUNCTION:
            str = &token->types.string;

            status = cb(str->data, str->length, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            return cb((lxb_char_t *) "(", 1, ctx);

        case LXB_CSS_SYNTAX_TOKEN_STRING:
        case LXB_CSS_SYNTAX_TOKEN_BAD_STRING: {
            status = cb((lxb_char_t *) "\"", 1, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            const lxb_char_t *begin = token->types.string.data;
            const lxb_char_t *end = begin + token->types.string.length;

            const lxb_char_t *ptr = begin;

            for (; begin < end; begin++) {
                /* 0x5C; '\'; Inverse/backward slash */
                if (*begin == 0x5C) {
                    begin += 1;

                    status = cb(ptr, (begin - ptr), ctx);
                    if (status != LXB_STATUS_OK) {
                        return status;
                    }

                    if (begin == end) {
                        status = cb((const lxb_char_t *) "\\", 1, ctx);
                        if (status != LXB_STATUS_OK) {
                            return status;
                        }

                        ptr = begin;

                        break;
                    }

                    begin -= 1;
                    ptr = begin;
                }
                /* 0x22; '"'; Only quotes above */
                else if (*begin == 0x22) {
                    if (ptr != begin) {
                        status = cb(ptr, (begin - ptr), ctx);
                        if (status != LXB_STATUS_OK) {
                            return status;
                        }
                    }

                    status = cb((const lxb_char_t *) "\\", 1, ctx);
                    if (status != LXB_STATUS_OK) {
                        return status;
                    }

                    ptr = begin;
                }
            }

            if (ptr != begin) {
                status = cb(ptr, (begin - ptr), ctx);
                if (status != LXB_STATUS_OK) {
                    return status;
                }
            }

            return cb((const lxb_char_t *) "\"", 1, ctx);
        }

        case LXB_CSS_SYNTAX_TOKEN_URL:
        case LXB_CSS_SYNTAX_TOKEN_BAD_URL:
            status = cb((lxb_char_t *) "url(", 4, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            str = &token->types.string;

            status = cb(str->data, str->length, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            return cb((lxb_char_t *) ")", 1, ctx);

        case LXB_CSS_SYNTAX_TOKEN_COMMENT:
            status = cb((lxb_char_t *) "/*", 2, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            str = &token->types.string;

            status = cb(str->data, str->length, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            return cb((lxb_char_t *) "*/", 2, ctx);

        case LXB_CSS_SYNTAX_TOKEN_DIMENSION:
            len = lexbor_conv_float_to_data(token->types.number.num,
                                            buf, (sizeof(buf) - 1));

            buf[len] = 0x00;

            status = cb(buf, len, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            dim = &token->types.dimension;

            return cb(dim->str.data, dim->str.length, ctx);

        case LXB_CSS_SYNTAX_TOKEN__EOF:
            return cb((lxb_char_t *) "END-OF-FILE", 11, ctx);

        case LXB_CSS_SYNTAX_TOKEN__END:
            return cb((lxb_char_t *) "END", 3, ctx);

        default:
            return LXB_STATUS_ERROR;
    }
}

lxb_status_t
lxb_css_syntax_token_serialize_str(const lxb_css_syntax_token_t *token,
                                   lexbor_str_t *str, lexbor_mraw_t *mraw)
{
    lxb_css_syntax_token_ctx_t ctx;

    ctx.str = str;
    ctx.mraw = mraw;

    if (str->data == NULL) {
        lexbor_str_init(str, mraw, 1);
        if (str->data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    return lxb_css_syntax_token_serialize(token, lxb_css_syntax_token_str_cb,
                                          &ctx);
}

static lxb_status_t
lxb_css_syntax_token_str_cb(const lxb_char_t *data, size_t len, void *cb_ctx)
{
    lxb_char_t *ptr;
    lxb_css_syntax_token_ctx_t *ctx = (lxb_css_syntax_token_ctx_t *) cb_ctx;

    ptr = lexbor_str_append(ctx->str, ctx->mraw, data, len);
    if (ptr == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    return LXB_STATUS_OK;
}


lxb_char_t *
lxb_css_syntax_token_serialize_char(const lxb_css_syntax_token_t *token,
                                    size_t *out_length)
{
    size_t length = 0;
    lxb_status_t status;
    lexbor_str_t str;

    status = lxb_css_syntax_token_serialize(token, lexbor_serialize_length_cb,
                                            &length);
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    /* + 1 == '\0' */
    str.data = lexbor_malloc(length + 1);
    if (str.data == NULL) {
        goto failed;
    }

    str.length = 0;

    status = lxb_css_syntax_token_serialize(token, lexbor_serialize_copy_cb,
                                            &str);
    if (status != LXB_STATUS_OK) {
        lexbor_free(str.data);
        goto failed;
    }

    str.data[str.length] = '\0';

    if (out_length != NULL) {
        *out_length = str.length;
    }

    return str.data;

failed:

    if (out_length != NULL) {
        *out_length = 0;
    }

    return NULL;
}

lxb_css_log_message_t *
lxb_css_syntax_token_error(lxb_css_parser_t *parser,
                           const lxb_css_syntax_token_t *token,
                           const char *module_name)
{
    lxb_char_t *name;
    lxb_css_log_message_t *msg;

    static const char unexpected[] = "%s. Unexpected token: %s";

    name = lxb_css_syntax_token_serialize_char(token, NULL);
    if (name == NULL) {
        return NULL;
    }

    msg = lxb_css_log_format(parser->log, LXB_CSS_LOG_SYNTAX_ERROR, unexpected,
                             module_name, name);

    lexbor_free(name);

    return msg;
}

static int8_t
lxb_css_syntax_token_encode_utf_8(lxb_char_t *data, lxb_codepoint_t cp)
{
    if (cp < 0x80) {
        /* 0xxxxxxx */
        *data = (lxb_char_t) cp;

        return 1;
    }

    if (cp < 0x800) {
        /* 110xxxxx 10xxxxxx */
        *data++ = (lxb_char_t) (0xC0 | (cp >> 6  ));
        *data   = (lxb_char_t) (0x80 | (cp & 0x3F));

        return 2;
    }

    if (cp < 0x10000) {
        /* 1110xxxx 10xxxxxx 10xxxxxx */
        *data++ = (lxb_char_t) (0xE0 | ((cp >> 12)));
        *data++ = (lxb_char_t) (0x80 | ((cp >> 6 ) & 0x3F));
        *data   = (lxb_char_t) (0x80 | ( cp        & 0x3F));

        return 3;
    }

    if (cp < 0x110000) {
        /* 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx */
        *data++ = (lxb_char_t) (0xF0 | ( cp >> 18));
        *data++ = (lxb_char_t) (0x80 | ((cp >> 12) & 0x3F));
        *data++ = (lxb_char_t) (0x80 | ((cp >> 6 ) & 0x3F));
        *data   = (lxb_char_t) (0x80 | ( cp        & 0x3F));

        return 4;
    }

    return 0;
}

/*
 * No inline functions for ABI.
 */
lxb_css_syntax_token_t *
lxb_css_syntax_token_create_noi(lexbor_dobject_t *dobj)
{
    return lxb_css_syntax_token_create(dobj);
}

void
lxb_css_syntax_token_clean_noi(lxb_css_syntax_token_t *token)
{
    lxb_css_syntax_token_clean(token);
}

lxb_css_syntax_token_t *
lxb_css_syntax_token_destroy_noi(lxb_css_syntax_token_t *token,
                                 lexbor_dobject_t *dobj)
{
    return lxb_css_syntax_token_destroy(token, dobj);
}

const lxb_char_t *
lxb_css_syntax_token_type_name_noi(lxb_css_syntax_token_t *token)
{
    return lxb_css_syntax_token_type_name(token);
}

lxb_css_syntax_token_type_t
lxb_css_syntax_token_type_noi(lxb_css_syntax_token_t *token)
{
    return lxb_css_syntax_token_type(token);
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_lowercase[256];
#endif

static const lxb_char_t lxb_css_syntax_tokenizer_important[] = "important";


static bool
lxb_css_syntax_tokenizer_lookup_important_ch(lxb_css_syntax_tokenizer_t *tkz,
                                             const lxb_char_t *p,
                                             const lxb_char_t *end,
                                             const lxb_char_t stop_ch);

static bool
lxb_css_syntax_tokenizer_lookup_important_end(lxb_css_syntax_tokenizer_t *tkz,
                                              const lxb_char_t *p,
                                              const lxb_char_t *end,
                                              const lxb_char_t stop_ch);

lxb_css_syntax_tokenizer_t *
lxb_css_syntax_tokenizer_create(void)
{
    return lexbor_calloc(1, sizeof(lxb_css_syntax_tokenizer_t));
}

lxb_status_t
lxb_css_syntax_tokenizer_init(lxb_css_syntax_tokenizer_t *tkz)
{
    lxb_status_t status;
    static const unsigned tmp_size = 1024;

    if (tkz == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    /* Tokens. */

    tkz->tokens = lexbor_dobject_create();
    status = lexbor_dobject_init(tkz->tokens, 128,
                                 sizeof(lxb_css_syntax_token_t));
    if (status != LXB_STATUS_OK) {
        return status;
    }

    /* Memory for text. */

    tkz->mraw = lexbor_mraw_create();
    status = lexbor_mraw_init(tkz->mraw, 4096);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    /* Temp */
    tkz->start = lexbor_malloc(tmp_size);
    if (tkz->start == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    tkz->pos = tkz->start;
    tkz->end = tkz->start + tmp_size;

    /* Parse errors */
    tkz->parse_errors = lexbor_array_obj_create();
    status = lexbor_array_obj_init(tkz->parse_errors, 16,
                                   sizeof(lxb_css_syntax_tokenizer_error_t));
    if (status != LXB_STATUS_OK) {
        return status;
    }

    tkz->first = NULL;
    tkz->last = NULL;

    tkz->offset = 0;

    tkz->with_comment = false;
    tkz->with_unicode_range = false;
    tkz->status = LXB_STATUS_OK;
    tkz->opt = LXB_CSS_SYNTAX_TOKENIZER_OPT_UNDEF;

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_syntax_tokenizer_clean(lxb_css_syntax_tokenizer_t *tkz)
{
    lexbor_mraw_clean(tkz->mraw);
    lexbor_array_obj_clean(tkz->parse_errors);
    lexbor_dobject_clean(tkz->tokens);

    tkz->in_begin = NULL;
    tkz->in_p = NULL;
    tkz->in_end = NULL;
    tkz->first = NULL;
    tkz->last = NULL;
    tkz->pos = tkz->start;
    tkz->offset = 0;
    tkz->status = LXB_STATUS_OK;

    return LXB_STATUS_OK;
}

lxb_css_syntax_tokenizer_t *
lxb_css_syntax_tokenizer_destroy(lxb_css_syntax_tokenizer_t *tkz)
{
    if (tkz == NULL) {
        return NULL;
    }

    if (tkz->tokens != NULL) {
        tkz->tokens = lexbor_dobject_destroy(tkz->tokens, true);
    }

    tkz->mraw = lexbor_mraw_destroy(tkz->mraw, true);
    tkz->parse_errors = lexbor_array_obj_destroy(tkz->parse_errors, true);

    if (tkz->start != NULL) {
        tkz->start = lexbor_free(tkz->start);
    }

    return lexbor_free(tkz);
}

lxb_css_syntax_token_t *
lxb_css_syntax_tokenizer_token(lxb_css_syntax_tokenizer_t *tkz)
{
    lxb_status_t status;
    lxb_css_syntax_token_t *token;
    const lxb_char_t *begin, *end;

    begin = tkz->in_p;
    end = tkz->in_end;

    token = lexbor_dobject_calloc(tkz->tokens);
    if (token == NULL) {
        tkz->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        return NULL;
    }

    if (tkz->first == NULL) {
        tkz->first = token;
    }

    if (tkz->last != NULL) {
        status = lxb_css_syntax_token_string_make(tkz, tkz->last);
        if (status != LXB_STATUS_OK) {
            return NULL;
        }

        tkz->last->next = token;
    }

    tkz->last = token;

again:

    lxb_css_syntax_token_base(token)->begin = begin;

    if (begin < end) {
        begin = lxb_css_syntax_state_res_map[*begin](tkz, token, begin, end);
        if (begin == NULL) {
            return NULL;
        }
    }
    else {
        token->type = LXB_CSS_SYNTAX_TOKEN__EOF;
    }

    token->offset = tkz->offset;
    lxb_css_syntax_token_base(token)->length = begin - tkz->in_p;
    tkz->offset += lxb_css_syntax_token_base(token)->length;

    tkz->in_p = begin;

    if (token->type == LXB_CSS_SYNTAX_TOKEN_COMMENT && !tkz->with_comment) {
        goto again;
    }

    return token;
}

bool
lxb_css_syntax_tokenizer_lookup_colon(lxb_css_syntax_tokenizer_t *tkz)
{
    const lxb_char_t *p, *end;
    lxb_css_syntax_token_t *token;

    if (tkz->first != NULL && tkz->first->next != NULL) {
        token = tkz->first->next;

        if (token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {
            if (token->next != NULL) {
                return token->next->type == LXB_CSS_SYNTAX_TOKEN_COLON;
            }
        }
        else if (token->type == LXB_CSS_SYNTAX_TOKEN_COLON) {
            return true;
        }

        return false;
    }

    p = tkz->in_p;
    end = tkz->in_end;

    while (p < end) {
        switch (*p) {
            case 0x3A:
                return true;

            case 0x0D:
            case 0x0C:
            case 0x09:
            case 0x20:
            case 0x0A:
                p += 1;
                break;

            default:
                return false;
        }
    }

    return false;
}

bool
lxb_css_syntax_tokenizer_lookup_important(lxb_css_syntax_tokenizer_t *tkz,
                                          lxb_css_syntax_token_type_t stop,
                                          const lxb_char_t stop_ch)
{
    const lxb_char_t *p, *end;
    lxb_css_syntax_token_t *token;

    static const size_t length = sizeof(lxb_css_syntax_tokenizer_important) - 1;

    p = tkz->in_p;
    end = tkz->in_end;

    if (tkz->first != NULL && tkz->first->next != NULL) {
        token = tkz->first->next;

        if (token->type != LXB_CSS_SYNTAX_TOKEN_IDENT) {
            return false;
        }

        if (!(lxb_css_syntax_token_ident(token)->length == length
              && lexbor_str_data_ncasecmp(lxb_css_syntax_token_ident(token)->data,
                                          lxb_css_syntax_tokenizer_important,
                                          length)))
        {
            return false;
        }

        if (token->next != NULL) {
            token = token->next;

            if (token->type == LXB_CSS_SYNTAX_TOKEN_WHITESPACE) {
                if (token->next == NULL) {
                    return lxb_css_syntax_tokenizer_lookup_important_end(tkz,
                                                              p, end, stop_ch);
                }

                token = token->next;
            }

            return (token->type == LXB_CSS_SYNTAX_TOKEN_SEMICOLON
                    || token->type == stop
                    || token->type == LXB_CSS_SYNTAX_TOKEN__EOF);
        }

        return lxb_css_syntax_tokenizer_lookup_important_end(tkz, p, end,
                                                             stop_ch);
    }

    return lxb_css_syntax_tokenizer_lookup_important_ch(tkz, p, end, stop_ch);
}

static bool
lxb_css_syntax_tokenizer_lookup_important_ch(lxb_css_syntax_tokenizer_t *tkz,
                                             const lxb_char_t *p,
                                             const lxb_char_t *end,
                                             const lxb_char_t stop_ch)
{
    static const size_t length = sizeof(lxb_css_syntax_tokenizer_important) - 1;

    if (!(lxb_size(end - p) >= length
           && lexbor_str_data_ncasecmp(p, lxb_css_syntax_tokenizer_important,
                                       length)))
    {
        return false;
    }

    return lxb_css_syntax_tokenizer_lookup_important_end(tkz, p + length,
                                                         end, stop_ch);
}

static bool
lxb_css_syntax_tokenizer_lookup_important_end(lxb_css_syntax_tokenizer_t *tkz,
                                              const lxb_char_t *p,
                                              const lxb_char_t *end,
                                              const lxb_char_t stop_ch)
{
    while (p < end) {
        switch (*p) {
            case 0x3B:
                return true;

            case 0x0D:
            case 0x0C:
            case 0x09:
            case 0x20:
            case 0x0A:
                p += 1;
                break;

            default:
                return (stop_ch != 0x00 && stop_ch == *p);
        }
    }

    /* EOF */
    return true;
}

bool
lxb_css_syntax_tokenizer_lookup_declaration_ws_end(lxb_css_syntax_tokenizer_t *tkz,
                                                   lxb_css_syntax_token_type_t stop,
                                                   const lxb_char_t stop_ch)
{
    lxb_css_syntax_token_t *token;
    const lxb_char_t *p, *end;

    if (tkz->first != NULL && tkz->first->next) {
        token = tkz->first->next;

        switch (token->type) {
            case LXB_CSS_SYNTAX_TOKEN_DELIM:
                if (lxb_css_syntax_token_delim(token)->character != '!') {
                    return lxb_css_syntax_tokenizer_lookup_important(tkz, stop,
                                                                     stop_ch);
                }

                return false;

            case LXB_CSS_SYNTAX_TOKEN_SEMICOLON:
                return true;

            default:
                return token->type == stop_ch ||
                       token->type == LXB_CSS_SYNTAX_TOKEN__EOF;
        }
    }

    p = tkz->in_p;
    end = tkz->in_end;

    while (p < end) {
        switch (*p) {
            case 0x3B:
                return true;

            case 0x21:
                p += 1;
                return lxb_css_syntax_tokenizer_lookup_important_ch(tkz, p, end,
                                                                    stop_ch);

            default:
                return (stop_ch != 0x00 && stop_ch == *p);
        }
    }

    return false;
}

/*
 * No inline functions for ABI.
 */
lxb_status_t
lxb_css_syntax_tokenizer_status_noi(lxb_css_syntax_tokenizer_t *tkz)
{
    return lxb_css_syntax_tokenizer_status(tkz);
}

lxb_css_syntax_tokenizer_error_t *
lxb_css_syntax_tokenizer_error_add(lexbor_array_obj_t *parse_errors,
                                   const lxb_char_t *pos,
                                   lxb_css_syntax_tokenizer_error_id_t id)
{
    if (parse_errors == NULL) {
        return NULL;
    }

    lxb_css_syntax_tokenizer_error_t *entry;

    entry = lexbor_array_obj_push(parse_errors);
    if (entry == NULL) {
        return NULL;
    }

    entry->id = id;
    entry->pos = pos;

    return entry;
}

const lxb_css_data_t *
lxb_css_unit_absolute_relative_by_name(const lxb_char_t *name, size_t length)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_unit_absolute_relative_shs,
                                              name, length);
    if (entry == NULL) {
        return NULL;
    }

    return entry->value;
}

const lxb_css_data_t *
lxb_css_unit_absolute_by_name(const lxb_char_t *name, size_t length)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_unit_absolute_shs,
                                              name, length);
    if (entry == NULL) {
        return NULL;
    }

    return entry->value;
}

const lxb_css_data_t *
lxb_css_unit_relative_by_name(const lxb_char_t *name, size_t length)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_unit_relative_shs,
                                              name, length);
    if (entry == NULL) {
        return NULL;
    }

    return entry->value;
}

const lxb_css_data_t *
lxb_css_unit_angle_by_name(const lxb_char_t *name, size_t length)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_unit_angle_shs,
                                              name, length);
    if (entry == NULL) {
        return NULL;
    }

    return entry->value;
}

const lxb_css_data_t *
lxb_css_unit_frequency_by_name(const lxb_char_t *name, size_t length)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_unit_frequency_shs,
                                              name, length);
    if (entry == NULL) {
        return NULL;
    }

    return entry->value;
}

const lxb_css_data_t *
lxb_css_unit_resolution_by_name(const lxb_char_t *name, size_t length)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_unit_resolution_shs,
                                              name, length);
    if (entry == NULL) {
        return NULL;
    }

    return entry->value;
}

const lxb_css_data_t *
lxb_css_unit_duration_by_name(const lxb_char_t *name, size_t length)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_unit_duration_shs,
                                              name, length);
    if (entry == NULL) {
        return NULL;
    }

    return entry->value;
}

const lxb_css_data_t *
lxb_css_unit_by_id(lxb_css_type_t id)
{
    return &lxb_css_unit_data[id];
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_hex_to_char_lowercase[17];
    LXB_EXTERN const char *lexbor_str_res_char_to_two_hex_value_lowercase[257];
#endif

static const lexbor_str_t lxb_css_value_str_ws = lexbor_str(" ");
static const lexbor_str_t lxb_str_comma = lexbor_str(", ");
static const lexbor_str_t lxb_str_alpha = lexbor_str(" / ");
static const lexbor_str_t lxb_str_rp = lexbor_str(")");


const lxb_css_data_t *
lxb_css_value_by_id(uintptr_t id)
{
    if (id < LXB_CSS_VALUE__LAST_ENTRY) {
        return &lxb_css_value_data[id];
    }

    return NULL;
}

lxb_css_value_type_t
lxb_css_value_by_name(const lxb_char_t *name, size_t length)
{
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_css_value_shs, name, length);
    if (entry == NULL) {
        return LXB_CSS_VALUE__UNDEF;
    }

    return (lxb_css_value_type_t) (uintptr_t) entry->value;
}

lxb_status_t
lxb_css_value_serialize(lxb_css_value_type_t type,
                        lexbor_serialize_cb_f cb, void *ctx)
{
    const lxb_css_data_t *data;

    if (type >= LXB_CSS_VALUE__LAST_ENTRY) {
        return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    data = &lxb_css_value_data[type];

    return cb(data->name, data->length, ctx);
}

lxb_status_t
lxb_css_value_percentage_sr(const lxb_css_value_percentage_t *percent,
                               lexbor_serialize_cb_f cb, void *ctx)
{
    size_t length;
    lxb_char_t buf[128];
    lxb_status_t status;

    static const lexbor_str_t str_per = lexbor_str("%");

    /* FIXME: If length != sizeof(buf)? */
    length = lexbor_conv_float_to_data(percent->num, buf, sizeof(buf));

    lexbor_serialize_write(cb, buf, length, ctx, status);
    lexbor_serialize_write(cb, str_per.data, str_per.length, ctx, status);

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_value_length_sr(const lxb_css_value_length_t *len,
                        lexbor_serialize_cb_f cb, void *ctx)
{
    size_t length;
    lxb_char_t buf[128];
    lxb_status_t status;
    const lxb_css_data_t *unit;

    /* FIXME: If length != sizeof(buf)? */
    length = lexbor_conv_float_to_data(len->num, buf, sizeof(buf));

    lexbor_serialize_write(cb, buf, length, ctx, status);

    if (len->unit == LXB_CSS_UNIT__UNDEF) {
        return LXB_STATUS_OK;
    }

    unit = lxb_css_unit_by_id(len->unit);
    if (unit == NULL) {
        return LXB_STATUS_OK;
    }

    lexbor_serialize_write(cb, unit->name, unit->length, ctx, status);

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_value_number_sr(const lxb_css_value_number_t *number,
                        lexbor_serialize_cb_f cb, void *ctx)
{
    size_t length;
    lxb_char_t buf[128];
    lxb_status_t status;

    /* FIXME: If length != sizeof(buf)? */
    length = lexbor_conv_float_to_data(number->num, buf, sizeof(buf));

    lexbor_serialize_write(cb, buf, length, ctx, status);

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_value_integer_sr(const lxb_css_value_integer_t *integer,
                         lexbor_serialize_cb_f cb, void *ctx)
{
    size_t length;
    lxb_char_t buf[128];
    lxb_status_t status;

    /* FIXME: If length != sizeof(buf)? */
    length = lexbor_conv_long_to_data(integer->num, buf, sizeof(buf));

    lexbor_serialize_write(cb, buf, length, ctx, status);

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_value_length_percentage_sr(const lxb_css_value_length_percentage_t *lp,
                                   lexbor_serialize_cb_f cb, void *ctx)
{
    switch (lp->type) {
        case LXB_CSS_VALUE__LENGTH:
        case LXB_CSS_VALUE__NUMBER:
            return lxb_css_value_length_sr(&lp->u.length, cb, ctx);

        case LXB_CSS_VALUE__PERCENTAGE:
            return lxb_css_value_percentage_sr(&lp->u.percentage, cb, ctx);

        case LXB_CSS_VALUE__UNDEF:
            /* FIXME: ???? */
            break;

        default:
            return lxb_css_value_serialize(lp->type, cb, ctx);
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_value_number_length_sr(const lxb_css_value_number_length_t *nl,
                               lexbor_serialize_cb_f cb, void *ctx)
{
    switch (nl->type) {
        case LXB_CSS_VALUE__LENGTH:
        case LXB_CSS_VALUE__NUMBER:
            return lxb_css_value_length_sr(&nl->u.length, cb, ctx);

        default:
            return lxb_css_value_serialize(nl->type, cb, ctx);
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_value_number_percentage_sr(const lxb_css_value_number_percentage_t *np,
                                   lexbor_serialize_cb_f cb, void *ctx)
{
    switch (np->type) {
        case LXB_CSS_VALUE__NUMBER:
            return lxb_css_value_number_sr(&np->u.number, cb, ctx);

        case LXB_CSS_VALUE__PERCENTAGE:
            return lxb_css_value_percentage_sr(&np->u.percentage, cb, ctx);

        case LXB_CSS_VALUE__UNDEF:
            /* FIXME: ???? */
            break;

        default:
            return lxb_css_value_serialize(np->type, cb, ctx);
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_value_length_type_sr(const lxb_css_value_length_type_t *lt,
                             lexbor_serialize_cb_f cb, void *ctx)
{
    switch (lt->type) {
        case LXB_CSS_VALUE__LENGTH:
        case LXB_CSS_VALUE__NUMBER:
            return lxb_css_value_length_sr(&lt->length, cb, ctx);

        case LXB_CSS_VALUE__UNDEF:
            /* FIXME: ???? */
            break;

        default:
            return lxb_css_value_serialize(lt->type, cb, ctx);
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_value_percentage_type_sr(const lxb_css_value_percentage_type_t *pt,
                                 lexbor_serialize_cb_f cb, void *ctx)
{
    switch (pt->type) {
        case LXB_CSS_VALUE__PERCENTAGE:
            return lxb_css_value_percentage_sr(&pt->percentage, cb, ctx);

        case LXB_CSS_VALUE__UNDEF:
            /* FIXME: ???? */
            break;

        default:
            return lxb_css_value_serialize(pt->type, cb, ctx);
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_value_number_type_sr(const lxb_css_value_number_type_t *num,
                             lexbor_serialize_cb_f cb, void *ctx)
{
    switch (num->type) {
        case LXB_CSS_VALUE__NUMBER:
            return lxb_css_value_number_sr(&num->number, cb, ctx);

        default:
            return lxb_css_value_serialize(num->type, cb, ctx);
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_value_integer_type_sr(const lxb_css_value_integer_type_t *num,
                              lexbor_serialize_cb_f cb, void *ctx)
{
    switch (num->type) {
        case LXB_CSS_VALUE__INTEGER:
            return lxb_css_value_integer_sr(&num->integer, cb, ctx);

        default:
            return lxb_css_value_serialize(num->type, cb, ctx);
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_value_length_percentage_type_sr(const lxb_css_value_length_percentage_type_t *lpt,
                                        lexbor_serialize_cb_f cb, void *ctx)
{
    switch (lpt->type) {
        case LXB_CSS_VALUE__LENGTH:
            return lxb_css_value_length_percentage_sr(&lpt->length, cb, ctx);

        default:
            return lxb_css_value_serialize(lpt->type, cb, ctx);
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_value_number_length_percentage_type_sr(const lxb_css_value_number_length_percentage_t *nlp,
                                               lexbor_serialize_cb_f cb, void *ctx)
{
    switch (nlp->type) {
        case LXB_CSS_VALUE__NUMBER:
            return lxb_css_value_number_sr(&nlp->u.number, cb, ctx);

        case LXB_CSS_VALUE__LENGTH:
            return lxb_css_value_length_sr(&nlp->u.length, cb, ctx);

        case LXB_CSS_VALUE__PERCENTAGE:
            return lxb_css_value_percentage_sr(&nlp->u.percentage, cb, ctx);

        default:
            return lxb_css_value_serialize(nlp->type, cb, ctx);
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_css_value_angle_sr(const lxb_css_value_angle_t *angle,
                       lexbor_serialize_cb_f cb, void *ctx)
{
    size_t length;
    lxb_char_t buf[128];
    lxb_status_t status;
    const lxb_css_data_t *data;

    /* FIXME: If length != sizeof(buf)? */
    length = lexbor_conv_float_to_data(angle->num, buf, sizeof(buf));

    lexbor_serialize_write(cb, buf, length, ctx, status);

    data = lxb_css_unit_by_id(angle->unit);

    return cb(data->name, data->length, ctx);
}

lxb_status_t
lxb_css_value_hue_sr(const lxb_css_value_hue_t *hue,
                     lexbor_serialize_cb_f cb, void *ctx)
{
    switch (hue->type) {
        case LXB_CSS_VALUE__NUMBER:
            return lxb_css_value_number_sr(&hue->u.number, cb, ctx);

        case LXB_CSS_VALUE__ANGLE:
            return lxb_css_value_angle_sr(&hue->u.angle, cb, ctx);

        case LXB_CSS_VALUE__UNDEF:
            /* FIXME: ???? */
            break;

        default:
            return lxb_css_value_serialize(hue->type, cb, ctx);
    }

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_css_value_color_hex_sr(const lxb_css_value_color_hex_t *hex,
                           lexbor_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    static const lexbor_str_t str_hash = lexbor_str("#");
    const lxb_css_value_color_hex_rgba_t *rgba = &hex->rgba;

    const lxb_char_t *hmo = lexbor_str_res_map_hex_to_char_lowercase;
    const char **hmt = lexbor_str_res_char_to_two_hex_value_lowercase;

    lexbor_serialize_write(cb, str_hash.data, str_hash.length, ctx, status);

    switch (hex->type) {
        case LXB_CSS_PROPERTY_COLOR_HEX_TYPE_3:
        case LXB_CSS_PROPERTY_COLOR_HEX_TYPE_4:
            lexbor_serialize_write(cb, &hmo[rgba->r], 1, ctx, status);
            lexbor_serialize_write(cb, &hmo[rgba->g], 1, ctx, status);
            lexbor_serialize_write(cb, &hmo[rgba->b], 1, ctx, status);

            if (hex->type == LXB_CSS_PROPERTY_COLOR_HEX_TYPE_4) {
                lexbor_serialize_write(cb, &hmo[rgba->a], 1, ctx, status);
            }

            break;

        case LXB_CSS_PROPERTY_COLOR_HEX_TYPE_6:
        case LXB_CSS_PROPERTY_COLOR_HEX_TYPE_8:
            lexbor_serialize_write(cb, hmt[rgba->r], 2, ctx, status);
            lexbor_serialize_write(cb, hmt[rgba->g], 2, ctx, status);
            lexbor_serialize_write(cb, hmt[rgba->b], 2, ctx, status);

            if (hex->type == LXB_CSS_PROPERTY_COLOR_HEX_TYPE_8) {
                lexbor_serialize_write(cb, hmt[rgba->a], 2, ctx, status);
            }

            break;

        default:
            break;
    }

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_css_value_color_rgb_sr(const lxb_css_value_color_rgba_t *rgb,
                           lexbor_serialize_cb_f cb, void *ctx,
                           lxb_css_value_type_t type)
{
    lxb_status_t status;
    const lexbor_str_t *sep;
    static const lexbor_str_t str_rgb = lexbor_str("rgb(");
    static const lexbor_str_t str_rgba = lexbor_str("rgba(");

    if (type == LXB_CSS_COLOR_RGB) {
        lexbor_serialize_write(cb, str_rgb.data, str_rgb.length, ctx, status);
    }
    else {
        lexbor_serialize_write(cb, str_rgba.data, str_rgba.length, ctx, status);
    }

    sep = (rgb->old) ? &lxb_str_comma : &lxb_css_value_str_ws;

    status = lxb_css_value_number_percentage_sr(&rgb->r, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    lexbor_serialize_write(cb, sep->data, sep->length, ctx, status);

    status = lxb_css_value_number_percentage_sr(&rgb->g, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    lexbor_serialize_write(cb, sep->data, sep->length, ctx, status);

    status = lxb_css_value_number_percentage_sr(&rgb->b, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (rgb->a.type == LXB_CSS_VALUE__UNDEF) {
        return cb(lxb_str_rp.data, lxb_str_rp.length, ctx);
    }

    sep = (rgb->old) ? &lxb_str_comma : &lxb_str_alpha;

    lexbor_serialize_write(cb, sep->data, sep->length, ctx, status);

    status = lxb_css_value_number_percentage_sr(&rgb->a, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    return cb(lxb_str_rp.data, lxb_str_rp.length, ctx);
}

static lxb_status_t
lxb_css_value_color_hsl_sr(const lxb_css_value_color_hsla_t *hsl,
                           lexbor_serialize_cb_f cb, void *ctx,
                           lxb_css_value_type_t type)
{
    lxb_status_t status;
    const lexbor_str_t *sep;
    static const lexbor_str_t str_hsl = lexbor_str("hsl(");
    static const lexbor_str_t str_hsla = lexbor_str("hsla(");
    static const lexbor_str_t str_hwb = lexbor_str("hwb(");

    switch (type) {
        case LXB_CSS_COLOR_HSL:
            status = cb(str_hsl.data, str_hsl.length, ctx);
            break;

        case LXB_CSS_COLOR_HSLA:
            status = cb(str_hsla.data, str_hsla.length, ctx);
            break;

        case LXB_CSS_COLOR_HWB:
            status = cb(str_hwb.data, str_hwb.length, ctx);
            break;

        default:
            return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    if (status != LXB_STATUS_OK) {
        return status;
    }

    sep = (hsl->old) ? &lxb_str_comma : &lxb_css_value_str_ws;

    status = lxb_css_value_hue_sr(&hsl->h, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    lexbor_serialize_write(cb, sep->data, sep->length, ctx, status);

    status = lxb_css_value_percentage_type_sr(&hsl->s, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    lexbor_serialize_write(cb, sep->data, sep->length, ctx, status);

    status = lxb_css_value_percentage_type_sr(&hsl->l, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (hsl->a.type == LXB_CSS_VALUE__UNDEF) {
        return cb(lxb_str_rp.data, lxb_str_rp.length, ctx);
    }

    sep = (hsl->old) ? &lxb_str_comma : &lxb_str_alpha;

    lexbor_serialize_write(cb, sep->data, sep->length, ctx, status);

    status = lxb_css_value_number_percentage_sr(&hsl->a, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    return cb(lxb_str_rp.data, lxb_str_rp.length, ctx);
}

static lxb_status_t
lxb_css_value_color_lab_sr(const lxb_css_value_color_lab_t *lab,
                           lexbor_serialize_cb_f cb, void *ctx,
                           lxb_css_value_type_t type)
{
    lxb_status_t status;
    static const lexbor_str_t str_lab = lexbor_str("lab(");
    static const lexbor_str_t str_oklab = lexbor_str("oklab(");

    switch (type) {
        case LXB_CSS_COLOR_LAB:
            status = cb(str_lab.data, str_lab.length, ctx);
            break;

        case LXB_CSS_COLOR_OKLAB:
            status = cb(str_oklab.data, str_oklab.length, ctx);
            break;

        default:
            return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    if (status != LXB_STATUS_OK) {
        return status;
    }

    status = lxb_css_value_number_percentage_sr(&lab->l, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    lexbor_serialize_write(cb, lxb_css_value_str_ws.data,
                           lxb_css_value_str_ws.length, ctx, status);

    status = lxb_css_value_number_percentage_sr(&lab->a, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    lexbor_serialize_write(cb, lxb_css_value_str_ws.data,
                           lxb_css_value_str_ws.length, ctx, status);

    status = lxb_css_value_number_percentage_sr(&lab->b, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (lab->alpha.type == LXB_CSS_VALUE__UNDEF) {
        return cb(lxb_str_rp.data, lxb_str_rp.length, ctx);
    }

    lexbor_serialize_write(cb, lxb_str_alpha.data, lxb_str_alpha.length,
                           ctx, status);

    status = lxb_css_value_number_percentage_sr(&lab->alpha, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    return cb(lxb_str_rp.data, lxb_str_rp.length, ctx);
}

static lxb_status_t
lxb_css_value_color_lch_sr(const lxb_css_value_color_lch_t *lch,
                           lexbor_serialize_cb_f cb, void *ctx,
                           lxb_css_value_type_t type)
{
    lxb_status_t status;
    static const lexbor_str_t str_lch = lexbor_str("lch(");
    static const lexbor_str_t str_oklch = lexbor_str("oklch(");

    switch (type) {
        case LXB_CSS_COLOR_LCH:
            status = cb(str_lch.data, str_lch.length, ctx);
            break;

        case LXB_CSS_COLOR_OKLCH:
            status = cb(str_oklch.data, str_oklch.length, ctx);
            break;

        default:
            return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    if (status != LXB_STATUS_OK) {
        return status;
    }

    status = lxb_css_value_number_percentage_sr(&lch->l, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    lexbor_serialize_write(cb, lxb_css_value_str_ws.data,
                           lxb_css_value_str_ws.length, ctx, status);

    status = lxb_css_value_number_percentage_sr(&lch->c, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    lexbor_serialize_write(cb, lxb_css_value_str_ws.data,
                           lxb_css_value_str_ws.length, ctx, status);

    status = lxb_css_value_hue_sr(&lch->h, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (lch->a.type == LXB_CSS_VALUE__UNDEF) {
        return cb(lxb_str_rp.data, lxb_str_rp.length, ctx);
    }

    lexbor_serialize_write(cb, lxb_str_alpha.data, lxb_str_alpha.length,
                           ctx, status);

    status = lxb_css_value_number_percentage_sr(&lch->a, cb, ctx);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    return cb(lxb_str_rp.data, lxb_str_rp.length, ctx);
}

lxb_status_t
lxb_css_value_color_serialize(const lxb_css_value_color_t *color,
                              lexbor_serialize_cb_f cb, void *ctx)
{
    switch (color->type) {
        case LXB_CSS_COLOR_HEX:
            return lxb_css_value_color_hex_sr(&color->u.hex, cb, ctx);

        case LXB_CSS_COLOR_RGB:
        case LXB_CSS_COLOR_RGBA:
            return lxb_css_value_color_rgb_sr(&color->u.rgb, cb, ctx,
                                              color->type);

        case LXB_CSS_COLOR_HSL:
        case LXB_CSS_COLOR_HSLA:
        case LXB_CSS_COLOR_HWB:
            return lxb_css_value_color_hsl_sr(&color->u.hsl, cb, ctx,
                                              color->type);

        case LXB_CSS_COLOR_LAB:
        case LXB_CSS_COLOR_OKLAB:
            return lxb_css_value_color_lab_sr(&color->u.lab, cb, ctx,
                                              color->type);

        case LXB_CSS_COLOR_LCH:
        case LXB_CSS_COLOR_OKLCH:
            return lxb_css_value_color_lch_sr(&color->u.lch, cb, ctx,
                                              color->type);

        case LXB_CSS_VALUE__UNDEF:
            break;

        default:
            return lxb_css_value_serialize(color->type, cb, ctx);
    }

    return LXB_STATUS_OK;
}

lxb_dom_collection_t *
lxb_dom_collection_create(lxb_dom_document_t *document)
{
    lxb_dom_collection_t *col;

    col = lexbor_calloc(1, sizeof(lxb_dom_collection_t));
    if (col == NULL) {
        return NULL;
    }

    col->document = document;

    return col;
}

lxb_status_t
lxb_dom_collection_init(lxb_dom_collection_t *col, size_t start_list_size)
{
    if (col == NULL) {
        return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    if (col->document == NULL) {
        return LXB_STATUS_ERROR_INCOMPLETE_OBJECT;
    }

    return lexbor_array_init(&col->array, start_list_size);
}

lxb_dom_collection_t *
lxb_dom_collection_destroy(lxb_dom_collection_t *col, bool self_destroy)
{
    if (col == NULL) {
        return NULL;
    }

    if (col->array.list != NULL) {
        lexbor_array_destroy(&col->array, false);

        col->array.list = NULL;
    }

    if (self_destroy) {
        return lexbor_free(col);
    }

    return col;
}

/*
 * No inline functions for ABI.
 */
lxb_dom_collection_t *
lxb_dom_collection_make_noi(lxb_dom_document_t *document, size_t start_list_size)
{
    return lxb_dom_collection_make(document, start_list_size);
}

void
lxb_dom_collection_clean_noi(lxb_dom_collection_t *col)
{
    lxb_dom_collection_clean(col);
}

lxb_status_t
lxb_dom_collection_append_noi(lxb_dom_collection_t *col, void *value)
{
    return lxb_dom_collection_append(col, value);
}

lxb_dom_element_t *
lxb_dom_collection_element_noi(lxb_dom_collection_t *col, size_t idx)
{
    return lxb_dom_collection_element(col, idx);
}

lxb_dom_node_t *
lxb_dom_collection_node_noi(lxb_dom_collection_t *col, size_t idx)
{
    return lxb_dom_collection_node(col, idx);
}

size_t
lxb_dom_collection_length_noi(lxb_dom_collection_t *col)
{
    return lxb_dom_collection_length(col);
}

typedef struct {
    lexbor_str_t name;
    lexbor_str_t message;
}
lxb_dom_exception_data_t;


static const lxb_dom_exception_data_t lxb_dom_exception_data[LXB_DOM_EXCEPTION__LAST_ENTRY] =
{
    {
        lexbor_str("Error"),
        lexbor_str("")
    },
    {
        lexbor_str("IndexSizeError"),
        lexbor_str("Deprecated. Use RangeError instead.")
    },
    {
        lexbor_str("DOMStringSizeError"),
        lexbor_str("")
    },
    {
        lexbor_str("HierarchyRequestError"),
        lexbor_str("The operation would yield an incorrect node tree.")
    },
    {
        lexbor_str("WrongDocumentError"),
        lexbor_str("The object is in the wrong document.")
    },
    {
        lexbor_str("InvalidCharacterError"),
        lexbor_str("The string contains invalid characters.")
    },
    {
        lexbor_str("NoDataAllowedError"),
        lexbor_str("")
    },
    {
        lexbor_str("NoModificationAllowedError"),
        lexbor_str("The object can not be modified.")
    },
    {
        lexbor_str("NotFoundError"),
        lexbor_str("The object can not be found here.")
    },
    {
        lexbor_str("NotSupportedError"),
        lexbor_str("The operation is not supported.")
    },
    {
        lexbor_str("InUseAttributeError"),
        lexbor_str("The attribute is in use by another element.")
    },
    {
        lexbor_str("InvalidStateError"),
        lexbor_str("The object is in an invalid state.")
    },
    {
        lexbor_str("SyntaxError"),
        lexbor_str("The string did not match the expected pattern.")
    },
    {
        lexbor_str("InvalidModificationError"),
        lexbor_str("The object can not be modified in this way.")
    },
    {
        lexbor_str("NamespaceError"),
        lexbor_str("The operation is not allowed by Namespaces in XML.")
    },
    {
        lexbor_str("InvalidAccessError"),
        lexbor_str("Deprecated. Use TypeError for invalid arguments, "
                   "\"NotSupportedError\" DOMException for unsupported operations, "
                   "and \"NotAllowedError\" DOMException for denied requests instead.")
    },
    {
        lexbor_str("ValidationError"),
        lexbor_str("")
    },
    {
        lexbor_str("TypeMismatchError"),
        lexbor_str("Deprecated. Use TypeError instead.")
    },
    {
        lexbor_str("SecurityError"),
        lexbor_str("The operation is insecure.")
    },
    {
        lexbor_str("NetworkError"),
        lexbor_str("A network error occurred.")
    },
    {
        lexbor_str("AbortError"),
        lexbor_str("The operation was aborted.")
    },
    {
        lexbor_str("URLMismatchError"),
        lexbor_str("Deprecated.")
    },
    {
        lexbor_str("QuotaExceededError"),
        lexbor_str("Deprecated. Use the QuotaExceededError DOMException-derived "
                   "interface instead.")
    },
    {
        lexbor_str("TimeoutError"),
        lexbor_str("The operation timed out.")
    },
    {
        lexbor_str("InvalidNodeTypeError"),
        lexbor_str("The supplied node is incorrect or has an incorrect ancestor "
                   "for this operation.")
    },
    {
        lexbor_str("DataCloneError"),
        lexbor_str("The object can not be cloned.")
    },
    {
        lexbor_str("EncodingError"),
        lexbor_str("The encoding operation (either encoded or decoding) failed.")
    },
    {
        lexbor_str("NotReadableError"),
        lexbor_str("The I/O read operation failed.")
    },
    {
        lexbor_str("UnknownError"),
        lexbor_str("The operation failed for an unknown transient reason "
                   "(e.g. out of memory).")
    },
    {
        lexbor_str("ConstraintError"),
        lexbor_str("A mutation operation in a transaction failed because a "
                   "constraint was not satisfied.")
    },
    {
        lexbor_str("DataError"),
        lexbor_str("Provided data is inadequate.")
    },
    {
        lexbor_str("TransactionInactiveError"),
        lexbor_str("A request was placed against a transaction which is currently"
                   " not active, or which is finished.")
    },
    {
        lexbor_str("ReadOnlyError"),
        lexbor_str("The mutating operation was attempted in a \"readonly\" transaction.")
    },
    {
        lexbor_str("VersionError"),
        lexbor_str("An attempt was made to open a database using a lower version"
                   " than the existing version.")
    },
    {
        lexbor_str("OperationError"),
        lexbor_str("The operation failed for an operation-specific reason.")
    },
    {
        lexbor_str("NotAllowedError"),
        lexbor_str("The request is not allowed by the user agent or the platform"
                   " in the current context, possibly because the user denied permission.")
    },
    {
        lexbor_str("OptOutError"),
        lexbor_str("The user opted out of the process.")
    }
};


lxb_dom_exception_t *
lxb_dom_exception_create(lxb_dom_document_t *document,
                         const lxb_char_t *message, size_t message_length,
                         const lxb_char_t *name, size_t name_length)
{
    lexbor_str_t *str;
    const lxb_dom_exception_data_t *data;
    lxb_dom_exception_t *exception;

    exception = lexbor_mraw_alloc(document->mraw, sizeof(lxb_dom_exception_t));
    if (exception == NULL) {
        return NULL;
    }

    exception->document = document;

    if (name != NULL && name_length > 0) {
        exception->code = lxb_dom_exception_code_by_name(name, name_length);
    }
    else {
        exception->code = LXB_DOM_EXCEPTION_ERR;
    }

    /* Message. */

    if (message == NULL || message_length == 0) {
        data = &lxb_dom_exception_data[exception->code];
        exception->message = *((lexbor_str_t *) &data->message);
    }
    else {
        str = &exception->message;
        str->data = lexbor_mraw_alloc(document->mraw, message_length + 1);
        if (str->data == NULL) {
            goto failed;
        }

        memcpy(str->data, message, message_length);

        str->data[message_length] = '\0';
        str->length = message_length;
    }

    /* Name. */

    if (exception->code != LXB_DOM_EXCEPTION_ERR
        || name == NULL || name_length == 0)
    {
        data = &lxb_dom_exception_data[exception->code];
        exception->name = *((lexbor_str_t *) &data->name);
    }
    else {
        str = &exception->name;
        str->data = lexbor_mraw_alloc(document->mraw, name_length + 1);
        if (str->data == NULL) {
            if (exception->message.length != 0) {
                lexbor_mraw_free(document->mraw, exception->message.data);
            }

            goto failed;
        }

        memcpy(str->data, name, name_length);

        str->data[name_length] = '\0';
        str->length = name_length;
    }

    return exception;

failed:

    lexbor_mraw_free(document->mraw, exception);

    return NULL;
}

lxb_dom_exception_t *
lxb_dom_exception_create_by_code(lxb_dom_document_t *document,
                                 const lxb_char_t *message, size_t length,
                                 lxb_dom_exception_code_t code)
{
    lexbor_str_t *str;
    const lxb_dom_exception_data_t *data;
    lxb_dom_exception_t *exception;

    if (code <= LXB_DOM_EXCEPTION_OK || code >= LXB_DOM_EXCEPTION__LAST_ENTRY) {
        return NULL;
    }

    exception = lexbor_mraw_alloc(document->mraw, sizeof(lxb_dom_exception_t));
    if (exception == NULL) {
        return NULL;
    }

    exception->document = document;
    exception->code = code;

    data = &lxb_dom_exception_data[code];

    /* Message. */

    if (message == NULL || length == 0) {
        exception->message = *((lexbor_str_t *) &data->message);
    }
    else {
        str = &exception->message;
        str->data = lexbor_mraw_alloc(document->mraw, length + 1);
        if (str->data == NULL) {
            goto failed;
        }

        memcpy(str->data, message, length);

        str->data[length] = '\0';
        str->length = length;
    }

    /* Name. */

    exception->name = *((lexbor_str_t *) &data->name);

    return exception;

failed:

    lexbor_mraw_free(document->mraw, exception);

    return NULL;
}

lxb_dom_exception_t *
lxb_dom_exception_destroy(lxb_dom_exception_t *exception)
{
    const lxb_dom_exception_data_t *data;
    lxb_dom_document_t *document = exception->document;

    data = &lxb_dom_exception_data[exception->code];

    if (exception->message.data != NULL
        && exception->message.data != data->message.data)
    {
        lexbor_mraw_free(document->mraw, exception->message.data);
    }

    if (exception->name.data != NULL
        && exception->name.data != data->name.data)
    {
        lexbor_mraw_free(document->mraw, exception->name.data);
    }

    lexbor_mraw_free(document->mraw, exception);

    return NULL;
}

const lexbor_str_t *
lxb_dom_exception_message_by_code(lxb_dom_exception_code_t code)
{
    if (code <= LXB_DOM_EXCEPTION_OK || code >= LXB_DOM_EXCEPTION__LAST_ENTRY) {
        return NULL;
    }

    return &lxb_dom_exception_data[code].message;
}

const lexbor_str_t *
lxb_dom_exception_name_by_code(lxb_dom_exception_code_t code)
{
    if (code <= LXB_DOM_EXCEPTION_OK || code >= LXB_DOM_EXCEPTION__LAST_ENTRY) {
        return NULL;
    }

    return &lxb_dom_exception_data[code].name;
}

lxb_dom_exception_code_t
lxb_dom_exception_code_by_name(const lxb_char_t *name, size_t length)
{
    const lexbor_str_t *str;
    lxb_dom_exception_code_t code;

    for (code = 0; code < LXB_DOM_EXCEPTION__LAST_ENTRY; code++) {
        str = &lxb_dom_exception_data[code].name;

        if (length == str->length
            && lexbor_str_data_ncasecmp(str->data, name, length))
        {
            return code;
        }
    }

    return LXB_DOM_EXCEPTION_ERR;
}

lxb_dom_interface_t *
lxb_dom_interface_create(lxb_dom_document_t *document, lxb_tag_id_t tag_id,
                         lxb_ns_id_t ns)
{
    lxb_dom_element_t *domel;

    domel = lxb_dom_element_interface_create(document);
    if (domel == NULL) {
        return NULL;
    }

    domel->node.local_name = tag_id;
    domel->node.ns = ns;

    return domel;
}

lxb_dom_interface_t *
lxb_dom_interface_clone(lxb_dom_document_t *document,
                        const lxb_dom_interface_t *intrfc)
{
    const lxb_dom_node_t *node = intrfc;

    if (document == NULL) {
        document = node->owner_document;
    }

    switch (node->type) {
        case LXB_DOM_NODE_TYPE_ELEMENT:
            return lxb_dom_element_interface_clone(document, intrfc);

        case LXB_DOM_NODE_TYPE_TEXT:
            return lxb_dom_text_interface_clone(document, intrfc);

        case LXB_DOM_NODE_TYPE_PROCESSING_INSTRUCTION:
            return lxb_dom_processing_instruction_interface_clone(document,
                                                                  intrfc);
        case LXB_DOM_NODE_TYPE_COMMENT:
            return lxb_dom_comment_interface_clone(document, intrfc);

        case LXB_DOM_NODE_TYPE_DOCUMENT:
            return lxb_dom_document_interface_clone(document, intrfc);

        case LXB_DOM_NODE_TYPE_DOCUMENT_TYPE:
            return lxb_dom_document_type_interface_clone(document, intrfc);

        default:
            return lxb_dom_node_interface_clone(document, node, false);
    }
}

lxb_dom_interface_t *
lxb_dom_interface_destroy(lxb_dom_interface_t *intrfc)
{
    if (intrfc == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = intrfc;

    switch (node->type) {
        case LXB_DOM_NODE_TYPE_ELEMENT:
            return lxb_dom_element_interface_destroy(intrfc);

        case LXB_DOM_NODE_TYPE_TEXT:
            return lxb_dom_text_interface_destroy(intrfc);

        case LXB_DOM_NODE_TYPE_CDATA_SECTION:
            return lxb_dom_cdata_section_interface_destroy(intrfc);

        case LXB_DOM_NODE_TYPE_PROCESSING_INSTRUCTION:
            return lxb_dom_processing_instruction_interface_destroy(intrfc);

        case LXB_DOM_NODE_TYPE_COMMENT:
            return lxb_dom_comment_interface_destroy(intrfc);

        case LXB_DOM_NODE_TYPE_DOCUMENT:
            return lxb_dom_document_interface_destroy(intrfc);

        case LXB_DOM_NODE_TYPE_DOCUMENT_TYPE:
            return lxb_dom_document_type_interface_destroy(intrfc);

        case LXB_DOM_NODE_TYPE_DOCUMENT_FRAGMENT:
            return lxb_dom_document_fragment_interface_destroy(intrfc);

        default:
            return lexbor_mraw_free(node->owner_document->mraw, intrfc);
    }
}

LXB_API lxb_dom_attr_data_t *
lxb_dom_attr_local_name_append(lexbor_hash_t *hash,
                               const lxb_char_t *name, size_t length);

LXB_API lxb_dom_attr_data_t *
lxb_dom_attr_qualified_name_append(lexbor_hash_t *hash, const lxb_char_t *name,
                                   size_t length);

const lxb_ns_data_t *
lxb_ns_append(lexbor_hash_t *hash, const lxb_char_t *link, size_t length);


lxb_dom_attr_t *
lxb_dom_attr_interface_create(lxb_dom_document_t *document)
{
    lxb_dom_attr_t *attr;

    attr = lexbor_mraw_calloc(document->mraw, sizeof(lxb_dom_attr_t));
    if (attr == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(attr);

    node->owner_document = lxb_dom_document_owner(document);
    node->type = LXB_DOM_NODE_TYPE_ATTRIBUTE;

    return attr;
}

lxb_dom_attr_t *
lxb_dom_attr_interface_clone(lxb_dom_document_t *document,
                             const lxb_dom_attr_t *attr)
{
    lxb_dom_attr_t *new;
    const lxb_dom_attr_data_t *data;

    new = lxb_dom_attr_interface_create(document);
    if (new == NULL) {
        return NULL;
    }

    new->node.ns = attr->node.ns;

    if (document == attr->node.owner_document) {
        new->qualified_name = attr->qualified_name;
    }
    else {
        data = lxb_dom_attr_data_by_id(attr->node.owner_document->attrs,
                                       attr->qualified_name);
        if (data == NULL) {
            goto failed;
        }

        if (data->attr_id < LXB_DOM_ATTR__LAST_ENTRY) {
            new->qualified_name = attr->qualified_name;
        }
        else {
            data = lxb_dom_attr_qualified_name_append(document->attrs,
                                                      lexbor_hash_entry_str(&data->entry),
                                                      data->entry.length);
            if (data == NULL) {
                goto failed;
            }

            new->qualified_name = (lxb_dom_attr_id_t) data;
        }
    }

    if (lxb_dom_node_interface_copy(&new->node, &attr->node, true)
        != LXB_STATUS_OK)
    {
        goto failed;
    }

    if (attr->value == NULL) {
        return new;
    }

    new->value = lexbor_mraw_calloc(document->mraw, sizeof(lexbor_str_t));
    if (new->value == NULL) {
        goto failed;
    }

    if (lexbor_str_copy(new->value, attr->value, document->text) == NULL) {
        goto failed;
    }

    return new;

failed:

    return lxb_dom_attr_interface_destroy(new);
}

lxb_dom_attr_t *
lxb_dom_attr_interface_destroy(lxb_dom_attr_t *attr)
{
    lexbor_str_t *value;
    lxb_dom_document_t *doc = lxb_dom_interface_node(attr)->owner_document;

    value = attr->value;

    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(attr));

    if (value != NULL) {
        if (value->data != NULL) {
            lexbor_mraw_free(doc->text, value->data);
        }

        lexbor_mraw_free(doc->mraw, value);
    }

    return NULL;
}

lxb_status_t
lxb_dom_attr_set_name(lxb_dom_attr_t *attr, const lxb_char_t *name,
                      size_t length, bool to_lowercase)
{
    lxb_dom_attr_data_t *data;
    lxb_dom_document_t *doc = lxb_dom_interface_node(attr)->owner_document;

    data = lxb_dom_attr_local_name_append(doc->attrs, name, length);
    if (data == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    attr->node.local_name = data->attr_id;

    if (to_lowercase == false) {
        data = lxb_dom_attr_qualified_name_append(doc->attrs, name, length);
        if (data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        attr->qualified_name = (lxb_dom_attr_id_t) data;
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_dom_attr_set_name_ns(lxb_dom_attr_t *attr, const lxb_char_t *link,
                         size_t link_length, const lxb_char_t *name,
                         size_t name_length, bool to_lowercase)
{
    size_t length;
    lxb_char_t *p;
    const lxb_ns_data_t *ns_data;
    lxb_dom_attr_data_t *data;
    lxb_dom_document_t *doc = lxb_dom_interface_node(attr)->owner_document;

    ns_data = lxb_ns_append(doc->ns, link, link_length);
    if (ns_data == NULL || ns_data->ns_id == LXB_NS__UNDEF) {
        return LXB_STATUS_ERROR;
    }

    attr->node.ns = ns_data->ns_id;

    /* TODO: append check https://www.w3.org/TR/xml/#NT-Name */

    p = (lxb_char_t *) memchr(name, ':', name_length);
    if (p == NULL) {
        return lxb_dom_attr_set_name(attr, name, name_length, to_lowercase);
    }

    length = p - name;

    /* local name */
    data = lxb_dom_attr_local_name_append(doc->attrs, &name[(length + 1)],
                                          (name_length - (length + 1)));
    if (data == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    attr->node.local_name = (lxb_dom_attr_id_t) data;

    /* qualified name */
    data = lxb_dom_attr_qualified_name_append(doc->attrs, name, name_length);
    if (data == NULL) {
        return LXB_STATUS_ERROR;
    }

    attr->qualified_name = (lxb_dom_attr_id_t) data;

    /* prefix */
    attr->node.prefix = (lxb_ns_prefix_id_t) lxb_ns_prefix_append(doc->ns, name,
                                                                  length);
    if (attr->node.prefix == 0) {
        return LXB_STATUS_ERROR;
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_dom_attr_set_value(lxb_dom_attr_t *attr,
                       const lxb_char_t *value, size_t value_len)
{
    lxb_status_t status;
    lxb_dom_document_t *doc = lxb_dom_interface_node(attr)->owner_document;

    if (doc->node_cb->set_value != NULL) {
        status = doc->node_cb->set_value(lxb_dom_interface_node(attr),
                                         value, value_len);
        if (status != LXB_STATUS_OK) {
            return status;
        }
    }

    if (attr->value == NULL) {
        attr->value = lexbor_mraw_calloc(doc->mraw, sizeof(lexbor_str_t));
        if (attr->value == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    if (attr->value->data == NULL) {
        lexbor_str_init(attr->value, doc->text, value_len);
        if (attr->value->data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }
    else {
        attr->value->length = 0;

        if (lexbor_str_size(attr->value) <= value_len) {
            const lxb_char_t *tmp;

            tmp = lexbor_str_realloc(attr->value, doc->text, (value_len + 1));
            if (tmp == NULL) {
                return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
            }
        }
    }

    memcpy(attr->value->data, value, sizeof(lxb_char_t) * value_len);

    attr->value->data[value_len] = 0x00;
    attr->value->length = value_len;

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_dom_attr_set_value_wo_copy(lxb_dom_attr_t *attr,
                               lxb_char_t *value, size_t value_len)
{
    if (attr->value == NULL) {
        lxb_dom_document_t *doc = lxb_dom_interface_node(attr)->owner_document;

        attr->value = lexbor_mraw_alloc(doc->mraw, sizeof(lexbor_str_t));
        if (attr->value == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    attr->value->data = value;
    attr->value->length = value_len;

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_dom_attr_set_existing_value(lxb_dom_attr_t *attr,
                                const lxb_char_t *value, size_t value_len)
{
    return lxb_dom_attr_set_value(attr, value, value_len);
}

lxb_status_t
lxb_dom_attr_clone_name_value(lxb_dom_attr_t *attr_from,
                              lxb_dom_attr_t *attr_to)
{
    lexbor_str_t *value;

    attr_to->node.local_name = attr_from->node.local_name;
    attr_to->qualified_name = attr_from->qualified_name;

    value = attr_from->value;

    if (value != NULL && value->data != NULL) {
        return lxb_dom_attr_set_value(attr_to, value->data, value->length);
    }

    return LXB_STATUS_OK;
}

bool
lxb_dom_attr_compare(lxb_dom_attr_t *first, lxb_dom_attr_t *second)
{
    if (first->node.local_name == second->node.local_name
        && first->node.ns == second->node.ns
        && first->qualified_name == second->qualified_name)
    {
        if (first->value == NULL) {
            if (second->value == NULL) {
                return true;
            }

            return false;
        }

        if (second->value != NULL
            && first->value->length == second->value->length
            && lexbor_str_data_ncmp(first->value->data, second->value->data,
                                    first->value->length))
        {
            return true;
        }
    }

    return false;
}

void
lxb_dom_attr_remove(lxb_dom_attr_t *attr)
{
    lxb_dom_element_t *element = attr->owner;
    lxb_dom_document_t *doc = lxb_dom_interface_node(attr)->owner_document;

    if (doc->node_cb->remove != NULL) {
        doc->node_cb->remove(lxb_dom_interface_node(attr));
    }

    if (element->attr_id == attr) {
        element->attr_id = NULL;
    }
    else if (element->attr_class == attr) {
        element->attr_class = NULL;
    }

    if (attr->prev != NULL) {
        attr->prev->next = attr->next;
    }
    else {
        element->first_attr = attr->next;
    }

    if (attr->next != NULL) {
        attr->next->prev = attr->prev;
    }
    else {
        element->last_attr = attr->prev;
    }

    attr->next = NULL;
    attr->prev = NULL;
    attr->owner = NULL;
}

lxb_dom_attr_data_t *
lxb_dom_attr_local_name_append(lexbor_hash_t *hash,
                               const lxb_char_t *name, size_t length)
{
    lxb_dom_attr_data_t *data;
    const lexbor_shs_entry_t *entry;

    if (name == NULL || length == 0) {
        return NULL;
    }

    entry = lexbor_shs_entry_get_lower_static(lxb_dom_attr_res_shs_data,
                                              name, length);
    if (entry != NULL) {
        return entry->value;
    }

    data = lexbor_hash_insert(hash, lexbor_hash_insert_lower, name, length);
    if (data == NULL) {
        return NULL;
    }

    data->attr_id = (uintptr_t) data;

    return data;
}

lxb_dom_attr_data_t *
lxb_dom_attr_qualified_name_append(lexbor_hash_t *hash, const lxb_char_t *name,
                                   size_t length)
{
    lxb_dom_attr_data_t *data;

    if (name == NULL || length == 0) {
        return NULL;
    }

    data = lexbor_hash_insert(hash, lexbor_hash_insert_raw, name, length);
    if (data == NULL) {
        return NULL;
    }

    data->attr_id = (uintptr_t) data;

    return data;
}

const lxb_dom_attr_data_t *
lxb_dom_attr_data_undef(void)
{
    return &lxb_dom_attr_res_data_default[LXB_DOM_ATTR__UNDEF];
}

const lxb_dom_attr_data_t *
lxb_dom_attr_data_by_id(lexbor_hash_t *hash, lxb_dom_attr_id_t attr_id)
{
    if (attr_id >= LXB_DOM_ATTR__LAST_ENTRY) {
        if (attr_id == LXB_DOM_ATTR__LAST_ENTRY) {
            return NULL;
        }

        return (const lxb_dom_attr_data_t *) attr_id;
    }

    return &lxb_dom_attr_res_data_default[attr_id];
}

const lxb_dom_attr_data_t *
lxb_dom_attr_data_by_local_name(lexbor_hash_t *hash,
                                const lxb_char_t *name, size_t length)
{
    const lexbor_shs_entry_t *entry;

    if (name == NULL || length == 0) {
        return NULL;
    }

    entry = lexbor_shs_entry_get_lower_static(lxb_dom_attr_res_shs_data,
                                              name, length);
    if (entry != NULL) {
        return entry->value;
    }

    return lexbor_hash_search(hash, lexbor_hash_search_lower, name, length);
}

const lxb_dom_attr_data_t *
lxb_dom_attr_data_by_qualified_name(lexbor_hash_t *hash,
                                    const lxb_char_t *name, size_t length)
{
    const lexbor_shs_entry_t *entry;

    if (name == NULL || length == 0) {
        return NULL;
    }

    entry = lexbor_shs_entry_get_static(lxb_dom_attr_res_shs_data,
                                        name, length);
    if (entry != NULL) {
        return entry->value;
    }

    return lexbor_hash_search(hash, lexbor_hash_search_raw, name, length);
}

const lxb_char_t *
lxb_dom_attr_qualified_name(lxb_dom_attr_t *attr, size_t *len)
{
    const lxb_dom_attr_data_t *data;

    if (attr->qualified_name != 0) {
        data = lxb_dom_attr_data_by_id(attr->node.owner_document->attrs,
                                       attr->qualified_name);
    }
    else {
        data = lxb_dom_attr_data_by_id(attr->node.owner_document->attrs,
                                       attr->node.local_name);
    }

    if (len != NULL) {
        *len = data->entry.length;
    }

    return lexbor_hash_entry_str(&data->entry);
}

/*
 * No inline functions for ABI.
 */
const lxb_char_t *
lxb_dom_attr_local_name_noi(lxb_dom_attr_t *attr, size_t *len)
{
    return lxb_dom_attr_local_name(attr, len);
}

const lxb_char_t *
lxb_dom_attr_value_noi(lxb_dom_attr_t *attr, size_t *len)
{
    return lxb_dom_attr_value(attr, len);
}

lxb_dom_cdata_section_t *
lxb_dom_cdata_section_interface_create(lxb_dom_document_t *document)
{
    lxb_dom_cdata_section_t *element;

    element = lexbor_mraw_calloc(document->mraw,
                                 sizeof(lxb_dom_cdata_section_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_dom_document_owner(document);
    node->type = LXB_DOM_NODE_TYPE_CDATA_SECTION;

    return element;
}

lxb_dom_cdata_section_t *
lxb_dom_cdata_section_interface_clone(lxb_dom_document_t *document,
                                      const lxb_dom_cdata_section_t *cdata)
{
    lxb_status_t status;
    lxb_dom_cdata_section_t *new;

    new = lxb_dom_cdata_section_interface_create(document);
    if (new == NULL) {
        return NULL;
    }

    status = lxb_dom_text_interface_copy(&new->text, &cdata->text);
    if (status != LXB_STATUS_OK) {
        return lxb_dom_cdata_section_interface_destroy(new);
    }

    return new;
}

lxb_dom_cdata_section_t *
lxb_dom_cdata_section_interface_destroy(lxb_dom_cdata_section_t *cdata_section)
{
    (void) lxb_dom_text_interface_destroy(lxb_dom_interface_text(cdata_section));
    return NULL;
}

lxb_dom_character_data_t *
lxb_dom_character_data_interface_create(lxb_dom_document_t *document)
{
    lxb_dom_character_data_t *element;

    element = lexbor_mraw_calloc(document->mraw,
                                 sizeof(lxb_dom_character_data_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_dom_document_owner(document);
    node->type = LXB_DOM_NODE_TYPE_CHARACTER_DATA;

    return element;
}

lxb_dom_character_data_t *
lxb_dom_character_data_interface_clone(lxb_dom_document_t *document,
                                       const lxb_dom_character_data_t *ch_data)
{
    lxb_dom_character_data_t *new;

    new = lxb_dom_character_data_interface_create(document);
    if (new == NULL) {
        return NULL;
    }

    if (lxb_dom_character_data_interface_copy(new, ch_data) != LXB_STATUS_OK) {
        return lxb_dom_character_data_interface_destroy(new);
    }

    return new;
}

lxb_dom_character_data_t *
lxb_dom_character_data_interface_destroy(lxb_dom_character_data_t *character_data)
{
    lxb_dom_node_t *node;
    lxb_dom_document_t *doc;
    lexbor_str_t data;

    data = character_data->data;
    node = lxb_dom_interface_node(character_data);
    doc = node->owner_document;

    (void) lxb_dom_node_interface_destroy(node);

    lexbor_str_destroy(&data, doc->text, false);

    return NULL;
}

lxb_status_t
lxb_dom_character_data_interface_copy(lxb_dom_character_data_t *dst,
                                      const lxb_dom_character_data_t *src)
{
    lxb_status_t status;

    status = lxb_dom_node_interface_copy(&dst->node, &src->node, false);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    dst->data.length = 0;

    if (lexbor_str_copy(&dst->data, &src->data,
                        lxb_dom_interface_node(dst)->owner_document->text) == NULL)
    {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    return LXB_STATUS_OK;
}

/* TODO: oh, need to... https://dom.spec.whatwg.org/#concept-cd-replace */
lxb_status_t
lxb_dom_character_data_replace(lxb_dom_character_data_t *ch_data,
                               const lxb_char_t *data, size_t len,
                               size_t offset, size_t count)
{
    if (ch_data->data.data == NULL) {
        lexbor_str_init(&ch_data->data, ch_data->node.owner_document->text, len);
        if (ch_data->data.data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }
    else if (lexbor_str_size(&ch_data->data) < len) {
        const lxb_char_t *data;

        data = lexbor_str_realloc(&ch_data->data,
                                  ch_data->node.owner_document->text, (len + 1));
        if (data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    memcpy(ch_data->data.data, data, sizeof(lxb_char_t) * len);

    ch_data->data.data[len] = 0x00;
    ch_data->data.length = len;

    return LXB_STATUS_OK;
}

lxb_dom_comment_t *
lxb_dom_comment_interface_create(lxb_dom_document_t *document)
{
    lxb_dom_comment_t *element;

    element = lexbor_mraw_calloc(document->mraw,
                                 sizeof(lxb_dom_comment_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_dom_document_owner(document);
    node->type = LXB_DOM_NODE_TYPE_COMMENT;

    return element;
}

lxb_dom_comment_t *
lxb_dom_comment_interface_clone(lxb_dom_document_t *document,
                                const lxb_dom_comment_t *text)
{
    lxb_status_t status;
    lxb_dom_comment_t *new;

    new = lxb_dom_comment_interface_create(document);
    if (new == NULL) {
        return NULL;
    }

    status = lxb_dom_comment_interface_copy(new, text);
    if (status != LXB_STATUS_OK) {
        return lxb_dom_comment_interface_destroy(new);
    }

    return new;
}

lxb_dom_comment_t *
lxb_dom_comment_interface_destroy(lxb_dom_comment_t *comment)
{
    (void) lxb_dom_character_data_interface_destroy(
                                     lxb_dom_interface_character_data(comment));
    return NULL;
}

lxb_status_t
lxb_dom_comment_interface_copy(lxb_dom_comment_t *dst,
                               const lxb_dom_comment_t *src)
{
    return lxb_dom_character_data_interface_copy(&dst->char_data,
                                                 &src->char_data);
}

static const lxb_dom_document_node_cb_t lxb_dom_document_node_cbs =
{
    .insert = NULL, .remove = NULL, .destroy = NULL, .set_value = NULL
};


lxb_dom_document_t *
lxb_dom_document_interface_create(lxb_dom_document_t *document)
{
    lxb_dom_document_t *doc;

    doc = lexbor_mraw_calloc(document->mraw, sizeof(lxb_dom_document_t));
    if (doc == NULL) {
        return NULL;
    }

    (void) lxb_dom_document_init(doc, document, lxb_dom_interface_create,
                                 lxb_dom_interface_clone, lxb_dom_interface_destroy,
                                 LXB_DOM_DOCUMENT_DTYPE_UNDEF, 0);

    return doc;
}

lxb_dom_document_t *
lxb_dom_document_interface_clone(lxb_dom_document_t *document,
                                 const lxb_dom_document_t *doc)
{
    lxb_dom_document_t *new;

    new = lxb_dom_document_interface_create(document);
    if (new == NULL) {
        return NULL;
    }

    new->doctype = doc->doctype;
    new->compat_mode = doc->compat_mode;
    new->type = doc->type;
    new->user = doc->user;

    return new;
}

lxb_dom_document_t *
lxb_dom_document_interface_destroy(lxb_dom_document_t *document)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(document));

    return NULL;
}

lxb_dom_document_t *
lxb_dom_document_create(lxb_dom_document_t *owner)
{
    if (owner != NULL) {
        return lexbor_mraw_calloc(owner->mraw, sizeof(lxb_dom_document_t));
    }

    return lexbor_calloc(1, sizeof(lxb_dom_document_t));
}

lxb_status_t
lxb_dom_document_init(lxb_dom_document_t *document, lxb_dom_document_t *owner,
                      lxb_dom_interface_create_f create_interface,
                      lxb_dom_interface_clone_f clone_interface,
                      lxb_dom_interface_destroy_f destroy_interface,
                      lxb_dom_document_dtype_t type, unsigned int ns)
{
    lxb_status_t status;
    lxb_dom_node_t *node;

    if (document == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    document->type = type;
    document->create_interface = create_interface;
    document->clone_interface = clone_interface;
    document->destroy_interface = destroy_interface;

    document->node_cb = &lxb_dom_document_node_cbs;

    node = lxb_dom_interface_node(document);

    node->type = LXB_DOM_NODE_TYPE_DOCUMENT;
    node->local_name = LXB_TAG__DOCUMENT;
    node->ns = ns;

    if (owner != NULL) {
        document->mraw = owner->mraw;
        document->text = owner->text;
        document->tags = owner->tags;
        document->ns = owner->ns;
        document->prefix = owner->prefix;
        document->attrs = owner->attrs;
        document->parser = owner->parser;
        document->user = owner->user;
        document->scripting = owner->scripting;
        document->compat_mode = owner->compat_mode;
        document->css = owner->css;

        document->tags_inherited = true;
        document->ns_inherited = true;

        node->owner_document = owner;

        return LXB_STATUS_OK;
    }

    document->css = NULL;

    /* For nodes */
    document->mraw = lexbor_mraw_create();
    status = lexbor_mraw_init(document->mraw, (4096 * 8));

    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    /* For text */
    document->text = lexbor_mraw_create();
    status = lexbor_mraw_init(document->text, (4096 * 12));

    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    document->tags = lexbor_hash_create();
    status = lexbor_hash_init(document->tags, 128, sizeof(lxb_tag_data_t));
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    document->ns = lexbor_hash_create();
    status = lexbor_hash_init(document->ns, 128, sizeof(lxb_ns_data_t));
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    document->prefix = lexbor_hash_create();
    status = lexbor_hash_init(document->prefix, 128,
                              sizeof(lxb_dom_attr_data_t));
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    document->attrs = lexbor_hash_create();
    status = lexbor_hash_init(document->attrs, 128,
                              sizeof(lxb_dom_attr_data_t));
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    node->owner_document = document;

    return LXB_STATUS_OK;

failed:

    lexbor_mraw_destroy(document->mraw, true);
    lexbor_mraw_destroy(document->text, true);
    lexbor_hash_destroy(document->tags, true);
    lexbor_hash_destroy(document->ns, true);
    lexbor_hash_destroy(document->attrs, true);
    lexbor_hash_destroy(document->prefix, true);

    return LXB_STATUS_ERROR;
}

lxb_status_t
lxb_dom_document_clean(lxb_dom_document_t *document)
{
    if (lxb_dom_interface_node(document)->owner_document == document) {
        lexbor_mraw_clean(document->mraw);
        lexbor_mraw_clean(document->text);
        lexbor_hash_clean(document->tags);
        lexbor_hash_clean(document->ns);
        lexbor_hash_clean(document->attrs);
        lexbor_hash_clean(document->prefix);
    }

    document->node.first_child = NULL;
    document->node.last_child = NULL;
    document->element = NULL;
    document->doctype = NULL;

    return LXB_STATUS_OK;
}

lxb_dom_document_t *
lxb_dom_document_destroy(lxb_dom_document_t *document)
{
    if (document == NULL) {
        return NULL;
    }

    if (lxb_dom_interface_node(document)->owner_document != document) {
        lxb_dom_document_t *owner;

        owner = lxb_dom_interface_node(document)->owner_document;

        return lexbor_mraw_free(owner->mraw, document);
    }

    lexbor_mraw_destroy(document->text, true);
    lexbor_mraw_destroy(document->mraw, true);
    lexbor_hash_destroy(document->tags, true);
    lexbor_hash_destroy(document->ns, true);
    lexbor_hash_destroy(document->attrs, true);
    lexbor_hash_destroy(document->prefix, true);

    return lexbor_free(document);
}

void
lxb_dom_document_attach_doctype(lxb_dom_document_t *document,
                                lxb_dom_document_type_t *doctype)
{
    document->doctype = doctype;
}

void
lxb_dom_document_attach_element(lxb_dom_document_t *document,
                                lxb_dom_element_t *element)
{
    document->element = element;
}

lxb_dom_element_t *
lxb_dom_document_create_element(lxb_dom_document_t *document,
                                const lxb_char_t *local_name, size_t lname_len,
                                void *reserved_for_opt)
{
    /* TODO: If localName does not match the Name production... */

    const lxb_char_t *ns_link;
    size_t ns_len;

    if (document->type == LXB_DOM_DOCUMENT_DTYPE_HTML) {
        ns_link = (const lxb_char_t *) "http://www.w3.org/1999/xhtml";

        /* FIXME: he will get len at the compilation stage?!? */
        ns_len = strlen((const char *) ns_link);
    }
    else {
        ns_link = NULL;
        ns_len = 0;
    }

    return lxb_dom_element_create(document, local_name, lname_len,
                                  ns_link, ns_len, NULL, 0, NULL, 0, true);
}

lxb_dom_element_t *
lxb_dom_document_destroy_element(lxb_dom_element_t *element)
{
    return lxb_dom_element_destroy(element);
}

lxb_dom_document_fragment_t *
lxb_dom_document_create_document_fragment(lxb_dom_document_t *document)
{
    return lxb_dom_document_fragment_interface_create(document);
}

lxb_dom_text_t *
lxb_dom_document_create_text_node(lxb_dom_document_t *document,
                                  const lxb_char_t *data, size_t len)
{
    lxb_dom_text_t *text;

    text = lxb_dom_document_create_interface(document,
                                             LXB_TAG__TEXT, LXB_NS_HTML);
    if (text == NULL) {
        return NULL;
    }

    lexbor_str_init(&text->char_data.data, document->text, len);
    if (text->char_data.data.data == NULL) {
        return lxb_dom_document_destroy_interface(text);
    }

    lexbor_str_append(&text->char_data.data, document->text, data, len);

    return text;
}

lxb_dom_cdata_section_t *
lxb_dom_document_create_cdata_section(lxb_dom_document_t *document,
                                      const lxb_char_t *data, size_t len)
{
    if (document->type != LXB_DOM_DOCUMENT_DTYPE_HTML) {
        return NULL;
    }

    const lxb_char_t *end = data + len;
    const lxb_char_t *ch = memchr(data, ']', sizeof(lxb_char_t) * len);

    while (ch != NULL) {
        if ((end - ch) < 3) {
            break;
        }

        if(memcmp(ch, "]]>", 3) == 0) {
            return NULL;
        }

        ch++;
        ch = memchr(ch, ']', sizeof(lxb_char_t) * (end - ch));
    }

    lxb_dom_cdata_section_t *cdata;

    cdata = lxb_dom_cdata_section_interface_create(document);
    if (cdata == NULL) {
        return NULL;
    }

    lexbor_str_init(&cdata->text.char_data.data, document->text, len);
    if (cdata->text.char_data.data.data == NULL) {
        return lxb_dom_cdata_section_interface_destroy(cdata);
    }

    lexbor_str_append(&cdata->text.char_data.data, document->text, data, len);

    return cdata;
}

lxb_dom_processing_instruction_t *
lxb_dom_document_create_processing_instruction(lxb_dom_document_t *document,
                                               const lxb_char_t *target, size_t target_len,
                                               const lxb_char_t *data, size_t data_len)
{
    /*
     * TODO: If target does not match the Name production,
     * then throw an "InvalidCharacterError" DOMException.
     */

    const lxb_char_t *end = data + data_len;
    const lxb_char_t *ch = memchr(data, '?', sizeof(lxb_char_t) * data_len);

    while (ch != NULL) {
        if ((end - ch) < 2) {
            break;
        }

        if(memcmp(ch, "?>", 2) == 0) {
            return NULL;
        }

        ch++;
        ch = memchr(ch, '?', sizeof(lxb_char_t) * (end - ch));
    }

    lxb_dom_processing_instruction_t *pi;

    pi = lxb_dom_processing_instruction_interface_create(document);
    if (pi == NULL) {
        return NULL;
    }

    lexbor_str_init(&pi->char_data.data, document->text, data_len);
    if (pi->char_data.data.data == NULL) {
        return lxb_dom_processing_instruction_interface_destroy(pi);
    }

    lexbor_str_init(&pi->target, document->text, target_len);
    if (pi->target.data == NULL) {
        lexbor_str_destroy(&pi->char_data.data, document->text, false);

        return lxb_dom_processing_instruction_interface_destroy(pi);
    }

    lexbor_str_append(&pi->char_data.data, document->text, data, data_len);
    lexbor_str_append(&pi->target, document->text, target, target_len);

    return pi;
}


lxb_dom_comment_t *
lxb_dom_document_create_comment(lxb_dom_document_t *document,
                                const lxb_char_t *data, size_t len)
{
    lxb_dom_comment_t *comment;

    comment = lxb_dom_document_create_interface(document, LXB_TAG__EM_COMMENT,
                                                LXB_NS_HTML);
    if (comment == NULL) {
        return NULL;
    }

    lexbor_str_init(&comment->char_data.data, document->text, len);
    if (comment->char_data.data.data == NULL) {
        return lxb_dom_document_destroy_interface(comment);
    }

    lexbor_str_append(&comment->char_data.data, document->text, data, len);

    return comment;
}

lxb_dom_node_t *
lxb_dom_document_root(lxb_dom_document_t *document)
{
    lxb_dom_node_t *node;

    if (document->type == LXB_DOM_DOCUMENT_DTYPE_HTML) {
        node = document->node.first_child;

        while (node != NULL) {
            if (node->local_name == LXB_TAG_HTML) {
                return node;
            }

            node = node->next;
        }
    }

    return document->node.first_child;
}

lxb_dom_node_t *
lxb_dom_document_import_node(lxb_dom_document_t *doc, lxb_dom_node_t *node,
                             bool deep)
{
    lxb_dom_node_t *new, *curr, *cnode, *root;

    new = doc->clone_interface(doc, node);
    if (new == NULL) {
        return NULL;
    }

    if (!deep) {
        return new;
    }

    curr = new;
    root = node;
    node = node->first_child;

    while (node != NULL) {
        cnode = doc->clone_interface(doc, node);
        if (cnode == NULL) {
            return NULL;
        }

        lxb_dom_node_insert_child(curr, cnode);

        if (node->first_child != NULL) {
            node = node->first_child;
            curr = cnode;
        }
        else {
            while (node->next == NULL && node != root) {
                node = node->parent;
                curr = curr->parent;
            }

            if (node == root) {
                break;
            }

            node = node->next;
        }
    }

    return new;
}

void
lxb_dom_document_set_default_node_cb(lxb_dom_document_t *document)
{
    document->node_cb = &lxb_dom_document_node_cbs;
}


/*
 * No inline functions for ABI.
 */
lxb_dom_interface_t *
lxb_dom_document_create_interface_noi(lxb_dom_document_t *document,
                                      lxb_tag_id_t tag_id, lxb_ns_id_t ns)
{
    return lxb_dom_document_create_interface(document, tag_id, ns);
}

lxb_dom_interface_t *
lxb_dom_document_destroy_interface_noi(lxb_dom_interface_t *intrfc)
{
    return lxb_dom_document_destroy_interface(intrfc);
}

void *
lxb_dom_document_create_struct_noi(lxb_dom_document_t *document,
                                   size_t struct_size)
{
    return lxb_dom_document_create_struct(document, struct_size);
}

void *
lxb_dom_document_destroy_struct_noi(lxb_dom_document_t *document,
                                    void *structure)
{
    return lxb_dom_document_destroy_struct(document, structure);
}

lxb_char_t *
lxb_dom_document_create_text_noi(lxb_dom_document_t *document, size_t len)
{
    return lxb_dom_document_create_text(document, len);
}

void *
lxb_dom_document_destroy_text_noi(lxb_dom_document_t *document,
                                  lxb_char_t *text)
{
    return lxb_dom_document_destroy_text(document, text);
}

lxb_dom_element_t *
lxb_dom_document_element_noi(lxb_dom_document_t *document)
{
    return lxb_dom_document_element(document);
}

bool
lxb_dom_document_scripting_noi(lxb_dom_document_t *document)
{
    return lxb_dom_document_scripting(document);
}

void
lxb_dom_document_scripting_set_noi(lxb_dom_document_t *document,
                                   bool scripting)
{
    lxb_dom_document_scripting_set(document, scripting);
}

lxb_dom_document_fragment_t *
lxb_dom_document_fragment_interface_create(lxb_dom_document_t *document)
{
    lxb_dom_document_fragment_t *element;

    element = lexbor_mraw_calloc(document->mraw,
                                 sizeof(lxb_dom_document_fragment_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_dom_document_owner(document);
    node->type = LXB_DOM_NODE_TYPE_DOCUMENT_FRAGMENT;

    return element;
}

lxb_dom_document_fragment_t *
lxb_dom_document_fragment_interface_destroy(lxb_dom_document_fragment_t *document_fragment)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(document_fragment));

    return NULL;
}

LXB_API lxb_dom_attr_data_t *
lxb_dom_attr_qualified_name_append(lexbor_hash_t *hash, const lxb_char_t *name,
                                   size_t length);

LXB_API lxb_dom_attr_data_t *
lxb_dom_attr_local_name_append(lexbor_hash_t *hash,
                               const lxb_char_t *name, size_t length);


lxb_dom_document_type_t *
lxb_dom_document_type_interface_create(lxb_dom_document_t *document)
{
    lxb_dom_document_type_t *element;

    element = lexbor_mraw_calloc(document->mraw,
                                 sizeof(lxb_dom_document_type_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_dom_document_owner(document);
    node->type = LXB_DOM_NODE_TYPE_DOCUMENT_TYPE;

    element->name = LXB_DOM_ATTR_HTML;

    return element;
}

lxb_dom_document_type_t *
lxb_dom_document_type_interface_clone(lxb_dom_document_t *document,
                                      const lxb_dom_document_type_t *dtype)
{
    lxb_status_t status;
    lxb_dom_document_type_t *new;
    const lxb_dom_attr_data_t *data;

    new = lxb_dom_document_type_interface_create(document);
    if (new == NULL) {
        return NULL;
    }

    status = lxb_dom_node_interface_copy(&new->node, &dtype->node, false);
    if (status != LXB_STATUS_OK) {
        return lxb_dom_document_type_interface_destroy(new);
    }

    if (document == dtype->node.owner_document) {
        new->name = dtype->name;
    }
    else {
        data = lxb_dom_attr_data_by_id(dtype->node.owner_document->attrs,
                                       dtype->name);
        if (data == NULL) {
            return lxb_dom_document_type_interface_destroy(new);
        }

        data = lxb_dom_attr_qualified_name_append(document->attrs,
                                                  lexbor_hash_entry_str(&data->entry),
                                                  data->entry.length);
        if (data == NULL) {
            return lxb_dom_document_type_interface_destroy(new);
        }

        new->name = (lxb_dom_attr_id_t) data;
    }

    if (lexbor_str_copy(&new->public_id,
                        &dtype->public_id, document->text) == NULL)
    {
        return lxb_dom_document_type_interface_destroy(new);
    }

    if (lexbor_str_copy(&new->system_id,
                        &dtype->system_id, document->text) == NULL)
    {
        return lxb_dom_document_type_interface_destroy(new);
    }

    return new;
}


lxb_dom_document_type_t *
lxb_dom_document_type_interface_destroy(lxb_dom_document_type_t *document_type)
{
    lexbor_mraw_t *text;
    lexbor_str_t public_id;
    lexbor_str_t system_id;

    text = lxb_dom_interface_node(document_type)->owner_document->text;
    public_id = document_type->public_id;
    system_id = document_type->system_id;

    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(document_type));

    (void) lexbor_str_destroy(&public_id, text, false);
    (void) lexbor_str_destroy(&system_id, text, false);

    return NULL;
}

lxb_dom_document_type_t *
lxb_dom_document_type_create(lxb_dom_document_t *document,
                             const lxb_char_t *name, size_t name_len,
                             const lxb_char_t *pub, size_t pub_len,
                             const lxb_char_t *sys, size_t sys_len,
                             lxb_dom_exception_code_t *code)
{
    lxb_dom_attr_data_t *data;
    lxb_dom_document_type_t *doctype;

    if (!lxb_dom_document_type_valid_name(name, name_len)) {
        if (code != NULL) {
            *code = LXB_DOM_EXCEPTION_INVALID_CHARACTER_ERR;
        }

        return NULL;
    }

    doctype = lxb_dom_document_type_interface_create(document);
    if (doctype == NULL) {
        goto failed;
    }

    data = lxb_dom_attr_local_name_append(document->attrs, name, name_len);
    if (data == NULL) {
        goto failed;
    }

    doctype->name = data->attr_id;

    if (pub != NULL && pub_len != 0) {
        doctype->public_id.data = lxb_dom_document_create_text(document,
                                                               pub_len + 1);
        if (doctype->public_id.data == NULL) {
            goto failed;
        }

        (void) lexbor_str_copy_to_with_null(&doctype->public_id, pub, pub_len);
    }

    if (sys != NULL && sys_len != 0) {
        doctype->system_id.data = lxb_dom_document_create_text(document,
                                                               sys_len + 1);
        if (doctype->system_id.data == NULL) {
            goto failed;
        }

        (void) lexbor_str_copy_to_with_null(&doctype->system_id, sys, sys_len);
    }

    if (code != NULL) {
        *code = LXB_DOM_EXCEPTION_OK;
    }

    return doctype;

failed:

    if (doctype != NULL && doctype->public_id.data != NULL) {
        lxb_dom_document_destroy_text(document, doctype->public_id.data);
    }

    if (code != NULL) {
        *code = LXB_DOM_EXCEPTION_ERR;
    }

    return NULL;
}

bool
lxb_dom_document_type_valid_name(const lxb_char_t *name, size_t length)
{
    lxb_char_t c;
    const lxb_char_t *end;

    if (name == NULL || length == 0) {
        return false;
    }

    end = name + length;

    while (name < end) {
        c = *name++;
        /*
         * U+0009 TAB, U+000A LF, U+000C FF, U+000D CR, or U+0020 SPACE,
         * or U+0000 NULL, or U+003E (>)
         */
        if (c == 0x09 || c == 0x0A || c == 0x0C || c == 0x0D || c == 0x20
            || c == 0x00 || c == 0x3E)
        {
            return false;
        }
    }

    return true;
}

/*
 * No inline functions for ABI.
 */
const lxb_char_t *
lxb_dom_document_type_name_noi(lxb_dom_document_type_t *doc_type, size_t *len)
{
    return lxb_dom_document_type_name(doc_type, len);
}

const lxb_char_t *
lxb_dom_document_type_public_id_noi(lxb_dom_document_type_t *doc_type,
                                    size_t *len)
{
    return lxb_dom_document_type_public_id(doc_type, len);
}

const lxb_char_t *
lxb_dom_document_type_system_id_noi(lxb_dom_document_type_t *doc_type,
                                    size_t *len)
{
    return lxb_dom_document_type_system_id(doc_type, len);
}

static const lxb_char_t *
lxb_dom_element_upper_update(lxb_dom_element_t *element, size_t *len);

const lxb_tag_data_t *
lxb_tag_append(lexbor_hash_t *hash, lxb_tag_id_t tag_id,
               const lxb_char_t *name, size_t length);

const lxb_tag_data_t *
lxb_tag_append_lower(lexbor_hash_t *hash,
                     const lxb_char_t *name, size_t length);

const lxb_ns_data_t *
lxb_ns_append(lexbor_hash_t *hash, const lxb_char_t *link, size_t length);


lxb_dom_element_t *
lxb_dom_element_interface_create(lxb_dom_document_t *document)
{
    lxb_dom_element_t *element;

    element = lexbor_mraw_calloc(document->mraw,
                                 sizeof(lxb_dom_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_dom_document_owner(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_dom_element_t *
lxb_dom_element_interface_clone(lxb_dom_document_t *document,
                                const lxb_dom_element_t *element)
{
    lxb_dom_element_t *new;

    new = lxb_dom_element_interface_create(document);
    if (new == NULL) {
        return NULL;
    }

    if (lxb_dom_element_interface_copy(new, element) != LXB_STATUS_OK) {
        return lxb_dom_element_interface_destroy(new);
    }

    return new;
}

lxb_dom_element_t *
lxb_dom_element_interface_destroy(lxb_dom_element_t *element)
{
    lxb_dom_attr_t *attr_next;
    lxb_dom_attr_t *attr = element->first_attr;

    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(element));

    while (attr != NULL) {
        attr_next = attr->next;

        lxb_dom_attr_interface_destroy(attr);

        attr = attr_next;
    }

    return NULL;
}

lxb_status_t
lxb_dom_element_interface_copy(lxb_dom_element_t *dst,
                               const lxb_dom_element_t *src)
{
    lxb_status_t status;
    lxb_dom_document_t *document;
    lxb_dom_attr_t *attr, *clone;

    status = lxb_dom_node_interface_copy(&dst->node, &src->node, false);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    document = lxb_dom_interface_node(dst)->owner_document;
    attr = src->first_attr;

    while (attr != NULL) {
        clone = lxb_dom_attr_interface_clone(document, attr);
        if (clone == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        (void) lxb_dom_element_attr_append(dst, clone);

        attr = attr->next;
    }

    return LXB_STATUS_OK;
}

LXB_API lxb_status_t
lxb_dom_element_qualified_name_set(lxb_dom_element_t *element,
                                   const lxb_char_t *prefix, size_t prefix_len,
                                   const lxb_char_t *lname, size_t lname_len)
{
    lxb_char_t *key = (lxb_char_t *) lname;
    const lxb_tag_data_t *tag_data;

    if (prefix != NULL && prefix_len != 0) {
        key = lexbor_malloc(prefix_len + lname_len + 2);
        if (key == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        memcpy(key, prefix, prefix_len);
        memcpy(&key[prefix_len + 1], lname, lname_len);

        lname_len = prefix_len + lname_len + 1;

        key[prefix_len] = ':';
        key[lname_len] = '\0';
    }

    tag_data = lxb_tag_append(element->node.owner_document->tags,
                              element->node.local_name, key, lname_len);

    if (key != lname) {
        lexbor_free(key);
    }

    if (tag_data == NULL) {
        return LXB_STATUS_ERROR;
    }

    element->qualified_name = (lxb_tag_id_t) tag_data;

    return LXB_STATUS_OK;
}

lxb_dom_element_t *
lxb_dom_element_create(lxb_dom_document_t *document,
                       const lxb_char_t *local_name, size_t lname_len,
                       const lxb_char_t *ns_link, size_t ns_len,
                       const lxb_char_t *prefix, size_t prefix_len,
                       const lxb_char_t *is, size_t is_len,
                       bool sync_custom)
{
    lxb_status_t status;
    const lxb_ns_data_t *ns_data;
    const lxb_tag_data_t *tag_data;
    const lxb_ns_prefix_data_t *ns_prefix;
    lxb_dom_element_t *element;

    /* TODO: Must implement custom elements */

    /* 7. Otherwise */

    ns_data = NULL;
    tag_data = NULL;
    ns_prefix = NULL;

    tag_data = lxb_tag_append_lower(document->tags, local_name, lname_len);
    if (tag_data == NULL) {
        return NULL;
    }

    if (ns_link != NULL) {
        ns_data = lxb_ns_append(document->ns, ns_link, ns_len);
    }
    else {
        ns_data = lxb_ns_data_by_id(document->ns, LXB_NS__UNDEF);
    }

    if (ns_data == NULL) {
        return NULL;
    }

    element = lxb_dom_document_create_interface(document, tag_data->tag_id,
                                                ns_data->ns_id);
    if (element == NULL) {
        return NULL;
    }

    if (prefix != NULL) {
        ns_prefix = lxb_ns_prefix_append(document->prefix, prefix, prefix_len);
        if (ns_prefix == NULL) {
            return lxb_dom_document_destroy_interface(element);
        }

        element->node.prefix = ns_prefix->prefix_id;

        status = lxb_dom_element_qualified_name_set(element, prefix, prefix_len,
                                                    local_name, lname_len);
        if (status != LXB_STATUS_OK) {
            return lxb_dom_document_destroy_interface(element);
        }
    }

    if (is_len != 0) {
        status = lxb_dom_element_is_set(element, is, is_len);
        if (status != LXB_STATUS_OK) {
            return lxb_dom_document_destroy_interface(element);
        }
    }

    element->node.local_name = tag_data->tag_id;
    element->node.ns = ns_data->ns_id;

    if (ns_data->ns_id == LXB_NS_HTML && is_len != 0) {
        element->custom_state = LXB_DOM_ELEMENT_CUSTOM_STATE_UNDEFINED;
    }
    else {
        element->custom_state = LXB_DOM_ELEMENT_CUSTOM_STATE_UNCUSTOMIZED;
    }

    return element;
}

lxb_dom_element_t *
lxb_dom_element_destroy(lxb_dom_element_t *element)
{
    return lxb_dom_document_destroy_interface(element);
}

bool
lxb_dom_element_has_attributes(lxb_dom_element_t *element)
{
    return element->first_attr != NULL;
}

lxb_dom_attr_t *
lxb_dom_element_set_attribute(lxb_dom_element_t *element,
                              const lxb_char_t *qualified_name, size_t qn_len,
                              const lxb_char_t *value, size_t value_len)
{
    lxb_status_t status;
    lxb_dom_attr_t *attr;

    attr = lxb_dom_element_attr_is_exist(element, qualified_name, qn_len);

    if (attr != NULL) {
        status = lxb_dom_attr_set_value(attr, value, value_len);
        if (status != LXB_STATUS_OK) {
            return lxb_dom_attr_interface_destroy(attr);
        }

        return attr;
    }

    attr = lxb_dom_attr_interface_create(element->node.owner_document);
    if (attr == NULL) {
        return NULL;
    }

    attr->node.ns = element->node.ns;

    if (element->node.ns == LXB_NS_HTML
        && element->node.owner_document->type == LXB_DOM_DOCUMENT_DTYPE_HTML)
    {
        status = lxb_dom_attr_set_name(attr, qualified_name, qn_len, true);
    }
    else {
        status = lxb_dom_attr_set_name(attr, qualified_name, qn_len, false);
    }

    if (status != LXB_STATUS_OK) {
        return lxb_dom_attr_interface_destroy(attr);
    }

    status = lxb_dom_attr_set_value(attr, value, value_len);
    if (status != LXB_STATUS_OK) {
        return lxb_dom_attr_interface_destroy(attr);
    }

    lxb_dom_element_attr_append(element, attr);

    return attr;
}

const lxb_char_t *
lxb_dom_element_get_attribute(lxb_dom_element_t *element,
                              const lxb_char_t *qualified_name, size_t qn_len,
                              size_t *value_len)
{
    lxb_dom_attr_t *attr;

    attr = lxb_dom_element_attr_by_name(element, qualified_name, qn_len);
    if (attr == NULL) {
        if (value_len != NULL) {
            *value_len = 0;
        }

        return NULL;
    }

    return lxb_dom_attr_value(attr, value_len);
}

lxb_status_t
lxb_dom_element_remove_attribute(lxb_dom_element_t *element,
                                 const lxb_char_t *qualified_name, size_t qn_len)
{
    lxb_status_t status;
    lxb_dom_attr_t *attr;

    attr = lxb_dom_element_attr_by_name(element, qualified_name, qn_len);
    if (attr == NULL) {
        return LXB_STATUS_OK;
    }

    status = lxb_dom_element_attr_remove(element, attr);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    lxb_dom_attr_interface_destroy(attr);

    return LXB_STATUS_OK;
}

bool
lxb_dom_element_has_attribute(lxb_dom_element_t *element,
                              const lxb_char_t *qualified_name, size_t qn_len)
{
    return lxb_dom_element_attr_by_name(element, qualified_name, qn_len) != NULL;
}

lxb_status_t
lxb_dom_element_attr_append(lxb_dom_element_t *element, lxb_dom_attr_t *attr)
{
    lxb_dom_attr_t *exist;
    lxb_dom_document_t *doc = lxb_dom_interface_node(element)->owner_document;

    if (attr->node.local_name == LXB_DOM_ATTR_ID) {
        exist = element->attr_id;

        if (exist != NULL) {
            lxb_dom_element_attr_remove(element, exist);
            lxb_dom_attr_interface_destroy(exist);
        }

        element->attr_id = attr;
    }
    else if (attr->node.local_name == LXB_DOM_ATTR_CLASS) {
        exist = element->attr_class;

        if (exist != NULL) {
            lxb_dom_element_attr_remove(element, exist);
            lxb_dom_attr_interface_destroy(exist);
        }

        element->attr_class = attr;
    }

    if (element->first_attr == NULL) {
        element->first_attr = attr;
        element->last_attr = attr;

        goto done;
    }

    attr->prev = element->last_attr;

    element->last_attr->next = attr;
    element->last_attr = attr;

done:

    attr->owner = element;

    if (doc->node_cb->insert != NULL) {
        doc->node_cb->insert(lxb_dom_interface_node(attr));
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_dom_element_attr_remove(lxb_dom_element_t *element, lxb_dom_attr_t *attr)
{
    (void) element;

    lxb_dom_attr_remove(attr);

    return LXB_STATUS_OK;
}

lxb_dom_attr_t *
lxb_dom_element_attr_by_name(lxb_dom_element_t *element,
                             const lxb_char_t *qualified_name, size_t length)
{
    const lxb_dom_attr_data_t *data;
    lexbor_hash_t *attrs = element->node.owner_document->attrs;
    lxb_dom_attr_t *attr = element->first_attr;

    if (element->node.ns == LXB_NS_HTML
        && element->node.owner_document->type == LXB_DOM_DOCUMENT_DTYPE_HTML)
    {
        data = lxb_dom_attr_data_by_local_name(attrs, qualified_name, length);
    }
    else {
        data = lxb_dom_attr_data_by_qualified_name(attrs, qualified_name,
                                                   length);
    }

    if (data == NULL) {
        return NULL;
    }

    while (attr != NULL) {
        if (attr->node.local_name == data->attr_id
            || attr->qualified_name == data->attr_id)
        {
            return attr;
        }

        attr = attr->next;
    }

    return NULL;
}

lxb_dom_attr_t *
lxb_dom_element_attr_by_local_name_data(lxb_dom_element_t *element,
                                        const lxb_dom_attr_data_t *data)
{
    lxb_dom_attr_t *attr = element->first_attr;

    while (attr != NULL) {
        if (attr->node.local_name == data->attr_id
            || attr->qualified_name == data->attr_id)
        {
            return attr;
        }

        attr = attr->next;
    }

    return NULL;
}

lxb_dom_attr_t *
lxb_dom_element_attr_by_id(lxb_dom_element_t *element,
                           lxb_dom_attr_id_t attr_id)
{
    lxb_dom_attr_t *attr = element->first_attr;

    while (attr != NULL) {
        if (attr->node.local_name == attr_id) {
            return attr;
        }

        attr = attr->next;
    }

    return NULL;
}

bool
lxb_dom_element_compare(lxb_dom_element_t *first, lxb_dom_element_t *second)
{
    lxb_dom_attr_t *f_attr = first->first_attr;
    lxb_dom_attr_t *s_attr = second->first_attr;

    if (first->node.local_name != second->node.local_name
        || first->node.ns != second->node.ns
        || first->qualified_name != second->qualified_name)
    {
        return false;
    }

    /* Compare attr counts */
    while (f_attr != NULL && s_attr != NULL) {
        f_attr = f_attr->next;
        s_attr = s_attr->next;
    }

    if (f_attr != NULL || s_attr != NULL) {
        return false;
    }

    /* Compare attr */
    f_attr = first->first_attr;

    while (f_attr != NULL) {
        s_attr = second->first_attr;

        while (s_attr != NULL) {
            if (lxb_dom_attr_compare(f_attr, s_attr)) {
                break;
            }

            s_attr = s_attr->next;
        }

        if (s_attr == NULL) {
            return false;
        }

        f_attr = f_attr->next;
    }

    return true;
}

lxb_dom_attr_t *
lxb_dom_element_attr_is_exist(lxb_dom_element_t *element,
                              const lxb_char_t *qualified_name, size_t length)
{
    const lxb_dom_attr_data_t *data;
    lxb_dom_attr_t *attr = element->first_attr;

    data = lxb_dom_attr_data_by_local_name(element->node.owner_document->attrs,
                                           qualified_name, length);
    if (data == NULL) {
        return NULL;
    }

    while (attr != NULL) {
        if (attr->node.local_name == data->attr_id
            || attr->qualified_name == data->attr_id)
        {
            return attr;
        }

        attr = attr->next;
    }

    return NULL;
}

lxb_status_t
lxb_dom_element_is_set(lxb_dom_element_t *element,
                       const lxb_char_t *is, size_t is_len)
{
    if (element->is_value == NULL) {
        element->is_value = lexbor_mraw_calloc(element->node.owner_document->mraw,
                                               sizeof(lexbor_str_t));
        if (element->is_value == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    if (element->is_value->data == NULL) {
        lexbor_str_init(element->is_value,
                        element->node.owner_document->text, is_len);

        if (element->is_value->data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    if (element->is_value->length != 0) {
        element->is_value->length = 0;
    }

    lxb_char_t *data = lexbor_str_append(element->is_value,
                                         element->node.owner_document->text,
                                         is, is_len);
    if (data == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    return LXB_STATUS_OK;
}

lxb_dom_element_t *
lxb_dom_element_by_id(lxb_dom_element_t *root,
                      const lxb_char_t *qualified_name, size_t len)
{
    lxb_dom_node_t *node;

    node = lxb_dom_node_by_id(lxb_dom_interface_node(root),
                              qualified_name, len);

    return lxb_dom_interface_element(node);
}

lxb_status_t
lxb_dom_elements_by_tag_name(lxb_dom_element_t *root,
                             lxb_dom_collection_t *collection,
                             const lxb_char_t *qname, size_t len)
{
    return lxb_dom_node_by_tag_name(lxb_dom_interface_node(root),
                                    collection, qname, len);
}

lxb_status_t
lxb_dom_elements_by_class_name(lxb_dom_element_t *root,
                               lxb_dom_collection_t *collection,
                               const lxb_char_t *class_name, size_t len)
{
    return lxb_dom_node_by_class_name(lxb_dom_interface_node(root),
                                      collection, class_name, len);
}

lxb_status_t
lxb_dom_elements_by_attr(lxb_dom_element_t *root,
                         lxb_dom_collection_t *collection,
                         const lxb_char_t *qname, size_t qname_len,
                         const lxb_char_t *value, size_t value_len,
                         bool case_insensitive)
{
    return lxb_dom_node_by_attr(lxb_dom_interface_node(root),
                                collection, qname, qname_len,
                                value, value_len, case_insensitive);
}

lxb_status_t
lxb_dom_elements_by_attr_begin(lxb_dom_element_t *root,
                               lxb_dom_collection_t *collection,
                               const lxb_char_t *qname, size_t qname_len,
                               const lxb_char_t *value, size_t value_len,
                               bool case_insensitive)
{
    return lxb_dom_node_by_attr_begin(lxb_dom_interface_node(root),
                                      collection, qname, qname_len,
                                      value, value_len, case_insensitive);
}

lxb_status_t
lxb_dom_elements_by_attr_end(lxb_dom_element_t *root,
                             lxb_dom_collection_t *collection,
                             const lxb_char_t *qname, size_t qname_len,
                             const lxb_char_t *value, size_t value_len,
                             bool case_insensitive)
{
    return lxb_dom_node_by_attr_end(lxb_dom_interface_node(root),
                                    collection, qname, qname_len,
                                    value, value_len, case_insensitive);
}

lxb_status_t
lxb_dom_elements_by_attr_contain(lxb_dom_element_t *root,
                                 lxb_dom_collection_t *collection,
                                 const lxb_char_t *qname, size_t qname_len,
                                 const lxb_char_t *value, size_t value_len,
                                 bool case_insensitive)
{
    return lxb_dom_node_by_attr_contain(lxb_dom_interface_node(root),
                                        collection, qname, qname_len,
                                        value, value_len, case_insensitive);
}

const lxb_char_t *
lxb_dom_element_qualified_name(lxb_dom_element_t *element, size_t *len)
{
    const lxb_tag_data_t *data;

    if (element->qualified_name != 0) {
        data = lxb_tag_data_by_id(element->qualified_name);
    }
    else {
        data = lxb_tag_data_by_id(element->node.local_name);
    }

    if (len != NULL) {
        *len = data->entry.length;
    }

    return lexbor_hash_entry_str(&data->entry);
}

const lxb_char_t *
lxb_dom_element_qualified_name_upper(lxb_dom_element_t *element, size_t *len)
{
    lxb_tag_data_t *data;

    if (element->upper_name == LXB_TAG__UNDEF) {
        return lxb_dom_element_upper_update(element, len);
    }

    data = (lxb_tag_data_t *) element->upper_name;

    if (len != NULL) {
        *len = data->entry.length;
    }

    return lexbor_hash_entry_str(&data->entry);
}

static const lxb_char_t *
lxb_dom_element_upper_update(lxb_dom_element_t *element, size_t *len)
{
    size_t length;
    lxb_tag_data_t *data;
    const lxb_char_t *name;

    if (element->upper_name != LXB_TAG__UNDEF) {
        /* TODO: release current tag data if ref_count == 0. */
        /* data = (lxb_tag_data_t *) element->upper_name; */
    }

    name = lxb_dom_element_qualified_name(element, &length);
    if (name == NULL) {
        return NULL;
    }

    data = lexbor_hash_insert(element->node.owner_document->tags,
                              lexbor_hash_insert_upper, name, length);
    if (data == NULL) {
        return NULL;
    }

    data->tag_id = element->node.local_name;

    if (len != NULL) {
        *len = length;
    }

    element->upper_name = (lxb_tag_id_t) data;

    return lexbor_hash_entry_str(&data->entry);
}

const lxb_char_t *
lxb_dom_element_local_name(lxb_dom_element_t *element, size_t *len)
{
    const lxb_tag_data_t *data;

    data = lxb_tag_data_by_id(element->node.local_name);
    if (data == NULL) {
        if (len != NULL) {
            *len = 0;
        }

        return NULL;
    }

    if (len != NULL) {
        *len = data->entry.length;
    }

    return lexbor_hash_entry_str(&data->entry);
}

const lxb_char_t *
lxb_dom_element_prefix(lxb_dom_element_t *element, size_t *len)
{
    const lxb_ns_prefix_data_t *data;

    if (element->node.prefix == LXB_NS__UNDEF) {
        goto empty;
    }

    data = lxb_ns_prefix_data_by_id(element->node.owner_document->tags,
                                    element->node.prefix);
    if (data == NULL) {
        goto empty;
    }

    return lexbor_hash_entry_str(&data->entry);

empty:

    if (len != NULL) {
        *len = 0;
    }

    return NULL;
}

const lxb_char_t *
lxb_dom_element_tag_name(lxb_dom_element_t *element, size_t *len)
{
    lxb_dom_document_t *doc = lxb_dom_interface_node(element)->owner_document;

    if (element->node.ns != LXB_NS_HTML
        || doc->type != LXB_DOM_DOCUMENT_DTYPE_HTML)
    {
        return lxb_dom_element_qualified_name(element, len);
    }

    return lxb_dom_element_qualified_name_upper(element, len);
}


/*
 * No inline functions for ABI.
 */
const lxb_char_t *
lxb_dom_element_id_noi(lxb_dom_element_t *element, size_t *len)
{
    return lxb_dom_element_id(element, len);
}

const lxb_char_t *
lxb_dom_element_class_noi(lxb_dom_element_t *element, size_t *len)
{
    return lxb_dom_element_class(element, len);
}

bool
lxb_dom_element_is_custom_noi(lxb_dom_element_t *element)
{
    return lxb_dom_element_is_custom(element);
}

bool
lxb_dom_element_custom_is_defined_noi(lxb_dom_element_t *element)
{
    return lxb_dom_element_custom_is_defined(element);
}

lxb_dom_attr_t *
lxb_dom_element_first_attribute_noi(lxb_dom_element_t *element)
{
    return lxb_dom_element_first_attribute(element);
}

lxb_dom_attr_t *
lxb_dom_element_next_attribute_noi(lxb_dom_attr_t *attr)
{
    return lxb_dom_element_next_attribute(attr);
}

lxb_dom_attr_t *
lxb_dom_element_prev_attribute_noi(lxb_dom_attr_t *attr)
{
    return lxb_dom_element_prev_attribute(attr);
}

lxb_dom_attr_t *
lxb_dom_element_last_attribute_noi(lxb_dom_element_t *element)
{
    return lxb_dom_element_last_attribute(element);
}

lxb_dom_attr_t *
lxb_dom_element_id_attribute_noi(lxb_dom_element_t *element)
{
    return lxb_dom_element_id_attribute(element);
}

lxb_dom_attr_t *
lxb_dom_element_class_attribute_noi(lxb_dom_element_t *element)
{
    return lxb_dom_element_class_attribute(element);
}

lxb_dom_event_target_t *
lxb_dom_event_target_create(lxb_dom_document_t *document)
{
    lxb_dom_event_target_t *element;

    element = lexbor_mraw_calloc(document->mraw,
                                 sizeof(lxb_dom_event_target_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_interface_node(element)->type = LXB_DOM_NODE_TYPE_UNDEF;

    return element;
}

lxb_dom_event_target_t *
lxb_dom_event_target_destroy(lxb_dom_event_target_t *event_target,
                             lxb_dom_document_t *document)
{
    return lexbor_mraw_free(document->mraw, event_target);
}

typedef struct lxb_dom_node_cb_ctx lxb_dom_node_cb_ctx_t;

typedef bool
(*lxb_dom_node_attr_cmp_f)(lxb_dom_node_cb_ctx_t *ctx, lxb_dom_attr_t *attr);

struct lxb_dom_node_cb_ctx {
    lxb_dom_collection_t       *col;
    lxb_status_t               status;
    lxb_dom_node_attr_cmp_f    cmp_func;

    lxb_dom_attr_id_t          name_id;
    lxb_ns_prefix_id_t         prefix_id;

    const lxb_char_t           *value;
    size_t                     value_length;
};

typedef struct {
    lxb_dom_node_t   *node;
    const lxb_char_t *value;
    size_t           length;
}
lxb_dom_node_id_cb_ctx_t;


LXB_API lxb_dom_attr_data_t *
lxb_dom_attr_local_name_append(lexbor_hash_t *hash,
                               const lxb_char_t *name, size_t length);

LXB_API const lxb_tag_data_t *
lxb_tag_append(lexbor_hash_t *hash, lxb_tag_id_t tag_id,
               const lxb_char_t *name, size_t length);

LXB_API const lxb_ns_data_t *
lxb_ns_append(lexbor_hash_t *hash, const lxb_char_t *link, size_t length);

static lexbor_action_t
lxb_dom_node_by_tag_name_cb(lxb_dom_node_t *node, void *ctx);

static lexbor_action_t
lxb_dom_node_by_id_cb(lxb_dom_node_t *node, void *ctx);

static lexbor_action_t
lxb_dom_node_by_tag_name_cb_all(lxb_dom_node_t *node, void *ctx);

static lexbor_action_t
lxb_dom_node_by_class_name_cb(lxb_dom_node_t *node, void *ctx);

static lexbor_action_t
lxb_dom_node_by_attr_cb(lxb_dom_node_t *node, void *ctx);

static bool
lxb_dom_node_by_attr_cmp_full(lxb_dom_node_cb_ctx_t *ctx,
                              lxb_dom_attr_t *attr);
static bool
lxb_dom_node_by_attr_cmp_full_case(lxb_dom_node_cb_ctx_t *ctx,
                                   lxb_dom_attr_t *attr);
static bool
lxb_dom_node_by_attr_cmp_begin(lxb_dom_node_cb_ctx_t *ctx,
                               lxb_dom_attr_t *attr);
static bool
lxb_dom_node_by_attr_cmp_begin_case(lxb_dom_node_cb_ctx_t *ctx,
                                    lxb_dom_attr_t *attr);
static bool
lxb_dom_node_by_attr_cmp_end(lxb_dom_node_cb_ctx_t *ctx,
                             lxb_dom_attr_t *attr);
static bool
lxb_dom_node_by_attr_cmp_end_case(lxb_dom_node_cb_ctx_t *ctx,
                                  lxb_dom_attr_t *attr);
static bool
lxb_dom_node_by_attr_cmp_contain(lxb_dom_node_cb_ctx_t *ctx,
                                 lxb_dom_attr_t *attr);
static bool
lxb_dom_node_by_attr_cmp_contain_case(lxb_dom_node_cb_ctx_t *ctx,
                                      lxb_dom_attr_t *attr);

static lexbor_action_t
lxb_dom_node_text_content_size(lxb_dom_node_t *node, void *ctx);

static lexbor_action_t
lxb_dom_node_text_content_concatenate(lxb_dom_node_t *node, void *ctx);


lxb_dom_node_t *
lxb_dom_node_interface_create(lxb_dom_document_t *document)
{
    lxb_dom_node_t *element;

    element = lexbor_mraw_calloc(document->mraw,
                                 sizeof(lxb_dom_node_t));
    if (element == NULL) {
        return NULL;
    }

    element->owner_document = lxb_dom_document_owner(document);
    element->type = LXB_DOM_NODE_TYPE_UNDEF;

    return element;
}

lxb_dom_node_t *
lxb_dom_node_interface_clone(lxb_dom_document_t *document,
                             const lxb_dom_node_t *node, bool is_attr)
{
    lxb_dom_node_t *new;

    new = lxb_dom_node_interface_create(document);
    if (new == NULL) {
        return NULL;
    }

    if (lxb_dom_node_interface_copy(new, node, is_attr) != LXB_STATUS_OK) {
        return lxb_dom_document_destroy_interface(new);
    }

    return new;
}

lxb_dom_node_t *
lxb_dom_node_interface_destroy(lxb_dom_node_t *node)
{
    lxb_dom_document_t *doc = node->owner_document;

    if (doc->node_cb->destroy != NULL) {
        doc->node_cb->destroy(node);
    }

    return lexbor_mraw_free(doc->mraw, node);
}

lxb_status_t
lxb_dom_node_interface_copy(lxb_dom_node_t *dst,
                            const lxb_dom_node_t *src, bool is_attr)
{
    lxb_dom_document_t *from, *to;
    const lxb_ns_data_t *ns;
    const lxb_tag_data_t *tag;
    const lxb_ns_prefix_data_t *prefix;
    const lexbor_hash_entry_t *entry;
    const lxb_dom_attr_data_t *data;

    dst->type = src->type;
    dst->user = src->user;

    if (dst->owner_document == src->owner_document) {
        dst->local_name = src->local_name;
        dst->ns = src->ns;
        dst->prefix = src->prefix;

        return LXB_STATUS_OK;
    }

    from = src->owner_document;
    to = dst->owner_document;

    if (is_attr) {
        if (src->local_name < LXB_DOM_ATTR__LAST_ENTRY) {
            dst->local_name = src->local_name;
        }
        else {
            data = lxb_dom_attr_data_by_id(from->attrs, src->local_name);
            if (data == NULL) {
                return LXB_STATUS_ERROR_NOT_EXISTS;
            }

            entry = &data->entry;

            data = lxb_dom_attr_local_name_append(to->attrs,
                                                  lexbor_hash_entry_str(entry),
                                                  entry->length);
            if (data == NULL) {
                return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
            }

            dst->local_name = (lxb_dom_attr_id_t) data;
        }
    }
    else {
        if (src->local_name < LXB_TAG__LAST_ENTRY) {
            dst->local_name = src->local_name;
        }
        else {
            tag = lxb_tag_data_by_id(src->local_name);
            if (tag == NULL) {
                return LXB_STATUS_ERROR_NOT_EXISTS;
            }

            entry = &tag->entry;

            tag = lxb_tag_append(to->tags, LXB_TAG__UNDEF,
                                 lexbor_hash_entry_str(entry), entry->length);
            if (tag == NULL) {
                return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
            }

            dst->local_name = (lxb_dom_attr_id_t) tag;
        }
    }

    if (src->ns < LXB_NS__LAST_ENTRY) {
        dst->ns = src->ns;
    }
    else {
        ns = lxb_ns_data_by_id(from->ns, src->ns);
        if (ns == NULL) {
            return LXB_STATUS_ERROR_NOT_EXISTS;
        }

        entry = &ns->entry;

        ns = lxb_ns_append(to->ns, lexbor_hash_entry_str(entry),
                           entry->length);
        if (ns == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        dst->ns = (lxb_ns_id_t) ns;
    }

    if (src->prefix < LXB_NS__LAST_ENTRY) {
        dst->prefix = src->prefix;
    }
    else {
        prefix = lxb_ns_prefix_data_by_id(from->prefix, src->prefix);
        if (prefix == NULL) {
            return LXB_STATUS_ERROR_NOT_EXISTS;
        }

        entry = &prefix->entry;

        prefix = lxb_ns_prefix_append(to->prefix, lexbor_hash_entry_str(entry),
                                      entry->length);
        if (prefix == NULL) {
            return LXB_STATUS_ERROR;
        }

        dst->prefix = (lxb_ns_prefix_id_t) prefix;
    }

    return LXB_STATUS_OK;
}

lxb_dom_node_t *
lxb_dom_node_destroy(lxb_dom_node_t *node)
{
    lxb_dom_node_remove(node);
    return lxb_dom_document_destroy_interface(node);
}

lxb_dom_node_t *
lxb_dom_node_destroy_deep(lxb_dom_node_t *root)
{
    lxb_dom_node_t *tmp;
    lxb_dom_node_t *node = root;

    while (node != NULL) {
        if (node->first_child != NULL) {
            node = node->first_child;
        }
        else {
            while(node != root && node->next == NULL) {
                tmp = node->parent;

                lxb_dom_node_destroy(node);

                node = tmp;
            }

            if (node == root) {
                lxb_dom_node_destroy(node);

                break;
            }

            tmp = node->next;

            lxb_dom_node_destroy(node);

            node = tmp;
        }
    }

    return NULL;
}

lxb_dom_node_t *
lxb_dom_node_clone(lxb_dom_node_t *node, bool deep)
{
    return lxb_dom_document_import_node(node->owner_document, node, deep);
}

const lxb_char_t *
lxb_dom_node_name(lxb_dom_node_t *node, size_t *len)
{
    switch (node->type) {
        case LXB_DOM_NODE_TYPE_ELEMENT:
            return lxb_dom_element_tag_name(lxb_dom_interface_element(node),
                                            len);

        case LXB_DOM_NODE_TYPE_ATTRIBUTE:
            return lxb_dom_attr_qualified_name(lxb_dom_interface_attr(node),
                                               len);

        case LXB_DOM_NODE_TYPE_TEXT:
            if (len != NULL) {
                *len = sizeof("#text") - 1;
            }

            return (const lxb_char_t *) "#text";

        case LXB_DOM_NODE_TYPE_CDATA_SECTION:
            if (len != NULL) {
                *len = sizeof("#cdata-section") - 1;
            }

            return (const lxb_char_t *) "#cdata-section";

        case LXB_DOM_NODE_TYPE_PROCESSING_INSTRUCTION:
            return lxb_dom_processing_instruction_target(lxb_dom_interface_processing_instruction(node),
                                                         len);

        case LXB_DOM_NODE_TYPE_COMMENT:
            if (len != NULL) {
                *len = sizeof("#comment") - 1;
            }

            return (const lxb_char_t *) "#comment";

        case LXB_DOM_NODE_TYPE_DOCUMENT:
            if (len != NULL) {
                *len = sizeof("#document") - 1;
            }

            return (const lxb_char_t *) "#document";

        case LXB_DOM_NODE_TYPE_DOCUMENT_TYPE:
            return lxb_dom_document_type_name(lxb_dom_interface_document_type(node),
                                              len);

        case LXB_DOM_NODE_TYPE_DOCUMENT_FRAGMENT:
            if (len != NULL) {
                *len = sizeof("#document-fragment") - 1;
            }

            return (const lxb_char_t *) "#document-fragment";

        default:
            break;
    }

    if (len != NULL) {
        *len = 0;
    }

    return NULL;
}

void
lxb_dom_node_insert_child_wo_events(lxb_dom_node_t *to, lxb_dom_node_t *node)
{
    if (to->last_child != NULL) {
        to->last_child->next = node;
    }
    else {
        to->first_child = node;
    }

    node->parent = to;
    node->next = NULL;
    node->prev = to->last_child;

    to->last_child = node;
}

void
lxb_dom_node_insert_child(lxb_dom_node_t *to, lxb_dom_node_t *node)
{
    lxb_dom_node_insert_child_wo_events(to, node);

    if (node->owner_document->node_cb->insert != NULL) {
        node->owner_document->node_cb->insert(node);
    }
}

void
lxb_dom_node_insert_before_wo_events(lxb_dom_node_t *to, lxb_dom_node_t *node)
{
    if (to->prev != NULL) {
        to->prev->next = node;
    }
    else {
        if (to->parent != NULL) {
            to->parent->first_child = node;
        }
    }

    node->parent = to->parent;
    node->next = to;
    node->prev = to->prev;

    to->prev = node;
}

void
lxb_dom_node_insert_before(lxb_dom_node_t *to, lxb_dom_node_t *node)
{
    lxb_dom_node_insert_before_wo_events(to, node);

    if (node->owner_document->node_cb->insert != NULL) {
        node->owner_document->node_cb->insert(node);
    }
}

void
lxb_dom_node_insert_after_wo_events(lxb_dom_node_t *to, lxb_dom_node_t *node)
{
    if (to->next != NULL) {
        to->next->prev = node;
    }
    else {
        if (to->parent != NULL) {
            to->parent->last_child = node;
        }
    }

    node->parent = to->parent;
    node->next = to->next;
    node->prev = to;
    to->next = node;
}

void
lxb_dom_node_insert_after(lxb_dom_node_t *to, lxb_dom_node_t *node)
{
    lxb_dom_node_insert_after_wo_events(to, node);

    if (node->owner_document->node_cb->insert != NULL) {
        node->owner_document->node_cb->insert(node);
    }
}

lxb_dom_exception_code_t
lxb_dom_node_pre_insert_validity(lxb_dom_node_t *parent, lxb_dom_node_t *node,
                                 lxb_dom_node_t *child)
{
    size_t count;
    lxb_dom_node_t *tmp;

    /*
     * If parent is not a Document, DocumentFragment, or Element node, then
     * throw a "HierarchyRequestError" DOMException.
     */
    if (parent == NULL) {
        return LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR;
    }

    switch (parent->type) {
        case LXB_DOM_NODE_TYPE_ELEMENT:
        case LXB_DOM_NODE_TYPE_DOCUMENT:
        case LXB_DOM_NODE_TYPE_DOCUMENT_FRAGMENT:
            break;

        default:
            return LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR;
    }

    if (lxb_dom_node_host_including_inclusive_ancestor(node, parent)) {
        return LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR;
    }

    /*
     * If child is non-null and its parent is not parent,
     * then throw a "NotFoundError" DOMException.
     */
    if (child != NULL && parent != child->parent) {
        return LXB_DOM_EXCEPTION_NOT_FOUND_ERR;
    }

    /*
     * If node is not a DocumentFragment, DocumentType, Element,
     * or CharacterData node, then throw a "HierarchyRequestError" DOMException.
     */
    if (node == NULL) {
        return LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR;
    }

    switch (parent->type) {
        case LXB_DOM_NODE_TYPE_ELEMENT:
        case LXB_DOM_NODE_TYPE_DOCUMENT:
        case LXB_DOM_NODE_TYPE_DOCUMENT_TYPE:
        case LXB_DOM_NODE_TYPE_DOCUMENT_FRAGMENT:
        case LXB_DOM_NODE_TYPE_CHARACTER_DATA:
        case LXB_DOM_NODE_TYPE_TEXT:
            break;

        default:
            return LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR;
    }

    /*
     * If either node is a Text node and parent is a document, or node is
     * a doctype and parent is not a document, then throw
     * a "HierarchyRequestError" DOMException.
     */
    if ((node->type == LXB_DOM_NODE_TYPE_TEXT
        && parent->type == LXB_DOM_NODE_TYPE_DOCUMENT)
        || (node->type == LXB_DOM_NODE_TYPE_DOCUMENT_TYPE
            && parent->type != LXB_DOM_NODE_TYPE_DOCUMENT))
    {
        return LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR;
    }

    if (parent->type != LXB_DOM_NODE_TYPE_DOCUMENT) {
        return LXB_DOM_EXCEPTION_OK;
    }

    switch (node->type) {
        case LXB_DOM_NODE_TYPE_DOCUMENT_FRAGMENT:
            tmp = node->first_child;

            if (tmp == NULL) {
                return LXB_DOM_EXCEPTION_OK;
            }

            count = 0;

            do {
                if (tmp->type == LXB_DOM_NODE_TYPE_TEXT) {
                    return LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR;
                }
                else if (tmp->type == LXB_DOM_NODE_TYPE_ELEMENT) {
                    count += 1;

                    if (count > 1) {
                        return LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR;
                    }
                }

                tmp = tmp->next;
            }
            while (tmp != NULL);

            if (count != 1) {
                return LXB_DOM_EXCEPTION_OK;
            }

            /* Fall Through. */

        case LXB_DOM_NODE_TYPE_ELEMENT:
            tmp = parent->first_child;

            while (tmp != NULL) {
                if (tmp->type == LXB_DOM_NODE_TYPE_ELEMENT) {
                    return LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR;
                }

                tmp = tmp->next;
            }

            if (child == NULL) {
                return LXB_DOM_EXCEPTION_OK;
            }

            if (child->type == LXB_DOM_NODE_TYPE_DOCUMENT_TYPE) {
                return LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR;
            }

            tmp = child->next;

            while (tmp != NULL) {
                if (tmp->type == LXB_DOM_NODE_TYPE_DOCUMENT_TYPE) {
                    return LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR;
                }

                tmp = tmp->next;
            }

            break;

        case LXB_DOM_NODE_TYPE_DOCUMENT_TYPE:
            tmp = parent->first_child;

            while (tmp != NULL) {
                if (tmp->type == LXB_DOM_NODE_TYPE_DOCUMENT_TYPE) {
                    return LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR;
                }
                else if (tmp->type == LXB_DOM_NODE_TYPE_ELEMENT
                         && child == NULL)
                {
                    return LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR;
                }

                tmp = tmp->next;
            }

            if (child == NULL) {
                return LXB_DOM_EXCEPTION_OK;
            }

            tmp = child->prev;

            while (tmp != NULL) {
                if (tmp->type == LXB_DOM_NODE_TYPE_ELEMENT) {
                    return LXB_DOM_EXCEPTION_HIERARCHY_REQUEST_ERR;
                }

                tmp = tmp->prev;
            }

            break;

        default:
            break;
    }

    return LXB_DOM_EXCEPTION_OK;
}

lxb_dom_exception_code_t
lxb_dom_node_pre_insert(lxb_dom_node_t *parent, lxb_dom_node_t *node,
                        lxb_dom_node_t *child)
{
    lxb_dom_exception_code_t ex_code;

    ex_code = lxb_dom_node_pre_insert_validity(parent, node, child);
    if (ex_code != LXB_DOM_EXCEPTION_OK) {
        return ex_code;
    }

    if (child == node) {
        child = node->next;
    }

    return lxb_dom_node_insert(parent, node, child, false);
}

lxb_inline lxb_dom_exception_code_t
lxb_dom_node_insert_node(lxb_dom_node_t *parent, lxb_dom_node_t *node,
                         lxb_dom_node_t *child, bool suppress_observers)
{
    lxb_dom_exception_code_t code;

    code = lxb_dom_node_adopt(node);
    if (code != LXB_DOM_EXCEPTION_OK) {
        return code;
    }

    if (child == NULL) {
        lxb_dom_node_insert_child(parent, node);
    }
    else {
        lxb_dom_node_insert_before(child, node);
    }

    return LXB_DOM_EXCEPTION_OK;
}

lxb_dom_exception_code_t
lxb_dom_node_insert(lxb_dom_node_t *parent, lxb_dom_node_t *node,
                    lxb_dom_node_t *child, bool suppress_observers)
{
    lxb_dom_node_t *tmp, *next;
    lxb_dom_exception_code_t code;

    if (node->type == LXB_DOM_NODE_TYPE_DOCUMENT_FRAGMENT) {
        if (node->first_child == NULL) {
            return LXB_DOM_EXCEPTION_OK;
        }
    }

    /* TODO: live range. */

    if (node->type != LXB_DOM_NODE_TYPE_DOCUMENT_FRAGMENT) {
        return lxb_dom_node_insert_node(parent, node, child,
                                        suppress_observers);
    }

    tmp = node->first_child;

    while (tmp != NULL) {
        next = tmp->next;

        code = lxb_dom_node_insert_node(parent, tmp, child,
                                        suppress_observers);
        if (code != LXB_DOM_EXCEPTION_OK) {
            return code;
        }

        tmp = next;
    }

    /* TODO: Shadow and queue a tree mutation record. */

    return LXB_DOM_EXCEPTION_OK;
}

lxb_dom_exception_code_t
lxb_dom_node_insert_before_spec(lxb_dom_node_t *dst, lxb_dom_node_t *node,
                                lxb_dom_node_t *child)
{
    return lxb_dom_node_pre_insert(dst, node, child);
}

lxb_dom_exception_code_t
lxb_dom_node_append_child(lxb_dom_node_t *parent, lxb_dom_node_t *node)
{
    return lxb_dom_node_pre_insert(parent, node, NULL);
}

lxb_dom_exception_code_t
lxb_dom_node_remove_child(lxb_dom_node_t *parent, lxb_dom_node_t *child)
{
    if (parent != child->parent) {
        return LXB_DOM_EXCEPTION_NOT_FOUND_ERR;
    }

    return lxb_dom_node_remove_spec(child, false);
}

lxb_dom_exception_code_t
lxb_dom_node_replace_child(lxb_dom_node_t *parent, lxb_dom_node_t *node,
                           lxb_dom_node_t *child)
{
    lxb_dom_node_t *tmp, *next;
    lxb_dom_node_t *before;
    lxb_dom_exception_code_t code;

    code = lxb_dom_node_pre_insert_validity(parent, node, child);
    if (code != LXB_DOM_EXCEPTION_OK) {
        return code;
    }

    before = child->prev;
    if (before == NULL) {
        before = child->next;
    }

    if (child->parent != NULL) {
        code = lxb_dom_node_remove_spec(child, true);
        if (code != LXB_DOM_EXCEPTION_OK) {
            return code;
        }
    }

    if (node->type != LXB_DOM_NODE_TYPE_DOCUMENT_FRAGMENT) {
        return lxb_dom_node_insert_node(parent, node, before, true);
    }

    tmp = node->first_child;

    while (tmp != NULL) {
        next = tmp->next;

        code = lxb_dom_node_insert_node(parent, tmp, before, true);
        if (code != LXB_DOM_EXCEPTION_OK) {
            return code;
        }

        tmp = next;
    }

    return LXB_DOM_EXCEPTION_OK;
}

lxb_dom_exception_code_t
lxb_dom_node_replace_all_spec(lxb_dom_node_t *parent, lxb_dom_node_t *node)
{
    lxb_dom_node_t *child, *next;
    lxb_dom_exception_code_t code;

    child = parent->first_child;

    while (child != NULL) {
        next = child->next;

        code = lxb_dom_node_remove_spec(child, true);
        if (code != LXB_DOM_EXCEPTION_OK) {
            return code;
        }

        child = next;
    }

    return lxb_dom_node_append_child(parent, node);
}

lxb_dom_exception_code_t
lxb_dom_node_remove_spec(lxb_dom_node_t *node, bool suppress_observers)
{
    if (node->parent == NULL) {
        return LXB_DOM_EXCEPTION_OK;
    }

    /* TODO: 3. Run the live range pre-remove steps, given node. */

    /*
     * TODO: For each NodeIterator object iterator whose roots node document
     * is nodes node document, run the NodeIterator pre-remove steps given
     * node and iterator.
     */

    lxb_dom_node_remove(node);

    /* TODO: finish everything else. */

    return LXB_DOM_EXCEPTION_OK;
}

void
lxb_dom_node_remove_wo_events(lxb_dom_node_t *node)
{
    if (node->parent != NULL) {
        if (node->parent->first_child == node) {
            node->parent->first_child = node->next;
        }

        if (node->parent->last_child == node) {
            node->parent->last_child = node->prev;
        }
    }

    if (node->next != NULL) {
        node->next->prev = node->prev;
    }

    if (node->prev != NULL) {
        node->prev->next = node->next;
    }

    node->parent = NULL;
    node->next = NULL;
    node->prev = NULL;
}

void
lxb_dom_node_remove(lxb_dom_node_t *node)
{
    if (node->owner_document->node_cb->remove != NULL) {
        node->owner_document->node_cb->remove(node);
    }

    lxb_dom_node_remove_wo_events(node);
}

lxb_status_t
lxb_dom_node_replace_all(lxb_dom_node_t *parent, lxb_dom_node_t *node)
{
    while (parent->first_child != NULL) {
        lxb_dom_node_destroy_deep(parent->first_child);
    }

    lxb_dom_node_insert_child(parent, node);

    return LXB_STATUS_OK;
}

void
lxb_dom_node_simple_walk(lxb_dom_node_t *root,
                         lxb_dom_node_simple_walker_f walker_cb, void *ctx)
{
    lexbor_action_t action;
    lxb_dom_node_t *node = root->first_child;

    while (node != NULL) {
        action = walker_cb(node, ctx);
        if (action == LEXBOR_ACTION_STOP) {
            return;
        }

        if (node->first_child != NULL && action != LEXBOR_ACTION_NEXT) {
            node = node->first_child;
        }
        else {
            while(node != root && node->next == NULL) {
                node = node->parent;
            }

            if (node == root) {
                break;
            }

            node = node->next;
        }
    }
}

lxb_inline lxb_status_t
lxb_dom_node_prepare_by_attr(lxb_dom_document_t *document,
                             lxb_dom_node_cb_ctx_t *cb_ctx,
                             const lxb_char_t *qname, size_t qlen)
{
    size_t length;
    const lxb_char_t *prefix_end;
    const lxb_dom_attr_data_t *attr_data;
    const lxb_ns_prefix_data_t *prefix_data;

    cb_ctx->prefix_id = LXB_NS__UNDEF;

    prefix_end = memchr(qname, ':', qlen);

    if (prefix_end != NULL) {
        length = prefix_end - qname;

        if (length == 0) {
            return LXB_STATUS_ERROR_WRONG_ARGS;
        }

        prefix_data = lxb_ns_prefix_data_by_name(document->prefix, qname, qlen);
        if (prefix_data == NULL) {
            return LXB_STATUS_STOP;
        }

        cb_ctx->prefix_id = prefix_data->prefix_id;

        length += 1;

        if (length >= qlen) {
            return LXB_STATUS_ERROR_WRONG_ARGS;
        }

        qname += length;
        qlen -= length;
    }

    attr_data = lxb_dom_attr_data_by_local_name(document->attrs, qname, qlen);
    if (attr_data == NULL) {
        return LXB_STATUS_STOP;
    }

    cb_ctx->name_id = attr_data->attr_id;

    return LXB_STATUS_OK;
}

lxb_inline lxb_status_t
lxb_dom_node_prepare_by(lxb_dom_document_t *document,
                        lxb_dom_node_cb_ctx_t *cb_ctx,
                        const lxb_char_t *qname, size_t qlen)
{
    size_t length;
    const lxb_char_t *prefix_end;
    const lxb_tag_data_t *tag_data;
    const lxb_ns_prefix_data_t *prefix_data;

    cb_ctx->prefix_id = LXB_NS__UNDEF;

    prefix_end = memchr(qname, ':', qlen);

    if (prefix_end != NULL) {
        length = prefix_end - qname;

        if (length == 0) {
            return LXB_STATUS_ERROR_WRONG_ARGS;
        }

        prefix_data = lxb_ns_prefix_data_by_name(document->prefix, qname, qlen);
        if (prefix_data == NULL) {
            return LXB_STATUS_STOP;
        }

        cb_ctx->prefix_id = prefix_data->prefix_id;

        length += 1;

        if (length >= qlen) {
            return LXB_STATUS_ERROR_WRONG_ARGS;
        }

        qname += length;
        qlen -= length;
    }

    tag_data = lxb_tag_data_by_name(document->tags, qname, qlen);
    if (tag_data == NULL) {
        return LXB_STATUS_STOP;
    }

    cb_ctx->name_id = tag_data->tag_id;

    return LXB_STATUS_OK;
}

lxb_dom_node_t *
lxb_dom_node_by_id(lxb_dom_node_t *root,
                   const lxb_char_t *qualified_name, size_t len)
{
    lxb_dom_node_id_cb_ctx_t ctx;

    ctx.node = NULL;
    ctx.value = qualified_name;
    ctx.length = len;

    lxb_dom_node_simple_walk(root, lxb_dom_node_by_id_cb, &ctx);

    return ctx.node;
}

static lexbor_action_t
lxb_dom_node_by_id_cb(lxb_dom_node_t *node, void *ctx)
{
    lxb_dom_node_id_cb_ctx_t *context;
    const lxb_dom_attr_t *attr_id;

    if (node->type != LXB_DOM_NODE_TYPE_ELEMENT) {
        return LEXBOR_ACTION_OK;
    }

    context = ctx;
    attr_id = lxb_dom_interface_element(node)->attr_id;

    if (attr_id == NULL
        || attr_id->value == NULL
        || attr_id->value->length != context->length)
    {
        return LEXBOR_ACTION_OK;
    }

    const lxb_char_t *data = attr_id->value->data;
    size_t length = attr_id->value->length;

    if (lexbor_str_data_ncmp(context->value, data, length)) {
        context->node = node;
        return LEXBOR_ACTION_STOP;
    }

    return LEXBOR_ACTION_OK;
}

lxb_status_t
lxb_dom_node_by_tag_name(lxb_dom_node_t *root,
                         lxb_dom_collection_t *collection,
                         const lxb_char_t *qualified_name, size_t len)
{
    lxb_status_t status;
    lxb_dom_node_cb_ctx_t cb_ctx = {0};

    cb_ctx.col = collection;

    /* "*" (U+002A) */
    if (len == 1 && *qualified_name == 0x2A) {
        lxb_dom_node_simple_walk(root, lxb_dom_node_by_tag_name_cb_all,
                                 &cb_ctx);
        return cb_ctx.status;
    }

    status = lxb_dom_node_prepare_by(root->owner_document, &cb_ctx,
                                     qualified_name, len);
    if (status != LXB_STATUS_OK) {
        if (status == LXB_STATUS_STOP) {
            return LXB_STATUS_OK;
        }

        return status;
    }

    lxb_dom_node_simple_walk(lxb_dom_interface_node(root),
                             lxb_dom_node_by_tag_name_cb, &cb_ctx);

    return cb_ctx.status;
}

static lexbor_action_t
lxb_dom_node_by_tag_name_cb_all(lxb_dom_node_t *node, void *ctx)
{
    if (node->type != LXB_DOM_NODE_TYPE_ELEMENT) {
        return LEXBOR_ACTION_OK;
    }

    lxb_dom_node_cb_ctx_t *cb_ctx = ctx;

    cb_ctx->status = lxb_dom_collection_append(cb_ctx->col, node);
    if (cb_ctx->status != LXB_STATUS_OK) {
        return LEXBOR_ACTION_STOP;
    }

    return LEXBOR_ACTION_OK;
}

static lexbor_action_t
lxb_dom_node_by_tag_name_cb(lxb_dom_node_t *node, void *ctx)
{
    if (node->type != LXB_DOM_NODE_TYPE_ELEMENT) {
        return LEXBOR_ACTION_OK;
    }

    lxb_dom_node_cb_ctx_t *cb_ctx = ctx;

    if (node->local_name == cb_ctx->name_id
        && node->prefix == cb_ctx->prefix_id)
    {
        cb_ctx->status = lxb_dom_collection_append(cb_ctx->col, node);
        if (cb_ctx->status != LXB_STATUS_OK) {
            return LEXBOR_ACTION_STOP;
        }
    }

    return LEXBOR_ACTION_OK;
}

lxb_status_t
lxb_dom_node_by_class_name(lxb_dom_node_t *root,
                           lxb_dom_collection_t *collection,
                           const lxb_char_t *class_name, size_t len)
{
    if (class_name == NULL || len == 0) {
        return LXB_STATUS_OK;
    }

    lxb_dom_node_cb_ctx_t cb_ctx = {0};

    cb_ctx.col = collection;
    cb_ctx.value = class_name;
    cb_ctx.value_length = len;

    lxb_dom_node_simple_walk(lxb_dom_interface_node(root),
                             lxb_dom_node_by_class_name_cb, &cb_ctx);

    return cb_ctx.status;
}

static lexbor_action_t
lxb_dom_node_by_class_name_cb(lxb_dom_node_t *node, void *ctx)
{
    if (node->type != LXB_DOM_NODE_TYPE_ELEMENT) {
        return LEXBOR_ACTION_OK;
    }

    lxb_dom_node_cb_ctx_t *cb_ctx = ctx;
    lxb_dom_element_t *el = lxb_dom_interface_element(node);

    if (el->attr_class == NULL
        || el->attr_class->value == NULL
        || el->attr_class->value->length < cb_ctx->value_length)
    {
        return LEXBOR_ACTION_OK;
    }

    const lxb_char_t *data = el->attr_class->value->data;
    size_t length = el->attr_class->value->length;

    bool is_it = false;
    const lxb_char_t *pos = data;
    const lxb_char_t *end = data + length;

    lxb_dom_document_t *doc = el->node.owner_document;

    for (; data < end; data++) {
        if (lexbor_utils_whitespace(*data, ==, ||)) {

            if (pos != data && (size_t) (data - pos) == cb_ctx->value_length) {
                if (doc->compat_mode == LXB_DOM_DOCUMENT_CMODE_QUIRKS) {
                    is_it = lexbor_str_data_ncasecmp(pos, cb_ctx->value,
                                                     cb_ctx->value_length);
                }
                else {
                    is_it = lexbor_str_data_ncmp(pos, cb_ctx->value,
                                                 cb_ctx->value_length);
                }

                if (is_it) {
                    cb_ctx->status = lxb_dom_collection_append(cb_ctx->col,
                                                               node);
                    if (cb_ctx->status != LXB_STATUS_OK) {
                        return LEXBOR_ACTION_STOP;
                    }

                    return LEXBOR_ACTION_OK;
                }
            }

            if ((size_t) (end - data) < cb_ctx->value_length) {
                return LEXBOR_ACTION_OK;
            }

            pos = data + 1;
        }
    }

    if ((size_t) (end - pos) == cb_ctx->value_length) {
        if (doc->compat_mode == LXB_DOM_DOCUMENT_CMODE_QUIRKS) {
            is_it = lexbor_str_data_ncasecmp(pos, cb_ctx->value,
                                             cb_ctx->value_length);
        }
        else {
            is_it = lexbor_str_data_ncmp(pos, cb_ctx->value,
                                         cb_ctx->value_length);
        }

        if (is_it) {
            cb_ctx->status = lxb_dom_collection_append(cb_ctx->col, node);
            if (cb_ctx->status != LXB_STATUS_OK) {
                return LEXBOR_ACTION_STOP;
            }
        }
    }

    return LEXBOR_ACTION_OK;
}

lxb_status_t
lxb_dom_node_by_attr(lxb_dom_node_t *root,
                     lxb_dom_collection_t *collection,
                     const lxb_char_t *qualified_name, size_t qname_len,
                     const lxb_char_t *value, size_t value_len,
                     bool case_insensitive)
{
    lxb_status_t status;
    lxb_dom_node_cb_ctx_t cb_ctx = {0};

    cb_ctx.col = collection;
    cb_ctx.value = value;
    cb_ctx.value_length = value_len;

    status = lxb_dom_node_prepare_by_attr(root->owner_document, &cb_ctx,
                                          qualified_name, qname_len);
    if (status != LXB_STATUS_OK) {
        if (status == LXB_STATUS_STOP) {
            return LXB_STATUS_OK;
        }

        return status;
    }

    if (case_insensitive) {
        cb_ctx.cmp_func = lxb_dom_node_by_attr_cmp_full_case;
    }
    else {
        cb_ctx.cmp_func = lxb_dom_node_by_attr_cmp_full;
    }

    lxb_dom_node_simple_walk(root, lxb_dom_node_by_attr_cb, &cb_ctx);

    return cb_ctx.status;
}

lxb_status_t
lxb_dom_node_by_attr_begin(lxb_dom_node_t *root,
                           lxb_dom_collection_t *collection,
                           const lxb_char_t *qualified_name, size_t qname_len,
                           const lxb_char_t *value, size_t value_len,
                           bool case_insensitive)
{
    lxb_status_t status;
    lxb_dom_node_cb_ctx_t cb_ctx = {0};

    cb_ctx.col = collection;
    cb_ctx.value = value;
    cb_ctx.value_length = value_len;

    status = lxb_dom_node_prepare_by_attr(root->owner_document, &cb_ctx,
                                          qualified_name, qname_len);
    if (status != LXB_STATUS_OK) {
        if (status == LXB_STATUS_STOP) {
            return LXB_STATUS_OK;
        }

        return status;
    }

    if (case_insensitive) {
        cb_ctx.cmp_func = lxb_dom_node_by_attr_cmp_begin_case;
    }
    else {
        cb_ctx.cmp_func = lxb_dom_node_by_attr_cmp_begin;
    }

    lxb_dom_node_simple_walk(lxb_dom_interface_node(root),
                             lxb_dom_node_by_attr_cb, &cb_ctx);

    return cb_ctx.status;
}

lxb_status_t
lxb_dom_node_by_attr_end(lxb_dom_node_t *root, lxb_dom_collection_t *collection,
                         const lxb_char_t *qualified_name, size_t qname_len,
                         const lxb_char_t *value, size_t value_len,
                         bool case_insensitive)
{
    lxb_status_t status;
    lxb_dom_node_cb_ctx_t cb_ctx = {0};

    cb_ctx.col = collection;
    cb_ctx.value = value;
    cb_ctx.value_length = value_len;

    status = lxb_dom_node_prepare_by_attr(root->owner_document, &cb_ctx,
                                          qualified_name, qname_len);
    if (status != LXB_STATUS_OK) {
        if (status == LXB_STATUS_STOP) {
            return LXB_STATUS_OK;
        }

        return status;
    }

    if (case_insensitive) {
        cb_ctx.cmp_func = lxb_dom_node_by_attr_cmp_end_case;
    }
    else {
        cb_ctx.cmp_func = lxb_dom_node_by_attr_cmp_end;
    }

    lxb_dom_node_simple_walk(root, lxb_dom_node_by_attr_cb, &cb_ctx);

    return cb_ctx.status;
}

lxb_status_t
lxb_dom_node_by_attr_contain(lxb_dom_node_t *root,
                             lxb_dom_collection_t *collection,
                             const lxb_char_t *qualified_name, size_t qname_len,
                             const lxb_char_t *value, size_t value_len,
                             bool case_insensitive)
{
    lxb_status_t status;
    lxb_dom_node_cb_ctx_t cb_ctx = {0};

    cb_ctx.col = collection;
    cb_ctx.value = value;
    cb_ctx.value_length = value_len;

    status = lxb_dom_node_prepare_by_attr(root->owner_document, &cb_ctx,
                                          qualified_name, qname_len);
    if (status != LXB_STATUS_OK) {
        if (status == LXB_STATUS_STOP) {
            return LXB_STATUS_OK;
        }

        return status;
    }

    if (case_insensitive) {
        cb_ctx.cmp_func = lxb_dom_node_by_attr_cmp_contain_case;
    }
    else {
        cb_ctx.cmp_func = lxb_dom_node_by_attr_cmp_contain;
    }

    lxb_dom_node_simple_walk(root, lxb_dom_node_by_attr_cb, &cb_ctx);

    return cb_ctx.status;
}

static lexbor_action_t
lxb_dom_node_by_attr_cb(lxb_dom_node_t *node, void *ctx)
{
    if (node->type != LXB_DOM_NODE_TYPE_ELEMENT) {
        return LEXBOR_ACTION_OK;
    }

    lxb_dom_attr_t *attr;
    lxb_dom_node_cb_ctx_t *cb_ctx = ctx;
    lxb_dom_element_t *el = lxb_dom_interface_element(node);

    attr = lxb_dom_element_attr_by_id(el, cb_ctx->name_id);
    if (attr == NULL) {
        return LEXBOR_ACTION_OK;
    }

    if ((cb_ctx->value_length == 0 && (attr->value == NULL || attr->value->length == 0))
        || cb_ctx->cmp_func(cb_ctx, attr))
    {
        cb_ctx->status = lxb_dom_collection_append(cb_ctx->col, node);

        if (cb_ctx->status != LXB_STATUS_OK) {
            return LEXBOR_ACTION_STOP;
        }
    }

    return LEXBOR_ACTION_OK;
}

static bool
lxb_dom_node_by_attr_cmp_full(lxb_dom_node_cb_ctx_t *ctx, lxb_dom_attr_t *attr)
{
    if (attr->value != NULL && ctx->value_length == attr->value->length
        && lexbor_str_data_ncmp(attr->value->data, ctx->value,
                                ctx->value_length))
    {
        return true;
    }

    return attr->value == NULL && ctx->value_length == 0;
}

static bool
lxb_dom_node_by_attr_cmp_full_case(lxb_dom_node_cb_ctx_t *ctx,
                                   lxb_dom_attr_t *attr)
{
    if (attr->value != NULL && ctx->value_length == attr->value->length
        && lexbor_str_data_ncasecmp(attr->value->data, ctx->value,
                                    ctx->value_length))
    {
        return true;
    }

    return attr->value == NULL && ctx->value_length == 0;
}

static bool
lxb_dom_node_by_attr_cmp_begin(lxb_dom_node_cb_ctx_t *ctx, lxb_dom_attr_t *attr)
{
    if (attr->value != NULL && ctx->value_length <= attr->value->length
        && lexbor_str_data_ncmp(attr->value->data, ctx->value,
                                ctx->value_length))
    {
        return true;
    }

    return attr->value == NULL && ctx->value_length == 0;
}

static bool
lxb_dom_node_by_attr_cmp_begin_case(lxb_dom_node_cb_ctx_t *ctx,
                                    lxb_dom_attr_t *attr)
{
    if (attr->value != NULL && ctx->value_length <= attr->value->length
        && lexbor_str_data_ncasecmp(attr->value->data,
                                    ctx->value, ctx->value_length))
    {
        return true;
    }

    return attr->value == NULL && ctx->value_length == 0;
}

static bool
lxb_dom_node_by_attr_cmp_end(lxb_dom_node_cb_ctx_t *ctx, lxb_dom_attr_t *attr)
{
    if (attr->value != NULL && ctx->value_length <= attr->value->length) {
        size_t dif = attr->value->length - ctx->value_length;

        if (lexbor_str_data_ncmp_end(&attr->value->data[dif],
                                     ctx->value, ctx->value_length))
        {
            return true;
        }
    }

    return attr->value == NULL && ctx->value_length == 0;
}

static bool
lxb_dom_node_by_attr_cmp_end_case(lxb_dom_node_cb_ctx_t *ctx,
                                  lxb_dom_attr_t *attr)
{
    if (attr->value != NULL && ctx->value_length <= attr->value->length) {
        size_t dif = attr->value->length - ctx->value_length;

        if (lexbor_str_data_ncasecmp_end(&attr->value->data[dif],
                                         ctx->value, ctx->value_length))
        {
            return true;
        }
    }

    return attr->value == NULL && ctx->value_length == 0;
}

static bool
lxb_dom_node_by_attr_cmp_contain(lxb_dom_node_cb_ctx_t *ctx,
                                 lxb_dom_attr_t *attr)
{
    if (attr->value != NULL && ctx->value_length <= attr->value->length
        && lexbor_str_data_ncmp_contain(attr->value->data, attr->value->length,
                                        ctx->value, ctx->value_length))
    {
        return true;
    }

    return attr->value == NULL && ctx->value_length == 0;
}

static bool
lxb_dom_node_by_attr_cmp_contain_case(lxb_dom_node_cb_ctx_t *ctx,
                                      lxb_dom_attr_t *attr)
{
    if (attr->value != NULL && ctx->value_length <= attr->value->length
        && lexbor_str_data_ncasecmp_contain(attr->value->data, attr->value->length,
                                            ctx->value, ctx->value_length))
    {
        return true;
    }

    return attr->value == NULL && ctx->value_length == 0;
}

lxb_char_t *
lxb_dom_node_text_content(lxb_dom_node_t *node, size_t *len)
{
    lxb_char_t *text;
    size_t length = 0;

    switch (node->type) {
        case LXB_DOM_NODE_TYPE_DOCUMENT_FRAGMENT:
        case LXB_DOM_NODE_TYPE_ELEMENT:
            lxb_dom_node_simple_walk(node, lxb_dom_node_text_content_size,
                                     &length);

            text = lxb_dom_document_create_text(node->owner_document,
                                                (length + 1));
            if (text == NULL) {
                goto failed;
            }

            lxb_dom_node_simple_walk(node, lxb_dom_node_text_content_concatenate,
                                     &text);

            text -= length;

            break;

        case LXB_DOM_NODE_TYPE_ATTRIBUTE: {
            const lxb_char_t *attr_text;

            attr_text = lxb_dom_attr_value(lxb_dom_interface_attr(node), &length);
            if (attr_text == NULL) {
                goto failed;
            }

            text = lxb_dom_document_create_text(node->owner_document,
                                                (length + 1));
            if (text == NULL) {
                goto failed;
            }

            /* +1 == with null '\0' */
            memcpy(text, attr_text, sizeof(lxb_char_t) * (length + 1));

            break;
        }

        case LXB_DOM_NODE_TYPE_TEXT:
        case LXB_DOM_NODE_TYPE_PROCESSING_INSTRUCTION:
        case LXB_DOM_NODE_TYPE_COMMENT: {
            lxb_dom_character_data_t *ch_data;

            ch_data = lxb_dom_interface_character_data(node);
            length = ch_data->data.length;

            text = lxb_dom_document_create_text(node->owner_document,
                                                (length + 1));
            if (text == NULL) {
                goto failed;
            }

            /* +1 == with null '\0' */
            memcpy(text, ch_data->data.data, sizeof(lxb_char_t) * (length + 1));

            break;
        }

        default:
            goto failed;
    }

    if (len != NULL) {
        *len = length;
    }

    text[length] = 0x00;

    return text;

failed:

    if (len != NULL) {
        *len = 0;
    }

    return NULL;
}

static lexbor_action_t
lxb_dom_node_text_content_size(lxb_dom_node_t *node, void *ctx)
{
    if (node->type == LXB_DOM_NODE_TYPE_TEXT) {
        *((size_t *) ctx) += lxb_dom_interface_text(node)->char_data.data.length;
    }

    return LEXBOR_ACTION_OK;
}

static lexbor_action_t
lxb_dom_node_text_content_concatenate(lxb_dom_node_t *node, void *ctx)
{
    if (node->type != LXB_DOM_NODE_TYPE_TEXT) {
        return LEXBOR_ACTION_OK;
    }

    lxb_char_t **text = (lxb_char_t **) ctx;
    lxb_dom_character_data_t *ch_data = &lxb_dom_interface_text(node)->char_data;

    memcpy(*text, ch_data->data.data, sizeof(lxb_char_t) * ch_data->data.length);

    *text = *text + ch_data->data.length;

    return LEXBOR_ACTION_OK;
}

lxb_status_t
lxb_dom_node_text_content_set(lxb_dom_node_t *node,
                              const lxb_char_t *content, size_t len)
{
    lxb_status_t status;

    switch (node->type) {
        case LXB_DOM_NODE_TYPE_DOCUMENT_FRAGMENT:
        case LXB_DOM_NODE_TYPE_ELEMENT: {
            lxb_dom_text_t *text;

            text = lxb_dom_document_create_text_node(node->owner_document,
                                                     content, len);
            if (text == NULL) {
                return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
            }

            status = lxb_dom_node_replace_all(node, lxb_dom_interface_node(text));
            if (status != LXB_STATUS_OK) {
                lxb_dom_document_destroy_interface(text);

                return status;
            }

            break;
        }

        case LXB_DOM_NODE_TYPE_ATTRIBUTE:
            return lxb_dom_attr_set_existing_value(lxb_dom_interface_attr(node),
                                                   content, len);

        case LXB_DOM_NODE_TYPE_TEXT:
        case LXB_DOM_NODE_TYPE_PROCESSING_INSTRUCTION:
        case LXB_DOM_NODE_TYPE_COMMENT:
            return lxb_dom_character_data_replace(lxb_dom_interface_character_data(node),
                                                  content, len, 0, 0);

        default:
            return LXB_STATUS_OK;
    }

    return LXB_STATUS_OK;
}

bool
lxb_dom_node_is_empty(const lxb_dom_node_t *root)
{
    lxb_char_t chr;
    lexbor_str_t *str;
    const lxb_char_t *data, *end;
    lxb_dom_node_t *node = root->first_child;

    while (node != NULL) {
        if(node->local_name != LXB_TAG__EM_COMMENT) {
            if(node->local_name != LXB_TAG__TEXT)
                return false;

            str = &lxb_dom_interface_text(node)->char_data.data;
            data = str->data;
            end = data + str->length;

            while (data < end) {
                chr = *data++;

                if (lexbor_utils_whitespace(chr, !=, &&)) {
                    return false;
                }
            }
        }

        if(node->first_child != NULL) {
            node = node->first_child;
        }
        else {
            while(node != root && node->next == NULL) {
                node = node->parent;
            }

            if(node == root) {
                break;
            }

            node = node->next;
        }
    }

    return true;
}

bool
lxb_dom_node_host_including_inclusive_ancestor(const lxb_dom_node_t *node,
                                               const lxb_dom_node_t *parent)
{
    const lxb_dom_shadow_root_t *root;

    while (parent != NULL) {
        if (parent == node) {
            return true;
        }

        if (parent->type == LXB_DOM_NODE_TYPE_SHADOW_ROOT) {
            root = lxb_dom_interface_shadow_root(parent);
            parent = &root->host->node;

            continue;
        }

        parent = parent->parent;
    }

    return false;
}

lxb_dom_exception_code_t
lxb_dom_node_adopt(lxb_dom_node_t *node)
{
    lxb_dom_exception_code_t code;

    if (node->parent != NULL) {
        code = lxb_dom_node_remove_spec(node, false);
        if (code != LXB_DOM_EXCEPTION_OK) {
            return code;
        }
    }

    /* TODO: If document is not oldDocument steps. */

    return LXB_DOM_EXCEPTION_OK;
}

lxb_tag_id_t
lxb_dom_node_tag_id_noi(lxb_dom_node_t *node)
{
    return lxb_dom_node_tag_id(node);
}

lxb_dom_node_t *
lxb_dom_node_next_noi(lxb_dom_node_t *node)
{
    return lxb_dom_node_next(node);
}

lxb_dom_node_t *
lxb_dom_node_prev_noi(lxb_dom_node_t *node)
{
    return lxb_dom_node_prev(node);
}

lxb_dom_node_t *
lxb_dom_node_parent_noi(lxb_dom_node_t *node)
{
    return lxb_dom_node_parent(node);
}

lxb_dom_node_t *
lxb_dom_node_first_child_noi(lxb_dom_node_t *node)
{
    return lxb_dom_node_first_child(node);
}

lxb_dom_node_t *
lxb_dom_node_last_child_noi(lxb_dom_node_t *node)
{
    return lxb_dom_node_last_child(node);
}

lxb_dom_node_type_t
lxb_dom_node_type_noi(lxb_dom_node_t *node)
{
    return lxb_dom_node_type(node);
}

lxb_dom_processing_instruction_t *
lxb_dom_processing_instruction_interface_create(lxb_dom_document_t *document)
{
    lxb_dom_processing_instruction_t *element;

    element = lexbor_mraw_calloc(document->mraw,
                                 sizeof(lxb_dom_processing_instruction_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_dom_document_owner(document);
    node->type = LXB_DOM_NODE_TYPE_PROCESSING_INSTRUCTION;

    return element;
}

lxb_dom_processing_instruction_t *
lxb_dom_processing_instruction_interface_clone(lxb_dom_document_t *document,
                                               const lxb_dom_processing_instruction_t *pinstr)
{
    lxb_status_t status;
    lxb_dom_processing_instruction_t *new;

    new = lxb_dom_processing_instruction_interface_create(document);
    if (new == NULL) {
        return NULL;
    }

    status = lxb_dom_processing_instruction_copy(new, pinstr);
    if (status != LXB_STATUS_OK) {
        return lxb_dom_processing_instruction_interface_destroy(new);
    }

    return new;
}

lxb_dom_processing_instruction_t *
lxb_dom_processing_instruction_interface_destroy(lxb_dom_processing_instruction_t *processing_instruction)
{
    lexbor_mraw_t *text;
    lexbor_str_t target;

    text = lxb_dom_interface_node(processing_instruction)->owner_document->text;
    target = processing_instruction->target;

    (void) lxb_dom_character_data_interface_destroy(
                      lxb_dom_interface_character_data(processing_instruction));

    (void) lexbor_str_destroy(&target, text, false);

    return NULL;
}

lxb_status_t
lxb_dom_processing_instruction_copy(lxb_dom_processing_instruction_t *dst,
                                    const lxb_dom_processing_instruction_t *src)
{
    dst->target.length = 0;

    if (lexbor_str_copy(&dst->target, &src->target,
                        lxb_dom_interface_node(dst)->owner_document->text) == NULL)
    {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    return lxb_dom_character_data_interface_copy(&dst->char_data,
                                                 &src->char_data);
}


/*
 * No inline functions for ABI.
 */
const lxb_char_t *
lxb_dom_processing_instruction_target_noi(lxb_dom_processing_instruction_t *pi,
                                          size_t *len)
{
    return lxb_dom_processing_instruction_target(pi, len);
}

lxb_dom_shadow_root_t *
lxb_dom_shadow_root_interface_create(lxb_dom_document_t *document)
{
    lxb_dom_shadow_root_t *element;

    element = lexbor_mraw_calloc(document->mraw,
                                 sizeof(lxb_dom_shadow_root_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_dom_document_owner(document);
    node->type = LXB_DOM_NODE_TYPE_SHADOW_ROOT;

    return element;
}

lxb_dom_shadow_root_t *
lxb_dom_shadow_root_interface_destroy(lxb_dom_shadow_root_t *shadow_root)
{
    (void) lxb_dom_document_fragment_interface_destroy(
                        lxb_dom_interface_document_fragment(shadow_root));
    return NULL;
}

lxb_dom_text_t *
lxb_dom_text_interface_create(lxb_dom_document_t *document)
{
    lxb_dom_text_t *element;

    element = lexbor_mraw_calloc(document->mraw,
                                 sizeof(lxb_dom_text_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_dom_document_owner(document);
    node->type = LXB_DOM_NODE_TYPE_TEXT;

    return element;
}

lxb_dom_text_t *
lxb_dom_text_interface_clone(lxb_dom_document_t *document,
                             const lxb_dom_text_t *text)
{
    lxb_status_t status;
    lxb_dom_text_t *new;

    new = lxb_dom_text_interface_create(document);
    if (new == NULL) {
        return NULL;
    }

    status = lxb_dom_text_interface_copy(new, text);
    if (status != LXB_STATUS_OK) {
        return lxb_dom_text_interface_destroy(new);
    }

    return new;
}

lxb_dom_text_t *
lxb_dom_text_interface_destroy(lxb_dom_text_t *text)
{
    (void) lxb_dom_character_data_interface_destroy(
                                        lxb_dom_interface_character_data(text));
    return NULL;
}

lxb_status_t
lxb_dom_text_interface_copy(lxb_dom_text_t *dst, const lxb_dom_text_t *src)
{
    return lxb_dom_character_data_interface_copy(&dst->char_data,
                                                 &src->char_data);
}

static const lxb_char_t *
lxb_html_encoding_meta(lxb_html_encoding_t *em,
                       const lxb_char_t *data, const lxb_char_t *end);

static const lxb_char_t *
lxb_html_get_attribute(const lxb_char_t *data, const lxb_char_t *end,
                       const lxb_char_t **name, const lxb_char_t **name_end,
                       const lxb_char_t **value, const lxb_char_t **value_end);


lxb_inline const lxb_char_t *
lxb_html_encoding_skip_spaces(const lxb_char_t *data, const lxb_char_t *end)
{
    for (; data < end; data++) {
        switch (*data) {
            case 0x09: case 0x0A:
            case 0x0C: case 0x0D:
            case 0x20:
                break;

            default:
                return data;
        }
    }

    return end;
}

lxb_inline const lxb_char_t *
lxb_html_encoding_skip_name(const lxb_char_t *data, const lxb_char_t *end)
{
    for (; data < end; data++) {
        switch (*data) {
            case 0x09: case 0x0A:
            case 0x0C: case 0x0D:
            case 0x20: case 0x3E:
                return data;
        }
    }

    return end;
}

lxb_inline const lxb_char_t *
lxb_html_encoding_tag_end(const lxb_char_t *data, const lxb_char_t *end)
{
    data = memchr(data, '>', (end - data));
    if (data == NULL) {
        return end;
    }

    return data + 1;
}

lxb_status_t
lxb_html_encoding_init(lxb_html_encoding_t *em)
{
    lxb_status_t status;

    if (em == NULL) {
        return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    status = lexbor_array_obj_init(&em->cache, 12,
                                   sizeof(lxb_html_encoding_entry_t));
    if (status != LXB_STATUS_OK) {
        return status;
    }

    return lexbor_array_obj_init(&em->result, 12,
                                 sizeof(lxb_html_encoding_entry_t));
}

lxb_html_encoding_t *
lxb_html_encoding_destroy(lxb_html_encoding_t *em, bool self_destroy)
{
    if (em == NULL) {
        return NULL;
    }

    lexbor_array_obj_destroy(&em->cache, false);
    lexbor_array_obj_destroy(&em->result, false);

    if (self_destroy) {
        return lexbor_free(em);
    }

    return em;
}

lxb_status_t
lxb_html_encoding_determine(lxb_html_encoding_t *em,
                            const lxb_char_t *data, const lxb_char_t *end)
{
    const lxb_char_t *name, *name_end;
    const lxb_char_t *value, *value_end;

    while (data < end) {
        /* Find tag beginning */
        data = memchr(data, '<', (end - data));
        if (data == NULL) {
            return LXB_STATUS_OK;
        }

        if (++data == end) {
            return LXB_STATUS_OK;
        }

        switch (*data) {
            /* Comment or broken tag */
            case '!':
                if ((data + 5) > end) {
                    return LXB_STATUS_OK;
                }

                if (data[1] != '-' || data[2] != '-') {
                    data = lxb_html_encoding_tag_end(data, end);
                    continue;
                }

                while (data < end) {
                    data = lxb_html_encoding_tag_end(data, end);

                    if (data[-3] == '-' && data[-2] == '-') {
                        break;
                    }
                }

                break;

            case '?':
                data = lxb_html_encoding_tag_end(data, end);
                break;

            case '/':
                data++;

                if ((data + 3) > end) {
                    return LXB_STATUS_OK;
                }

                if ((unsigned) (*data - 0x41) <= (0x5A - 0x41)
                    || (unsigned) (*data - 0x61) <= (0x7A - 0x61))
                {
                    goto skip_attributes;
                }

                data = lxb_html_encoding_tag_end(data, end);
                break;

            default:

                if ((unsigned) (*data - 0x41) > (0x5A - 0x41)
                    && (unsigned) (*data - 0x61) > (0x7A - 0x61))
                {
                    break;
                }

                if ((data + 6) > end) {
                    return LXB_STATUS_OK;
                }

                if (!lexbor_str_data_ncasecmp(data, (lxb_char_t *) "meta", 4)) {
                    goto skip_attributes;
                }

                data += 4;

                switch (*data++) {
                    case 0x09: case 0x0A: case 0x0C:
                    case 0x0D: case 0x20: case 0x2F:
                        break;

                    default:
                        goto skip_attributes;
                }

                data = lxb_html_encoding_meta(em, data, end);
                if (data == NULL) {
                    return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
                }

                break;

            skip_attributes:

                data = lxb_html_encoding_skip_name(data, end);
                if (data >= end) {
                    return LXB_STATUS_OK;
                }

                if (*data == '>') {
                    data++;
                    continue;
                }

                /* Skip attributes */
                while (data < end) {
                    data = lxb_html_get_attribute(data, end, &name, &name_end,
                                                  &value, &value_end);
                    if (name == NULL) {
                        break;
                    }
                }

                break;
        }
    }

    return LXB_STATUS_OK;
}

static const lxb_char_t *
lxb_html_encoding_meta(lxb_html_encoding_t *em,
                       const lxb_char_t *data, const lxb_char_t *end)
{
    size_t i, len, cur;
    bool got_pragma, have_content;
    uint8_t need_pragma;
    const lxb_char_t *name, *name_end;
    const lxb_char_t *value, *value_end;
    lxb_html_encoding_entry_t *attr;

    got_pragma = false;
    have_content = false;
    need_pragma = 0x00;
    cur = lexbor_array_obj_length(&em->result);

    lexbor_array_obj_clean(&em->cache);

    while (data < end) {

    find_attr:

        data = lxb_html_get_attribute(data, end, &name, &name_end,
                                      &value, &value_end);
        if (name == NULL) {
            break;
        }

        len = name_end - name;

        if (len < 7) {
            continue;
        }

        /* Exists check */
        for (i = 0; i < lexbor_array_obj_length(&em->cache); i++) {
            attr = lexbor_array_obj_get(&em->cache, i);

            if ((size_t) (attr->end - attr->name) == len
                && lexbor_str_data_ncasecmp(attr->name, name, len))
            {
                goto find_attr;
            }
        }

        /* Append attribute to cache */
        attr = lexbor_array_obj_push(&em->cache);
        if (attr == NULL) {
            return NULL;
        }

        attr->name = name;
        attr->end = name_end;

        if (value == NULL) {
            continue;
        }

        /* http-equiv check */
        if (len == (sizeof("http-equiv") - 1)) {
            if (!lexbor_str_data_ncasecmp((lxb_char_t *) "http-equiv", name, len)) {
                continue;
            }

            if ((value_end - value) == (sizeof("content-type") - 1)
                && lexbor_str_data_ncasecmp((lxb_char_t *) "content-type",
                                            value, (sizeof("content-type") - 1)))
            {
                got_pragma = true;
            }

            continue;
        }

        if (lexbor_str_data_ncasecmp((lxb_char_t *) "content", name, 7)) {
            if (have_content == false) {

                name = lxb_html_encoding_content(value, value_end, &name_end);
                if (name == NULL) {
                    continue;
                }

                attr = lexbor_array_obj_push(&em->result);
                if (attr == NULL) {
                    return NULL;
                }

                attr->name = name;
                attr->end = name_end;

                need_pragma = 0x02;
                have_content = true;
            }

            continue;
        }

        if (lexbor_str_data_ncasecmp((lxb_char_t *) "charset", name, 7)) {
            attr = lexbor_array_obj_push(&em->result);
            if (attr == NULL) {
                return NULL;
            }

            attr->name = value;
            attr->end = value_end;

            need_pragma = 0x01;
        }
    }

    if (need_pragma == 0x00 || (need_pragma == 0x02 && got_pragma == false)) {
        if (cur != lexbor_array_obj_length(&em->result)) {
            lexbor_array_obj_pop(&em->result);
        }
    }

    return data;
}

const lxb_char_t *
lxb_html_encoding_content(const lxb_char_t *data, const lxb_char_t *end,
                          const lxb_char_t **name_end)
{
    const lxb_char_t *name;

    do {
        for (; (data + 7) < end; data++) {
            if (lexbor_str_data_ncasecmp((lxb_char_t *) "charset", data, 7)) {
                goto found;
            }
        }

        return NULL;

    found:

        data = lxb_html_encoding_skip_spaces((data + 7), end);
        if (data >= end) {
            return NULL;
        }

        if (*data != '=') {
            continue;
        }

        data = lxb_html_encoding_skip_spaces((data + 1), end);
        if (data >= end) {
            return NULL;
        }

        break;
    }
    while (true);

    if (*data == '\'' || *data == '"') {
        *name_end = data++;
        name = data;

        for (; data < end; data++) {
            if (*data == **name_end) {
                break;
            }
        }

        *name_end = data;
        goto done;
    }

    name = data;
    *name_end = data;

    for (; data < end; data++) {
        switch (*data) {
            case ';':
                goto done;

            case 0x09: case 0x0A:
            case 0x0C: case 0x0D:
            case 0x20:
                goto done;

            case '"':
            case '\'':
                return NULL;
        }
    }

    if (data == name) {
        return NULL;
    }

done:

    *name_end = data;

    return name;
}

static const lxb_char_t *
lxb_html_get_attribute(const lxb_char_t *data, const lxb_char_t *end,
                       const lxb_char_t **name, const lxb_char_t **name_end,
                       const lxb_char_t **value, const lxb_char_t **value_end)
{
    lxb_char_t ch;

    *name = NULL;
    *value = NULL;

    for (; data < end; data++) {
        switch (*data) {
            case 0x09: case 0x0A:
            case 0x0C: case 0x0D:
            case 0x20: case 0x2F:
                break;

            case 0x3E:
                return (data + 1);

            default:
                goto name_state;
        }
    }

    if (data == end) {
        return data;
    }

name_state:

    /* Attribute name */
    *name = data;

    while (data < end) {
        switch (*data) {
            case 0x09: case 0x0A:
            case 0x0C: case 0x0D:
            case 0x20:
                *name_end = data;

                data++;
                goto spaces_state;

            case '/': case '>':
                *name_end = data;
                return data;

            case '=':
                if (*name != NULL) {
                    *name_end = data++;
                    goto value_state;
                }
        }

        data++;
    }

    *name_end = data;

spaces_state:

    data = lxb_html_encoding_skip_spaces(data, end);
    if (data == end) {
        return data;
    }

    if (*data != '=') {
        return data;
    }

    data += 1;

value_state:

    data = lxb_html_encoding_skip_spaces(data, end);
    if (data == end) {
        return data;
    }

    switch (*data) {
        case '"':
        case '\'':
            ch = *data++;
            if (data == end) {
                return data;
            }

            *value = data;

            do {
                if (*data == ch) {
                    *value_end = data;
                    return data + 1;
                }
            }
            while (++data < end);

            *value = NULL;

            return data;

        case '>':
            return data;

        default:
            *value = data++;
            break;
    }

    for (; data < end; data++) {
        switch (*data) {
            case 0x09: case 0x0A:
            case 0x0C: case 0x0D:
            case 0x20: case 0x3E:
                *value_end = data;
                return data;
        }
    }

    *value = NULL;

    return data;
}

/*
 * No inline functions for ABI.
 */
lxb_html_encoding_t *
lxb_html_encoding_create_noi(void)
{
    return lxb_html_encoding_create();
}

void
lxb_html_encoding_clean_noi(lxb_html_encoding_t *em)
{
    lxb_html_encoding_clean(em);
}

lxb_html_encoding_entry_t *
lxb_html_encoding_meta_entry_noi(lxb_html_encoding_t *em, size_t idx)
{
    return lxb_html_encoding_meta_entry(em, idx);
}

size_t
lxb_html_encoding_meta_length_noi(lxb_html_encoding_t *em)
{
    return lxb_html_encoding_meta_length(em);
}

lexbor_array_obj_t *
lxb_html_encoding_meta_result_noi(lxb_html_encoding_t *em)
{
    return lxb_html_encoding_meta_result(em);
}

#define LXB_HTML_INTERFACE_RES_CONSTRUCTORS
#define LXB_HTML_INTERFACE_RES_DESTRUCTOR


static lxb_dom_element_t *
lxb_html_interface_clone_element(lxb_dom_document_t *document,
                                 const lxb_dom_element_t *element);


lxb_dom_interface_t *
lxb_html_interface_create(lxb_html_document_t *document, lxb_tag_id_t tag_id,
                          lxb_ns_id_t ns)
{
    lxb_dom_node_t *node;
    lxb_dom_element_t *domel;
    lxb_html_unknown_element_t *unel;

    if (tag_id >= LXB_TAG__LAST_ENTRY) {
        if (ns == LXB_NS_HTML) {
            unel = lxb_html_unknown_element_interface_create(document);
            node = lxb_dom_interface_node(unel);
        }
        else if (ns == LXB_NS_SVG) {
            /* TODO: For this need implement SVGElement */

            domel = lxb_dom_element_interface_create(&document->dom_document);
            node = lxb_dom_interface_node(domel);
        }
        else {
            domel = lxb_dom_element_interface_create(&document->dom_document);
            node = lxb_dom_interface_node(domel);
        }
    }
    else {
        if (ns < LXB_NS__LAST_ENTRY) {
            node = lxb_html_interface_res_constructors[tag_id][ns](document);
        }
        else {
            domel = lxb_dom_element_interface_create(&document->dom_document);
            node = lxb_dom_interface_node(domel);
        }
    }

    if (node == NULL) {
        return NULL;
    }

    node->local_name = tag_id;
    node->ns = ns;

    return node;
}

lxb_dom_interface_t *
lxb_html_interface_clone(lxb_dom_document_t *document,
                         const lxb_dom_interface_t *intrfc)
{
    const lxb_dom_node_t *node = intrfc;

    if (document == NULL) {
        document = node->owner_document;
    }

    switch (node->type) {
        case LXB_DOM_NODE_TYPE_ELEMENT:
            return lxb_html_interface_clone_element(document, intrfc);

        case LXB_DOM_NODE_TYPE_TEXT:
            return lxb_dom_text_interface_clone(document, intrfc);

        case LXB_DOM_NODE_TYPE_PROCESSING_INSTRUCTION:
            return lxb_dom_processing_instruction_interface_clone(document,
                                                                  intrfc);
        case LXB_DOM_NODE_TYPE_COMMENT:
            return lxb_dom_comment_interface_clone(document, intrfc);

        case LXB_DOM_NODE_TYPE_DOCUMENT:
            return lxb_dom_document_interface_clone(document, intrfc);

        case LXB_DOM_NODE_TYPE_DOCUMENT_TYPE:
            return lxb_dom_document_type_interface_clone(document, intrfc);

        default:
            return lxb_dom_node_interface_clone(document, node, false);
    }
}

static lxb_dom_element_t *
lxb_html_interface_clone_element(lxb_dom_document_t *document,
                                 const lxb_dom_element_t *element)
{
    lxb_dom_element_t *new;
    const lxb_dom_node_t *node = lxb_dom_interface_node(element);

    new = lxb_html_interface_create((lxb_html_document_t *) document,
                                    node->local_name, node->ns);
    if (new == NULL) {
        return NULL;
    }

    if (lxb_dom_element_interface_copy(new, element) != LXB_STATUS_OK) {
        return lxb_dom_element_interface_destroy(new);
    }

    return new;
}

lxb_dom_interface_t *
lxb_html_interface_destroy(lxb_dom_interface_t *intrfc)
{
    if (intrfc == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = intrfc;

    switch (node->type) {
        case LXB_DOM_NODE_TYPE_TEXT:
        case LXB_DOM_NODE_TYPE_COMMENT:
        case LXB_DOM_NODE_TYPE_ELEMENT:
        case LXB_DOM_NODE_TYPE_DOCUMENT:
        case LXB_DOM_NODE_TYPE_DOCUMENT_TYPE:
            if (node->local_name >= LXB_TAG__LAST_ENTRY) {
                if (node->ns == LXB_NS_HTML) {
                    return lxb_html_unknown_element_interface_destroy(intrfc);
                }
                else if (node->ns == LXB_NS_SVG) {
                    /* TODO: For this need implement SVGElement */
                    return lxb_dom_element_interface_destroy(intrfc);
                }
                else {
                    return lxb_dom_element_interface_destroy(intrfc);
                }
            }
            else {
                return lxb_html_interface_res_destructor[node->local_name][node->ns](intrfc);
            }

        case LXB_DOM_NODE_TYPE_ATTRIBUTE:
            return lxb_dom_attr_interface_destroy(intrfc);

        case LXB_DOM_NODE_TYPE_CDATA_SECTION:
            return lxb_dom_cdata_section_interface_destroy(intrfc);

        case LXB_DOM_NODE_TYPE_DOCUMENT_FRAGMENT:
            return lxb_dom_document_fragment_interface_destroy(intrfc);

        case LXB_DOM_NODE_TYPE_PROCESSING_INSTRUCTION:
            return lxb_dom_processing_instruction_interface_destroy(intrfc);

        default:
            return NULL;
    }
}

lxb_html_anchor_element_t *
lxb_html_anchor_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_anchor_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_anchor_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_anchor_element_t *
lxb_html_anchor_element_interface_destroy(lxb_html_anchor_element_t *anchor_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(anchor_element));
    return NULL;
}

lxb_html_area_element_t *
lxb_html_area_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_area_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_area_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_area_element_t *
lxb_html_area_element_interface_destroy(lxb_html_area_element_t *area_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(area_element));
    return NULL;
}

lxb_html_audio_element_t *
lxb_html_audio_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_audio_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_audio_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_audio_element_t *
lxb_html_audio_element_interface_destroy(lxb_html_audio_element_t *audio_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(audio_element));
    return NULL;
}

lxb_html_base_element_t *
lxb_html_base_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_base_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_base_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_base_element_t *
lxb_html_base_element_interface_destroy(lxb_html_base_element_t *base_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(base_element));
    return NULL;
}

lxb_html_body_element_t *
lxb_html_body_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_body_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_body_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_body_element_t *
lxb_html_body_element_interface_destroy(lxb_html_body_element_t *body_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(body_element));
    return NULL;
}

lxb_html_br_element_t *
lxb_html_br_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_br_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_br_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_br_element_t *
lxb_html_br_element_interface_destroy(lxb_html_br_element_t *br_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(br_element));
    return NULL;
}

lxb_html_button_element_t *
lxb_html_button_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_button_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_button_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_button_element_t *
lxb_html_button_element_interface_destroy(lxb_html_button_element_t *button_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(button_element));
    return NULL;
}

lxb_html_canvas_element_t *
lxb_html_canvas_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_canvas_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_canvas_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_canvas_element_t *
lxb_html_canvas_element_interface_destroy(lxb_html_canvas_element_t *canvas_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(canvas_element));
    return NULL;
}

lxb_html_d_list_element_t *
lxb_html_d_list_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_d_list_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_d_list_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_d_list_element_t *
lxb_html_d_list_element_interface_destroy(lxb_html_d_list_element_t *d_list_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(d_list_element));
    return NULL;
}

lxb_html_data_element_t *
lxb_html_data_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_data_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_data_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_data_element_t *
lxb_html_data_element_interface_destroy(lxb_html_data_element_t *data_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(data_element));
    return NULL;
}

lxb_html_data_list_element_t *
lxb_html_data_list_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_data_list_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_data_list_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_data_list_element_t *
lxb_html_data_list_element_interface_destroy(lxb_html_data_list_element_t *data_list_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(data_list_element));
    return NULL;
}

lxb_html_details_element_t *
lxb_html_details_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_details_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_details_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_details_element_t *
lxb_html_details_element_interface_destroy(lxb_html_details_element_t *details_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(details_element));
    return NULL;
}

lxb_html_dialog_element_t *
lxb_html_dialog_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_dialog_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_dialog_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_dialog_element_t *
lxb_html_dialog_element_interface_destroy(lxb_html_dialog_element_t *dialog_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(dialog_element));
    return NULL;
}

lxb_html_directory_element_t *
lxb_html_directory_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_directory_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_directory_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_directory_element_t *
lxb_html_directory_element_interface_destroy(lxb_html_directory_element_t *directory_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(directory_element));
    return NULL;
}

lxb_html_div_element_t *
lxb_html_div_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_div_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_div_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_div_element_t *
lxb_html_div_element_interface_destroy(lxb_html_div_element_t *div_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(div_element));
    return NULL;
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN lxb_html_tag_category_t lxb_html_tag_res_cats[LXB_TAG__LAST_ENTRY][LXB_NS__LAST_ENTRY];
    LXB_EXTERN lxb_html_tag_fixname_t lxb_html_tag_res_fixname_svg[LXB_TAG__LAST_ENTRY];
#endif

lxb_status_t
lxb_html_parse_chunk_prepare(lxb_html_parser_t *parser,
                             lxb_html_document_t *document);

lxb_inline lxb_status_t
lxb_html_document_parser_prepare(lxb_html_document_t *document);

static lexbor_action_t
lxb_html_document_title_walker(lxb_dom_node_t *node, void *ctx);


lxb_inline lxb_dom_interface_t *
lxb_html_document_interface_create_handler(lxb_dom_document_t *document,
                                           lxb_tag_id_t tag_id, lxb_ns_id_t ns)
{
    return lxb_html_interface_create(lxb_html_interface_document(document),
                                     tag_id, ns);
}

lxb_html_document_t *
lxb_html_document_interface_create(lxb_html_document_t *document)
{
    lxb_status_t status;
    lxb_dom_document_t *doc;

    if (document != NULL) {
        doc = lexbor_mraw_calloc(lxb_html_document_mraw(document),
                                 sizeof(lxb_html_document_t));
    }
    else {
        doc = lexbor_calloc(1, sizeof(lxb_html_document_t));
    }

    if (doc == NULL) {
        return NULL;
    }

    status = lxb_dom_document_init(doc, lxb_dom_interface_document(document),
                                   lxb_html_document_interface_create_handler,
                                   lxb_html_interface_clone,
                                   lxb_html_interface_destroy,
                                   LXB_DOM_DOCUMENT_DTYPE_HTML, LXB_NS_HTML);
    if (status != LXB_STATUS_OK) {
        (void) lxb_dom_document_destroy(doc);
        return NULL;
    }

    return lxb_html_interface_document(doc);
}

lxb_html_document_t *
lxb_html_document_interface_destroy(lxb_html_document_t *document)
{
    lxb_dom_document_t *doc;

    if (document == NULL) {
        return NULL;
    }

    doc = lxb_dom_interface_document(document);

    if (doc->node.owner_document == doc) {
        (void) lxb_html_parser_unref(doc->parser);
    }

    (void) lxb_dom_document_destroy(doc);

    return NULL;
}

lxb_html_document_t *
lxb_html_document_create(void)
{
    return lxb_html_document_interface_create(NULL);
}

void
lxb_html_document_clean(lxb_html_document_t *document)
{
    document->body = NULL;
    document->head = NULL;
    document->iframe_srcdoc = NULL;
    document->ready_state = LXB_HTML_DOCUMENT_READY_STATE_UNDEF;

    lxb_dom_document_clean(lxb_dom_interface_document(document));
}

lxb_html_document_t *
lxb_html_document_destroy(lxb_html_document_t *document)
{
    return lxb_html_document_interface_destroy(document);
}

lxb_status_t
lxb_html_document_parse(lxb_html_document_t *document,
                        const lxb_char_t *html, size_t size)
{
    lxb_status_t status;
    lxb_dom_document_t *doc;
    lxb_html_document_opt_t opt;

    if (document->ready_state != LXB_HTML_DOCUMENT_READY_STATE_UNDEF
        && document->ready_state != LXB_HTML_DOCUMENT_READY_STATE_LOADING)
    {
        lxb_html_document_clean(document);
    }

    opt = document->opt;
    doc = lxb_dom_interface_document(document);

    status = lxb_html_document_parser_prepare(document);
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    status = lxb_html_parse_chunk_prepare(doc->parser, document);
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    status = lxb_html_parse_chunk_process(doc->parser, html, size);
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    document->opt = opt;

    return lxb_html_parse_chunk_end(doc->parser);

failed:

    document->opt = opt;

    return status;
}

lxb_status_t
lxb_html_document_parse_chunk_begin(lxb_html_document_t *document)
{
    if (document->ready_state != LXB_HTML_DOCUMENT_READY_STATE_UNDEF
        && document->ready_state != LXB_HTML_DOCUMENT_READY_STATE_LOADING)
    {
        lxb_html_document_clean(document);
    }

    lxb_status_t status = lxb_html_document_parser_prepare(document);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    return lxb_html_parse_chunk_prepare(document->dom_document.parser,
                                        document);
}

lxb_status_t
lxb_html_document_parse_chunk(lxb_html_document_t *document,
                              const lxb_char_t *html, size_t size)
{
    return lxb_html_parse_chunk_process(document->dom_document.parser,
                                        html, size);
}

lxb_status_t
lxb_html_document_parse_chunk_end(lxb_html_document_t *document)
{
    return lxb_html_parse_chunk_end(document->dom_document.parser);
}

lxb_dom_node_t *
lxb_html_document_parse_fragment(lxb_html_document_t *document,
                                 lxb_dom_element_t *element,
                                 const lxb_char_t *html, size_t size)
{
    lxb_status_t status;
    lxb_html_parser_t *parser;
    lxb_html_document_opt_t opt = document->opt;

    status = lxb_html_document_parser_prepare(document);
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    parser = document->dom_document.parser;

    status = lxb_html_parse_fragment_chunk_begin(parser, document,
                                                 element->node.local_name,
                                                 element->node.ns);
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    status = lxb_html_parse_fragment_chunk_process(parser, html, size);
    if (status != LXB_STATUS_OK) {
        goto failed;
    }

    document->opt = opt;

    return lxb_html_parse_fragment_chunk_end(parser);

failed:

    document->opt = opt;

    return NULL;
}

lxb_status_t
lxb_html_document_parse_fragment_chunk_begin(lxb_html_document_t *document,
                                             lxb_dom_element_t *element)
{
    lxb_status_t status;
    lxb_html_parser_t *parser;

    status = lxb_html_document_parser_prepare(document);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    parser = document->dom_document.parser;

    return lxb_html_parse_fragment_chunk_begin(parser, document,
                                               element->node.local_name,
                                               element->node.ns);
}

lxb_status_t
lxb_html_document_parse_fragment_chunk(lxb_html_document_t *document,
                                       const lxb_char_t *html, size_t size)
{
    return lxb_html_parse_fragment_chunk_process(document->dom_document.parser,
                                                 html, size);
}

lxb_dom_node_t *
lxb_html_document_parse_fragment_chunk_end(lxb_html_document_t *document)
{
    return lxb_html_parse_fragment_chunk_end(document->dom_document.parser);
}

lxb_inline lxb_status_t
lxb_html_document_parser_prepare(lxb_html_document_t *document)
{
    lxb_status_t status;
    lxb_dom_document_t *doc;

    doc = lxb_dom_interface_document(document);

    if (doc->parser == NULL) {
        doc->parser = lxb_html_parser_create();
        status = lxb_html_parser_init(doc->parser);

        if (status != LXB_STATUS_OK) {
            lxb_html_parser_destroy(doc->parser);
            return status;
        }
    }
    else if (lxb_html_parser_state(doc->parser) != LXB_HTML_PARSER_STATE_BEGIN) {
        lxb_html_parser_clean(doc->parser);
    }

    return LXB_STATUS_OK;
}

const lxb_char_t *
lxb_html_document_title(lxb_html_document_t *document, size_t *len)
{
    lxb_html_title_element_t *title = NULL;

    lxb_dom_node_simple_walk(lxb_dom_interface_node(document),
                             lxb_html_document_title_walker, &title);
    if (title == NULL) {
        return NULL;
    }

    return lxb_html_title_element_strict_text(title, len);
}

lxb_status_t
lxb_html_document_title_set(lxb_html_document_t *document,
                            const lxb_char_t *title, size_t len)
{
    lxb_status_t status;

    /* TODO: If the document element is an SVG svg element */

    /* If the document element is in the HTML namespace */
    if (document->head == NULL) {
        return LXB_STATUS_OK;
    }

    lxb_html_title_element_t *el_title = NULL;

    lxb_dom_node_simple_walk(lxb_dom_interface_node(document),
                             lxb_html_document_title_walker, &el_title);
    if (el_title == NULL) {
        el_title = (void *) lxb_html_document_create_element(document,
                                         (const lxb_char_t *) "title", 5, NULL);
        if (el_title == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        lxb_dom_node_insert_child(lxb_dom_interface_node(document->head),
                                  lxb_dom_interface_node(el_title));
    }

    status = lxb_dom_node_text_content_set(lxb_dom_interface_node(el_title),
                                           title, len);
    if (status != LXB_STATUS_OK) {
        lxb_html_document_destroy_element(&el_title->element.element);

        return status;
    }

    return LXB_STATUS_OK;
}

const lxb_char_t *
lxb_html_document_title_raw(lxb_html_document_t *document, size_t *len)
{
    lxb_html_title_element_t *title = NULL;

    lxb_dom_node_simple_walk(lxb_dom_interface_node(document),
                             lxb_html_document_title_walker, &title);
    if (title == NULL) {
        return NULL;
    }

    return lxb_html_title_element_text(title, len);
}

static lexbor_action_t
lxb_html_document_title_walker(lxb_dom_node_t *node, void *ctx)
{
    if (node->local_name == LXB_TAG_TITLE && node->ns == LXB_NS_HTML) {
        *((void **) ctx) = node;

        return LEXBOR_ACTION_STOP;
    }

    return LEXBOR_ACTION_OK;
}

lxb_dom_node_t *
lxb_html_document_import_node(lxb_html_document_t *doc, lxb_dom_node_t *node,
                              bool deep)
{
    return lxb_dom_document_import_node(&doc->dom_document, node, deep);
}

/*
 * No inline functions for ABI.
 */
lxb_html_head_element_t *
lxb_html_document_head_element_noi(lxb_html_document_t *document)
{
    return lxb_html_document_head_element(document);
}

lxb_html_body_element_t *
lxb_html_document_body_element_noi(lxb_html_document_t *document)
{
    return lxb_html_document_body_element(document);
}

lxb_dom_document_t *
lxb_html_document_original_ref_noi(lxb_html_document_t *document)
{
    return lxb_html_document_original_ref(document);
}

bool
lxb_html_document_is_original_noi(lxb_html_document_t *document)
{
    return lxb_html_document_is_original(document);
}

lexbor_mraw_t *
lxb_html_document_mraw_noi(lxb_html_document_t *document)
{
    return lxb_html_document_mraw(document);
}

lexbor_mraw_t *
lxb_html_document_mraw_text_noi(lxb_html_document_t *document)
{
    return lxb_html_document_mraw_text(document);
}

void
lxb_html_document_opt_set_noi(lxb_html_document_t *document,
                              lxb_html_document_opt_t opt)
{
    lxb_html_document_opt_set(document, opt);
}

lxb_html_document_opt_t
lxb_html_document_opt_noi(lxb_html_document_t *document)
{
    return lxb_html_document_opt(document);
}

void *
lxb_html_document_create_struct_noi(lxb_html_document_t *document,
                                    size_t struct_size)
{
    return lxb_html_document_create_struct(document, struct_size);
}

void *
lxb_html_document_destroy_struct_noi(lxb_html_document_t *document, void *data)
{
    return lxb_html_document_destroy_struct(document, data);
}

lxb_html_element_t *
lxb_html_document_create_element_noi(lxb_html_document_t *document,
                                     const lxb_char_t *local_name,
                                     size_t lname_len, void *reserved_for_opt)
{
    return lxb_html_document_create_element(document, local_name, lname_len,
                                            reserved_for_opt);
}

lxb_dom_element_t *
lxb_html_document_destroy_element_noi(lxb_dom_element_t *element)
{
    return lxb_html_document_destroy_element(element);
}

lxb_html_element_t *
lxb_html_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_element_t *
lxb_html_element_interface_destroy(lxb_html_element_t *element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(element));
    return NULL;
}

lxb_html_element_t *
lxb_html_element_inner_html_set(lxb_html_element_t *element,
                                const lxb_char_t *html, size_t size)
{
    lxb_dom_node_t *node, *child;
    lxb_dom_node_t *root = lxb_dom_interface_node(element);
    lxb_html_document_t *doc = lxb_html_interface_document(root->owner_document);

    node = lxb_html_document_parse_fragment(doc, &element->element, html, size);
    if (node == NULL) {
        return NULL;
    }

    while (root->first_child != NULL) {
        lxb_dom_node_destroy_deep(root->first_child);
    }

    while (node->first_child != NULL) {
        child = node->first_child;

        lxb_dom_node_remove(child);
        lxb_dom_node_insert_child(root, child);
    }

    lxb_dom_node_destroy(node);

    return lxb_html_interface_element(root);
}

lxb_html_embed_element_t *
lxb_html_embed_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_embed_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_embed_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_embed_element_t *
lxb_html_embed_element_interface_destroy(lxb_html_embed_element_t *embed_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(embed_element));
    return NULL;
}

lxb_html_field_set_element_t *
lxb_html_field_set_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_field_set_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_field_set_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_field_set_element_t *
lxb_html_field_set_element_interface_destroy(lxb_html_field_set_element_t *field_set_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(field_set_element));
    return NULL;
}

lxb_html_font_element_t *
lxb_html_font_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_font_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_font_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_font_element_t *
lxb_html_font_element_interface_destroy(lxb_html_font_element_t *font_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(font_element));
    return NULL;
}

lxb_html_form_element_t *
lxb_html_form_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_form_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_form_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_form_element_t *
lxb_html_form_element_interface_destroy(lxb_html_form_element_t *form_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(form_element));
    return NULL;
}

lxb_html_frame_element_t *
lxb_html_frame_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_frame_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_frame_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_frame_element_t *
lxb_html_frame_element_interface_destroy(lxb_html_frame_element_t *frame_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(frame_element));
    return NULL;
}

lxb_html_frame_set_element_t *
lxb_html_frame_set_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_frame_set_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_frame_set_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_frame_set_element_t *
lxb_html_frame_set_element_interface_destroy(lxb_html_frame_set_element_t *frame_set_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(frame_set_element));
    return NULL;
}

lxb_html_head_element_t *
lxb_html_head_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_head_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_head_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_head_element_t *
lxb_html_head_element_interface_destroy(lxb_html_head_element_t *head_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(head_element));
    return NULL;
}

lxb_html_heading_element_t *
lxb_html_heading_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_heading_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_heading_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_heading_element_t *
lxb_html_heading_element_interface_destroy(lxb_html_heading_element_t *heading_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(heading_element));
    return NULL;
}

lxb_html_hr_element_t *
lxb_html_hr_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_hr_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_hr_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_hr_element_t *
lxb_html_hr_element_interface_destroy(lxb_html_hr_element_t *hr_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(hr_element));
    return NULL;
}

lxb_html_html_element_t *
lxb_html_html_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_html_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_html_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_html_element_t *
lxb_html_html_element_interface_destroy(lxb_html_html_element_t *html_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(html_element));
    return NULL;
}

lxb_html_iframe_element_t *
lxb_html_iframe_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_iframe_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_iframe_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_iframe_element_t *
lxb_html_iframe_element_interface_destroy(lxb_html_iframe_element_t *iframe_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(iframe_element));
    return NULL;
}

lxb_html_image_element_t *
lxb_html_image_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_image_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_image_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_image_element_t *
lxb_html_image_element_interface_destroy(lxb_html_image_element_t *image_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(image_element));
    return NULL;
}

lxb_html_input_element_t *
lxb_html_input_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_input_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_input_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_input_element_t *
lxb_html_input_element_interface_destroy(lxb_html_input_element_t *input_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(input_element));
    return NULL;
}

lxb_html_label_element_t *
lxb_html_label_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_label_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_label_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_label_element_t *
lxb_html_label_element_interface_destroy(lxb_html_label_element_t *label_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(label_element));
    return NULL;
}

lxb_html_legend_element_t *
lxb_html_legend_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_legend_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_legend_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_legend_element_t *
lxb_html_legend_element_interface_destroy(lxb_html_legend_element_t *legend_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(legend_element));
    return NULL;
}

lxb_html_li_element_t *
lxb_html_li_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_li_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_li_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_li_element_t *
lxb_html_li_element_interface_destroy(lxb_html_li_element_t *li_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(li_element));
    return NULL;
}

lxb_html_link_element_t *
lxb_html_link_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_link_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_link_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_link_element_t *
lxb_html_link_element_interface_destroy(lxb_html_link_element_t *link_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(link_element));
    return NULL;
}

lxb_html_map_element_t *
lxb_html_map_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_map_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_map_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_map_element_t *
lxb_html_map_element_interface_destroy(lxb_html_map_element_t *map_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(map_element));
    return NULL;
}

lxb_html_marquee_element_t *
lxb_html_marquee_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_marquee_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_marquee_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_marquee_element_t *
lxb_html_marquee_element_interface_destroy(lxb_html_marquee_element_t *marquee_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(marquee_element));
    return NULL;
}

lxb_html_media_element_t *
lxb_html_media_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_media_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_media_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_media_element_t *
lxb_html_media_element_interface_destroy(lxb_html_media_element_t *media_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(media_element));
    return NULL;
}

lxb_html_menu_element_t *
lxb_html_menu_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_menu_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_menu_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_menu_element_t *
lxb_html_menu_element_interface_destroy(lxb_html_menu_element_t *menu_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(menu_element));
    return NULL;
}

lxb_html_meta_element_t *
lxb_html_meta_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_meta_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_meta_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_meta_element_t *
lxb_html_meta_element_interface_destroy(lxb_html_meta_element_t *meta_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(meta_element));
    return NULL;
}

lxb_html_meter_element_t *
lxb_html_meter_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_meter_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_meter_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_meter_element_t *
lxb_html_meter_element_interface_destroy(lxb_html_meter_element_t *meter_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(meter_element));
    return NULL;
}

lxb_html_mod_element_t *
lxb_html_mod_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_mod_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_mod_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_mod_element_t *
lxb_html_mod_element_interface_destroy(lxb_html_mod_element_t *mod_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(mod_element));
    return NULL;
}

lxb_html_o_list_element_t *
lxb_html_o_list_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_o_list_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_o_list_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_o_list_element_t *
lxb_html_o_list_element_interface_destroy(lxb_html_o_list_element_t *o_list_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(o_list_element));
    return NULL;
}

lxb_html_object_element_t *
lxb_html_object_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_object_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_object_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_object_element_t *
lxb_html_object_element_interface_destroy(lxb_html_object_element_t *object_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(object_element));
    return NULL;
}

lxb_html_opt_group_element_t *
lxb_html_opt_group_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_opt_group_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_opt_group_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_opt_group_element_t *
lxb_html_opt_group_element_interface_destroy(lxb_html_opt_group_element_t *opt_group_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(opt_group_element));
    return NULL;
}

lxb_html_option_element_t *
lxb_html_option_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_option_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_option_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_option_element_t *
lxb_html_option_element_interface_destroy(lxb_html_option_element_t *option_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(option_element));
    return NULL;
}

lxb_dom_exception_code_t
lxb_html_option_maybe_clone_to_selectedcontent(lxb_html_option_element_t *option)
{
    bool is;
    lxb_dom_node_t *select;
    lxb_html_select_element_t *select_el;
    lxb_html_selectedcontent_element_t *sel_content;

    is = lxb_html_option_element_selectedness(lxb_html_interface_option(option));
    if (!is) {
        return LXB_DOM_EXCEPTION_OK;
    }

    select = lxb_dom_interface_node(option);

    do {
        select = select->parent;

        if (select == NULL) {
            return LXB_DOM_EXCEPTION_OK;
        }
    }
    while (select->local_name != LXB_TAG_SELECT || select->ns != LXB_NS_HTML);

    select_el = lxb_html_interface_select(select);

    sel_content = lxb_html_select_get_enabled_selectedcontent(select_el);
    if (sel_content == NULL) {
        return LXB_DOM_EXCEPTION_OK;
    }

    return lxb_html_selectedcontent_clone_option(sel_content, option);
}

bool
lxb_html_option_element_selectedness(lxb_html_option_element_t *option)
{
    lxb_dom_attr_t *selected;

    selected = lxb_dom_element_attr_by_id(lxb_dom_interface_element(option),
                                          LXB_DOM_ATTR_SELECTED);

    return selected != NULL;
}

lxb_html_output_element_t *
lxb_html_output_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_output_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_output_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_output_element_t *
lxb_html_output_element_interface_destroy(lxb_html_output_element_t *output_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(output_element));
    return NULL;
}

lxb_html_paragraph_element_t *
lxb_html_paragraph_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_paragraph_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_paragraph_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_paragraph_element_t *
lxb_html_paragraph_element_interface_destroy(lxb_html_paragraph_element_t *paragraph_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(paragraph_element));
    return NULL;
}

lxb_html_param_element_t *
lxb_html_param_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_param_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_param_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_param_element_t *
lxb_html_param_element_interface_destroy(lxb_html_param_element_t *param_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(param_element));
    return NULL;
}

lxb_html_picture_element_t *
lxb_html_picture_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_picture_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_picture_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_picture_element_t *
lxb_html_picture_element_interface_destroy(lxb_html_picture_element_t *picture_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(picture_element));
    return NULL;
}

lxb_html_pre_element_t *
lxb_html_pre_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_pre_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_pre_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_pre_element_t *
lxb_html_pre_element_interface_destroy(lxb_html_pre_element_t *pre_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(pre_element));
    return NULL;
}

lxb_html_progress_element_t *
lxb_html_progress_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_progress_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_progress_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_progress_element_t *
lxb_html_progress_element_interface_destroy(lxb_html_progress_element_t *progress_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(progress_element));
    return NULL;
}

lxb_html_quote_element_t *
lxb_html_quote_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_quote_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_quote_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_quote_element_t *
lxb_html_quote_element_interface_destroy(lxb_html_quote_element_t *quote_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(quote_element));
    return NULL;
}

lxb_html_script_element_t *
lxb_html_script_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_script_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_script_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_script_element_t *
lxb_html_script_element_interface_destroy(lxb_html_script_element_t *script_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(script_element));
    return NULL;
}

lxb_html_search_element_t *
lxb_html_search_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_search_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_search_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_search_element_t *
lxb_html_search_element_interface_destroy(lxb_html_search_element_t *search_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(search_element));
    return NULL;
}

static lexbor_action_t
lxb_html_select_find_selectedcontent_cb(lxb_dom_node_t *node, void *ctx);


lxb_html_select_element_t *
lxb_html_select_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_select_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_select_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_select_element_t *
lxb_html_select_element_interface_destroy(lxb_html_select_element_t *select_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(select_element));
    return NULL;
}

lxb_html_selectedcontent_element_t *
lxb_html_select_get_enabled_selectedcontent(lxb_html_select_element_t *el)
{
    lxb_dom_attr_t *multiple;
    lxb_dom_node_t *selectedcontent, *node;

    multiple = lxb_dom_element_attr_by_id(lxb_dom_interface_element(el),
                                          LXB_DOM_ATTR_MULTIPLE);
    if (multiple != NULL) {
        return NULL;
    }

    selectedcontent = NULL;
    node = lxb_dom_interface_node(el);

    lxb_dom_node_simple_walk(node, lxb_html_select_find_selectedcontent_cb,
                             &selectedcontent);
    if (selectedcontent == NULL) {
        return NULL;
    }

    return lxb_html_interface_selectedcontent(selectedcontent);
}

static lexbor_action_t
lxb_html_select_find_selectedcontent_cb(lxb_dom_node_t *node, void *ctx)
{
    lxb_dom_node_t **selectedcontent;

    if (node->local_name == LXB_TAG_SELECTEDCONTENT
        && node->ns == LXB_NS_HTML)
    {
        selectedcontent = ctx;
        *selectedcontent = node;

        return LEXBOR_ACTION_STOP;
    }

    return LEXBOR_ACTION_OK;
}

lxb_html_selectedcontent_element_t *
lxb_html_selectedcontent_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_selectedcontent_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_selectedcontent_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_selectedcontent_element_t *
lxb_html_selectedcontent_element_interface_destroy(lxb_html_selectedcontent_element_t *selectedcontent_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(selectedcontent_element));
    return NULL;
}

lxb_dom_exception_code_t
lxb_html_selectedcontent_clone_option(lxb_html_selectedcontent_element_t *sc,
                                      lxb_html_option_element_t *option)
{
    lxb_dom_node_t *node, *child, *opt_node;
    lxb_dom_document_fragment_t fragment;

    memset(&fragment, 0x00, sizeof(lxb_dom_document_fragment_t));

    opt_node = lxb_dom_interface_node(option);

    fragment.node.type = LXB_DOM_NODE_TYPE_DOCUMENT_FRAGMENT;
    fragment.node.owner_document = opt_node->owner_document;

    node = opt_node->first_child;

    while (node != NULL) {
        child = lxb_dom_node_clone(node, true);
        if (child == NULL) {
            return LXB_DOM_EXCEPTION_ERR;
        }

        lxb_dom_node_insert_child_wo_events(lxb_dom_interface_node(&fragment),
                                            child);
        node = node->next;
    }

    return lxb_dom_node_replace_all_spec(lxb_dom_interface_node(sc),
                                         lxb_dom_interface_node(&fragment));
}

lxb_html_slot_element_t *
lxb_html_slot_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_slot_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_slot_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_slot_element_t *
lxb_html_slot_element_interface_destroy(lxb_html_slot_element_t *slot_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(slot_element));
    return NULL;
}

lxb_html_source_element_t *
lxb_html_source_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_source_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_source_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_source_element_t *
lxb_html_source_element_interface_destroy(lxb_html_source_element_t *source_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(source_element));
    return NULL;
}

lxb_html_span_element_t *
lxb_html_span_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_span_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_span_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_span_element_t *
lxb_html_span_element_interface_destroy(lxb_html_span_element_t *span_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(span_element));
    return NULL;
}

lxb_html_style_element_t *
lxb_html_style_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_style_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_style_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_style_element_t *
lxb_html_style_element_interface_destroy(lxb_html_style_element_t *style_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(style_element));

    return NULL;
}

lxb_html_table_caption_element_t *
lxb_html_table_caption_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_table_caption_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_table_caption_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_table_caption_element_t *
lxb_html_table_caption_element_interface_destroy(lxb_html_table_caption_element_t *table_caption_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(table_caption_element));
    return NULL;
}

lxb_html_table_cell_element_t *
lxb_html_table_cell_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_table_cell_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_table_cell_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_table_cell_element_t *
lxb_html_table_cell_element_interface_destroy(lxb_html_table_cell_element_t *table_cell_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(table_cell_element));
    return NULL;
}

lxb_html_table_col_element_t *
lxb_html_table_col_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_table_col_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_table_col_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_table_col_element_t *
lxb_html_table_col_element_interface_destroy(lxb_html_table_col_element_t *table_col_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(table_col_element));
    return NULL;
}

lxb_html_table_element_t *
lxb_html_table_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_table_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_table_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_table_element_t *
lxb_html_table_element_interface_destroy(lxb_html_table_element_t *table_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(table_element));
    return NULL;
}

lxb_html_table_row_element_t *
lxb_html_table_row_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_table_row_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_table_row_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_table_row_element_t *
lxb_html_table_row_element_interface_destroy(lxb_html_table_row_element_t *table_row_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(table_row_element));
    return NULL;
}

lxb_html_table_section_element_t *
lxb_html_table_section_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_table_section_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_table_section_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_table_section_element_t *
lxb_html_table_section_element_interface_destroy(lxb_html_table_section_element_t *table_section_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(table_section_element));
    return NULL;
}

lxb_html_template_element_t *
lxb_html_template_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_template_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_template_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    element->content = lxb_dom_document_fragment_interface_create(node->owner_document);
    if (element->content == NULL) {
        return lxb_html_template_element_interface_destroy(element);
    }

    element->content->node.ns = LXB_NS_HTML;
    element->content->host = lxb_dom_interface_element(element);

    return element;
}

lxb_html_template_element_t *
lxb_html_template_element_interface_destroy(lxb_html_template_element_t *template_element)
{
    (void) lxb_dom_document_fragment_interface_destroy(template_element->content);
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(template_element));

    return NULL;
}

lxb_html_text_area_element_t *
lxb_html_text_area_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_text_area_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_text_area_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_text_area_element_t *
lxb_html_text_area_element_interface_destroy(lxb_html_text_area_element_t *text_area_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(text_area_element));
    return NULL;
}

lxb_html_time_element_t *
lxb_html_time_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_time_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_time_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_time_element_t *
lxb_html_time_element_interface_destroy(lxb_html_time_element_t *time_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(time_element));
    return NULL;
}

lxb_html_title_element_t *
lxb_html_title_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_title_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_title_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_title_element_t *
lxb_html_title_element_interface_destroy(lxb_html_title_element_t *title)
{
    lexbor_str_t *text;
    lxb_dom_document_t *doc = lxb_dom_interface_node(title)->owner_document;

    text = title->strict_text;

    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(title));

    if (text != NULL) {
        lexbor_str_destroy(text, doc->text, false);
        lxb_dom_document_destroy_struct(doc, text);
    }

    return NULL;
}

const lxb_char_t *
lxb_html_title_element_text(lxb_html_title_element_t *title, size_t *len)
{
    if (lxb_dom_interface_node(title)->first_child == NULL) {
        goto failed;
    }

    if (lxb_dom_interface_node(title)->first_child->type != LXB_DOM_NODE_TYPE_TEXT) {
        goto failed;
    }

    lxb_dom_text_t *text;

    text = lxb_dom_interface_text(lxb_dom_interface_node(title)->first_child);

    if (len != NULL) {
        *len = text->char_data.data.length;
    }

    return text->char_data.data.data;

failed:

    if (len != NULL) {
        *len = 0;
    }

    return NULL;
}

const lxb_char_t *
lxb_html_title_element_strict_text(lxb_html_title_element_t *title, size_t *len)
{
    const lxb_char_t *text;
    size_t text_len;

    lxb_dom_document_t *doc = lxb_dom_interface_node(title)->owner_document;

    text = lxb_html_title_element_text(title, &text_len);
    if (text == NULL) {
        goto failed;
    }

    if (title->strict_text != NULL) {
        if (title->strict_text->length < text_len) {
            const lxb_char_t *data;

            data = lexbor_str_realloc(title->strict_text,
                                      doc->text, (text_len + 1));
            if (data == NULL) {
                goto failed;
            }
        }
    }
    else {
        title->strict_text = lxb_dom_document_create_struct(doc,
                                                            sizeof(lexbor_str_t));
        if (title->strict_text == NULL) {
            goto failed;
        }

        lexbor_str_init(title->strict_text, doc->text, text_len);
        if (title->strict_text->data == NULL) {
            title->strict_text = lxb_dom_document_destroy_struct(doc,
                                                                 title->strict_text);
            goto failed;
        }
    }

    memcpy(title->strict_text->data, text, sizeof(lxb_char_t) * text_len);

    title->strict_text->data[text_len] = 0x00;
    title->strict_text->length = text_len;

    lexbor_str_strip_collapse_whitespace(title->strict_text);

    if (len != NULL) {
        *len = title->strict_text->length;
    }

    return title->strict_text->data;

failed:

    if (len != NULL) {
        *len = 0;
    }

    return NULL;
}

lxb_html_track_element_t *
lxb_html_track_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_track_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_track_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_track_element_t *
lxb_html_track_element_interface_destroy(lxb_html_track_element_t *track_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(track_element));
    return NULL;
}

lxb_html_u_list_element_t *
lxb_html_u_list_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_u_list_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_u_list_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_u_list_element_t *
lxb_html_u_list_element_interface_destroy(lxb_html_u_list_element_t *u_list_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(u_list_element));
    return NULL;
}

lxb_html_unknown_element_t *
lxb_html_unknown_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_unknown_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_unknown_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_unknown_element_t *
lxb_html_unknown_element_interface_destroy(lxb_html_unknown_element_t *unknown_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(unknown_element));
    return NULL;
}

lxb_html_video_element_t *
lxb_html_video_element_interface_create(lxb_html_document_t *document)
{
    lxb_html_video_element_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_video_element_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_video_element_t *
lxb_html_video_element_interface_destroy(lxb_html_video_element_t *video_element)
{
    (void) lxb_dom_node_interface_destroy(lxb_dom_interface_node(video_element));
    return NULL;
}

lxb_html_window_t *
lxb_html_window_create(lxb_html_document_t *document)
{
    lxb_html_window_t *element;

    element = lexbor_mraw_calloc(document->dom_document.mraw,
                                 sizeof(lxb_html_window_t));
    if (element == NULL) {
        return NULL;
    }

    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    node->owner_document = lxb_html_document_original_ref(document);
    node->type = LXB_DOM_NODE_TYPE_ELEMENT;

    return element;
}

lxb_html_window_t *
lxb_html_window_destroy(lxb_html_window_t *window)
{
    return lexbor_mraw_free(
        lxb_dom_interface_node(window)->owner_document->mraw,
        window);
}

bool
lxb_html_node_is_void_noi(lxb_dom_node_t *node)
{
    return lxb_html_node_is_void(node);
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN lxb_html_tag_category_t lxb_html_tag_res_cats[LXB_TAG__LAST_ENTRY][LXB_NS__LAST_ENTRY];
    LXB_EXTERN lxb_html_tag_fixname_t lxb_html_tag_res_fixname_svg[LXB_TAG__LAST_ENTRY];
#endif


static void
lxb_html_parse_fragment_chunk_destroy(lxb_html_parser_t *parser);


lxb_html_parser_t *
lxb_html_parser_create(void)
{
    return lexbor_calloc(1, sizeof(lxb_html_parser_t));
}

lxb_status_t
lxb_html_parser_init(lxb_html_parser_t *parser)
{
    if (parser == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    /* Tokenizer */
    parser->tkz = lxb_html_tokenizer_create();
    lxb_status_t status = lxb_html_tokenizer_init(parser->tkz);

    if (status != LXB_STATUS_OK) {
        return status;
    }

    /* Tree */
    parser->tree = lxb_html_tree_create();
    status = lxb_html_tree_init(parser->tree, parser->tkz);

    if (status != LXB_STATUS_OK) {
        return status;
    }

    parser->original_tree = NULL;
    parser->form = NULL;
    parser->root = NULL;

    parser->state = LXB_HTML_PARSER_STATE_BEGIN;

    parser->ref_count = 1;

    return LXB_STATUS_OK;
}

void
lxb_html_parser_clean(lxb_html_parser_t *parser)
{
    parser->original_tree = NULL;
    parser->form = NULL;
    parser->root = NULL;

    parser->state = LXB_HTML_PARSER_STATE_BEGIN;

    lxb_html_tokenizer_clean(parser->tkz);
    lxb_html_tree_clean(parser->tree);
}

lxb_html_parser_t *
lxb_html_parser_destroy(lxb_html_parser_t *parser)
{
    if (parser == NULL) {
        return NULL;
    }

    parser->tkz = lxb_html_tokenizer_unref(parser->tkz);
    parser->tree = lxb_html_tree_unref(parser->tree);

    return lexbor_free(parser);
}

lxb_html_parser_t *
lxb_html_parser_ref(lxb_html_parser_t *parser)
{
    if (parser == NULL) {
        return NULL;
    }

    parser->ref_count++;

    return parser;
}

lxb_html_parser_t *
lxb_html_parser_unref(lxb_html_parser_t *parser)
{
    if (parser == NULL || parser->ref_count == 0) {
        return NULL;
    }

    parser->ref_count--;

    if (parser->ref_count == 0) {
        lxb_html_parser_destroy(parser);
    }

    return NULL;
}


lxb_html_document_t *
lxb_html_parse(lxb_html_parser_t *parser, const lxb_char_t *html, size_t size)
{
    lxb_html_document_t *document = lxb_html_parse_chunk_begin(parser);
    if (document == NULL) {
        return NULL;
    }

    lxb_html_parse_chunk_process(parser, html, size);
    if (parser->status != LXB_STATUS_OK) {
        goto failed;
    }

    lxb_html_parse_chunk_end(parser);
    if (parser->status != LXB_STATUS_OK) {
        goto failed;
    }

    return document;

failed:

    lxb_html_document_interface_destroy(document);

    return NULL;
}

lxb_dom_node_t *
lxb_html_parse_fragment(lxb_html_parser_t *parser, lxb_html_element_t *element,
                        const lxb_char_t *html, size_t size)
{
    return lxb_html_parse_fragment_by_tag_id(parser,
                                             parser->tree->document,
                                             element->element.node.local_name,
                                             element->element.node.ns,
                                             html, size);
}

lxb_dom_node_t *
lxb_html_parse_fragment_by_tag_id(lxb_html_parser_t *parser,
                                  lxb_html_document_t *document,
                                  lxb_tag_id_t tag_id, lxb_ns_id_t ns,
                                  const lxb_char_t *html, size_t size)
{
    lxb_html_parse_fragment_chunk_begin(parser, document, tag_id, ns);
    if (parser->status != LXB_STATUS_OK) {
        return NULL;
    }

    lxb_html_parse_fragment_chunk_process(parser, html, size);
    if (parser->status != LXB_STATUS_OK) {
        return NULL;
    }

    return lxb_html_parse_fragment_chunk_end(parser);
}

lxb_status_t
lxb_html_parse_fragment_chunk_begin(lxb_html_parser_t *parser,
                                    lxb_html_document_t *document,
                                    lxb_tag_id_t tag_id, lxb_ns_id_t ns)
{
    lxb_dom_document_t *doc;
    lxb_html_document_t *new_doc;

    if (parser->state != LXB_HTML_PARSER_STATE_BEGIN) {
        lxb_html_parser_clean(parser);
    }

    parser->state = LXB_HTML_PARSER_STATE_FRAGMENT_PROCESS;

    new_doc = lxb_html_document_interface_create(document);
    if (new_doc == NULL) {
        parser->state = LXB_HTML_PARSER_STATE_ERROR;
        return parser->status;
    }

    doc = lxb_dom_interface_document(new_doc);

    if (document == NULL) {
        doc->scripting = parser->tree->scripting;
        doc->compat_mode = LXB_DOM_DOCUMENT_CMODE_NO_QUIRKS;
    }

    lxb_html_tokenizer_set_state_by_tag(parser->tkz, doc->scripting, tag_id, ns);
    lxb_html_tokenizer_tmp_tag_id_set(parser->tkz, LXB_TAG__UNDEF);

    parser->root = lxb_html_interface_create(new_doc, LXB_TAG_HTML, LXB_NS_HTML);
    if (parser->root == NULL) {
        parser->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        goto done;
    }

    lxb_dom_node_insert_child_wo_events(lxb_dom_interface_node(new_doc),
                                        parser->root);
    lxb_dom_document_attach_element(doc, lxb_dom_interface_element(parser->root));

    parser->tree->fragment = lxb_html_interface_create(new_doc, tag_id, ns);
    if (parser->tree->fragment == NULL) {
        parser->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        goto done;
    }

    /* Contains just the single element root */
    parser->status = lxb_html_tree_open_elements_push(parser->tree, parser->root);
    if (parser->status != LXB_STATUS_OK) {
        goto done;
    }

    if (tag_id == LXB_TAG_TEMPLATE && ns == LXB_NS_HTML) {
        parser->status = lxb_html_tree_template_insertion_push(parser->tree,
                                      lxb_html_tree_insertion_mode_in_template);
        if (parser->status != LXB_STATUS_OK) {
            goto done;
        }
    }

    lxb_html_tree_attach_document(parser->tree, new_doc);
    lxb_html_tree_reset_insertion_mode_appropriately(parser->tree);

    if (tag_id == LXB_TAG_FORM && ns == LXB_NS_HTML) {
        parser->form = lxb_html_interface_create(new_doc,
                                                 LXB_TAG_FORM, LXB_NS_HTML);
        if (parser->form == NULL) {
            parser->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

            goto done;
        }

        parser->tree->form = lxb_html_interface_form(parser->form);
    }

    parser->original_tree = lxb_html_tokenizer_tree(parser->tkz);
    lxb_html_tokenizer_tree_set(parser->tkz, parser->tree);

    lxb_html_tokenizer_tags_set(parser->tkz, doc->tags);
    lxb_html_tokenizer_attrs_set(parser->tkz, doc->attrs);
    lxb_html_tokenizer_attrs_mraw_set(parser->tkz, doc->text);

    parser->status = lxb_html_tree_begin(parser->tree, new_doc);

done:

    if (parser->status != LXB_STATUS_OK) {
        if (parser->root != NULL) {
            lxb_html_html_element_interface_destroy(lxb_html_interface_html(parser->root));
        }

        parser->state = LXB_HTML_PARSER_STATE_ERROR;
        parser->root = NULL;

        lxb_html_parse_fragment_chunk_destroy(parser);
    }

    return parser->status;
}

lxb_status_t
lxb_html_parse_fragment_chunk_process(lxb_html_parser_t *parser,
                                      const lxb_char_t *html, size_t size)
{
    if (parser->state != LXB_HTML_PARSER_STATE_FRAGMENT_PROCESS) {
        return LXB_STATUS_ERROR_WRONG_STAGE;
    }

    parser->status = lxb_html_tree_chunk(parser->tree, html, size);
    if (parser->status != LXB_STATUS_OK) {
        lxb_html_html_element_interface_destroy(lxb_html_interface_html(parser->root));

        parser->state = LXB_HTML_PARSER_STATE_ERROR;
        parser->root = NULL;

        lxb_html_parse_fragment_chunk_destroy(parser);
    }

    return parser->status;
}

lxb_dom_node_t *
lxb_html_parse_fragment_chunk_end(lxb_html_parser_t *parser)
{
    if (parser->state != LXB_HTML_PARSER_STATE_FRAGMENT_PROCESS) {
        parser->status = LXB_STATUS_ERROR_WRONG_STAGE;

        return NULL;
    }

    parser->status = lxb_html_tree_end(parser->tree);
    if (parser->status != LXB_STATUS_OK) {
        lxb_html_html_element_interface_destroy(lxb_html_interface_html(parser->root));

        parser->root = NULL;
    }

    lxb_html_parse_fragment_chunk_destroy(parser);

    lxb_html_tokenizer_tree_set(parser->tkz, parser->original_tree);

    parser->state = LXB_HTML_PARSER_STATE_END;

    return parser->root;
}

static void
lxb_html_parse_fragment_chunk_destroy(lxb_html_parser_t *parser)
{
    lxb_dom_document_t *doc;

    if (parser->form != NULL) {
        lxb_html_form_element_interface_destroy(lxb_html_interface_form(parser->form));

        parser->form = NULL;
    }

    if (parser->tree->fragment != NULL) {
        lxb_html_interface_destroy(parser->tree->fragment);

        parser->tree->fragment = NULL;
    }

    if (parser->tree->document != NULL
        && lxb_html_document_is_original(parser->tree->document) == false)
    {
        if (parser->root != NULL) {
            doc = lxb_dom_interface_node(parser->tree->document)->owner_document;
            parser->root->parent = &doc->node;
        }

        lxb_html_document_interface_destroy(parser->tree->document);

        parser->tree->document = NULL;
    }
}

LXB_API lxb_status_t
lxb_html_parse_chunk_prepare(lxb_html_parser_t *parser,
                             lxb_html_document_t *document)
{
    parser->state = LXB_HTML_PARSER_STATE_PROCESS;

    parser->original_tree = lxb_html_tokenizer_tree(parser->tkz);
    lxb_html_tokenizer_tree_set(parser->tkz, parser->tree);

    lxb_html_tokenizer_tags_set(parser->tkz, document->dom_document.tags);
    lxb_html_tokenizer_attrs_set(parser->tkz, document->dom_document.attrs);
    lxb_html_tokenizer_attrs_mraw_set(parser->tkz, document->dom_document.text);

    parser->status = lxb_html_tree_begin(parser->tree, document);
    if (parser->status != LXB_STATUS_OK) {
        parser->state = LXB_HTML_PARSER_STATE_ERROR;
    }

    return parser->status;
}

lxb_html_document_t *
lxb_html_parse_chunk_begin(lxb_html_parser_t *parser)
{
    lxb_html_document_t *document;

    if (parser->state != LXB_HTML_PARSER_STATE_BEGIN) {
        lxb_html_parser_clean(parser);
    }

    document = lxb_html_document_interface_create(NULL);
    if (document == NULL) {
        parser->state = LXB_HTML_PARSER_STATE_ERROR;
        parser->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_document_destroy(document);
    }

    document->dom_document.scripting = parser->tree->scripting;

    parser->status = lxb_html_parse_chunk_prepare(parser, document);
    if (parser->status != LXB_STATUS_OK) {
        return lxb_html_document_destroy(document);
    }

    return document;
}

lxb_status_t
lxb_html_parse_chunk_process(lxb_html_parser_t *parser,
                             const lxb_char_t *html, size_t size)
{
    if (parser->state != LXB_HTML_PARSER_STATE_PROCESS) {
        return LXB_STATUS_ERROR_WRONG_STAGE;
    }

    parser->status = lxb_html_tree_chunk(parser->tree, html, size);
    if (parser->status != LXB_STATUS_OK) {
        parser->state = LXB_HTML_PARSER_STATE_ERROR;
    }

    return parser->status;
}

lxb_status_t
lxb_html_parse_chunk_end(lxb_html_parser_t *parser)
{
    if (parser->state != LXB_HTML_PARSER_STATE_PROCESS) {
        return LXB_STATUS_ERROR_WRONG_STAGE;
    }

    parser->status = lxb_html_tree_end(parser->tree);

    lxb_html_tokenizer_tree_set(parser->tkz, parser->original_tree);

    parser->state = LXB_HTML_PARSER_STATE_END;

    return parser->status;
}

/*
 * No inline functions for ABI.
 */
lxb_html_tokenizer_t *
lxb_html_parser_tokenizer_noi(lxb_html_parser_t *parser)
{
    return lxb_html_parser_tokenizer(parser);
}

lxb_html_tree_t *
lxb_html_parser_tree_noi(lxb_html_parser_t *parser)
{
    return lxb_html_parser_tree(parser);
}

lxb_status_t
lxb_html_parser_status_noi(lxb_html_parser_t *parser)
{
    return lxb_html_parser_status(parser);
}

lxb_status_t
lxb_html_parser_state_noi(lxb_html_parser_t *parser)
{
    return lxb_html_parser_state(parser);
}

bool
lxb_html_parser_scripting_noi(lxb_html_parser_t *parser)
{
    return lxb_html_parser_scripting(parser);
}

void
lxb_html_parser_scripting_set_noi(lxb_html_parser_t *parser, bool scripting)
{
    lxb_html_parser_scripting_set(parser, scripting);
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const unsigned char lexbor_tokenizer_chars_map[256];
#endif

#define lxb_html_serialize_send(data, len, ctx)                                \
    do {                                                                       \
        status = cb((const lxb_char_t *) data, len, ctx);                      \
        if (status != LXB_STATUS_OK) {                                         \
            return status;                                                     \
        }                                                                      \
    }                                                                          \
    while (0)

#define lxb_html_serialize_send_indent(count, ctx)                             \
    do {                                                                       \
        for (size_t i = 0; i < count; i++) {                                   \
            lxb_html_serialize_send("  ", 2, ctx);                             \
        }                                                                      \
    }                                                                          \
    while (0)


typedef struct {
    lexbor_str_t  *str;
    lexbor_mraw_t *mraw;
}
lxb_html_serialize_ctx_t;


static lxb_status_t
lxb_html_serialize_str_callback(const lxb_char_t *data, size_t len, void *ctx);

static lxb_status_t
lxb_html_serialize_node_cb(lxb_dom_node_t *node,
                           lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_element_cb(lxb_dom_element_t *element,
                              lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_element_closed_cb(lxb_dom_element_t *element,
                                     lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_text_cb(lxb_dom_text_t *text,
                           lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_comment_cb(lxb_dom_comment_t *comment,
                              lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_processing_instruction_cb(lxb_dom_processing_instruction_t *pi,
                                             lxb_html_serialize_cb_f cb,
                                             void *ctx);

static lxb_status_t
lxb_html_serialize_document_type_cb(lxb_dom_document_type_t *doctype,
                                    lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_document_type_full_cb(lxb_dom_document_type_t *doctype,
                                         lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_document_cb(lxb_dom_document_t *document,
                               lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_send_escaping_attribute_string(const lxb_char_t *data,
                                                  size_t len,
                                                  lxb_html_serialize_cb_f cb,
                                                  void *ctx);

static lxb_status_t
lxb_html_serialize_send_escaping_string(const lxb_char_t *data, size_t len,
                                        lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_attribute_cb(lxb_dom_attr_t *attr, bool has_raw,
                                lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_pretty_node_cb(lxb_dom_node_t *node,
                                  lxb_html_serialize_opt_t opt, size_t deep,
                                  lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_pretty_element_cb(lxb_dom_element_t *element,
                                     lxb_html_serialize_opt_t opt, size_t indent,
                                     lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_pretty_text_cb(lxb_dom_text_t *text,
                                  lxb_html_serialize_opt_t opt, size_t indent,
                                  lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_pretty_comment_cb(lxb_dom_comment_t *comment,
                                     size_t indent, bool with_indent,
                                     lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_pretty_document_cb(lxb_dom_document_t *document,
                                      lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_pretty_send_escaping_string(const lxb_char_t *data, size_t len,
                                               size_t indent, bool with_indent,
                                               lxb_html_serialize_cb_f cb, void *ctx);

static lxb_status_t
lxb_html_serialize_pretty_send_string(const lxb_char_t *data, size_t len,
                                      size_t indent, bool with_indent,
                                      lxb_html_serialize_cb_f cb, void *ctx);


lxb_status_t
lxb_html_serialize_cb(lxb_dom_node_t *node,
                      lxb_html_serialize_cb_f cb, void *ctx)
{
    switch (node->type) {
        case LXB_DOM_NODE_TYPE_ELEMENT:
            return lxb_html_serialize_element_cb(lxb_dom_interface_element(node),
                                                 cb, ctx);

        case LXB_DOM_NODE_TYPE_TEXT:
            return lxb_html_serialize_text_cb(lxb_dom_interface_text(node),
                                              cb, ctx);

        case LXB_DOM_NODE_TYPE_COMMENT:
            return lxb_html_serialize_comment_cb(lxb_dom_interface_comment(node),
                                                 cb, ctx);

        case LXB_DOM_NODE_TYPE_PROCESSING_INSTRUCTION:
            return lxb_html_serialize_processing_instruction_cb(lxb_dom_interface_processing_instruction(node),
                                                                cb, ctx);

        case LXB_DOM_NODE_TYPE_DOCUMENT_TYPE:
            return lxb_html_serialize_document_type_cb(lxb_dom_interface_document_type(node),
                                                       cb, ctx);

        case LXB_DOM_NODE_TYPE_DOCUMENT:
            return lxb_html_serialize_document_cb(lxb_dom_interface_document(node),
                                                  cb, ctx);

        default:
            break;
    }

    return LXB_STATUS_ERROR;
}

lxb_status_t
lxb_html_serialize_str(lxb_dom_node_t *node, lexbor_str_t *str)
{
    lxb_html_serialize_ctx_t ctx;

    if (str->data == NULL) {
        lexbor_str_init(str, node->owner_document->text, 1024);

        if (str->data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    ctx.str = str;
    ctx.mraw = node->owner_document->text;

    return lxb_html_serialize_cb(node, lxb_html_serialize_str_callback, &ctx);
}

static lxb_status_t
lxb_html_serialize_str_callback(const lxb_char_t *data, size_t len, void *ctx)
{
    lxb_char_t *ret;
    lxb_html_serialize_ctx_t *s_ctx = ctx;

    ret = lexbor_str_append(s_ctx->str, s_ctx->mraw, data, len);
    if (ret == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_serialize_deep_cb(lxb_dom_node_t *node,
                           lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    node = node->first_child;

    while (node != NULL) {
        status = lxb_html_serialize_node_cb(node, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        node = node->next;
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_serialize_deep_str(lxb_dom_node_t *node, lexbor_str_t *str)
{
    lxb_html_serialize_ctx_t ctx;

    if (str->data == NULL) {
        lexbor_str_init(str, node->owner_document->text, 1024);

        if (str->data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    ctx.str = str;
    ctx.mraw = node->owner_document->text;

    return lxb_html_serialize_deep_cb(node,
                                      lxb_html_serialize_str_callback, &ctx);
}

static lxb_status_t
lxb_html_serialize_node_cb(lxb_dom_node_t *node,
                           lxb_html_serialize_cb_f cb, void *ctx)
{
    bool skip_it;
    lxb_status_t status;
    lxb_dom_node_t *root = node;

    while (node != NULL) {
        status = lxb_html_serialize_cb(node, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        if (lxb_html_tree_node_is(node, LXB_TAG_TEMPLATE)) {
            lxb_html_template_element_t *temp;

            temp = lxb_html_interface_template(node);

            if (temp->content != NULL) {
                if (temp->content->node.first_child != NULL)
                {
                    status = lxb_html_serialize_deep_cb(&temp->content->node,
                                                        cb, ctx);
                    if (status != LXB_STATUS_OK) {
                        return status;
                    }
                }
            }
        }

        skip_it = lxb_html_node_is_void(node);

        if (skip_it == false && node->first_child != NULL) {
            node = node->first_child;
        }
        else {
            while(node != root && node->next == NULL)
            {
                if (node->type == LXB_DOM_NODE_TYPE_ELEMENT
                    && lxb_html_node_is_void(node) == false)
                {
                    status = lxb_html_serialize_element_closed_cb(lxb_dom_interface_element(node),
                                                                  cb, ctx);
                    if (status != LXB_STATUS_OK) {
                        return status;
                    }
                }

                node = node->parent;
            }

            if (node->type == LXB_DOM_NODE_TYPE_ELEMENT
                && lxb_html_node_is_void(node) == false)
            {
                status = lxb_html_serialize_element_closed_cb(lxb_dom_interface_element(node),
                                                              cb, ctx);
                if (status != LXB_STATUS_OK) {
                    return status;
                }
            }

            if (node == root) {
                break;
            }

            node = node->next;
        }
    }

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_element_cb(lxb_dom_element_t *element,
                              lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_char_t *tag_name;
    size_t len = 0;

    lxb_dom_attr_t *attr;

    tag_name = lxb_dom_element_qualified_name(element, &len);
    if (tag_name == NULL) {
        return LXB_STATUS_ERROR;
    }

    lxb_html_serialize_send("<", 1, ctx);
    lxb_html_serialize_send(tag_name, len, ctx);

    if (element->is_value != NULL && element->is_value->data != NULL) {
        attr = lxb_dom_element_attr_is_exist(element,
                                             (const lxb_char_t *) "is", 2);
        if (attr == NULL) {
            lxb_html_serialize_send(" is=\"", 5, ctx);

            status = lxb_html_serialize_send_escaping_attribute_string(element->is_value->data,
                                                                       element->is_value->length,
                                                                       cb, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            lxb_html_serialize_send("\"", 1, ctx);
        }
    }

    attr = element->first_attr;

    while (attr != NULL) {
        lxb_html_serialize_send(" ", 1, ctx);

        status = lxb_html_serialize_attribute_cb(attr, false, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        attr = attr->next;
    }

    lxb_html_serialize_send(">", 1, ctx);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_element_closed_cb(lxb_dom_element_t *element,
                                     lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_char_t *tag_name;
    size_t len = 0;

    tag_name = lxb_dom_element_qualified_name(element, &len);
    if (tag_name == NULL) {
        return LXB_STATUS_ERROR;
    }

    lxb_html_serialize_send("</", 2, ctx);
    lxb_html_serialize_send(tag_name, len, ctx);
    lxb_html_serialize_send(">", 1, ctx);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_text_cb(lxb_dom_text_t *text,
                           lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    lxb_dom_node_t *node = lxb_dom_interface_node(text);
    lxb_dom_document_t *doc = node->owner_document;
    lexbor_str_t *data = &text->char_data.data;

    if (node->parent != NULL) {
        switch (node->parent->local_name) {
            case LXB_TAG_STYLE:
            case LXB_TAG_SCRIPT:
            case LXB_TAG_XMP:
            case LXB_TAG_IFRAME:
            case LXB_TAG_NOEMBED:
            case LXB_TAG_NOFRAMES:
            case LXB_TAG_PLAINTEXT:
                lxb_html_serialize_send(data->data, data->length, ctx);

                return LXB_STATUS_OK;

            case LXB_TAG_NOSCRIPT:
                if (doc->scripting) {
                    lxb_html_serialize_send(data->data, data->length, ctx);

                    return LXB_STATUS_OK;
                }

                break;

            default:
                break;
        }
    }

    return lxb_html_serialize_send_escaping_string(data->data, data->length,
                                                   cb, ctx);
}

static lxb_status_t
lxb_html_serialize_comment_cb(lxb_dom_comment_t *comment,
                              lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    lexbor_str_t *data = &comment->char_data.data;

    lxb_html_serialize_send("<!--", 4, ctx);
    lxb_html_serialize_send(data->data, data->length, ctx);
    lxb_html_serialize_send("-->", 3, ctx);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_processing_instruction_cb(lxb_dom_processing_instruction_t *pi,
                                             lxb_html_serialize_cb_f cb,
                                             void *ctx)
{
    lxb_status_t status;
    lexbor_str_t *data = &pi->char_data.data;

    lxb_html_serialize_send("<?", 2, ctx);
    lxb_html_serialize_send(pi->target.data, pi->target.length, ctx);
    lxb_html_serialize_send(" ", 1, ctx);
    lxb_html_serialize_send(data->data, data->length, ctx);
    lxb_html_serialize_send(">", 1, ctx);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_document_type_cb(lxb_dom_document_type_t *doctype,
                                    lxb_html_serialize_cb_f cb, void *ctx)
{
    size_t length;
    const lxb_char_t *name;
    lxb_status_t status;

    lxb_html_serialize_send("<!DOCTYPE", 9, ctx);
    lxb_html_serialize_send(" ", 1, ctx);

    name = lxb_dom_document_type_name(doctype, &length);

    if (length != 0) {
        lxb_html_serialize_send(name, length, ctx);
    }

    lxb_html_serialize_send(">", 1, ctx);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_document_type_full_cb(lxb_dom_document_type_t *doctype,
                                         lxb_html_serialize_cb_f cb, void *ctx)
{
    size_t length;
    const lxb_char_t *name;
    lxb_status_t status;

    lxb_html_serialize_send("<!DOCTYPE", 9, ctx);
    lxb_html_serialize_send(" ", 1, ctx);

    name = lxb_dom_document_type_name(doctype, &length);

    if (length != 0) {
        lxb_html_serialize_send(name, length, ctx);
    }

    if (doctype->public_id.data != NULL && doctype->public_id.length != 0) {
        lxb_html_serialize_send(" PUBLIC ", 8, ctx);
        lxb_html_serialize_send("\"", 1, ctx);

        lxb_html_serialize_send(doctype->public_id.data,
                                doctype->public_id.length, ctx);

        lxb_html_serialize_send("\"", 1, ctx);
    }

    if (doctype->system_id.data != NULL && doctype->system_id.length != 0) {
        if (doctype->public_id.length == 0) {
            lxb_html_serialize_send(" SYSTEM", 7, ctx);
        }

        lxb_html_serialize_send(" \"", 2, ctx);

        lxb_html_serialize_send(doctype->system_id.data,
                                doctype->system_id.length, ctx);

        lxb_html_serialize_send("\"", 1, ctx);
    }

    lxb_html_serialize_send(">", 1, ctx);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_document_cb(lxb_dom_document_t *document,
                               lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    lxb_html_serialize_send("<#document>", 11, ctx);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_send_escaping_attribute_string(const lxb_char_t *data,
                                                  size_t len,
                                                  lxb_html_serialize_cb_f cb,
                                                  void *ctx)
{
    lxb_status_t status;
    const lxb_char_t *pos = data;
    const lxb_char_t *end = data + len;

    while (data != end) {
        switch (*data) {
            /* U+0026 AMPERSAND (&) */
            case 0x26:
                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send("&amp;", 5, ctx);

                data++;
                pos = data;

                break;

            /* {0xC2, 0xA0} NO-BREAK SPACE */
            case 0xC2:
                data += 1;
                if (data == end) {
                    break;
                }

                if (*data != 0xA0) {
                    continue;
                }

                data -= 1;

                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send("&nbsp;", 6, ctx);

                data += 2;
                pos = data;

                break;

            /* U+003C LESS-THAN SIGN (<) */
            case 0x3C:
                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send("&lt;", 4, ctx);

                data++;
                pos = data;

                break;

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send("&gt;", 4, ctx);

                data++;
                pos = data;

                break;

            /* U+0022 QUOTATION MARK (") */
            case 0x22:
                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send("&quot;", 6, ctx);

                data++;
                pos = data;

                break;

            default:
                data++;

                break;
        }
    }

    if (pos != data) {
        lxb_html_serialize_send(pos, (data - pos), ctx);
    }

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_send_escaping_string(const lxb_char_t *data, size_t len,
                                        lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_char_t *pos = data;
    const lxb_char_t *end = data + len;

    while (data != end) {
        switch (*data) {
            /* U+0026 AMPERSAND (&) */
            case 0x26:
                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send("&amp;", 5, ctx);

                data++;
                pos = data;

                break;

            /* {0xC2, 0xA0} NO-BREAK SPACE */
            case 0xC2:
                data += 1;
                if (data == end) {
                    break;
                }

                if (*data != 0xA0) {
                    continue;
                }

                data -= 1;

                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send("&nbsp;", 6, ctx);

                data += 2;
                pos = data;

                break;

            /* U+003C LESS-THAN SIGN (<) */
            case 0x3C:
                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send("&lt;", 4, ctx);

                data++;
                pos = data;

                break;

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send("&gt;", 4, ctx);

                data++;
                pos = data;

                break;

            default:
                data++;

                break;
        }
    }

    if (pos != data) {
        lxb_html_serialize_send(pos, (data - pos), ctx);
    }

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_attribute_cb(lxb_dom_attr_t *attr, bool has_raw,
                                lxb_html_serialize_cb_f cb, void *ctx)
{
    size_t length;
    lxb_status_t status;
    const lxb_char_t *str;
    const lxb_dom_attr_data_t *data;

    data = lxb_dom_attr_data_by_id(attr->node.owner_document->attrs,
                                   attr->node.local_name);
    if (data == NULL) {
        return LXB_STATUS_ERROR;
    }

    if (attr->node.ns == LXB_NS__UNDEF) {
        lxb_html_serialize_send(lexbor_hash_entry_str(&data->entry),
                                data->entry.length, ctx);
        goto value;
    }

    if (attr->node.ns == LXB_NS_XML) {
        lxb_html_serialize_send((const lxb_char_t *) "xml:", 4, ctx);
        lxb_html_serialize_send(lexbor_hash_entry_str(&data->entry),
                                data->entry.length, ctx);

        goto value;
    }

    if (attr->node.ns == LXB_NS_XMLNS)
    {
        if (data->entry.length == 5
            && lexbor_str_data_cmp(lexbor_hash_entry_str(&data->entry),
                                   (const lxb_char_t *) "xmlns"))
        {
            lxb_html_serialize_send((const lxb_char_t *) "xmlns", 5, ctx);
        }
        else {
            lxb_html_serialize_send((const lxb_char_t *) "xmlns:", 6, ctx);
            lxb_html_serialize_send(lexbor_hash_entry_str(&data->entry),
                                    data->entry.length, ctx);
        }

        goto value;
    }

    if (attr->node.ns == LXB_NS_XLINK) {
        lxb_html_serialize_send((const lxb_char_t *) "xlink:", 6, ctx);
        lxb_html_serialize_send(lexbor_hash_entry_str(&data->entry),
                                data->entry.length, ctx);

        goto value;
    }

    str = lxb_dom_attr_qualified_name(attr, &length);
    if (str == NULL) {
        return LXB_STATUS_ERROR;
    }

    lxb_html_serialize_send(str, length, ctx);

value:

    if (attr->value == NULL) {
        return LXB_STATUS_OK;
    }

    lxb_html_serialize_send("=\"", 2, ctx);

    if (has_raw) {
        lxb_html_serialize_send(attr->value->data, attr->value->length, ctx);
    }
    else {
        status = lxb_html_serialize_send_escaping_attribute_string(attr->value->data,
                                                                   attr->value->length,
                                                                   cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }
    }

    lxb_html_serialize_send("\"", 1, ctx);

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_serialize_pretty_cb(lxb_dom_node_t *node,
                             lxb_html_serialize_opt_t opt, size_t indent,
                             lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    switch (node->type) {
        case LXB_DOM_NODE_TYPE_ELEMENT:
            lxb_html_serialize_send_indent(indent, ctx);

            status = lxb_html_serialize_pretty_element_cb(lxb_dom_interface_element(node),
                                                          opt, indent, cb, ctx);

            break;

        case LXB_DOM_NODE_TYPE_TEXT:
            return lxb_html_serialize_pretty_text_cb(lxb_dom_interface_text(node),
                                                     opt, indent, cb, ctx);

        case LXB_DOM_NODE_TYPE_COMMENT: {
            bool with_indent;

            if (opt & LXB_HTML_SERIALIZE_OPT_SKIP_COMMENT) {
                return LXB_STATUS_OK;
            }

            with_indent = (opt & LXB_HTML_SERIALIZE_OPT_WITHOUT_TEXT_INDENT) == 0;

            status = lxb_html_serialize_pretty_comment_cb(lxb_dom_interface_comment(node),
                                                          indent, with_indent, cb, ctx);

            break;
        }

        case LXB_DOM_NODE_TYPE_PROCESSING_INSTRUCTION:
            lxb_html_serialize_send_indent(indent, ctx);

            status = lxb_html_serialize_processing_instruction_cb(lxb_dom_interface_processing_instruction(node),
                                                                  cb, ctx);

            break;

        case LXB_DOM_NODE_TYPE_DOCUMENT_TYPE:
            lxb_html_serialize_send_indent(indent, ctx);

            if (opt & LXB_HTML_SERIALIZE_OPT_FULL_DOCTYPE) {
                status = lxb_html_serialize_document_type_full_cb(lxb_dom_interface_document_type(node),
                                                             cb, ctx);
            }
            else {
                status = lxb_html_serialize_document_type_cb(lxb_dom_interface_document_type(node),
                                                             cb, ctx);
            }

            break;

        case LXB_DOM_NODE_TYPE_DOCUMENT:
            lxb_html_serialize_send_indent(indent, ctx);

            status = lxb_html_serialize_pretty_document_cb(lxb_dom_interface_document(node),
                                                           cb, ctx);

            break;

        default:
            return LXB_STATUS_ERROR;
    }

    if (status != LXB_STATUS_OK) {
        return status;
    }

    lxb_html_serialize_send("\n", 1, ctx);

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_serialize_pretty_str(lxb_dom_node_t *node,
                              lxb_html_serialize_opt_t opt, size_t indent,
                              lexbor_str_t *str)
{
    lxb_html_serialize_ctx_t ctx;

    if (str->data == NULL) {
        lexbor_str_init(str, node->owner_document->text, 1024);

        if (str->data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    ctx.str = str;
    ctx.mraw = node->owner_document->text;

    return lxb_html_serialize_pretty_cb(node, opt, indent,
                                        lxb_html_serialize_str_callback, &ctx);
}

lxb_status_t
lxb_html_serialize_pretty_deep_cb(lxb_dom_node_t *node,
                                  lxb_html_serialize_opt_t opt, size_t indent,
                                  lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    node = node->first_child;

    while (node != NULL) {
        status = lxb_html_serialize_pretty_node_cb(node, opt, indent, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        node = node->next;
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_serialize_pretty_deep_str(lxb_dom_node_t *node,
                                   lxb_html_serialize_opt_t opt, size_t indent,
                                   lexbor_str_t *str)
{
    lxb_html_serialize_ctx_t ctx;

    if (str->data == NULL) {
        lexbor_str_init(str, node->owner_document->text, 1024);

        if (str->data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    ctx.str = str;
    ctx.mraw = node->owner_document->text;

    return lxb_html_serialize_pretty_deep_cb(node, opt, indent,
                                             lxb_html_serialize_str_callback,
                                             &ctx);
}

static lxb_status_t
lxb_html_serialize_pretty_node_cb(lxb_dom_node_t *node,
                                  lxb_html_serialize_opt_t opt, size_t deep,
                                  lxb_html_serialize_cb_f cb, void *ctx)
{
    bool skip_it;
    lxb_status_t status;
    lxb_dom_node_t *root = node;

    while (node != NULL) {
        status = lxb_html_serialize_pretty_cb(node, opt, deep, cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        if (lxb_html_tree_node_is(node, LXB_TAG_TEMPLATE)) {
            lxb_html_template_element_t *temp;

            temp = lxb_html_interface_template(node);

            if (temp->content != NULL) {
                if (temp->content->node.first_child != NULL)
                {
                    lxb_html_serialize_send_indent((deep + 1), ctx);
                    lxb_html_serialize_send("#document-fragment", 18, ctx);
                    lxb_html_serialize_send("\n", 1, ctx);

                    status = lxb_html_serialize_pretty_deep_cb(&temp->content->node,
                                                               opt, (deep + 2),
                                                               cb, ctx);
                    if (status != LXB_STATUS_OK) {
                        return status;
                    }
                }
            }
        }

        skip_it = lxb_html_node_is_void(node);

        if (skip_it == false && node->first_child != NULL) {
            deep++;

            node = node->first_child;
        }
        else {
            while(node != root && node->next == NULL)
            {
                if (node->type == LXB_DOM_NODE_TYPE_ELEMENT
                    && lxb_html_node_is_void(node) == false)
                {
                    if ((opt & LXB_HTML_SERIALIZE_OPT_WITHOUT_CLOSING) == 0) {
                        lxb_html_serialize_send_indent(deep, ctx);

                        status = lxb_html_serialize_element_closed_cb(lxb_dom_interface_element(node),
                                                                      cb, ctx);
                        if (status != LXB_STATUS_OK) {
                            return status;
                        }

                        lxb_html_serialize_send("\n", 1, ctx);
                    }
                }

                deep--;

                node = node->parent;
            }

            if (node->type == LXB_DOM_NODE_TYPE_ELEMENT
                && lxb_html_node_is_void(node) == false)
            {
                if ((opt & LXB_HTML_SERIALIZE_OPT_WITHOUT_CLOSING) == 0) {
                    lxb_html_serialize_send_indent(deep, ctx);

                    status = lxb_html_serialize_element_closed_cb(lxb_dom_interface_element(node),
                                                                  cb, ctx);
                    if (status != LXB_STATUS_OK) {
                        return status;
                    }

                    lxb_html_serialize_send("\n", 1, ctx);
                }
            }

            if (node == root) {
                break;
            }

            node = node->next;
        }
    }

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_pretty_element_cb(lxb_dom_element_t *element,
                                     lxb_html_serialize_opt_t opt, size_t indent,
                                     lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_char_t *tag_name;
    size_t len = 0;

    lxb_dom_attr_t *attr;
    lxb_dom_node_t *node = lxb_dom_interface_node(element);

    tag_name = lxb_dom_element_qualified_name(element, &len);
    if (tag_name == NULL) {
        return LXB_STATUS_ERROR;
    }

    lxb_html_serialize_send("<", 1, ctx);

    if (element->node.ns != LXB_NS_HTML
        && opt & LXB_HTML_SERIALIZE_OPT_TAG_WITH_NS)
    {
        const lxb_ns_prefix_data_t *data = NULL;

        if (element->node.prefix != LXB_NS__UNDEF) {
            data = lxb_ns_prefix_data_by_id(node->owner_document->prefix,
                                            element->node.prefix);
        }
        else if (element->node.ns < LXB_NS__LAST_ENTRY) {
            data = lxb_ns_prefix_data_by_id(node->owner_document->prefix,
                                             element->node.ns);
        }

        if (data != NULL) {
            lxb_html_serialize_send(lexbor_hash_entry_str(&data->entry),
                                    data->entry.length, ctx);
            lxb_html_serialize_send(":", 1, ctx);
        }
    }

    lxb_html_serialize_send(tag_name, len, ctx);

    if (element->is_value != NULL && element->is_value->data != NULL) {
        attr = lxb_dom_element_attr_is_exist(element,
                                             (const lxb_char_t *) "is", 2);
        if (attr == NULL) {
            lxb_html_serialize_send(" is=\"", 5, ctx);

            if (opt & LXB_HTML_SERIALIZE_OPT_RAW) {
                lxb_html_serialize_send(element->is_value->data,
                                        element->is_value->length, ctx);
            }
            else {
                status = lxb_html_serialize_send_escaping_attribute_string(element->is_value->data,
                                                                           element->is_value->length,
                                                                           cb, ctx);
                if (status != LXB_STATUS_OK) {
                    return status;
                }
            }

            lxb_html_serialize_send("\"", 1, ctx);
        }
    }

    attr = element->first_attr;

    while (attr != NULL) {
        lxb_html_serialize_send(" ", 1, ctx);

        status = lxb_html_serialize_attribute_cb(attr,
                                                 (opt & LXB_HTML_SERIALIZE_OPT_RAW),
                                                 cb, ctx);
        if (status != LXB_STATUS_OK) {
            return status;
        }

        attr = attr->next;
    }

    lxb_html_serialize_send(">", 1, ctx);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_pretty_text_cb(lxb_dom_text_t *text,
                                  lxb_html_serialize_opt_t opt, size_t indent,
                                  lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    lxb_dom_node_t *node = lxb_dom_interface_node(text);
    lxb_dom_document_t *doc = node->owner_document;
    lexbor_str_t *data = &text->char_data.data;

    bool with_indent = (opt & LXB_HTML_SERIALIZE_OPT_WITHOUT_TEXT_INDENT) == 0;

    if (opt & LXB_HTML_SERIALIZE_OPT_SKIP_WS_NODES) {
        const lxb_char_t *pos = data->data;
        const lxb_char_t *end = pos + data->length;

        while (pos != end) {
            if (lexbor_tokenizer_chars_map[ *pos ]
                != LEXBOR_STR_RES_MAP_CHAR_WHITESPACE)
            {
                break;
            }

            pos++;
        }

        return LXB_STATUS_OK;
    }

    if (node->parent != NULL) {
        switch (node->parent->local_name) {
            case LXB_TAG_STYLE:
            case LXB_TAG_SCRIPT:
            case LXB_TAG_XMP:
            case LXB_TAG_IFRAME:
            case LXB_TAG_NOEMBED:
            case LXB_TAG_NOFRAMES:
            case LXB_TAG_PLAINTEXT:
                status = lxb_html_serialize_pretty_send_string(data->data,
                                                               data->length,
                                                               indent,
                                                               with_indent,
                                                               cb, ctx);
                goto end;

            case LXB_TAG_NOSCRIPT:
                if (doc->scripting) {
                    status = lxb_html_serialize_pretty_send_string(data->data,
                                                                   data->length,
                                                                   indent,
                                                                   with_indent,
                                                                   cb, ctx);
                    goto end;
                }

                break;

            default:
                break;
        }
    }

    if (opt & LXB_HTML_SERIALIZE_OPT_RAW) {
        status = lxb_html_serialize_pretty_send_string(data->data, data->length,
                                                       indent, with_indent,
                                                       cb, ctx);
    }
    else {
        status = lxb_html_serialize_pretty_send_escaping_string(data->data,
                                                                data->length,
                                                                indent,
                                                                with_indent,
                                                                cb, ctx);
    }

end:

    if (status != LXB_STATUS_OK) {
        return status;
    }

    lxb_html_serialize_send("\n", 1, ctx);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_pretty_comment_cb(lxb_dom_comment_t *comment,
                                     size_t indent, bool with_indent,
                                     lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    lxb_html_serialize_send_indent(indent, ctx);
    lxb_html_serialize_send("<!-- ", 5, ctx);

    if (with_indent) {
        const lxb_char_t *data = comment->char_data.data.data;
        const lxb_char_t *pos = data;
        const lxb_char_t *end = pos + comment->char_data.data.length;

        while (data != end) {
            /*
             * U+000A LINE FEED (LF)
             * U+000D CARRIAGE RETURN (CR)
             */
            if (*data == 0x0A || *data == 0x0D) {
                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send(data, 1, ctx);
                lxb_html_serialize_send_indent(indent, ctx);

                data++;
                pos = data;
            }
            else {
                data++;
            }
        }

        if (pos != data) {
            lxb_html_serialize_send(pos, (data - pos), ctx);
        }
    }
    else {
        lxb_html_serialize_send(comment->char_data.data.data,
                                comment->char_data.data.length, ctx);
    }

    lxb_html_serialize_send(" -->", 4, ctx);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_pretty_document_cb(lxb_dom_document_t *document,
                                      lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    lxb_html_serialize_send("#document", 9, ctx);

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_serialize_tree_cb(lxb_dom_node_t *node,
                           lxb_html_serialize_cb_f cb, void *ctx)
{
    /* For a document we must serialize all children without document node. */
    if (node->local_name == LXB_TAG__DOCUMENT) {
        node = node->first_child;

        while (node != NULL) {
            lxb_status_t status = lxb_html_serialize_node_cb(node, cb, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            node = node->next;
        }

        return LXB_STATUS_OK;
    }

    return lxb_html_serialize_node_cb(node, cb, ctx);
}

lxb_status_t
lxb_html_serialize_tree_str(lxb_dom_node_t *node, lexbor_str_t *str)
{
    lxb_html_serialize_ctx_t ctx;

    if (str->data == NULL) {
        lexbor_str_init(str, node->owner_document->text, 1024);

        if (str->data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    ctx.str = str;
    ctx.mraw = node->owner_document->text;

    return lxb_html_serialize_tree_cb(node, lxb_html_serialize_str_callback, &ctx);
}

lxb_status_t
lxb_html_serialize_pretty_tree_cb(lxb_dom_node_t *node,
                                  lxb_html_serialize_opt_t opt, size_t indent,
                                  lxb_html_serialize_cb_f cb, void *ctx)
{
    /* For a document we must serialize all children without document node. */
    if (node->local_name == LXB_TAG__DOCUMENT) {
        node = node->first_child;

        while (node != NULL) {
            lxb_status_t status = lxb_html_serialize_pretty_node_cb(node, opt,
                                                               indent, cb, ctx);
            if (status != LXB_STATUS_OK) {
                return status;
            }

            node = node->next;
        }

        return LXB_STATUS_OK;
    }

    return lxb_html_serialize_pretty_node_cb(node, opt, indent, cb, ctx);
}

lxb_status_t
lxb_html_serialize_pretty_tree_str(lxb_dom_node_t *node,
                                   lxb_html_serialize_opt_t opt, size_t indent,
                                   lexbor_str_t *str)
{
    lxb_html_serialize_ctx_t ctx;

    if (str->data == NULL) {
        lexbor_str_init(str, node->owner_document->text, 1024);

        if (str->data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }
    }

    ctx.str = str;
    ctx.mraw = node->owner_document->text;

    return lxb_html_serialize_pretty_tree_cb(node, opt, indent,
                                             lxb_html_serialize_str_callback,
                                             &ctx);
}

static lxb_status_t
lxb_html_serialize_pretty_send_escaping_string(const lxb_char_t *data, size_t len,
                                               size_t indent, bool with_indent,
                                               lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;
    const lxb_char_t *pos = data;
    const lxb_char_t *end = data + len;

    lxb_html_serialize_send_indent(indent, ctx);
    lxb_html_serialize_send("\"", 1, ctx);

    while (data != end) {
        switch (*data) {
            /* U+0026 AMPERSAND (&) */
            case 0x26:
                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send("&amp;", 5, ctx);

                data++;
                pos = data;

                break;

            /* {0xC2, 0xA0} NO-BREAK SPACE */
            case 0xC2:
                data += 1;
                if (data == end) {
                    break;
                }

                if (*data != 0xA0) {
                    continue;
                }

                data -= 1;

                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send("&nbsp;", 6, ctx);

                data += 2;
                pos = data;

                break;

            /* U+003C LESS-THAN SIGN (<) */
            case 0x3C:
                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send("&lt;", 4, ctx);

                data++;
                pos = data;

                break;

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send("&gt;", 4, ctx);

                data++;
                pos = data;

                break;

            /*
             * U+000A LINE FEED (LF)
             * U+000D CARRIAGE RETURN (CR)
             */
            case 0x0A:
            case 0x0D:
                if (with_indent) {
                    if (pos != data) {
                        lxb_html_serialize_send(pos, (data - pos), ctx);
                    }

                    lxb_html_serialize_send("\n", 1, ctx);
                    lxb_html_serialize_send_indent(indent, ctx);

                    data++;
                    pos = data;

                    break;
                }
                /* fall through */

            default:
                data++;

                break;
        }
    }

    if (pos != data) {
        lxb_html_serialize_send(pos, (data - pos), ctx);
    }

    lxb_html_serialize_send("\"", 1, ctx);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_html_serialize_pretty_send_string(const lxb_char_t *data, size_t len,
                                      size_t indent, bool with_indent,
                                      lxb_html_serialize_cb_f cb, void *ctx)
{
    lxb_status_t status;

    lxb_html_serialize_send_indent(indent, ctx);
    lxb_html_serialize_send("\"", 1, ctx);

    if (with_indent) {
        const lxb_char_t *pos = data;
        const lxb_char_t *end = data + len;

        while (data != end) {
            /*
             * U+000A LINE FEED (LF)
             * U+000D CARRIAGE RETURN (CR)
             */
            if (*data == 0x0A || *data == 0x0D) {
                if (pos != data) {
                    lxb_html_serialize_send(pos, (data - pos), ctx);
                }

                lxb_html_serialize_send(data, 1, ctx);
                lxb_html_serialize_send_indent(indent, ctx);

                data++;
                pos = data;
            }
            else {
                data++;
            }
        }

        if (pos != data) {
            lxb_html_serialize_send(pos, (data - pos), ctx);
        }
    }
    else {
        lxb_html_serialize_send(data, len, ctx);
    }

    lxb_html_serialize_send("\"", 1, ctx);

    return LXB_STATUS_OK;
}

bool
lxb_html_tag_is_category(lxb_tag_id_t tag_id, lxb_ns_id_t ns,
                         lxb_html_tag_category_t cat)
{
    if (tag_id < LXB_TAG__LAST_ENTRY && ns < LXB_NS__LAST_ENTRY) {
        return lxb_html_tag_res_cats[tag_id][ns] & cat;
    }

    return (LXB_HTML_TAG_CATEGORY_ORDINARY) & cat;
}

const lxb_html_tag_fixname_t *
lxb_html_tag_fixname_svg(lxb_tag_id_t tag_id)
{
    if (tag_id >= LXB_TAG__LAST_ENTRY) {
        return NULL;
    }

    return &lxb_html_tag_res_fixname_svg[tag_id];
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_lowercase[256];
    LXB_EXTERN const lxb_char_t lexbor_str_res_ansi_replacement_character[4];
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_num[256];
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_hex[256];
#endif


const lxb_tag_data_t *
lxb_tag_append_lower(lexbor_hash_t *hash,
                     const lxb_char_t *name, size_t length);


lxb_html_token_t *
lxb_html_token_create(lexbor_dobject_t *dobj)
{
    return lexbor_dobject_calloc(dobj);
}

lxb_html_token_t *
lxb_html_token_destroy(lxb_html_token_t *token, lexbor_dobject_t *dobj)
{
    return lexbor_dobject_free(dobj, token);
}

lxb_html_token_attr_t *
lxb_html_token_attr_append(lxb_html_token_t *token, lexbor_dobject_t *dobj)
{
    lxb_html_token_attr_t *attr = lxb_html_token_attr_create(dobj);
    if (attr == NULL) {
        return NULL;
    }

    if (token->attr_last == NULL) {
        token->attr_first = attr;
        token->attr_last = attr;

        return attr;
    }

    token->attr_last->next = attr;
    attr->prev = token->attr_last;

    token->attr_last = attr;

    return attr;
}

void
lxb_html_token_attr_remove(lxb_html_token_t *token, lxb_html_token_attr_t *attr)
{
    if (token->attr_first == attr) {
        token->attr_first = attr->next;
    }

    if (token->attr_last == attr) {
        token->attr_last = attr->prev;
    }

    if (attr->next != NULL) {
        attr->next->prev = attr->prev;
    }

    if (attr->prev != NULL) {
        attr->prev->next = attr->next;
    }

    attr->next = NULL;
    attr->prev = NULL;
}

void
lxb_html_token_attr_delete(lxb_html_token_t *token,
                           lxb_html_token_attr_t *attr, lexbor_dobject_t *dobj)
{
    lxb_html_token_attr_remove(token, attr);
    lxb_html_token_attr_destroy(attr, dobj);
}

lxb_status_t
lxb_html_token_make_text(lxb_html_token_t *token, lexbor_str_t *str,
                         lexbor_mraw_t *mraw)
{
    size_t len = token->text_end - token->text_start;

    (void) lexbor_str_init(str, mraw, len);
    if (str->data == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    memcpy(str->data, token->text_start, len);

    str->data[len] = 0x00;
    str->length = len;

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_token_make_text_drop_null(lxb_html_token_t *token, lexbor_str_t *str,
                                   lexbor_mraw_t *mraw)
{
    lxb_char_t *p, c;
    const lxb_char_t *data = token->text_start;
    const lxb_char_t *end = token->text_end;

    size_t len = (end - data) - token->null_count;

    (void) lexbor_str_init(str, mraw, len);
    if (str->data == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    p = str->data;

    while (data < end) {
        c = *data++;

        if (c != 0x00) {
            *p++ = c;
        }
    }

    str->data[len] = 0x00;
    str->length = len;

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_token_make_text_replace_null(lxb_html_token_t *token,
                                      lexbor_str_t *str, lexbor_mraw_t *mraw)
{
    lxb_char_t *p, c;
    const lxb_char_t *data = token->text_start;
    const lxb_char_t *end = token->text_end;

    static const unsigned rep_len = sizeof(lexbor_str_res_ansi_replacement_character) - 1;

    size_t len = (end - data) + (token->null_count * rep_len) - token->null_count;

    (void) lexbor_str_init(str, mraw, len);
    if (str->data == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    p = str->data;

    while (data < end) {
        c = *data++;

        if (c == 0x00) {
            memcpy(p, lexbor_str_res_ansi_replacement_character, rep_len);
            p += rep_len;

            continue;
        }

        *p++ = c;
    }

    str->data[len] = 0x00;
    str->length = len;

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_token_data_skip_ws_begin(lxb_html_token_t *token)
{
    const lxb_char_t *data = token->text_start;
    const lxb_char_t *end = token->text_end;

    while (data < end) {
        switch (*data) {
            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+0020 SPACE
             */
            case 0x09:
            case 0x0A:
            case 0x0D:
            case 0x20:
                break;

            default:
                token->begin += data - token->text_start;
                token->text_start = data;

                return LXB_STATUS_OK;
        }

        data++;
    }

    token->begin += data - token->text_start;
    token->text_start = data;

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_token_data_skip_one_newline_begin(lxb_html_token_t *token)
{
    const lxb_char_t *data = token->text_start;
    const lxb_char_t *end = token->text_end;

    if (data < end) {
        /* U+000A LINE FEED (LF) */
        if (*data == 0x0A) {
            token->begin++;
            token->text_start++;
        }
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_token_data_split_ws_begin(lxb_html_token_t *token,
                                   lxb_html_token_t *ws_token)
{
    *ws_token = *token;

    lxb_status_t status = lxb_html_token_data_skip_ws_begin(token);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    if (token->text_start == token->text_end) {
        return LXB_STATUS_OK;
    }

    if (token->text_start == ws_token->text_start) {
        memset(ws_token, 0, sizeof(lxb_html_token_t));

        return LXB_STATUS_OK;
    }

    ws_token->end = token->begin;
    ws_token->text_end = token->text_start;

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_token_doctype_parse(lxb_html_token_t *token,
                             lxb_dom_document_type_t *doc_type)
{
    lxb_html_token_attr_t *attr;
    lexbor_mraw_t *mraw = doc_type->node.owner_document->mraw;

    /* Set all to empty string if attr not exist */
    if (token->attr_first == NULL) {
        goto set_name_pub_sys_empty;
    }

    /* Name */
    attr = token->attr_first;

    doc_type->name = attr->name->attr_id;

    /* PUBLIC or SYSTEM */
    attr = attr->next;
    if (attr == NULL) {
        goto set_pub_sys_empty;
    }

    if (attr->name->attr_id == LXB_DOM_ATTR_PUBLIC) {
        (void) lexbor_str_init(&doc_type->public_id, mraw, attr->value_size);
        if (doc_type->public_id.data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        if (attr->value_begin == NULL) {
            return LXB_STATUS_OK;
        }

        (void) lexbor_str_append(&doc_type->public_id, mraw, attr->value,
                                 attr->value_size);
    }
    else if (attr->name->attr_id == LXB_DOM_ATTR_SYSTEM) {
        (void) lexbor_str_init(&doc_type->system_id, mraw, attr->value_size);
        if (doc_type->system_id.data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        if (attr->value_begin == NULL) {
            return LXB_STATUS_OK;
        }

        (void) lexbor_str_append(&doc_type->system_id, mraw, attr->value,
                                 attr->value_size);

        return LXB_STATUS_OK;
    }
    else {
        goto set_pub_sys_empty;
    }

    /* SUSTEM */
    attr = attr->next;
    if (attr == NULL) {
        goto set_sys_empty;
    }

    (void) lexbor_str_init(&doc_type->system_id, mraw, attr->value_size);
    if (doc_type->system_id.data == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    (void) lexbor_str_append(&doc_type->system_id, mraw, attr->value,
                             attr->value_size);

    return LXB_STATUS_OK;

set_name_pub_sys_empty:

    doc_type->name = LXB_DOM_ATTR__UNDEF;

set_pub_sys_empty:

    (void) lexbor_str_init(&doc_type->public_id, mraw, 0);
    if (doc_type->public_id.data == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

set_sys_empty:

    (void) lexbor_str_init(&doc_type->system_id, mraw, 0);
    if (doc_type->system_id.data == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    return LXB_HTML_STATUS_OK;
}

lxb_html_token_attr_t *
lxb_html_token_find_attr(lxb_html_tokenizer_t *tkz, lxb_html_token_t *token,
                         const lxb_char_t *name, size_t name_len)
{
    const lxb_dom_attr_data_t *data;
    lxb_html_token_attr_t *attr = token->attr_first;

    data = lxb_dom_attr_data_by_local_name(tkz->attrs, name, name_len);
    if (data == NULL) {
        return NULL;
    }

    while (attr != NULL) {
        if (attr->name->attr_id == data->attr_id) {
            return attr;
        }

        attr = attr->next;
    }

    return NULL;
}

/*
 * No inline functions for ABI.
 */
void
lxb_html_token_clean_noi(lxb_html_token_t *token)
{
    lxb_html_token_clean(token);
}

lxb_html_token_t *
lxb_html_token_create_eof_noi(lexbor_dobject_t *dobj)
{
    return lxb_html_token_create_eof(dobj);
}

lxb_html_token_attr_t *
lxb_html_token_attr_create(lexbor_dobject_t *dobj)
{
    return lexbor_dobject_calloc(dobj);
}

void
lxb_html_token_attr_clean(lxb_html_token_attr_t *attr)
{
    memset(attr, 0, sizeof(lxb_html_token_attr_t));
}

lxb_html_token_attr_t *
lxb_html_token_attr_destroy(lxb_html_token_attr_t *attr, lexbor_dobject_t *dobj)
{
    return lexbor_dobject_free(dobj, attr);
}

const lxb_char_t *
lxb_html_token_attr_name(lxb_html_token_attr_t *attr, size_t *length)
{
    if (attr->name == NULL) {
        if (length != NULL) {
            *length = 0;
        }

        return NULL;
    }

    if (length != NULL) {
        *length = attr->name->entry.length;
    }

    return lexbor_hash_entry_str(&attr->name->entry);
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN lxb_html_tag_category_t lxb_html_tag_res_cats[LXB_TAG__LAST_ENTRY][LXB_NS__LAST_ENTRY];
    LXB_EXTERN lxb_html_tag_fixname_t lxb_html_tag_res_fixname_svg[LXB_TAG__LAST_ENTRY];
#endif


#define LXB_HTML_TKZ_TEMP_SIZE (4096 * 4)


enum {
    LXB_HTML_TOKENIZER_OPT_UNDEF           = 0x00,
    LXB_HTML_TOKENIZER_OPT_TAGS_SELF       = 0x01,
    LXB_HTML_TOKENIZER_OPT_ATTRS_SELF      = 0x02,
    LXB_HTML_TOKENIZER_OPT_ATTRS_MRAW_SELF = 0x04
};


const lxb_char_t *lxb_html_tokenizer_eof = (const lxb_char_t *) "\x00";


static lxb_html_token_t *
lxb_html_tokenizer_token_done(lxb_html_tokenizer_t *tkz,
                              lxb_html_token_t *token, void *ctx);


lxb_html_tokenizer_t *
lxb_html_tokenizer_create(void)
{
    return lexbor_calloc(1, sizeof(lxb_html_tokenizer_t));
}

lxb_status_t
lxb_html_tokenizer_init(lxb_html_tokenizer_t *tkz)
{
    lxb_status_t status;

    if (tkz == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    /* mraw for templary strings or structures */
    tkz->mraw = lexbor_mraw_create();
    status = lexbor_mraw_init(tkz->mraw, 1024);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    /* Init Token */
    tkz->token = NULL;

    tkz->dobj_token = lexbor_dobject_create();
    status = lexbor_dobject_init(tkz->dobj_token,
                                 4096, sizeof(lxb_html_token_t));
    if (status != LXB_STATUS_OK) {
        return status;
    }

    /* Init Token Attributes */
    tkz->dobj_token_attr = lexbor_dobject_create();
    status = lexbor_dobject_init(tkz->dobj_token_attr, 4096,
                                 sizeof(lxb_html_token_attr_t));
    if (status != LXB_STATUS_OK) {
        return status;
    }

    /* Parse errors */
    tkz->parse_errors = lexbor_array_obj_create();
    status = lexbor_array_obj_init(tkz->parse_errors, 16,
                                   sizeof(lxb_html_tokenizer_error_t));
    if (status != LXB_STATUS_OK) {
        return status;
    }

    /* Temporary memory for tag name and attributes. */
    tkz->start = lexbor_malloc(LXB_HTML_TKZ_TEMP_SIZE * sizeof(lxb_char_t));
    if (tkz->start == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    tkz->pos = tkz->start;
    tkz->end = tkz->start + LXB_HTML_TKZ_TEMP_SIZE;

    tkz->tree = NULL;
    tkz->tags = NULL;
    tkz->attrs = NULL;
    tkz->attrs_mraw = NULL;

    tkz->state = lxb_html_tokenizer_state_data_before;
    tkz->state_return = NULL;

    tkz->callback_token_done = lxb_html_tokenizer_token_done;
    tkz->callback_token_ctx = NULL;

    tkz->is_eof = false;
    tkz->status = LXB_STATUS_OK;

    tkz->base = NULL;
    tkz->ref_count = 1;

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_tokenizer_inherit(lxb_html_tokenizer_t *tkz_to,
                           lxb_html_tokenizer_t *tkz_from)
{
    lxb_status_t status;

    tkz_to->tags = tkz_from->tags;
    tkz_to->attrs = tkz_from->attrs;
    tkz_to->attrs_mraw = tkz_from->attrs_mraw;
    tkz_to->mraw = tkz_from->mraw;

    /* Token and Attributes */
    tkz_to->token = NULL;

    tkz_to->dobj_token = tkz_from->dobj_token;
    tkz_to->dobj_token_attr = tkz_from->dobj_token_attr;

    /* Parse errors */
    tkz_to->parse_errors = lexbor_array_obj_create();
    status = lexbor_array_obj_init(tkz_to->parse_errors, 16,
                                   sizeof(lxb_html_tokenizer_error_t));
    if (status != LXB_STATUS_OK) {
        return status;
    }

    tkz_to->state = lxb_html_tokenizer_state_data_before;
    tkz_to->state_return = NULL;

    tkz_to->callback_token_done = lxb_html_tokenizer_token_done;
    tkz_to->callback_token_ctx = NULL;

    tkz_to->is_eof = false;
    tkz_to->status = LXB_STATUS_OK;

    tkz_to->base = tkz_from;
    tkz_to->ref_count = 1;

    tkz_to->start = tkz_from->start;
    tkz_to->end = tkz_from->end;
    tkz_to->pos = tkz_to->start;

    return LXB_STATUS_OK;
}

lxb_html_tokenizer_t *
lxb_html_tokenizer_ref(lxb_html_tokenizer_t *tkz)
{
    if (tkz == NULL) {
        return NULL;
    }

    if (tkz->base != NULL) {
        return lxb_html_tokenizer_ref(tkz->base);
    }

    tkz->ref_count++;

    return tkz;
}

lxb_html_tokenizer_t *
lxb_html_tokenizer_unref(lxb_html_tokenizer_t *tkz)
{
    if (tkz == NULL || tkz->ref_count == 0) {
        return NULL;
    }

    if (tkz->base != NULL) {
        tkz->base = lxb_html_tokenizer_unref(tkz->base);
    }

    tkz->ref_count--;

    if (tkz->ref_count == 0) {
        lxb_html_tokenizer_destroy(tkz);
    }

    return NULL;
}

void
lxb_html_tokenizer_clean(lxb_html_tokenizer_t *tkz)
{
    tkz->tree = NULL;

    tkz->state = lxb_html_tokenizer_state_data_before;
    tkz->state_return = NULL;

    tkz->is_eof = false;
    tkz->status = LXB_STATUS_OK;

    tkz->pos = tkz->start;

    lexbor_mraw_clean(tkz->mraw);
    lexbor_dobject_clean(tkz->dobj_token);
    lexbor_dobject_clean(tkz->dobj_token_attr);

    lexbor_array_obj_clean(tkz->parse_errors);
}

lxb_html_tokenizer_t *
lxb_html_tokenizer_destroy(lxb_html_tokenizer_t *tkz)
{
    if (tkz == NULL) {
        return NULL;
    }

    if (tkz->base == NULL) {
        if (tkz->opt & LXB_HTML_TOKENIZER_OPT_TAGS_SELF) {
            lxb_html_tokenizer_tags_destroy(tkz);
        }

        if (tkz->opt & LXB_HTML_TOKENIZER_OPT_ATTRS_SELF) {
            lxb_html_tokenizer_attrs_destroy(tkz);
        }

        lexbor_mraw_destroy(tkz->mraw, true);
        lexbor_dobject_destroy(tkz->dobj_token, true);
        lexbor_dobject_destroy(tkz->dobj_token_attr, true);
        lexbor_free(tkz->start);
    }

    tkz->parse_errors = lexbor_array_obj_destroy(tkz->parse_errors, true);

    return lexbor_free(tkz);
}

lxb_status_t
lxb_html_tokenizer_tags_make(lxb_html_tokenizer_t *tkz, size_t table_size)
{
    tkz->tags = lexbor_hash_create();
    return lexbor_hash_init(tkz->tags, table_size, sizeof(lxb_tag_data_t));
}

void
lxb_html_tokenizer_tags_destroy(lxb_html_tokenizer_t *tkz)
{
    tkz->tags = lexbor_hash_destroy(tkz->tags, true);
}

lxb_status_t
lxb_html_tokenizer_attrs_make(lxb_html_tokenizer_t *tkz, size_t table_size)
{
    tkz->attrs = lexbor_hash_create();
    return lexbor_hash_init(tkz->attrs, table_size,
                            sizeof(lxb_dom_attr_data_t));
}

void
lxb_html_tokenizer_attrs_destroy(lxb_html_tokenizer_t *tkz)
{
    tkz->attrs = lexbor_hash_destroy(tkz->attrs, true);
}

lxb_status_t
lxb_html_tokenizer_begin(lxb_html_tokenizer_t *tkz)
{
    if (tkz->tags == NULL) {
        tkz->status = lxb_html_tokenizer_tags_make(tkz, 256);
        if (tkz->status != LXB_STATUS_OK) {
            return tkz->status;
        }

        tkz->opt |= LXB_HTML_TOKENIZER_OPT_TAGS_SELF;
    }

    if (tkz->attrs == NULL) {
        tkz->status = lxb_html_tokenizer_attrs_make(tkz, 256);
        if (tkz->status != LXB_STATUS_OK) {
            return tkz->status;
        }

        tkz->opt |= LXB_HTML_TOKENIZER_OPT_ATTRS_SELF;
    }

    if (tkz->attrs_mraw == NULL) {
        tkz->attrs_mraw = tkz->mraw;

        tkz->opt |= LXB_HTML_TOKENIZER_OPT_ATTRS_MRAW_SELF;
    }

    tkz->token = lxb_html_token_create(tkz->dobj_token);
    if (tkz->token == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_tokenizer_chunk(lxb_html_tokenizer_t *tkz, const lxb_char_t *data,
                         size_t size)
{
    const lxb_char_t *end = data + size;

    tkz->is_eof = false;
    tkz->status = LXB_STATUS_OK;
    tkz->last = end;

    while (data < end) {
        data = tkz->state(tkz, data, end);
    }

    return tkz->status;
}

lxb_status_t
lxb_html_tokenizer_end(lxb_html_tokenizer_t *tkz)
{
    const lxb_char_t *data, *end;

    tkz->status = LXB_STATUS_OK;

    /* Send a fake EOF data. */
    data = lxb_html_tokenizer_eof;
    end = lxb_html_tokenizer_eof + 1UL;

    tkz->is_eof = true;

    while (tkz->state(tkz, data, end) < end) {
        /* empty loop */
    }

    tkz->is_eof = false;

    if (tkz->status != LXB_STATUS_OK) {
        return tkz->status;
    }

    /* Emit fake token: END OF FILE */
    lxb_html_token_clean(tkz->token);

    tkz->token->tag_id = LXB_TAG__END_OF_FILE;

    tkz->token = tkz->callback_token_done(tkz, tkz->token,
                                          tkz->callback_token_ctx);

    if (tkz->token == NULL && tkz->status == LXB_STATUS_OK) {
        tkz->status = LXB_STATUS_ERROR;
    }

    return tkz->status;
}

static lxb_html_token_t *
lxb_html_tokenizer_token_done(lxb_html_tokenizer_t *tkz,
                              lxb_html_token_t *token, void *ctx)
{
    return token;
}

lxb_ns_id_t
lxb_html_tokenizer_current_namespace(lxb_html_tokenizer_t *tkz)
{
    if (tkz->tree == NULL) {
        return LXB_NS__UNDEF;
    }

    lxb_dom_node_t *node = lxb_html_tree_adjusted_current_node(tkz->tree);

    if (node == NULL) {
        return LXB_NS__UNDEF;
    }

    return node->ns;
}

void
lxb_html_tokenizer_set_state_by_tag(lxb_html_tokenizer_t *tkz, bool scripting,
                                    lxb_tag_id_t tag_id, lxb_ns_id_t ns)
{
    if (ns != LXB_NS_HTML) {
        tkz->state = lxb_html_tokenizer_state_data_before;

        return;
    }

    switch (tag_id) {
        case LXB_TAG_TITLE:
        case LXB_TAG_TEXTAREA:
            tkz->tmp_tag_id = tag_id;
            tkz->state = lxb_html_tokenizer_state_rcdata_before;

            break;

        case LXB_TAG_STYLE:
        case LXB_TAG_XMP:
        case LXB_TAG_IFRAME:
        case LXB_TAG_NOEMBED:
        case LXB_TAG_NOFRAMES:
            tkz->tmp_tag_id = tag_id;
            tkz->state = lxb_html_tokenizer_state_rawtext_before;

            break;

        case LXB_TAG_SCRIPT:
            tkz->tmp_tag_id = tag_id;
            tkz->state = lxb_html_tokenizer_state_script_data_before;

            break;

        case LXB_TAG_NOSCRIPT:
            if (scripting) {
                tkz->tmp_tag_id = tag_id;
                tkz->state = lxb_html_tokenizer_state_rawtext_before;

                return;
            }

            tkz->state = lxb_html_tokenizer_state_data_before;

            break;

        case LXB_TAG_PLAINTEXT:
            tkz->state = lxb_html_tokenizer_state_plaintext_before;

            break;

        default:
            break;
    }
}

/*
 * No inline functions for ABI.
 */
void
lxb_html_tokenizer_status_set_noi(lxb_html_tokenizer_t *tkz,
                                  lxb_status_t status)
{
    lxb_html_tokenizer_status_set(tkz, status);
}

void
lxb_html_tokenizer_callback_token_done_set_noi(lxb_html_tokenizer_t *tkz,
                                               lxb_html_tokenizer_token_f call_func,
                                               void *ctx)
{
    lxb_html_tokenizer_callback_token_done_set(tkz, call_func, ctx);
}

void *
lxb_html_tokenizer_callback_token_done_ctx_noi(lxb_html_tokenizer_t *tkz)
{
    return lxb_html_tokenizer_callback_token_done_ctx(tkz);
}

void
lxb_html_tokenizer_state_set_noi(lxb_html_tokenizer_t *tkz,
                                 lxb_html_tokenizer_state_f state)
{
    lxb_html_tokenizer_state_set(tkz, state);
}

void
lxb_html_tokenizer_tmp_tag_id_set_noi(lxb_html_tokenizer_t *tkz,
                                      lxb_tag_id_t tag_id)
{
    lxb_html_tokenizer_tmp_tag_id_set(tkz, tag_id);
}

lxb_html_tree_t *
lxb_html_tokenizer_tree_noi(lxb_html_tokenizer_t *tkz)
{
    return lxb_html_tokenizer_tree(tkz);
}

void
lxb_html_tokenizer_tree_set_noi(lxb_html_tokenizer_t *tkz,
                                lxb_html_tree_t *tree)
{
    lxb_html_tokenizer_tree_set(tkz, tree);
}

lexbor_mraw_t *
lxb_html_tokenizer_mraw_noi(lxb_html_tokenizer_t *tkz)
{
    return lxb_html_tokenizer_mraw(tkz);
}

lexbor_hash_t *
lxb_html_tokenizer_tags_noi(lxb_html_tokenizer_t *tkz)
{
    return lxb_html_tokenizer_tags(tkz);
}

lxb_html_tokenizer_error_t *
lxb_html_tokenizer_error_add(lexbor_array_obj_t *parse_errors,
                             const lxb_char_t *pos,
                             lxb_html_tokenizer_error_id_t id)
{
    if (parse_errors == NULL) {
        return NULL;
    }

    lxb_html_tokenizer_error_t *entry = lexbor_array_obj_push(parse_errors);
    if (entry == NULL) {
        return NULL;
    }

    entry->id = id;
    entry->pos = pos;

    return entry;
}

const lxb_char_t *
lxb_html_tokenizer_error_to_string(lxb_html_tokenizer_error_id_t id,
                                   size_t *len)
{
    static const lexbor_str_t unknown = lexbor_str("unknown error");

    static const lexbor_str_t errors[LXB_HTML_TOKENIZER_ERROR_LAST_ENTRY] = {
        lexbor_str("abrupt closing of empty comment"),
        lexbor_str("abrupt doctype public identifier"),
        lexbor_str("abrupt doctype system identifier"),
        lexbor_str("absence of digits in numeric character reference"),
        lexbor_str("cdata in html content"),
        lexbor_str("character reference outside unicode range"),
        lexbor_str("control character in input stream"),
        lexbor_str("control character reference"),
        lexbor_str("end tag with attributes"),
        lexbor_str("duplicate attribute"),
        lexbor_str("end tag with trailing solidus"),
        lexbor_str("eof before tag name"),
        lexbor_str("eof in cdata"),
        lexbor_str("eof in comment"),
        lexbor_str("eof in doctype"),
        lexbor_str("eof in script html comment like text"),
        lexbor_str("eof in tag"),
        lexbor_str("incorrectly closed comment"),
        lexbor_str("incorrectly opened comment"),
        lexbor_str("invalid character sequence after doctype name"),
        lexbor_str("invalid first character of tag name"),
        lexbor_str("missing attribute value"),
        lexbor_str("missing doctype name"),
        lexbor_str("missing doctype public identifier"),
        lexbor_str("missing doctype system identifier"),
        lexbor_str("missing end tag name"),
        lexbor_str("missing quote before doctype public identifier"),
        lexbor_str("missing quote before doctype system identifier"),
        lexbor_str("missing semicolon after character reference"),
        lexbor_str("missing whitespace after doctype public keyword"),
        lexbor_str("missing whitespace after doctype system keyword"),
        lexbor_str("missing whitespace before doctype name"),
        lexbor_str("missing whitespace between attributes"),
        lexbor_str("missing whitespace between doctype public and system identifiers"),
        lexbor_str("nested comment"),
        lexbor_str("noncharacter character reference"),
        lexbor_str("noncharacter in input stream"),
        lexbor_str("non void html element start tag with trailing solidus"),
        lexbor_str("null character reference"),
        lexbor_str("surrogate character reference"),
        lexbor_str("surrogate in input stream"),
        lexbor_str("unexpected character after doctype system identifier"),
        lexbor_str("unexpected character in attribute name"),
        lexbor_str("unexpected character in unquoted attribute value"),
        lexbor_str("unexpected equals sign before attribute name"),
        lexbor_str("unexpected null character"),
        lexbor_str("unexpected question mark instead of tag name"),
        lexbor_str("unexpected solidus in tag"),
        lexbor_str("unknown named character reference")
    };

    if (id >= (sizeof(errors) / sizeof(lexbor_str_t))) {
        if (len != NULL) {
            *len = unknown.length;
        }

        return unknown.data;
    }

    if (len != NULL) {
        *len = errors[id].length;
    }

    return errors[id].data;
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_num[256];
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_hex[256];
    LXB_EXTERN const lxb_char_t lexbor_str_res_ansi_replacement_character[4];
    LXB_EXTERN const size_t     lexbor_str_res_alphanumeric_character[256];
    LXB_EXTERN const size_t     lexbor_str_res_alpha_character[256];
    LXB_EXTERN const size_t     lexbor_str_res_replacement_character[160];
#endif


const lxb_tag_data_t *
lxb_tag_append_lower(lexbor_hash_t *hash,
                     const lxb_char_t *name, size_t length);

lxb_dom_attr_data_t *
lxb_dom_attr_local_name_append(lexbor_hash_t *hash,
                               const lxb_char_t *name, size_t length);


static const lxb_char_t *
lxb_html_tokenizer_state_data(lxb_html_tokenizer_t *tkz,
                              const lxb_char_t *data, const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_plaintext(lxb_html_tokenizer_t *tkz,
                                   const lxb_char_t *data,
                                   const lxb_char_t *end);

/* Tag */
static const lxb_char_t *
lxb_html_tokenizer_state_tag_open(lxb_html_tokenizer_t *tkz,
                                  const lxb_char_t *data,
                                  const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_end_tag_open(lxb_html_tokenizer_t *tkz,
                                      const lxb_char_t *data,
                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_tag_name(lxb_html_tokenizer_t *tkz,
                                  const lxb_char_t *data,
                                  const lxb_char_t *end);

/* Attribute */
static const lxb_char_t *
lxb_html_tokenizer_state_attribute_name(lxb_html_tokenizer_t *tkz,
                                        const lxb_char_t *data,
                                        const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_after_attribute_name(lxb_html_tokenizer_t *tkz,
                                              const lxb_char_t *data,
                                              const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_before_attribute_value(lxb_html_tokenizer_t *tkz,
                                                const lxb_char_t *data,
                                                const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_attribute_value_double_quoted(lxb_html_tokenizer_t *tkz,
                                                       const lxb_char_t *data,
                                                       const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_attribute_value_single_quoted(lxb_html_tokenizer_t *tkz,
                                                       const lxb_char_t *data,
                                                       const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_attribute_value_unquoted(lxb_html_tokenizer_t *tkz,
                                                  const lxb_char_t *data,
                                                  const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_after_attribute_value_quoted(lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_bogus_comment_before(lxb_html_tokenizer_t *tkz,
                                              const lxb_char_t *data,
                                              const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_bogus_comment(lxb_html_tokenizer_t *tkz,
                                       const lxb_char_t *data,
                                       const lxb_char_t *end);

/* Markup declaration */
static const lxb_char_t *
lxb_html_tokenizer_state_markup_declaration_open(lxb_html_tokenizer_t *tkz,
                                                 const lxb_char_t *data,
                                                 const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_markup_declaration_comment(lxb_html_tokenizer_t *tkz,
                                                    const lxb_char_t *data,
                                                    const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_markup_declaration_doctype(lxb_html_tokenizer_t *tkz,
                                                    const lxb_char_t *data,
                                                    const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_markup_declaration_cdata(lxb_html_tokenizer_t *tkz,
                                                  const lxb_char_t *data,
                                                  const lxb_char_t *end);

/* CDATA Section */
static const lxb_char_t *
lxb_html_tokenizer_state_cdata_section_before(lxb_html_tokenizer_t *tkz,
                                              const lxb_char_t *data,
                                              const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_cdata_section(lxb_html_tokenizer_t *tkz,
                                       const lxb_char_t *data,
                                       const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_cdata_section_bracket(lxb_html_tokenizer_t *tkz,
                                               const lxb_char_t *data,
                                               const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_cdata_section_end(lxb_html_tokenizer_t *tkz,
                                           const lxb_char_t *data,
                                           const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_attr(lxb_html_tokenizer_t *tkz,
                                       const lxb_char_t *data,
                                       const lxb_char_t *end);

static const lxb_char_t *
_lxb_html_tokenizer_state_char_ref(lxb_html_tokenizer_t *tkz,
                                   const lxb_char_t *data,
                                   const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_named(lxb_html_tokenizer_t *tkz,
                                        const lxb_char_t *data,
                                        const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_ambiguous_ampersand(lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_numeric(lxb_html_tokenizer_t *tkz,
                                          const lxb_char_t *data,
                                          const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_hexademical_start(lxb_html_tokenizer_t *tkz,
                                                    const lxb_char_t *data,
                                                    const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_decimal_start(lxb_html_tokenizer_t *tkz,
                                                const lxb_char_t *data,
                                                const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_hexademical(lxb_html_tokenizer_t *tkz,
                                              const lxb_char_t *data,
                                              const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_decimal(lxb_html_tokenizer_t *tkz,
                                          const lxb_char_t *data,
                                          const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_numeric_end(lxb_html_tokenizer_t *tkz,
                                              const lxb_char_t *data,
                                              const lxb_char_t *end);

static size_t
lxb_html_tokenizer_state_to_ascii_utf_8(size_t codepoint, lxb_char_t *data);


/*
 * Helper function. No in the specification. For 12.2.5.1 Data state
 */
const lxb_char_t *
lxb_html_tokenizer_state_data_before(lxb_html_tokenizer_t *tkz,
                                     const lxb_char_t *data,
                                     const lxb_char_t *end)
{
    if (tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_set_begin(tkz, data);
    }

    /*
     * Text node init param sets before emit token.
     */

    tkz->state = lxb_html_tokenizer_state_data;

    return data;
}

/*
 * 12.2.5.1 Data state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_data(lxb_html_tokenizer_t *tkz,
                              const lxb_char_t *data, const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    data = lexbor_swar_seek4(data, end, 0x3C, 0x26, 0x0D, 0x00);

    while (data != end) {
        switch (*data) {
            /* U+003C LESS-THAN SIGN (<) */
            case 0x3C:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_token_set_end(tkz, data);

                tkz->state = lxb_html_tokenizer_state_tag_open;
                return (data + 1);

            /* U+0026 AMPERSAND (&) */
            case 0x26:
                lxb_html_tokenizer_state_append_data_m(tkz, data + 1);

                tkz->state = lxb_html_tokenizer_state_char_ref;
                tkz->state_return = lxb_html_tokenizer_state_data;

                return data + 1;

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_data;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                if (tkz->is_eof) {
                    /* Emit TEXT node if not empty */
                    if (tkz->token->begin != NULL) {
                        lxb_html_tokenizer_state_token_set_end_eof(tkz);
                    }

                    if (tkz->token->begin != tkz->token->end) {
                        tkz->token->tag_id = LXB_TAG__TEXT;

                        lxb_html_tokenizer_state_append_data_m(tkz, data);

                        lxb_html_tokenizer_state_set_text(tkz);
                        lxb_html_tokenizer_state_token_done_wo_check_m(tkz,end);
                    }

                    return end;
                }

                if (SIZE_MAX - tkz->token->null_count < 1) {
                    tkz->status = LXB_STATUS_ERROR_OVERFLOW;
                    return end;
                }

                tkz->token->null_count++;

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * Helper function. No in the specification. For 12.2.5.5 PLAINTEXT state
 */
const lxb_char_t *
lxb_html_tokenizer_state_plaintext_before(lxb_html_tokenizer_t *tkz,
                                          const lxb_char_t *data,
                                          const lxb_char_t *end)
{
    if (tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_set_begin(tkz, data);
    }

    tkz->token->tag_id = LXB_TAG__TEXT;

    tkz->state = lxb_html_tokenizer_state_plaintext;

    return data;
}

/*
 * 12.2.5.5 PLAINTEXT state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_plaintext(lxb_html_tokenizer_t *tkz,
                                   const lxb_char_t *data,
                                   const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_plaintext;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if (tkz->is_eof) {
                    if (tkz->token->begin != NULL) {
                        lxb_html_tokenizer_state_token_set_end_eof(tkz);
                    }

                    lxb_html_tokenizer_state_set_text(tkz);
                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.6 Tag open state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_tag_open(lxb_html_tokenizer_t *tkz,
                                  const lxb_char_t *data, const lxb_char_t *end)
{
    /* ASCII alpha */
    if (lexbor_str_res_alpha_character[ *data ] != LEXBOR_STR_RES_SLIP) {
        tkz->state = lxb_html_tokenizer_state_tag_name;

        lxb_html_tokenizer_state_token_emit_text_not_empty_m(tkz, end);
        lxb_html_tokenizer_state_token_set_begin(tkz, data);

        return data;
    }

    /* U+002F SOLIDUS (/) */
    else if (*data == 0x2F) {
        tkz->state = lxb_html_tokenizer_state_end_tag_open;

        return (data + 1);
    }

    /* U+0021 EXCLAMATION MARK (!) */
    else if (*data == 0x21) {
        tkz->state = lxb_html_tokenizer_state_markup_declaration_open;

        lxb_html_tokenizer_state_token_emit_text_not_empty_m(tkz, end);

        return (data + 1);
    }

    /* U+003F QUESTION MARK (?) */
    else if (*data == 0x3F) {
        tkz->state = lxb_html_tokenizer_state_bogus_comment_before;

        lxb_html_tokenizer_state_token_emit_text_not_empty_m(tkz, end);
        lxb_html_tokenizer_state_token_set_begin(tkz, data);

        lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_UNQUMAINOFTANA);

        return data;
    }

    /* EOF */
    else if (*data == 0x00) {
        if (tkz->is_eof) {
            lxb_html_tokenizer_state_append_m(tkz, "<", 1);

            lxb_html_tokenizer_state_token_set_end_eof(tkz);
            lxb_html_tokenizer_state_token_emit_text_not_empty_m(tkz, end);

            lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->token->end,
                                         LXB_HTML_TOKENIZER_ERROR_EOBETANA);

            return end;
        }
    }

    lxb_html_tokenizer_state_append_m(tkz, "<", 1);

    lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                 LXB_HTML_TOKENIZER_ERROR_INFICHOFTANA);

    tkz->state = lxb_html_tokenizer_state_data;

    return data;
}

/*
 * 12.2.5.7 End tag open state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_end_tag_open(lxb_html_tokenizer_t *tkz,
                                      const lxb_char_t *data,
                                      const lxb_char_t *end)
{
    /* ASCII alpha */
    if (lexbor_str_res_alpha_character[ *data ] != LEXBOR_STR_RES_SLIP) {
        tkz->state = lxb_html_tokenizer_state_tag_name;

        lxb_html_tokenizer_state_token_emit_text_not_empty_m(tkz, end);
        lxb_html_tokenizer_state_token_set_begin(tkz, data);

        tkz->token->type |= LXB_HTML_TOKEN_TYPE_CLOSE;

        return data;
    }

    /* U+003E GREATER-THAN SIGN (>) */
    else if (*data == 0x3E) {
        tkz->state = lxb_html_tokenizer_state_data;

        lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_MIENTANA);

        return (data + 1);
    }

    /* Fake EOF */
    else if (*data == 0x00) {
        if (tkz->is_eof) {
            lxb_html_tokenizer_state_append_m(tkz, "</", 2);

            lxb_html_tokenizer_state_token_set_end_eof(tkz);
            lxb_html_tokenizer_state_token_emit_text_not_empty_m(tkz, end);

            lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->token->end,
                                         LXB_HTML_TOKENIZER_ERROR_EOBETANA);

            return end;
        }
    }

    tkz->state = lxb_html_tokenizer_state_bogus_comment_before;

    lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                 LXB_HTML_TOKENIZER_ERROR_INFICHOFTANA);

    lxb_html_tokenizer_state_token_emit_text_not_empty_m(tkz, end);
    lxb_html_tokenizer_state_token_set_begin(tkz, data);

    return data;
}

/*
 * 12.2.5.8 Tag name state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_tag_name(lxb_html_tokenizer_t *tkz,
                                  const lxb_char_t *data, const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+000D CARRIAGE RETURN (CR)
             * U+0020 SPACE
             */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, tkz->start, tkz->pos);
                lxb_html_tokenizer_state_token_set_end(tkz, data);

                tkz->state = lxb_html_tokenizer_state_before_attribute_name;
                return (data + 1);

            /* U+002F SOLIDUS (/) */
            case 0x2F:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, tkz->start, tkz->pos);
                lxb_html_tokenizer_state_token_set_end(tkz, data);

                tkz->state = lxb_html_tokenizer_state_self_closing_start_tag;
                return (data + 1);

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                tkz->state = lxb_html_tokenizer_state_data_before;

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, tkz->start, tkz->pos);
                lxb_html_tokenizer_state_token_set_end(tkz, data);
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            /* U+0000 NULL */
            case 0x00:
                if (tkz->is_eof) {
                    lxb_html_tokenizer_state_token_set_end_eof(tkz);

                    lxb_html_tokenizer_error_add(tkz->parse_errors,
                                               tkz->token->end,
                                               LXB_HTML_TOKENIZER_ERROR_EOINTA);
                    return end;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);
                break;

            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.32 Before attribute name state
 */
const lxb_char_t *
lxb_html_tokenizer_state_before_attribute_name(lxb_html_tokenizer_t *tkz,
                                               const lxb_char_t *data,
                                               const lxb_char_t *end)
{
    lxb_html_token_attr_t *attr;

    while (data != end) {
        switch (*data) {
            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+000D CARRIAGE RETURN (CR)
             * U+0020 SPACE
             */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
                break;

            /* U+003D EQUALS SIGN (=) */
            case 0x3D:
                lxb_html_tokenizer_state_token_attr_add_m(tkz, attr, end);
                lxb_html_tokenizer_state_token_attr_set_name_begin(tkz, data);

                lxb_html_tokenizer_state_append_m(tkz, data, 1);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_UNEQSIBEATNA);

                tkz->state = lxb_html_tokenizer_state_attribute_name;
                return (data + 1);

            /*
             * U+002F SOLIDUS (/)
             * U+003E GREATER-THAN SIGN (>)
             */
            case 0x2F:
            case 0x3E:
                tkz->state = lxb_html_tokenizer_state_after_attribute_name;
                return data;

            /* EOF */
            case 0x00:
                if (tkz->is_eof) {
                    tkz->state = lxb_html_tokenizer_state_after_attribute_name;
                    return data;
                }
                /* fall through */

            /* Anything else */
            default:
                lxb_html_tokenizer_state_token_attr_add_m(tkz, attr, end);
                lxb_html_tokenizer_state_token_attr_set_name_begin(tkz, data);

                tkz->state = lxb_html_tokenizer_state_attribute_name;
                return data;
        }

        data++;
    }

    return data;
}

/*
 * 12.2.5.33 Attribute name state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_attribute_name(lxb_html_tokenizer_t *tkz,
                                        const lxb_char_t *data,
                                        const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+000D CARRIAGE RETURN (CR)
             * U+0020 SPACE
             * U+002F SOLIDUS (/)
             * U+003E GREATER-THAN SIGN (>)
             */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
            case 0x2F:
            case 0x3E:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_name_m(tkz);
                lxb_html_tokenizer_state_token_attr_set_name_end(tkz, data);

                tkz->state = lxb_html_tokenizer_state_after_attribute_name;
                return data;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                if (tkz->is_eof) {
                    lxb_html_tokenizer_state_token_attr_set_name_end_oef(tkz);

                    tkz->state = lxb_html_tokenizer_state_after_attribute_name;
                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);
                break;

            /* U+003D EQUALS SIGN (=) */
            case 0x3D:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_name_m(tkz);
                lxb_html_tokenizer_state_token_attr_set_name_end(tkz, data);

                tkz->state = lxb_html_tokenizer_state_before_attribute_value;
                return (data + 1);

            /*
             * U+0022 QUOTATION MARK (")
             * U+0027 APOSTROPHE (')
             * U+003C LESS-THAN SIGN (<)
             */
            case 0x22:
            case 0x27:
            case 0x3C:
                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                           LXB_HTML_TOKENIZER_ERROR_UNCHINATNA);
                break;

            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.34 After attribute name state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_after_attribute_name(lxb_html_tokenizer_t *tkz,
                                              const lxb_char_t *data,
                                              const lxb_char_t *end)
{
    lxb_html_token_attr_t *attr;

    while (data != end) {
        switch (*data) {
            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+000D CARRIAGE RETURN (CR)
             * U+0020 SPACE
             */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
                break;

            /* U+002F SOLIDUS (/) */
            case 0x2F:
                tkz->state = lxb_html_tokenizer_state_self_closing_start_tag;
                return (data + 1);

            /* U+003D EQUALS SIGN (=) */
            case 0x3D:
                tkz->state = lxb_html_tokenizer_state_before_attribute_value;
                return (data + 1);

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                tkz->state = lxb_html_tokenizer_state_data_before;

                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            case 0x00:
                if (tkz->is_eof) {
                    lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                               LXB_HTML_TOKENIZER_ERROR_EOINTA);
                    return end;
                }
                /* fall through */

            default:
                lxb_html_tokenizer_state_token_attr_add_m(tkz, attr, end);
                lxb_html_tokenizer_state_token_attr_set_name_begin(tkz, data);

                tkz->state = lxb_html_tokenizer_state_attribute_name;
                return data;
        }

        data++;
    }

    return data;
}

/*
 * 12.2.5.35 Before attribute value state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_before_attribute_value(lxb_html_tokenizer_t *tkz,
                                                const lxb_char_t *data,
                                                const lxb_char_t *end)
{
    while (data != end) {
        switch (*data) {
            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+000D CARRIAGE RETURN (CR)
             * U+0020 SPACE
             */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
                break;

            /* U+0022 QUOTATION MARK (") */
            case 0x22:
                tkz->state =
                    lxb_html_tokenizer_state_attribute_value_double_quoted;

                return (data + 1);

            /* U+0027 APOSTROPHE (') */
            case 0x27:
                tkz->state =
                    lxb_html_tokenizer_state_attribute_value_single_quoted;

                return (data + 1);

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                tkz->state = lxb_html_tokenizer_state_data_before;

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_MIATVA);

                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            default:
                tkz->state = lxb_html_tokenizer_state_attribute_value_unquoted;
                return data;
        }

        data++;
    }

    return data;
}

/*
 * 12.2.5.36 Attribute value (double-quoted) state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_attribute_value_double_quoted(lxb_html_tokenizer_t *tkz,
                                                       const lxb_char_t *data,
                                                       const lxb_char_t *end)
{
    if (tkz->token->attr_last->value_begin == NULL && tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_attr_set_value_begin(tkz, data);
    }

    lxb_html_tokenizer_state_begin_set(tkz, data);

    data = lexbor_swar_seek4(data, end, 0x22, 0x26, 0x0D, 0x00);

    while (data != end) {
        switch (*data) {
            /* U+0022 QUOTATION MARK (") */
            case 0x22:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_token_attr_set_value_end(tkz, data);
                lxb_html_tokenizer_state_set_value_m(tkz);

                tkz->state =
                    lxb_html_tokenizer_state_after_attribute_value_quoted;

                return (data + 1);

            /* U+0026 AMPERSAND (&) */
            case 0x26:
                lxb_html_tokenizer_state_append_data_m(tkz, data + 1);

                tkz->state = lxb_html_tokenizer_state_char_ref_attr;
                tkz->state_return = lxb_html_tokenizer_state_attribute_value_double_quoted;

                return data + 1;

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_attribute_value_double_quoted;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                if (tkz->is_eof) {
                    if (tkz->token->attr_last->value_begin != NULL) {
                     lxb_html_tokenizer_state_token_attr_set_value_end_oef(tkz);
                    }

                    lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                               LXB_HTML_TOKENIZER_ERROR_EOINTA);
                    return end;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);
                break;

            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.37 Attribute value (single-quoted) state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_attribute_value_single_quoted(lxb_html_tokenizer_t *tkz,
                                                       const lxb_char_t *data,
                                                       const lxb_char_t *end)
{
    if (tkz->token->attr_last->value_begin == NULL && tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_attr_set_value_begin(tkz, data);
    }

    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /* U+0027 APOSTROPHE (') */
            case 0x27:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_token_attr_set_value_end(tkz, data);
                lxb_html_tokenizer_state_set_value_m(tkz);

                tkz->state =
                    lxb_html_tokenizer_state_after_attribute_value_quoted;

                return (data + 1);

            /* U+0026 AMPERSAND (&) */
            case 0x26:
                lxb_html_tokenizer_state_append_data_m(tkz, data + 1);

                tkz->state = lxb_html_tokenizer_state_char_ref_attr;
                tkz->state_return = lxb_html_tokenizer_state_attribute_value_single_quoted;

                return data + 1;

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_attribute_value_single_quoted;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                if (tkz->is_eof) {
                    if (tkz->token->attr_last->value_begin != NULL) {
                     lxb_html_tokenizer_state_token_attr_set_value_end_oef(tkz);
                    }

                    lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                               LXB_HTML_TOKENIZER_ERROR_EOINTA);
                    return end;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);
                break;

            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.38 Attribute value (unquoted) state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_attribute_value_unquoted(lxb_html_tokenizer_t *tkz,
                                                  const lxb_char_t *data,
                                                  const lxb_char_t *end)
{
    if (tkz->token->attr_last->value_begin == NULL && tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_attr_set_value_begin(tkz, data);
    }

    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
           /*
            * U+0009 CHARACTER TABULATION (tab)
            * U+000A LINE FEED (LF)
            * U+000C FORM FEED (FF)
            * U+000D CARRIAGE RETURN (CR)
            * U+0020 SPACE
            */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_token_attr_set_value_end(tkz, data);
                lxb_html_tokenizer_state_set_value_m(tkz);

                tkz->state = lxb_html_tokenizer_state_before_attribute_name;
                return (data + 1);

            /* U+0026 AMPERSAND (&) */
            case 0x26:
                lxb_html_tokenizer_state_append_data_m(tkz, data + 1);

                tkz->state = lxb_html_tokenizer_state_char_ref_attr;
                tkz->state_return = lxb_html_tokenizer_state_attribute_value_unquoted;

                return data + 1;

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                tkz->state = lxb_html_tokenizer_state_data_before;

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_token_attr_set_value_end(tkz, data);
                lxb_html_tokenizer_state_set_value_m(tkz);

                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                if (tkz->is_eof) {
                    if (tkz->token->attr_last->value_begin != NULL) {
                     lxb_html_tokenizer_state_token_attr_set_value_end_oef(tkz);
                    }

                    lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                                 LXB_HTML_TOKENIZER_ERROR_EOINTA);
                    return end;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);
                break;

            /*
             * U+0022 QUOTATION MARK (")
             * U+0027 APOSTROPHE (')
             * U+003C LESS-THAN SIGN (<)
             * U+003D EQUALS SIGN (=)
             * U+0060 GRAVE ACCENT (`)
             */
            case 0x22:
            case 0x27:
            case 0x3C:
            case 0x3D:
            case 0x60:
                lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->token->end,
                                             LXB_HTML_TOKENIZER_ERROR_UNCHINUNATVA);
                break;

            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.39 After attribute value (quoted) state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_after_attribute_value_quoted(lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end)
{
    switch (*data) {
        /*
         * U+0009 CHARACTER TABULATION (tab)
         * U+000A LINE FEED (LF)
         * U+000C FORM FEED (FF)
         * U+000D CARRIAGE RETURN (CR)
         * U+0020 SPACE
         */
        case 0x09:
        case 0x0A:
        case 0x0C:
        case 0x0D:
        case 0x20:
            tkz->state = lxb_html_tokenizer_state_before_attribute_name;

            return (data + 1);

        /* U+002F SOLIDUS (/) */
        case 0x2F:
            tkz->state = lxb_html_tokenizer_state_self_closing_start_tag;

            return (data + 1);

        /* U+003E GREATER-THAN SIGN (>) */
        case 0x3E:
            tkz->state = lxb_html_tokenizer_state_data_before;

            lxb_html_tokenizer_state_token_done_m(tkz, end);

            return (data + 1);

        /* EOF */
        case 0x00:
            if (tkz->is_eof) {
                lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                             LXB_HTML_TOKENIZER_ERROR_EOINTA);
                return end;
            }
            /* fall through */

        default:
            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIWHBEAT);

            tkz->state = lxb_html_tokenizer_state_before_attribute_name;

            return data;
    }

    return data;
}


const lxb_char_t *
lxb_html_tokenizer_state_cr(lxb_html_tokenizer_t *tkz, const lxb_char_t *data,
                            const lxb_char_t *end)
{
    lxb_html_tokenizer_state_append_m(tkz, "\n", 1);

    if (*data == 0x0A) {
        data++;
    }

    tkz->state = tkz->state_return;

    return data;
}

/*
 * 12.2.5.40 Self-closing start tag state
 */
const lxb_char_t *
lxb_html_tokenizer_state_self_closing_start_tag(lxb_html_tokenizer_t *tkz,
                                                const lxb_char_t *data,
                                                const lxb_char_t *end)
{
    switch (*data) {
        /* U+003E GREATER-THAN SIGN (>) */
        case 0x3E:
            tkz->state = lxb_html_tokenizer_state_data_before;
            tkz->token->type |= LXB_HTML_TOKEN_TYPE_CLOSE_SELF;

            lxb_html_tokenizer_state_token_done_m(tkz, end);

            return (data + 1);

        /* EOF */
        case 0x00:
            if (tkz->is_eof) {
                lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->token->end,
                                             LXB_HTML_TOKENIZER_ERROR_EOINTA);
                return end;
            }
            /* fall through */

        default:
            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_UNSOINTA);

            tkz->state = lxb_html_tokenizer_state_before_attribute_name;

            return data;
    }

    return data;
}

/*
 * Helper function. No in the specification. For 12.2.5.41 Bogus comment state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_bogus_comment_before(lxb_html_tokenizer_t *tkz,
                                              const lxb_char_t *data,
                                              const lxb_char_t *end)
{
    tkz->token->tag_id = LXB_TAG__EM_COMMENT;

    tkz->state = lxb_html_tokenizer_state_bogus_comment;

    return data;
}

/*
 * 12.2.5.41 Bogus comment state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_bogus_comment(lxb_html_tokenizer_t *tkz,
                                       const lxb_char_t *data,
                                       const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                tkz->state = lxb_html_tokenizer_state_data_before;

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_token_set_end(tkz, data);
                lxb_html_tokenizer_state_set_text(tkz);
                lxb_html_tokenizer_state_token_done_wo_check_m(tkz, end);

                return (data + 1);

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_bogus_comment;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * EOF
             * U+0000 NULL
             */
            case 0x00:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if (tkz->is_eof) {
                    if (tkz->token->begin != NULL) {
                        lxb_html_tokenizer_state_token_set_end_eof(tkz);
                    }

                    lxb_html_tokenizer_state_set_text(tkz);
                    lxb_html_tokenizer_state_token_done_wo_check_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_state_append_replace_m(tkz);
                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.42 Markup declaration open state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_markup_declaration_open(lxb_html_tokenizer_t *tkz,
                                                 const lxb_char_t *data,
                                                 const lxb_char_t *end)
{
    /* Check first char for change parse state */
    if (tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_set_begin(tkz, data);
    }

    /* U+002D HYPHEN-MINUS characters (-) */
    if (*data == 0x2D) {
        if ((end - data) < 2) {
            tkz->state = lxb_html_tokenizer_state_markup_declaration_comment;
            return (data + 1);
        }

        if (data[1] == 0x2D) {
            tkz->state = lxb_html_tokenizer_state_comment_before_start;
            return (data + 2);
        }
    }
    /*
     * ASCII case-insensitive match for the word "DOCTYPE"
     * U+0044 character (D) or U+0064 character (d)
     */
    else if (*data == 0x44 || *data == 0x64) {
        if ((end - data) < 7) {
            tkz->markup = (lxb_char_t *) "doctype";

            tkz->state = lxb_html_tokenizer_state_markup_declaration_doctype;
            return data;
        }

        if (lexbor_str_data_ncasecmp((lxb_char_t *) "doctype", data, 7)) {
            tkz->state = lxb_html_tokenizer_state_doctype_before;
            return (data + 7);
        }
    }
    /* Case-sensitive match for the string "[CDATA["
     * (the five uppercase letters "CDATA" with a U+005B LEFT SQUARE BRACKET
     * character before and after)
     */
    else if (*data == 0x5B) {
        if ((end - data) < 7) {
            tkz->markup = (lxb_char_t *) "[CDATA[";

            tkz->state = lxb_html_tokenizer_state_markup_declaration_cdata;
            return data;
        }

        if (lexbor_str_data_ncmp((lxb_char_t *) "[CDATA[", data, 7)) {
            lxb_ns_id_t ns = lxb_html_tokenizer_current_namespace(tkz);

            if (ns != LXB_NS_HTML && ns != LXB_NS__UNDEF) {
                data += 7;

                lxb_html_tokenizer_state_token_set_begin(tkz, data);

                tkz->state = lxb_html_tokenizer_state_cdata_section_before;

                return data;
            }

            tkz->state = lxb_html_tokenizer_state_bogus_comment_before;

            return data;
        }
    }

    if (tkz->is_eof) {
        lxb_html_tokenizer_state_token_set_end_eof(tkz);

        tkz->token->begin = tkz->token->end;
    }

    lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                 LXB_HTML_TOKENIZER_ERROR_INOPCO);

    tkz->state = lxb_html_tokenizer_state_bogus_comment_before;

    return data;
}

/*
 * Helper function. No in the specification. For 12.2.5.42
 * For a comment tag <!--
 */
static const lxb_char_t *
lxb_html_tokenizer_state_markup_declaration_comment(lxb_html_tokenizer_t *tkz,
                                                    const lxb_char_t *data,
                                                    const lxb_char_t *end)
{
    /* U+002D HYPHEN-MINUS characters (-) */
    if (*data == 0x2D) {
        tkz->state = lxb_html_tokenizer_state_comment_before_start;
        return (data + 1);
    }

    lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                 LXB_HTML_TOKENIZER_ERROR_INOPCO);

    tkz->state = lxb_html_tokenizer_state_bogus_comment_before;
    return data;
}

/*
 * Helper function. No in the specification. For 12.2.5.42
 * For a DOCTYPE tag <!DOCTYPE
 */
static const lxb_char_t *
lxb_html_tokenizer_state_markup_declaration_doctype(lxb_html_tokenizer_t *tkz,
                                                    const lxb_char_t *data,
                                                    const lxb_char_t *end)
{
    const lxb_char_t *pos;
    pos = lexbor_str_data_ncasecmp_first(tkz->markup, data, (end - data));

    if (pos == NULL) {
        lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_INOPCO);

        tkz->state = lxb_html_tokenizer_state_bogus_comment_before;
        return data;
    }

    if (*pos == '\0') {
        data = (data + (pos - tkz->markup));

        tkz->state = lxb_html_tokenizer_state_doctype_before;
        return data;
    }

    tkz->markup = pos;

    return end;
}

/*
 * Helper function. No in the specification. For 12.2.5.42
 * For a CDATA tag <![CDATA[
 */
static const lxb_char_t *
lxb_html_tokenizer_state_markup_declaration_cdata(lxb_html_tokenizer_t *tkz,
                                                  const lxb_char_t *data,
                                                  const lxb_char_t *end)
{
    const lxb_char_t *pos;
    pos = lexbor_str_data_ncasecmp_first(tkz->markup, data, (end - data));

    if (pos == NULL) {
        lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_INOPCO);

        tkz->state = lxb_html_tokenizer_state_bogus_comment_before;
        return data;
    }

    if (*pos == '\0') {
        lxb_ns_id_t ns = lxb_html_tokenizer_current_namespace(tkz);

        if (ns != LXB_NS_HTML && ns != LXB_NS__UNDEF) {
            data = (data + (pos - tkz->markup));

            tkz->state = lxb_html_tokenizer_state_cdata_section_before;
            return data;
        }

        lxb_html_tokenizer_state_append_m(tkz, "[CDATA", 6);

        tkz->state = lxb_html_tokenizer_state_bogus_comment_before;
        return data;
    }

    tkz->markup = pos;

    return end;
}

/*
 * Helper function. No in the specification. For 12.2.5.69
 */
static const lxb_char_t *
lxb_html_tokenizer_state_cdata_section_before(lxb_html_tokenizer_t *tkz,
                                              const lxb_char_t *data,
                                              const lxb_char_t *end)
{
    if (tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_set_begin(tkz, data);
    }
    else {
        lxb_html_tokenizer_state_token_set_begin(tkz, tkz->last);
    }

    tkz->token->tag_id = LXB_TAG__TEXT;

    tkz->state = lxb_html_tokenizer_state_cdata_section;

    return data;
}

/*
 * 12.2.5.69 CDATA section state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_cdata_section(lxb_html_tokenizer_t *tkz,
                                       const lxb_char_t *data,
                                       const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /* U+005D RIGHT SQUARE BRACKET (]) */
            case 0x5D:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_token_set_end(tkz, data);

                tkz->state = lxb_html_tokenizer_state_cdata_section_bracket;
                return (data + 1);

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_cdata_section;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /* EOF */
            case 0x00:
                if (tkz->is_eof) {
                    lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                                 LXB_HTML_TOKENIZER_ERROR_EOINCD);

                    if (tkz->token->begin != NULL) {
                        lxb_html_tokenizer_state_append_data_m(tkz, data);
                        lxb_html_tokenizer_state_token_set_end_eof(tkz);
                    }

                    lxb_html_tokenizer_state_set_text(tkz);
                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                if (SIZE_MAX - tkz->token->null_count < 1) {
                    tkz->status = LXB_STATUS_ERROR_OVERFLOW;
                    return end;
                }

                tkz->token->null_count++;

                break;

            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.70 CDATA section bracket state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_cdata_section_bracket(lxb_html_tokenizer_t *tkz,
                                               const lxb_char_t *data,
                                               const lxb_char_t *end)
{
    /* U+005D RIGHT SQUARE BRACKET (]) */
    if (*data == 0x5D) {
        tkz->state = lxb_html_tokenizer_state_cdata_section_end;
        return (data + 1);
    }

    lxb_html_tokenizer_state_append_m(tkz, "]", 1);

    tkz->state = lxb_html_tokenizer_state_cdata_section;

    return data;
}

/*
 * 12.2.5.71 CDATA section end state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_cdata_section_end(lxb_html_tokenizer_t *tkz,
                                           const lxb_char_t *data,
                                           const lxb_char_t *end)
{
    /* U+005D RIGHT SQUARE BRACKET (]) */
    if (*data == 0x5D) {
        lxb_html_tokenizer_state_append_m(tkz, data, 1);
        return (data + 1);
    }
    /* U+003E GREATER-THAN SIGN character */
    else if (*data == 0x3E) {
        tkz->state = lxb_html_tokenizer_state_data_before;

        lxb_html_tokenizer_state_set_text(tkz);
        lxb_html_tokenizer_state_token_done_m(tkz, end);

        return (data + 1);
    }

    lxb_html_tokenizer_state_append_m(tkz, "]]", 2);

    tkz->state = lxb_html_tokenizer_state_cdata_section;

    return data;
}

/*
 * 12.2.5.72 Character reference state
 */
const lxb_char_t *
lxb_html_tokenizer_state_char_ref(lxb_html_tokenizer_t *tkz,
                                  const lxb_char_t *data, const lxb_char_t *end)
{
    tkz->is_attribute = false;

    return _lxb_html_tokenizer_state_char_ref(tkz, data, end);
}

static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_attr(lxb_html_tokenizer_t *tkz,
                                       const lxb_char_t *data,
                                       const lxb_char_t *end)
{
    tkz->is_attribute = true;

    return _lxb_html_tokenizer_state_char_ref(tkz, data, end);
}

static const lxb_char_t *
_lxb_html_tokenizer_state_char_ref(lxb_html_tokenizer_t *tkz,
                                   const lxb_char_t *data,
                                   const lxb_char_t *end)
{
    /* ASCII alphanumeric */
    if (lexbor_str_res_alphanumeric_character[ *data ] != LEXBOR_STR_RES_SLIP) {
        tkz->entity = &lxb_html_tokenizer_res_entities_sbst[1];
        tkz->entity_match = NULL;
        tkz->entity_start = (tkz->pos - 1) - tkz->start;

        tkz->state = lxb_html_tokenizer_state_char_ref_named;

        return data;
    }
    /* U+0023 NUMBER SIGN (#) */
    else if (*data == 0x23) {
        tkz->markup = data;
        tkz->entity_start = (tkz->pos - 1) - tkz->start;

        lxb_html_tokenizer_state_append_m(tkz, data, 1);

        tkz->state = lxb_html_tokenizer_state_char_ref_numeric;

        return (data + 1);
    }
    else {
        tkz->state = tkz->state_return;
    }

    return data;
}

/*
 * 12.2.5.73 Named character reference state
 *
 * The slowest part in HTML parsing!!!
 *
 * This option works correctly and passes all tests (stream parsing too).
 * We must seriously think about how to accelerate this part.
 */
static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_named(lxb_html_tokenizer_t *tkz,
                                        const lxb_char_t *data,
                                        const lxb_char_t *end)
{
    size_t size, tail_size;
    lxb_char_t *start;
    const lexbor_sbst_entry_static_t *entry = tkz->entity;

    const lxb_char_t *begin = data;

    while (data < end) {
        entry = lexbor_sbst_entry_static_find(lxb_html_tokenizer_res_entities_sbst,
                                              entry, *data);
        if (entry == NULL) {
            lxb_html_tokenizer_state_append_m(tkz, begin, (data - begin));
            goto done;
        }

        if (entry->value != NULL) {
            tkz->entity_end = (tkz->pos + (data - begin)) - tkz->start;
            tkz->entity_match = entry;
        }

        entry = &lxb_html_tokenizer_res_entities_sbst[ entry->next ];

        data++;
    }

    /* If entry not NULL and buffer empty, then wait next buffer. */
    tkz->entity = entry;

    lxb_html_tokenizer_state_append_m(tkz, begin, (end - begin));
    return data;

done:

    /* If we have bad entity */
    if (tkz->entity_match == NULL) {
        tkz->state = lxb_html_tokenizer_state_char_ref_ambiguous_ampersand;

        return data;
    }

    tkz->state = tkz->state_return;

    /*
     * If the character reference was consumed as part of an attribute,
     * and the last character matched is not a U+003B SEMICOLON character (;),
     * and the next input character is either a U+003D EQUALS SIGN character (=)
     * or an ASCII alphanumeric, then, for historical reasons,
     * flush code points consumed as a character reference
     * and switch to the return state.
     */
    /* U+003B SEMICOLON character (;) */
    if (tkz->is_attribute && tkz->entity_match->key != 0x3B) {
        /* U+003D EQUALS SIGN character (=) or ASCII alphanumeric */
        if (*data == 0x3D
            || lexbor_str_res_alphanumeric_character[*data] != LEXBOR_STR_RES_SLIP)
        {
            return data;
        }
    }

    if (tkz->entity_match->key != 0x3B) {
        lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_MISEAFCHRE);
    }

    start = &tkz->start[tkz->entity_start];

    size = tkz->pos - start;
    tail_size = tkz->pos - &tkz->start[tkz->entity_end] - 1;

    if (tail_size != 0) {
        if ((size + tail_size) + start > tkz->end) {
            if (lxb_html_tokenizer_temp_realloc(tkz, size) != LXB_STATUS_OK) {
                return end;
            }
            start = &tkz->start[tkz->entity_start];
        }

        memmove(start + tkz->entity_match->value_len,
                tkz->pos - tail_size, tail_size);
    }

    memcpy(start, tkz->entity_match->value, tkz->entity_match->value_len);

    tkz->pos = start + (tkz->entity_match->value_len + tail_size);

    return data;
}

/*
 * 12.2.5.74 Ambiguous ampersand state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_ambiguous_ampersand(lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end)
{
    /* ASCII alphanumeric */
    /* Skipped, not need */

    /* U+003B SEMICOLON (;) */
    if (*data == 0x3B) {
        lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_UNNACHRE);
    }

    tkz->state = tkz->state_return;

    return data;
}

/*
 * 12.2.5.75 Numeric character reference state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_numeric(lxb_html_tokenizer_t *tkz,
                                          const lxb_char_t *data,
                                          const lxb_char_t *end)
{
    tkz->entity_number = 0;

    /*
     * U+0078 LATIN SMALL LETTER X
     * U+0058 LATIN CAPITAL LETTER X
     */
    if (*data == 0x78 || *data == 0x58) {
        lxb_html_tokenizer_state_append_m(tkz, data, 1);

        tkz->state = lxb_html_tokenizer_state_char_ref_hexademical_start;

        return (data + 1);
    }

    tkz->state = lxb_html_tokenizer_state_char_ref_decimal_start;

    return data;
}

/*
 * 12.2.5.76 Hexademical character reference start state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_hexademical_start(lxb_html_tokenizer_t *tkz,
                                                    const lxb_char_t *data,
                                                    const lxb_char_t *end)
{
    /* ASCII hex digit */
    if (lexbor_str_res_map_hex[ *data ] != LEXBOR_STR_RES_SLIP) {
        tkz->state = lxb_html_tokenizer_state_char_ref_hexademical;
    }
    else {
        lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_ABOFDIINNUCHRE);

        tkz->state = tkz->state_return;
    }

    return data;
}

/*
 * 12.2.5.77 Decimal character reference start state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_decimal_start(lxb_html_tokenizer_t *tkz,
                                                const lxb_char_t *data,
                                                const lxb_char_t *end)
{
    /* ASCII digit */
    if (lexbor_str_res_map_num[ *data ] != LEXBOR_STR_RES_SLIP) {
        tkz->state = lxb_html_tokenizer_state_char_ref_decimal;
    }
    else {
        lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_ABOFDIINNUCHRE);

        tkz->state = tkz->state_return;
    }

    return data;
}

/*
 * 12.2.5.78 Hexademical character reference state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_hexademical(lxb_html_tokenizer_t *tkz,
                                              const lxb_char_t *data,
                                              const lxb_char_t *end)
{
    while (data != end) {
        if (lexbor_str_res_map_hex[ *data ] == LEXBOR_STR_RES_SLIP) {
            tkz->state = tkz->state_return;

            if (*data == ';') {
                data++;
            }

            return lxb_html_tokenizer_state_char_ref_numeric_end(tkz, data, end);
        }

        if (tkz->entity_number <= 0x10FFFF) {
            tkz->entity_number <<= 4;
            tkz->entity_number |= lexbor_str_res_map_hex[ *data ];
        }

        data++;
    }

    return data;
}

/*
 * 12.2.5.79 Decimal character reference state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_decimal(lxb_html_tokenizer_t *tkz,
                                          const lxb_char_t *data,
                                          const lxb_char_t *end)
{
    while (data != end) {
        if (lexbor_str_res_map_num[ *data ] == LEXBOR_STR_RES_SLIP) {
            tkz->state = tkz->state_return;

            if (*data == ';') {
                data++;
            }

            return lxb_html_tokenizer_state_char_ref_numeric_end(tkz, data, end);
        }

        if (tkz->entity_number <= 0x10FFFF) {
            tkz->entity_number = lexbor_str_res_map_num[ *data ]
                                 + tkz->entity_number * 10;
        }

        data++;
    }

    return data;
}

/*
 * 12.2.5.80 Numeric character reference end state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_char_ref_numeric_end(lxb_html_tokenizer_t *tkz,
                                              const lxb_char_t *data,
                                              const lxb_char_t *end)
{
    lxb_char_t *start = &tkz->start[tkz->entity_start];

    if ((start + 4) > tkz->end) {
        if(lxb_html_tokenizer_temp_realloc(tkz, 4)) {
            return end;
        }

        start = &tkz->start[tkz->entity_start];
    }

    if (tkz->entity_number == 0x00) {
        lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->markup,
                                     LXB_HTML_TOKENIZER_ERROR_NUCHRE);

        goto xFFFD;
    }
    else if (tkz->entity_number > 0x10FFFF) {
        lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->markup,
                                     LXB_HTML_TOKENIZER_ERROR_CHREOUUNRA);

        goto xFFFD;
    }
    else if (tkz->entity_number >= 0xD800 && tkz->entity_number <= 0xDFFF) {
        lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->markup,
                                     LXB_HTML_TOKENIZER_ERROR_SUCHRE);

        goto xFFFD;
    }
    else if (tkz->entity_number >= 0xFDD0 && tkz->entity_number <= 0xFDEF) {
        lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->markup,
                                     LXB_HTML_TOKENIZER_ERROR_NOCHRE);
    }

    switch (tkz->entity_number) {
        case 0xFFFE:  case 0xFFFF:  case 0x1FFFE: case 0x1FFFF: case 0x2FFFE:
        case 0x2FFFF: case 0x3FFFE: case 0x3FFFF: case 0x4FFFE: case 0x4FFFF:
        case 0x5FFFE: case 0x5FFFF: case 0x6FFFE: case 0x6FFFF: case 0x7FFFE:
        case 0x7FFFF: case 0x8FFFE: case 0x8FFFF: case 0x9FFFE: case 0x9FFFF:
        case 0xAFFFE: case 0xAFFFF: case 0xBFFFE: case 0xBFFFF: case 0xCFFFE:
        case 0xCFFFF: case 0xDFFFE: case 0xDFFFF: case 0xEFFFE: case 0xEFFFF:
        case 0xFFFFE: case 0xFFFFF:
        case 0x10FFFE:
        case 0x10FFFF:
            lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->markup,
                                         LXB_HTML_TOKENIZER_ERROR_NOCHRE);
            break;

        default:
            break;
    }

    if ((tkz->entity_number <= 0x1F
         && tkz->entity_number != 0x09  /* TAB */
         && tkz->entity_number != 0x0A  /* LINE FEED (LF) */
         && tkz->entity_number != 0x0C  /* FORM FEED (FF) */
         && tkz->entity_number != 0x20) /* SPACE */
        || (tkz->entity_number >= 0x7F && tkz->entity_number <= 0x9F))
    {
        lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->markup,
                                     LXB_HTML_TOKENIZER_ERROR_COCHRE);
    }

    if (tkz->entity_number <= 0x9F) {
        tkz->entity_number = (uint32_t) lexbor_str_res_replacement_character[tkz->entity_number];
    }

    start += lxb_html_tokenizer_state_to_ascii_utf_8(tkz->entity_number, start);

    tkz->pos = start;

    return data;

xFFFD:

    memcpy(start, lexbor_str_res_ansi_replacement_character,
           sizeof(lexbor_str_res_ansi_replacement_character) - 1);

    tkz->pos = start + sizeof(lexbor_str_res_ansi_replacement_character) - 1;

    return data;
}

static size_t
lxb_html_tokenizer_state_to_ascii_utf_8(size_t codepoint, lxb_char_t *data)
{
    /* 0x80 -- 10xxxxxx */
    /* 0xC0 -- 110xxxxx */
    /* 0xE0 -- 1110xxxx */
    /* 0xF0 -- 11110xxx */

    if (codepoint <= 0x0000007F) {
        /* 0xxxxxxx */
        data[0] = (char) codepoint;

        return 1;
    }
    else if (codepoint <= 0x000007FF) {
        /* 110xxxxx 10xxxxxx */
        data[0] = (char) (0xC0 | (codepoint >> 6  ));
        data[1] = (char) (0x80 | (codepoint & 0x3F));

        return 2;
    }
    else if (codepoint <= 0x0000FFFF) {
        /* 1110xxxx 10xxxxxx 10xxxxxx */
        data[0] = (char) (0xE0 | ((codepoint >> 12)));
        data[1] = (char) (0x80 | ((codepoint >> 6 ) & 0x3F));
        data[2] = (char) (0x80 | ( codepoint & 0x3F));

        return 3;
    }
    else if (codepoint <= 0x001FFFFF) {
        /* 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx */
        data[0] = (char) (0xF0 | ( codepoint >> 18));
        data[1] = (char) (0x80 | ((codepoint >> 12) & 0x3F));
        data[2] = (char) (0x80 | ((codepoint >> 6 ) & 0x3F));
        data[3] = (char) (0x80 | ( codepoint & 0x3F));

        return 4;
    }

    return 0;
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
LXB_EXTERN const lxb_char_t lexbor_str_res_ansi_replacement_character[4];
#endif

static const lxb_char_t *
lxb_html_tokenizer_state_comment_start(lxb_html_tokenizer_t *tkz,
                                       const lxb_char_t *data,
                                       const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_comment_start_dash(lxb_html_tokenizer_t *tkz,
                                            const lxb_char_t *data,
                                            const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_comment(lxb_html_tokenizer_t *tkz,
                                 const lxb_char_t *data,
                                 const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_comment_less_than_sign(lxb_html_tokenizer_t *tkz,
                                                const lxb_char_t *data,
                                                const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_comment_less_than_sign_bang(lxb_html_tokenizer_t *tkz,
                                                     const lxb_char_t *data,
                                                     const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_comment_less_than_sign_bang_dash(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_comment_less_than_sign_bang_dash_dash(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_comment_end_dash(lxb_html_tokenizer_t *tkz,
                                          const lxb_char_t *data,
                                          const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_comment_end(lxb_html_tokenizer_t *tkz,
                                     const lxb_char_t *data,
                                     const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_comment_end_bang(lxb_html_tokenizer_t *tkz,
                                          const lxb_char_t *data,
                                          const lxb_char_t *end);


/*
 * Helper function. No in the specification. For 12.2.5.43
 */
const lxb_char_t *
lxb_html_tokenizer_state_comment_before_start(lxb_html_tokenizer_t *tkz,
                                              const lxb_char_t *data,
                                              const lxb_char_t *end)
{
    if (tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_set_begin(tkz, data);
        lxb_html_tokenizer_state_token_set_end(tkz, data);
    }

    tkz->token->tag_id = LXB_TAG__EM_COMMENT;

    return lxb_html_tokenizer_state_comment_start(tkz, data, end);
}

/*
 * 12.2.5.43 Comment start state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_comment_start(lxb_html_tokenizer_t *tkz,
                                       const lxb_char_t *data,
                                       const lxb_char_t *end)
{
    /* U+002D HYPHEN-MINUS (-) */
    if (*data == 0x2D) {
        data++;
        tkz->state = lxb_html_tokenizer_state_comment_start_dash;
    }
    /* U+003E GREATER-THAN SIGN (>) */
    else if (*data == 0x3E) {
        tkz->state = lxb_html_tokenizer_state_data_before;

        lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_ABCLOFEMCO);

        lxb_html_tokenizer_state_set_text(tkz);
        lxb_html_tokenizer_state_token_done_wo_check_m(tkz, end);

        data++;
    }
    else {
        tkz->state = lxb_html_tokenizer_state_comment;
    }

    return data;
}

/*
 * 12.2.5.44 Comment start dash state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_comment_start_dash(lxb_html_tokenizer_t *tkz,
                                            const lxb_char_t *data,
                                            const lxb_char_t *end)
{
    /* U+002D HYPHEN-MINUS (-) */
    if (*data == 0x2D) {
        tkz->state = lxb_html_tokenizer_state_comment_end;

        return (data + 1);
    }
    /* U+003E GREATER-THAN SIGN (>) */
    else if (*data == 0x3E) {
        tkz->state = lxb_html_tokenizer_state_data_before;

        lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_ABCLOFEMCO);

        lxb_html_tokenizer_state_set_text(tkz);
        lxb_html_tokenizer_state_token_done_wo_check_m(tkz, end);

        return (data + 1);
    }
    /* EOF */
    else if (*data == 0x00) {
        if (tkz->is_eof) {
            lxb_html_tokenizer_state_append_m(tkz, "-", 1);

            lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                         LXB_HTML_TOKENIZER_ERROR_EOINCO);

            lxb_html_tokenizer_state_set_text(tkz);
            lxb_html_tokenizer_state_token_done_wo_check_m(tkz, end);

            return end;
        }
    }

    lxb_html_tokenizer_state_append_m(tkz, "-", 1);

    tkz->state = lxb_html_tokenizer_state_comment;

    return data;
}

/*
 * 12.2.5.45 Comment state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_comment(lxb_html_tokenizer_t *tkz,
                                 const lxb_char_t *data,
                                 const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /* U+003C LESS-THAN SIGN (<) */
            case 0x3C:
                data++;

                lxb_html_tokenizer_state_append_data_m(tkz, data);

                tkz->state = lxb_html_tokenizer_state_comment_less_than_sign;

                return data;

            /* U+002D HYPHEN-MINUS (-) */
            case 0x2D:
                lxb_html_tokenizer_state_token_set_end(tkz, data - 1);
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                tkz->state = lxb_html_tokenizer_state_comment_end_dash;

                return (data + 1);

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_comment;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * EOF
             * U+0000 NULL
             */
            case 0x00:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if (tkz->is_eof) {
                    if (tkz->token->begin != NULL) {
                        lxb_html_tokenizer_state_token_set_end_eof(tkz);
                    }

                    lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->token->end,
                                                 LXB_HTML_TOKENIZER_ERROR_EOINCO);

                    lxb_html_tokenizer_state_set_text(tkz);
                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);
                break;

            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.46 Comment less-than sign state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_comment_less_than_sign(lxb_html_tokenizer_t *tkz,
                                                const lxb_char_t *data,
                                                const lxb_char_t *end)
{
    /* U+0021 EXCLAMATION MARK (!) */
    if (*data == 0x21) {
        lxb_html_tokenizer_state_append_m(tkz, data, 1);

        tkz->state = lxb_html_tokenizer_state_comment_less_than_sign_bang;

        return (data + 1);
    }
    /* U+003C LESS-THAN SIGN (<) */
    else if (*data == 0x3C) {
        lxb_html_tokenizer_state_append_m(tkz, data, 1);

        return (data + 1);
    }

    tkz->state = lxb_html_tokenizer_state_comment;

    return data;
}

/*
 * 12.2.5.47 Comment less-than sign bang state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_comment_less_than_sign_bang(lxb_html_tokenizer_t *tkz,
                                                     const lxb_char_t *data,
                                                     const lxb_char_t *end)
{
    /* U+002D HYPHEN-MINUS (-) */
    if (*data == 0x2D) {
        tkz->state = lxb_html_tokenizer_state_comment_less_than_sign_bang_dash;

        return (data + 1);
    }

    tkz->state = lxb_html_tokenizer_state_comment;

    return data;
}

/*
 * 12.2.5.48 Comment less-than sign bang dash state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_comment_less_than_sign_bang_dash(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end)
{
    /* U+002D HYPHEN-MINUS (-) */
    if (*data == 0x2D) {
        tkz->state =
            lxb_html_tokenizer_state_comment_less_than_sign_bang_dash_dash;

        return (data + 1);
    }

    tkz->state = lxb_html_tokenizer_state_comment_end_dash;

    return data;
}

/*
 * 12.2.5.49 Comment less-than sign bang dash dash state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_comment_less_than_sign_bang_dash_dash(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end)
{
    /* U+003E GREATER-THAN SIGN (>) */
    if (*data == 0x3E) {
        tkz->state = lxb_html_tokenizer_state_comment_end;

        return data;
    }
    /* EOF */
    else if (*data == 0x00) {
        if (tkz->is_eof) {
            tkz->state = lxb_html_tokenizer_state_comment_end;

            return data;
        }
    }

    lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                 LXB_HTML_TOKENIZER_ERROR_NECO);

    tkz->state = lxb_html_tokenizer_state_comment_end;

    return data;
}

/*
 * 12.2.5.50 Comment end dash state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_comment_end_dash(lxb_html_tokenizer_t *tkz,
                                          const lxb_char_t *data,
                                          const lxb_char_t *end)
{
    /* U+002D HYPHEN-MINUS (-) */
    if (*data == 0x2D) {
        tkz->state = lxb_html_tokenizer_state_comment_end;

        return (data + 1);
    }
    /* EOF */
    else if (*data == 0x00) {
        if (tkz->is_eof) {
            lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                         LXB_HTML_TOKENIZER_ERROR_EOINCO);

            lxb_html_tokenizer_state_set_text(tkz);
            lxb_html_tokenizer_state_token_done_wo_check_m(tkz, end);

            return end;
        }
    }

    lxb_html_tokenizer_state_append_m(tkz, "-", 1);

    tkz->state = lxb_html_tokenizer_state_comment;

    return data;
}

/*
 * 12.2.5.51 Comment end state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_comment_end(lxb_html_tokenizer_t *tkz,
                                     const lxb_char_t *data,
                                     const lxb_char_t *end)
{
    /* U+003E GREATER-THAN SIGN (>) */
    if (*data == 0x3E) {
        /* Skip two '-' characters in comment tag end "-->"
         * For <!----> or <!-----> ...
         */
        tkz->state = lxb_html_tokenizer_state_data_before;

        lxb_html_tokenizer_state_set_text(tkz);
        lxb_html_tokenizer_state_token_done_wo_check_m(tkz, end);

        return (data + 1);
    }
    /* U+0021 EXCLAMATION MARK (!) */
    else if (*data == 0x21) {
        tkz->state = lxb_html_tokenizer_state_comment_end_bang;

        return (data + 1);
    }
    /* U+002D HYPHEN-MINUS (-) */
    else if (*data == 0x2D) {
        lxb_html_tokenizer_state_append_m(tkz, data, 1);

        return (data + 1);
    }
    /* EOF */
    else if (*data == 0x00) {
        if (tkz->is_eof) {
            lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                         LXB_HTML_TOKENIZER_ERROR_EOINCO);

            lxb_html_tokenizer_state_set_text(tkz);
            lxb_html_tokenizer_state_token_done_wo_check_m(tkz, end);

            return end;
        }
    }

    lxb_html_tokenizer_state_append_m(tkz, "--", 2);

    tkz->state = lxb_html_tokenizer_state_comment;

    return data;
}

/*
 * 12.2.5.52 Comment end bang state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_comment_end_bang(lxb_html_tokenizer_t *tkz,
                                          const lxb_char_t *data,
                                          const lxb_char_t *end)
{
    static const lexbor_str_t two = lexbor_str("--!");

    /* U+002D HYPHEN-MINUS (-) */
    if (*data == 0x2D) {
        lxb_html_tokenizer_state_append_m(tkz, two.data, two.length);

        tkz->state = lxb_html_tokenizer_state_comment_end_dash;

        return (data + 1);
    }
    /* U+003E GREATER-THAN SIGN (>) */
    else if (*data == 0x3E) {
        tkz->state = lxb_html_tokenizer_state_data_before;

        lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_INCLCO);

        lxb_html_tokenizer_state_set_text(tkz);
        lxb_html_tokenizer_state_token_done_wo_check_m(tkz, end);

        return (data + 1);
    }
    /* EOF */
    else if (*data == 0x00) {
        if (tkz->is_eof) {
            lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                         LXB_HTML_TOKENIZER_ERROR_EOINCO);

            lxb_html_tokenizer_state_set_text(tkz);
            lxb_html_tokenizer_state_token_done_wo_check_m(tkz, end);

            return end;
        }

        lxb_html_tokenizer_state_append_m(tkz, two.data, two.length);
    }
    else {
        lxb_html_tokenizer_state_append_m(tkz, two.data, two.length);
    }

    tkz->state = lxb_html_tokenizer_state_comment;

    return data;
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_ansi_replacement_character[4];
#endif

lxb_dom_attr_data_t *
lxb_dom_attr_local_name_append(lexbor_hash_t *hash,
                               const lxb_char_t *name, size_t length);


static const lxb_char_t *
lxb_html_tokenizer_state_doctype(lxb_html_tokenizer_t *tkz,
                                 const lxb_char_t *data,
                                 const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_before_name(lxb_html_tokenizer_t *tkz,
                                             const lxb_char_t *data,
                                             const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_name(lxb_html_tokenizer_t *tkz,
                                      const lxb_char_t *data,
                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_after_name(lxb_html_tokenizer_t *tkz,
                                            const lxb_char_t *data,
                                            const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_after_name_public(lxb_html_tokenizer_t *tkz,
                                                   const lxb_char_t *data,
                                                   const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_after_name_system(lxb_html_tokenizer_t *tkz,
                                                   const lxb_char_t *data,
                                                   const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_after_public_keyword(lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_before_public_identifier(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_public_identifier_double_quoted(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_public_identifier_single_quoted(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_after_public_identifier(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_between_public_and_system_identifiers(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_after_system_keyword(lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_before_system_identifier(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_system_identifier_double_quoted(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_system_identifier_single_quoted(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_after_system_identifier(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_doctype_bogus(lxb_html_tokenizer_t *tkz,
                                       const lxb_char_t *data,
                                       const lxb_char_t *end);


/*
 * Helper function. No in the specification. For 12.2.5.53
 */
const lxb_char_t *
lxb_html_tokenizer_state_doctype_before(lxb_html_tokenizer_t *tkz,
                                        const lxb_char_t *data,
                                        const lxb_char_t *end)
{
    if (tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_set_end(tkz, data);
    }
    else {
        lxb_html_tokenizer_state_token_set_end_eof(tkz);
    }

    tkz->token->tag_id = LXB_TAG__EM_DOCTYPE;

    return lxb_html_tokenizer_state_doctype(tkz, data, end);
}

/*
 * 12.2.5.53 DOCTYPE state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype(lxb_html_tokenizer_t *tkz,
                                 const lxb_char_t *data,
                                 const lxb_char_t *end)
{
    switch (*data) {
        /*
         * U+0009 CHARACTER TABULATION (tab)
         * U+000A LINE FEED (LF)
         * U+000C FORM FEED (FF)
         * U+000D CARRIAGE RETURN (CR)
         * U+0020 SPACE
         */
        case 0x09:
        case 0x0A:
        case 0x0C:
        case 0x0D:
        case 0x20:
            data++;
            break;

        /* U+003E GREATER-THAN SIGN (>) */
        case 0x3E:
            break;

        /* EOF */
        case 0x00:
            if (tkz->is_eof) {
                lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                             LXB_HTML_TOKENIZER_ERROR_EOINDO);

                tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;

                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return end;
            }
            /* fall through */

        default:
            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIWHBEDONA);
            break;
    }

    tkz->state = lxb_html_tokenizer_state_doctype_before_name;

    return data;
}

/*
 * 12.2.5.54 Before DOCTYPE name state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_before_name(lxb_html_tokenizer_t *tkz,
                                             const lxb_char_t *data,
                                             const lxb_char_t *end)
{
    lxb_html_token_attr_t *attr;

    while (data != end) {
        switch (*data) {
            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+000D CARRIAGE RETURN (CR)
             * U+0020 SPACE
             */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
                break;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                if (tkz->is_eof) {
                    lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                               LXB_HTML_TOKENIZER_ERROR_EOINDO);

                    tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;

                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_state_token_attr_add_m(tkz, attr, end);
                lxb_html_tokenizer_state_token_attr_set_name_begin(tkz, data);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);

                tkz->token->attr_last->type
                    |= LXB_HTML_TOKEN_ATTR_TYPE_NAME_NULL;

                tkz->state = lxb_html_tokenizer_state_doctype_name;

                return (data + 1);

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
                tkz->state = lxb_html_tokenizer_state_data_before;

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_MIDONA);

                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            /*
             * ASCII upper alpha
             * Anything else
             */
            default:
                lxb_html_tokenizer_state_token_attr_add_m(tkz, attr, end);
                lxb_html_tokenizer_state_token_attr_set_name_begin(tkz, data);

                tkz->state = lxb_html_tokenizer_state_doctype_name;

                return data;
        }

        data++;
    }

    return data;
}

/*
 * 12.2.5.55 DOCTYPE name state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_name(lxb_html_tokenizer_t *tkz,
                                      const lxb_char_t *data,
                                      const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+000D CARRIAGE RETURN (CR)
             * U+0020 SPACE
             */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_name_m(tkz);
                lxb_html_tokenizer_state_token_attr_set_name_end(tkz, data);

                tkz->state = lxb_html_tokenizer_state_doctype_after_name;

                return (data + 1);

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                tkz->state = lxb_html_tokenizer_state_data_before;

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_name_m(tkz);
                lxb_html_tokenizer_state_token_attr_set_name_end(tkz, data);
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if (tkz->is_eof) {
                    lxb_html_tokenizer_state_token_attr_set_name_end_oef(tkz);

                    lxb_html_tokenizer_error_add(tkz->parse_errors,
                                               tkz->token->attr_last->name_end,
                                               LXB_HTML_TOKENIZER_ERROR_EOINDO);

                    tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;

                    lxb_html_tokenizer_state_set_name_m(tkz);
                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);

                tkz->token->attr_last->type
                    |= LXB_HTML_TOKEN_ATTR_TYPE_NAME_NULL;

                break;

            /* Anything else */
            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.56 After DOCTYPE name state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_after_name(lxb_html_tokenizer_t *tkz,
                                            const lxb_char_t *data,
                                            const lxb_char_t *end)
{
    lxb_html_token_attr_t *attr;
    const lxb_dom_attr_data_t *attr_data;

    while (data != end) {
        switch (*data) {
            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+000D CARRIAGE RETURN (CR)
             * U+0020 SPACE
             */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
                break;

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                tkz->state = lxb_html_tokenizer_state_data_before;

                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            /* EOF */
            case 0x00:
                if (tkz->is_eof) {
                    lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                               LXB_HTML_TOKENIZER_ERROR_EOINDO);

                    tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;

                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }
                /* fall through */

            /* Anything else */
            default:
                lxb_html_tokenizer_state_token_attr_add_m(tkz, attr, end);
                lxb_html_tokenizer_state_token_attr_set_name_begin(tkz, data);

                if ((data + 6) > end) {
                    /*
                     * ASCII case-insensitive match for the word "PUBLIC"
                     * U+0044 character (P) or U+0050 character (p)
                     */
                    if (*data == 0x50 || *data == 0x70) {
                        tkz->markup = (lxb_char_t *) "PUBLIC";

                        tkz->state =
                            lxb_html_tokenizer_state_doctype_after_name_public;

                        return data;
                    }

                    /*
                     * ASCII case-insensitive match for the word "SYSTEM"
                     * U+0044 character (S) or U+0053 character (s)
                     */
                    if (*data == 0x53 || *data == 0x73) {
                        tkz->markup = (lxb_char_t *) "SYSTEM";

                        tkz->state =
                            lxb_html_tokenizer_state_doctype_after_name_system;

                        return data;
                    }
                }
                else if (lexbor_str_data_ncasecmp((lxb_char_t *) "PUBLIC",
                                                  data, 6))
                {
                    lxb_html_tokenizer_state_token_attr_set_name_end(tkz,
                                                                    (data + 6));

                    attr_data = lxb_dom_attr_data_by_id(tkz->attrs,
                                                        LXB_DOM_ATTR_PUBLIC);
                    if (attr_data == NULL) {
                        tkz->status = LXB_STATUS_ERROR;
                        return end;
                    }

                    tkz->token->attr_last->name = attr_data;

                    tkz->state =
                        lxb_html_tokenizer_state_doctype_after_public_keyword;

                    return (data + 6);
                }
                else if (lexbor_str_data_ncasecmp((lxb_char_t *) "SYSTEM",
                                                  data, 6))
                {
                    lxb_html_tokenizer_state_token_attr_set_name_end(tkz,
                                                                    (data + 6));

                    attr_data = lxb_dom_attr_data_by_id(tkz->attrs,
                                                        LXB_DOM_ATTR_SYSTEM);
                    if (attr_data == NULL) {
                        tkz->status = LXB_STATUS_ERROR;
                        return end;
                    }

                    tkz->token->attr_last->name = attr_data;

                    tkz->state =
                        lxb_html_tokenizer_state_doctype_after_system_keyword;

                    return (data + 6);
                }

                lxb_html_token_attr_delete(tkz->token, attr,
                                           tkz->dobj_token_attr);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_INCHSEAFDONA);

                tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
                tkz->state = lxb_html_tokenizer_state_doctype_bogus;

                return data;
        }

        data++;
    }

    return data;
}

/*
 * Helper function. No in the specification. For 12.2.5.56
 * For doctype PUBLIC
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_after_name_public(lxb_html_tokenizer_t *tkz,
                                                   const lxb_char_t *data,
                                                   const lxb_char_t *end)
{
    const lxb_char_t *pos;
    const lxb_dom_attr_data_t *attr_data;

    pos = lexbor_str_data_ncasecmp_first(tkz->markup, data, (end - data));

    if (pos == NULL) {
        lxb_html_token_attr_delete(tkz->token, tkz->token->attr_last,
                                   tkz->dobj_token_attr);

        lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_INCHSEAFDONA);

        tkz->state = lxb_html_tokenizer_state_doctype_bogus;

        return data;
    }

    if (*pos == '\0') {
        pos = data + (pos - tkz->markup);

        lxb_html_tokenizer_state_token_attr_set_name_end(tkz, pos);

        attr_data = lxb_dom_attr_data_by_id(tkz->attrs,
                                            LXB_DOM_ATTR_PUBLIC);
        if (attr_data == NULL) {
            tkz->status = LXB_STATUS_ERROR;
            return end;
        }

        tkz->token->attr_last->name = attr_data;

        tkz->state = lxb_html_tokenizer_state_doctype_after_public_keyword;

        return (pos + 1);
    }

    tkz->markup = pos;

    return end;
}

/*
 * Helper function. No in the specification. For 12.2.5.56
 * For doctype SYSTEM
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_after_name_system(lxb_html_tokenizer_t *tkz,
                                                   const lxb_char_t *data,
                                                   const lxb_char_t *end)
{
    const lxb_char_t *pos;
    const lxb_dom_attr_data_t *attr_data;

    pos = lexbor_str_data_ncasecmp_first(tkz->markup, data, (end - data));

    if (pos == NULL) {
        lxb_html_token_attr_delete(tkz->token, tkz->token->attr_last,
                                   tkz->dobj_token_attr);

        lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_INCHSEAFDONA);

        tkz->state = lxb_html_tokenizer_state_doctype_bogus;

        return data;
    }

    if (*pos == '\0') {
        pos = data + (pos - tkz->markup);

        lxb_html_tokenizer_state_token_attr_set_name_end(tkz, pos);

        attr_data = lxb_dom_attr_data_by_id(tkz->attrs,
                                            LXB_DOM_ATTR_SYSTEM);
        if (attr_data == NULL) {
            tkz->status = LXB_STATUS_ERROR;
            return end;
        }

        tkz->token->attr_last->name = attr_data;

        tkz->state = lxb_html_tokenizer_state_doctype_after_system_keyword;

        return (pos + 1);
    }

    tkz->markup = pos;

    return end;
}

/*
 * 12.2.5.57 After DOCTYPE public keyword state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_after_public_keyword(lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end)
{
    switch (*data) {
        /*
         * U+0009 CHARACTER TABULATION (tab)
         * U+000A LINE FEED (LF)
         * U+000C FORM FEED (FF)
         * U+000D CARRIAGE RETURN (CR)
         * U+0020 SPACE
         */
        case 0x09:
        case 0x0A:
        case 0x0C:
        case 0x0D:
        case 0x20:
            tkz->state =
                lxb_html_tokenizer_state_doctype_before_public_identifier;

            return (data + 1);

        /* U+0022 QUOTATION MARK (") */
        case 0x22:
            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIWHAFDOPUKE);

            tkz->state =
               lxb_html_tokenizer_state_doctype_public_identifier_double_quoted;

            return (data + 1);

        /* U+0027 APOSTROPHE (') */
        case 0x27:
            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIWHAFDOPUKE);

            tkz->state =
               lxb_html_tokenizer_state_doctype_public_identifier_single_quoted;

            return (data + 1);

        /* U+003E GREATER-THAN SIGN (>) */
        case 0x3E:
            tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
            tkz->state = lxb_html_tokenizer_state_data_before;

            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIDOPUID);

            lxb_html_tokenizer_state_token_done_m(tkz, end);

            return (data + 1);

        /* EOF */
        case 0x00:
            if (tkz->is_eof) {
                tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;

                lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                             LXB_HTML_TOKENIZER_ERROR_EOINDO);

                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return end;
            }
            /* fall through */

        default:
            tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
            tkz->state = lxb_html_tokenizer_state_doctype_bogus;

            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIQUBEDOPUID);

            return data;
    }

    return data;
}

/*
 * 12.2.5.58 Before DOCTYPE public identifier state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_before_public_identifier(lxb_html_tokenizer_t *tkz,
                                                          const lxb_char_t *data,
                                                          const lxb_char_t *end)
{
    switch (*data) {
        /*
         * U+0009 CHARACTER TABULATION (tab)
         * U+000A LINE FEED (LF)
         * U+000C FORM FEED (FF)
         * U+000D CARRIAGE RETURN (CR)
         * U+0020 SPACE
         */
        case 0x09:
        case 0x0A:
        case 0x0C:
        case 0x0D:
        case 0x20:
            break;

        /* U+0022 QUOTATION MARK (") */
        case 0x22:
            tkz->state =
               lxb_html_tokenizer_state_doctype_public_identifier_double_quoted;

            break;

        /* U+0027 APOSTROPHE (') */
        case 0x27:
            tkz->state =
               lxb_html_tokenizer_state_doctype_public_identifier_single_quoted;

            break;

        /* U+003E GREATER-THAN SIGN (>) */
        case 0x3E:
            tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
            tkz->state = lxb_html_tokenizer_state_data_before;

            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIDOPUID);

            lxb_html_tokenizer_state_token_done_m(tkz, end);

            break;

        /* EOF */
        case 0x00:
            if (tkz->is_eof) {
                lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                             LXB_HTML_TOKENIZER_ERROR_EOINDO);

                tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;

                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return end;
            }
            /* fall through */

        default:
            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIQUBEDOPUID);

            tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
            tkz->state = lxb_html_tokenizer_state_doctype_bogus;

            return data;
    }

    return (data + 1);
}

/*
 * 12.2.5.59 DOCTYPE public identifier (double-quoted) state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_public_identifier_double_quoted(lxb_html_tokenizer_t *tkz,
                                                                 const lxb_char_t *data,
                                                                 const lxb_char_t *end)
{
    if (tkz->token->attr_last->value_begin == NULL && tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_attr_set_value_begin(tkz, data);
    }

    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /* U+0022 QUOTATION MARK (") */
            case 0x22:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_value_m(tkz);
                lxb_html_tokenizer_state_token_attr_set_value_end(tkz, data);

                tkz->state =
                    lxb_html_tokenizer_state_doctype_after_public_identifier;

                return (data + 1);

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                tkz->state = lxb_html_tokenizer_state_data_before;

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_ABDOPUID);

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_value_m(tkz);
                lxb_html_tokenizer_state_token_attr_set_value_end(tkz, data);
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_doctype_public_identifier_double_quoted;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if (tkz->is_eof) {
                    lxb_html_tokenizer_state_token_attr_set_value_end_oef(tkz);

                    if (tkz->token->attr_last->value_begin == NULL) {
                        lxb_html_tokenizer_state_token_attr_set_value_begin(tkz,
                                            tkz->token->attr_last->value_end);
                    }

                    lxb_html_tokenizer_error_add(tkz->parse_errors,
                                               tkz->token->attr_last->value_end,
                                               LXB_HTML_TOKENIZER_ERROR_EOINDO);

                    tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;

                    lxb_html_tokenizer_state_set_value_m(tkz);
                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);

                tkz->token->attr_last->type
                    |= LXB_HTML_TOKEN_ATTR_TYPE_VALUE_NULL;

                break;

            /* Anything else */
            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.60 DOCTYPE public identifier (single-quoted) state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_public_identifier_single_quoted(lxb_html_tokenizer_t *tkz,
                                                                 const lxb_char_t *data,
                                                                 const lxb_char_t *end)
{
    if (tkz->token->attr_last->value_begin == NULL && tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_attr_set_value_begin(tkz, data);
    }

    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /* U+0027 APOSTROPHE (') */
            case 0x27:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_value_m(tkz);
                lxb_html_tokenizer_state_token_attr_set_value_end(tkz, data);

                tkz->state =
                    lxb_html_tokenizer_state_doctype_after_public_identifier;

                return (data + 1);

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                tkz->state = lxb_html_tokenizer_state_data_before;

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_ABDOPUID);

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_value_m(tkz);
                lxb_html_tokenizer_state_token_attr_set_value_end(tkz, data);
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_doctype_public_identifier_single_quoted;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if (tkz->is_eof) {
                    lxb_html_tokenizer_state_token_attr_set_value_end_oef(tkz);

                    if (tkz->token->attr_last->value_begin == NULL) {
                        lxb_html_tokenizer_state_token_attr_set_value_begin(tkz,
                                              tkz->token->attr_last->value_end);
                    }

                    lxb_html_tokenizer_error_add(tkz->parse_errors,
                                               tkz->token->attr_last->value_end,
                                               LXB_HTML_TOKENIZER_ERROR_EOINDO);

                    tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;

                    lxb_html_tokenizer_state_set_value_m(tkz);
                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);

                tkz->token->attr_last->type
                    |= LXB_HTML_TOKEN_ATTR_TYPE_VALUE_NULL;

                break;

            /* Anything else */
            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.61 After DOCTYPE public identifier state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_after_public_identifier(lxb_html_tokenizer_t *tkz,
                                                         const lxb_char_t *data,
                                                         const lxb_char_t *end)
{
    lxb_html_token_attr_t *attr;

    switch (*data) {
        /*
         * U+0009 CHARACTER TABULATION (tab)
         * U+000A LINE FEED (LF)
         * U+000C FORM FEED (FF)
         * U+000D CARRIAGE RETURN (CR)
         * U+0020 SPACE
         */
        case 0x09:
        case 0x0A:
        case 0x0C:
        case 0x0D:
        case 0x20:
            tkz->state =
         lxb_html_tokenizer_state_doctype_between_public_and_system_identifiers;

            return (data + 1);

        /* U+003E GREATER-THAN SIGN (>) */
        case 0x3E:
            tkz->state = lxb_html_tokenizer_state_data_before;

            lxb_html_tokenizer_state_token_done_m(tkz, end);

            return (data + 1);

        /* U+0022 QUOTATION MARK (") */
        case 0x22:
            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_MIWHBEDOPUANSYID);

            lxb_html_tokenizer_state_token_attr_add_m(tkz, attr, end);

            tkz->state =
               lxb_html_tokenizer_state_doctype_system_identifier_double_quoted;

            return (data + 1);

        /* U+0027 APOSTROPHE (') */
        case 0x27:
            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                     LXB_HTML_TOKENIZER_ERROR_MIWHBEDOPUANSYID);

            lxb_html_tokenizer_state_token_attr_add_m(tkz, attr, end);

            tkz->state =
               lxb_html_tokenizer_state_doctype_system_identifier_single_quoted;

            return (data + 1);

        /* EOF */
        case 0x00:
            if (tkz->is_eof) {
                lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                             LXB_HTML_TOKENIZER_ERROR_EOINDO);

                tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return end;
            }
            /* fall through */

        default:
            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIQUBEDOSYID);

            tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
            tkz->state = lxb_html_tokenizer_state_doctype_bogus;

            return data;
    }

    return data;
}

/*
 * 12.2.5.62 Between DOCTYPE public and system identifiers state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_between_public_and_system_identifiers(lxb_html_tokenizer_t *tkz,
                                                                       const lxb_char_t *data,
                                                                       const lxb_char_t *end)
{
    lxb_html_token_attr_t *attr;

    switch (*data) {
        /*
         * U+0009 CHARACTER TABULATION (tab)
         * U+000A LINE FEED (LF)
         * U+000C FORM FEED (FF)
         * U+000D CARRIAGE RETURN (CR)
         * U+0020 SPACE
         */
        case 0x09:
        case 0x0A:
        case 0x0C:
        case 0x0D:
        case 0x20:
            return (data + 1);

        /* U+003E GREATER-THAN SIGN (>) */
        case 0x3E:
            tkz->state = lxb_html_tokenizer_state_data_before;

            lxb_html_tokenizer_state_token_done_m(tkz, end);

            return (data + 1);

        /* U+0022 QUOTATION MARK (") */
        case 0x22:
            lxb_html_tokenizer_state_token_attr_add_m(tkz, attr, end);

            tkz->state =
               lxb_html_tokenizer_state_doctype_system_identifier_double_quoted;

            return (data + 1);

        /* U+0027 APOSTROPHE (') */
        case 0x27:
            lxb_html_tokenizer_state_token_attr_add_m(tkz, attr, end);

            tkz->state =
               lxb_html_tokenizer_state_doctype_system_identifier_single_quoted;

            return (data + 1);

        /* EOF */
        case 0x00:
            if (tkz->is_eof) {
                lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                             LXB_HTML_TOKENIZER_ERROR_EOINDO);

                tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return end;
            }
            /* fall through */

        default:
            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIQUBEDOSYID);

            tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
            tkz->state = lxb_html_tokenizer_state_doctype_bogus;

            return data;
    }

    return data;
}

/*
 * 12.2.5.63 After DOCTYPE system keyword state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_after_system_keyword(lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end)
{
    switch (*data) {
        /*
         * U+0009 CHARACTER TABULATION (tab)
         * U+000A LINE FEED (LF)
         * U+000C FORM FEED (FF)
         * U+000D CARRIAGE RETURN (CR)
         * U+0020 SPACE
         */
        case 0x09:
        case 0x0A:
        case 0x0C:
        case 0x0D:
        case 0x20:
            tkz->state =
                lxb_html_tokenizer_state_doctype_before_system_identifier;

            return (data + 1);

        /* U+0022 QUOTATION MARK (") */
        case 0x22:
            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIWHAFDOSYKE);

            tkz->state =
               lxb_html_tokenizer_state_doctype_system_identifier_double_quoted;

            return (data + 1);

        /* U+0027 APOSTROPHE (') */
        case 0x27:
            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIWHAFDOSYKE);

            tkz->state =
               lxb_html_tokenizer_state_doctype_system_identifier_single_quoted;

            return (data + 1);

        /* U+003E GREATER-THAN SIGN (>) */
        case 0x3E:
            tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
            tkz->state = lxb_html_tokenizer_state_data_before;

            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIDOSYID);

            lxb_html_tokenizer_state_token_done_m(tkz, end);

            return (data + 1);

        /* EOF */
        case 0x00:
            if (tkz->is_eof) {
                lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                             LXB_HTML_TOKENIZER_ERROR_EOINDO);

                tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return end;
            }
            /* fall through */

        default:
            tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
            tkz->state = lxb_html_tokenizer_state_doctype_bogus;

            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIQUBEDOSYID);

            return data;
    }

    return data;
}

/*
 * 12.2.5.64 Before DOCTYPE system identifier state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_before_system_identifier(lxb_html_tokenizer_t *tkz,
                                                          const lxb_char_t *data,
                                                          const lxb_char_t *end)
{
    switch (*data) {
        /*
         * U+0009 CHARACTER TABULATION (tab)
         * U+000A LINE FEED (LF)
         * U+000C FORM FEED (FF)
         * U+000D CARRIAGE RETURN (CR)
         * U+0020 SPACE
         */
        case 0x09:
        case 0x0A:
        case 0x0C:
        case 0x0D:
        case 0x20:
            return (data + 1);

        /* U+0022 QUOTATION MARK (") */
        case 0x22:
            tkz->state =
               lxb_html_tokenizer_state_doctype_system_identifier_double_quoted;

            return (data + 1);

        /* U+0027 APOSTROPHE (') */
        case 0x27:
            tkz->state =
               lxb_html_tokenizer_state_doctype_system_identifier_single_quoted;

            return (data + 1);

        /* U+003E GREATER-THAN SIGN (>) */
        case 0x3E:
            tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
            tkz->state = lxb_html_tokenizer_state_data_before;

            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIDOSYID);

            lxb_html_tokenizer_state_token_done_m(tkz, end);

            return (data + 1);

        /* EOF */
        case 0x00:
            if (tkz->is_eof) {
                lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                             LXB_HTML_TOKENIZER_ERROR_EOINDO);

                tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;

                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return end;
            }
            /* fall through */

        default:
            tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;
            tkz->state = lxb_html_tokenizer_state_doctype_bogus;

            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_MIQUBEDOSYID);

            return data;
    }

    return data;
}

/*
 * 12.2.5.65 DOCTYPE system identifier (double-quoted) state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_system_identifier_double_quoted(lxb_html_tokenizer_t *tkz,
                                                                 const lxb_char_t *data,
                                                                 const lxb_char_t *end)
{
    if (tkz->token->attr_last->value_begin == NULL && tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_attr_set_value_begin(tkz, data);
    }

    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /* U+0022 QUOTATION MARK (") */
            case 0x22:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_value_m(tkz);
                lxb_html_tokenizer_state_token_attr_set_value_end(tkz, data);

                tkz->state =
                    lxb_html_tokenizer_state_doctype_after_system_identifier;

                return (data + 1);

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                tkz->state = lxb_html_tokenizer_state_data_before;

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_ABDOSYID);

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_value_m(tkz);
                lxb_html_tokenizer_state_token_attr_set_value_end(tkz, data);
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_doctype_system_identifier_double_quoted;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if (tkz->is_eof) {
                    lxb_html_tokenizer_state_token_attr_set_value_end_oef(tkz);

                    if (tkz->token->attr_last->value_begin == NULL) {
                        lxb_html_tokenizer_state_token_attr_set_value_begin(tkz,
                                              tkz->token->attr_last->value_end);
                    }

                    lxb_html_tokenizer_error_add(tkz->parse_errors,
                                               tkz->token->attr_last->value_end,
                                               LXB_HTML_TOKENIZER_ERROR_EOINDO);

                    tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;

                    lxb_html_tokenizer_state_set_value_m(tkz);
                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);

                tkz->token->attr_last->type
                    |= LXB_HTML_TOKEN_ATTR_TYPE_VALUE_NULL;

                break;

            /* Anything else */
            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.66 DOCTYPE system identifier (single-quoted) state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_system_identifier_single_quoted(lxb_html_tokenizer_t *tkz,
                                                                 const lxb_char_t *data,
                                                                 const lxb_char_t *end)
{
    if (tkz->token->attr_last->value_begin == NULL && tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_attr_set_value_begin(tkz, data);
    }

    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /* U+0027 APOSTROPHE (') */
            case 0x27:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_value_m(tkz);
                lxb_html_tokenizer_state_token_attr_set_value_end(tkz, data);

                tkz->state =
                    lxb_html_tokenizer_state_doctype_after_system_identifier;

                return (data + 1);

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                tkz->state = lxb_html_tokenizer_state_data_before;

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_ABDOSYID);

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_value_m(tkz);
                lxb_html_tokenizer_state_token_attr_set_value_end(tkz, data);
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_doctype_system_identifier_single_quoted;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if (tkz->is_eof) {
                    lxb_html_tokenizer_state_token_attr_set_value_end_oef(tkz);

                    if (tkz->token->attr_last->value_begin == NULL) {
                        lxb_html_tokenizer_state_token_attr_set_value_begin(tkz,
                                              tkz->token->attr_last->value_end);
                    }

                    lxb_html_tokenizer_error_add(tkz->parse_errors,
                                               tkz->token->attr_last->value_end,
                                               LXB_HTML_TOKENIZER_ERROR_EOINDO);

                    tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;

                    lxb_html_tokenizer_state_set_value_m(tkz);
                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);

                tkz->token->attr_last->type
                    |= LXB_HTML_TOKEN_ATTR_TYPE_VALUE_NULL;

                break;

            /* Anything else */
            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.67 After DOCTYPE system identifier state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_after_system_identifier(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end)
{
    switch (*data) {
        /*
         * U+0009 CHARACTER TABULATION (tab)
         * U+000A LINE FEED (LF)
         * U+000C FORM FEED (FF)
         * U+000D CARRIAGE RETURN (CR)
         * U+0020 SPACE
         */
        case 0x09:
        case 0x0A:
        case 0x0C:
        case 0x0D:
        case 0x20:
            return (data + 1);

        /* U+003E GREATER-THAN SIGN (>) */
        case 0x3E:
            tkz->state = lxb_html_tokenizer_state_data_before;

            lxb_html_tokenizer_state_token_done_m(tkz, end);

            return (data + 1);

        /* EOF */
        case 0x00:
            if (tkz->is_eof) {
                lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                             LXB_HTML_TOKENIZER_ERROR_EOINDO);

                tkz->token->type |= LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS;

                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return end;
            }
            /* fall through */

        default:
            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_UNCHAFDOSYID);

            tkz->state = lxb_html_tokenizer_state_doctype_bogus;

            return data;
    }

    return data;
}

/*
 * 12.2.5.68 Bogus DOCTYPE state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_doctype_bogus(lxb_html_tokenizer_t *tkz,
                                       const lxb_char_t *data,
                                       const lxb_char_t *end)
{
    while (data != end) {
        switch (*data) {
            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                tkz->state = lxb_html_tokenizer_state_data_before;

                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                if (tkz->is_eof) {
                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);

                break;

            /* Anything else */
            default:
                break;
        }

        data++;
    }

    return data;
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_ansi_replacement_character[4];
    LXB_EXTERN const size_t     lexbor_str_res_alpha_character[256];
#endif

const lxb_tag_data_t *
lxb_tag_append_lower(lexbor_hash_t *hash,
                     const lxb_char_t *name, size_t length);


static const lxb_char_t *
lxb_html_tokenizer_state_rawtext(lxb_html_tokenizer_t *tkz,
                                const lxb_char_t *data,
                                const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_rawtext_less_than_sign(lxb_html_tokenizer_t *tkz,
                                               const lxb_char_t *data,
                                               const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_rawtext_end_tag_open(lxb_html_tokenizer_t *tkz,
                                             const lxb_char_t *data,
                                             const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_rawtext_end_tag_name(lxb_html_tokenizer_t *tkz,
                                             const lxb_char_t *data,
                                             const lxb_char_t *end);


/*
 * Helper function. No in the specification. For 12.2.5.3 RAWTEXT state
 */
const lxb_char_t *
lxb_html_tokenizer_state_rawtext_before(lxb_html_tokenizer_t *tkz,
                                        const lxb_char_t *data,
                                        const lxb_char_t *end)
{
    if (tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_set_begin(tkz, data);
    }

    tkz->state = lxb_html_tokenizer_state_rawtext;

    return data;
}

/*
 * 12.2.5.3 RAWTEXT state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_rawtext(lxb_html_tokenizer_t *tkz,
                                 const lxb_char_t *data,
                                 const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /* U+003C LESS-THAN SIGN (<) */
            case 0x3C:
                lxb_html_tokenizer_state_append_data_m(tkz, data + 1);
                lxb_html_tokenizer_state_token_set_end(tkz, data);

                tkz->state = lxb_html_tokenizer_state_rawtext_less_than_sign;

                return (data + 1);

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_rawtext;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if (tkz->is_eof) {
                    if (tkz->token->begin != NULL) {
                        lxb_html_tokenizer_state_token_set_end_eof(tkz);
                    }

                    tkz->token->tag_id = LXB_TAG__TEXT;

                    lxb_html_tokenizer_state_set_text(tkz);
                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);
                break;

            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.12 RAWTEXT less-than sign state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_rawtext_less_than_sign(lxb_html_tokenizer_t *tkz,
                                                const lxb_char_t *data,
                                                const lxb_char_t *end)
{
    /* U+002F SOLIDUS (/) */
    if (*data == 0x2F) {
        tkz->state = lxb_html_tokenizer_state_rawtext_end_tag_open;

        return (data + 1);
    }

    tkz->state = lxb_html_tokenizer_state_rawtext;

    return data;
}

/*
 * 12.2.5.13 RAWTEXT end tag open state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_rawtext_end_tag_open(lxb_html_tokenizer_t *tkz,
                                              const lxb_char_t *data,
                                              const lxb_char_t *end)
{
    if (lexbor_str_res_alpha_character[*data] != LEXBOR_STR_RES_SLIP) {
        tkz->temp = data;
        tkz->entity_start = (tkz->pos - 1) - tkz->start;

        tkz->state = lxb_html_tokenizer_state_rawtext_end_tag_name;
    }
    else {
        tkz->state = lxb_html_tokenizer_state_rawtext;
    }

    lxb_html_tokenizer_state_append_m(tkz, "/", 1);

    return data;
}

/*
 * 12.2.5.14 RAWTEXT end tag name state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_rawtext_end_tag_name(lxb_html_tokenizer_t *tkz,
                                              const lxb_char_t *data,
                                              const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+000D CARRIAGE RETURN (CR)
             * U+0020 SPACE
             */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, &tkz->start[tkz->entity_start] + 2,
                                                   tkz->pos);

                if (tkz->tmp_tag_id != tkz->token->tag_id) {
                    goto anything_else;
                }

                tkz->state = lxb_html_tokenizer_state_before_attribute_name;
                goto done;

            /* U+002F SOLIDUS (/) */
            case 0x2F:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, &tkz->start[tkz->entity_start] + 2,
                                                   tkz->pos);

                if (tkz->tmp_tag_id != tkz->token->tag_id) {
                    goto anything_else;
                }

                tkz->state = lxb_html_tokenizer_state_self_closing_start_tag;
                goto done;

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, &tkz->start[tkz->entity_start] + 2,
                                                   tkz->pos);

                if (tkz->tmp_tag_id != tkz->token->tag_id) {
                    goto anything_else;
                }

                tkz->state = lxb_html_tokenizer_state_data_before;

                /* Emit text token */
                tkz->token->tag_id = LXB_TAG__TEXT;
                tkz->pos = &tkz->start[tkz->entity_start];

                lxb_html_tokenizer_state_set_text(tkz);
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                /* Init close token */
                tkz->token->tag_id = tkz->tmp_tag_id;
                tkz->token->begin = tkz->temp;
                tkz->token->end = data;
                tkz->token->type |= LXB_HTML_TOKEN_TYPE_CLOSE;

                /* Emit close token */
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            default:
                if (lexbor_str_res_alpha_character[*data]
                    == LEXBOR_STR_RES_SLIP)
                {
                    lxb_html_tokenizer_state_append_data_m(tkz, data);

                    goto anything_else;
                }

                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;

anything_else:

    tkz->state = lxb_html_tokenizer_state_rawtext;

    return data;

done:

    /* Emit text token */
    tkz->token->tag_id = LXB_TAG__TEXT;
    tkz->pos = &tkz->start[tkz->entity_start];

    lxb_html_tokenizer_state_set_text(tkz);
    lxb_html_tokenizer_state_token_done_m(tkz, end);

    /* Init close token */
    tkz->token->tag_id = tkz->tmp_tag_id;
    tkz->token->begin = tkz->temp;
    tkz->token->end = data;
    tkz->token->type |= LXB_HTML_TOKEN_TYPE_CLOSE;

    return (data + 1);
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_ansi_replacement_character[4];
    LXB_EXTERN const size_t     lexbor_str_res_alpha_character[256];
#endif

const lxb_tag_data_t *
lxb_tag_append_lower(lexbor_hash_t *hash,
                     const lxb_char_t *name, size_t length);


static const lxb_char_t *
lxb_html_tokenizer_state_rcdata(lxb_html_tokenizer_t *tkz,
                                const lxb_char_t *data,
                                const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_rcdata_less_than_sign(lxb_html_tokenizer_t *tkz,
                                               const lxb_char_t *data,
                                               const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_rcdata_end_tag_open(lxb_html_tokenizer_t *tkz,
                                             const lxb_char_t *data,
                                             const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_rcdata_end_tag_name(lxb_html_tokenizer_t *tkz,
                                             const lxb_char_t *data,
                                             const lxb_char_t *end);


/*
 * Helper function. No in the specification. For 12.2.5.2 RCDATA state
 */
const lxb_char_t *
lxb_html_tokenizer_state_rcdata_before(lxb_html_tokenizer_t *tkz,
                                       const lxb_char_t *data,
                                       const lxb_char_t *end)
{
    if (tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_set_begin(tkz, data);
    }

    tkz->state = lxb_html_tokenizer_state_rcdata;

    return data;
}

/*
 * 12.2.5.2 RCDATA state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_rcdata(lxb_html_tokenizer_t *tkz,
                                const lxb_char_t *data,
                                const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /* U+003C LESS-THAN SIGN (<) */
            case 0x3C:
                lxb_html_tokenizer_state_append_data_m(tkz, data + 1);
                lxb_html_tokenizer_state_token_set_end(tkz, data);

                tkz->state = lxb_html_tokenizer_state_rcdata_less_than_sign;

                return (data + 1);

            /* U+0026 AMPERSAND (&) */
            case 0x26:
                lxb_html_tokenizer_state_append_data_m(tkz, data + 1);

                tkz->state = lxb_html_tokenizer_state_char_ref;
                tkz->state_return = lxb_html_tokenizer_state_rcdata;

                return data + 1;

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_rcdata;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if (tkz->is_eof) {
                    if (tkz->token->begin != NULL) {
                        lxb_html_tokenizer_state_token_set_end_eof(tkz);
                    }

                    tkz->token->tag_id = LXB_TAG__TEXT;

                    lxb_html_tokenizer_state_set_text(tkz);
                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);
                break;

            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.9 RCDATA less-than sign state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_rcdata_less_than_sign(lxb_html_tokenizer_t *tkz,
                                               const lxb_char_t *data,
                                               const lxb_char_t *end)
{
    /* U+002F SOLIDUS (/) */
    if (*data == 0x2F) {
        tkz->state = lxb_html_tokenizer_state_rcdata_end_tag_open;

        return (data + 1);
    }

    tkz->state = lxb_html_tokenizer_state_rcdata;

    return data;
}

/*
 * 12.2.5.10 RCDATA end tag open state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_rcdata_end_tag_open(lxb_html_tokenizer_t *tkz,
                                             const lxb_char_t *data,
                                             const lxb_char_t *end)
{
    if (lexbor_str_res_alpha_character[*data] != LEXBOR_STR_RES_SLIP) {
        tkz->temp = data;
        tkz->entity_start = (tkz->pos - 1) - tkz->start;

        tkz->state = lxb_html_tokenizer_state_rcdata_end_tag_name;
    }
    else {
        tkz->state = lxb_html_tokenizer_state_rcdata;
    }

    lxb_html_tokenizer_state_append_m(tkz, "/", 1);

    return data;
}

/*
 * 12.2.5.11 RCDATA end tag name state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_rcdata_end_tag_name(lxb_html_tokenizer_t *tkz,
                                             const lxb_char_t *data,
                                             const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+000D CARRIAGE RETURN (CR)
             * U+0020 SPACE
             */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, &tkz->start[tkz->entity_start] + 2,
                                                   tkz->pos);

                if (tkz->tmp_tag_id != tkz->token->tag_id) {
                    goto anything_else;
                }

                tkz->state = lxb_html_tokenizer_state_before_attribute_name;
                goto done;

            /* U+002F SOLIDUS (/) */
            case 0x2F:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, &tkz->start[tkz->entity_start] + 2,
                                                   tkz->pos);

                if (tkz->tmp_tag_id != tkz->token->tag_id) {
                    goto anything_else;
                }

                tkz->state = lxb_html_tokenizer_state_self_closing_start_tag;
                goto done;

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, &tkz->start[tkz->entity_start] + 2,
                                                   tkz->pos);

                if (tkz->tmp_tag_id != tkz->token->tag_id) {
                    goto anything_else;
                }

                tkz->state = lxb_html_tokenizer_state_data_before;

                /* Emit text token */
                tkz->token->tag_id = LXB_TAG__TEXT;
                tkz->pos = &tkz->start[tkz->entity_start];

                lxb_html_tokenizer_state_set_text(tkz);
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                /* Init close token */
                tkz->token->tag_id = tkz->tmp_tag_id;
                tkz->token->begin = tkz->temp;
                tkz->token->end = data;
                tkz->token->type |= LXB_HTML_TOKEN_TYPE_CLOSE;

                /* Emit close token */
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            default:
                if (lexbor_str_res_alpha_character[*data]
                    == LEXBOR_STR_RES_SLIP)
                {
                    lxb_html_tokenizer_state_append_data_m(tkz, data);

                    goto anything_else;
                }

                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;

anything_else:

    tkz->state = lxb_html_tokenizer_state_rcdata;

    return data;

done:

    /* Emit text token */
    tkz->token->tag_id = LXB_TAG__TEXT;
    tkz->pos = &tkz->start[tkz->entity_start];

    lxb_html_tokenizer_state_set_text(tkz);
    lxb_html_tokenizer_state_token_done_m(tkz, end);

    /* Init close token */
    tkz->token->tag_id = tkz->tmp_tag_id;
    tkz->token->end = data;
    tkz->token->type |= LXB_HTML_TOKEN_TYPE_CLOSE;

    return (data + 1);
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const size_t lexbor_str_res_alpha_character[256];
    LXB_EXTERN const size_t lexbor_str_res_replacement_character[160];
    LXB_EXTERN const lxb_char_t lexbor_str_res_ansi_replacement_character[4];
#endif

const lxb_tag_data_t *
lxb_tag_append_lower(lexbor_hash_t *hash,
                     const lxb_char_t *name, size_t length);


static const lxb_char_t *
lxb_html_tokenizer_state_script_data(lxb_html_tokenizer_t *tkz,
                                     const lxb_char_t *data,
                                     const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_less_than_sign(lxb_html_tokenizer_t *tkz,
                                                    const lxb_char_t *data,
                                                    const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_end_tag_open(lxb_html_tokenizer_t *tkz,
                                                  const lxb_char_t *data,
                                                  const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_end_tag_name(lxb_html_tokenizer_t *tkz,
                                                  const lxb_char_t *data,
                                                  const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escape_start(lxb_html_tokenizer_t *tkz,
                                                  const lxb_char_t *data,
                                                  const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escape_start_dash(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escaped(lxb_html_tokenizer_t *tkz,
                                             const lxb_char_t *data,
                                             const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escaped_dash(lxb_html_tokenizer_t *tkz,
                                                  const lxb_char_t *data,
                                                  const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escaped_dash_dash(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escaped_less_than_sign(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escaped_end_tag_open(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escaped_end_tag_name(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_double_escape_start(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_double_escaped(lxb_html_tokenizer_t *tkz,
                                                    const lxb_char_t *data,
                                                    const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_double_escaped_dash(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_double_escaped_dash_dash(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_double_escaped_less_than_sign(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_double_escaped_end_tag_open(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);

static const lxb_char_t *
lxb_html_tokenizer_state_script_data_double_escape_end(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end);


/*
 * Helper function. No in the specification. For 12.2.5.4 Script data state
 */
const lxb_char_t *
lxb_html_tokenizer_state_script_data_before(lxb_html_tokenizer_t *tkz,
                                            const lxb_char_t *data,
                                            const lxb_char_t *end)
{
    if (tkz->is_eof == false) {
        lxb_html_tokenizer_state_token_set_begin(tkz, data);
    }

    tkz->state = lxb_html_tokenizer_state_script_data;

    return data;
}

/*
 * 12.2.5.4 Script data state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data(lxb_html_tokenizer_t *tkz,
                                     const lxb_char_t *data,
                                     const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /* U+003C LESS-THAN SIGN (<) */
            case 0x3C:
                lxb_html_tokenizer_state_append_data_m(tkz, data + 1);
                lxb_html_tokenizer_state_token_set_end(tkz, data);

                tkz->state =
                    lxb_html_tokenizer_state_script_data_less_than_sign;

                return (data + 1);

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_script_data;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if (tkz->is_eof) {
                    if (tkz->token->begin != NULL) {
                        lxb_html_tokenizer_state_token_set_end_eof(tkz);
                    }

                    tkz->token->tag_id = LXB_TAG__TEXT;

                    lxb_html_tokenizer_state_set_text(tkz);
                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);
                break;

            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.15 Script data less-than sign state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_less_than_sign(lxb_html_tokenizer_t *tkz,
                                                    const lxb_char_t *data,
                                                    const lxb_char_t *end)
{
    switch (*data) {
        /* U+002F SOLIDUS (/) */
        case 0x2F:
            tkz->state = lxb_html_tokenizer_state_script_data_end_tag_open;

            return (data + 1);

        /* U+0021 EXCLAMATION MARK (!) */
        case 0x21:
            tkz->state = lxb_html_tokenizer_state_script_data_escape_start;

            return (data + 1);

        default:
            tkz->state = lxb_html_tokenizer_state_script_data;

            break;
    }

    return data;
}

/*
 * 12.2.5.16 Script data end tag open state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_end_tag_open(lxb_html_tokenizer_t *tkz,
                                                  const lxb_char_t *data,
                                                  const lxb_char_t *end)
{
    if (lexbor_str_res_alpha_character[*data] != LEXBOR_STR_RES_SLIP) {
        tkz->entity_start = (tkz->pos - 1) - tkz->start;
        tkz->temp = data;

        tkz->state = lxb_html_tokenizer_state_script_data_end_tag_name;
    }
    else {
        tkz->state = lxb_html_tokenizer_state_script_data;
    }

    lxb_html_tokenizer_state_append_m(tkz, "/", 1);

    return data;
}

/*
 * 12.2.5.17 Script data end tag name state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_end_tag_name(lxb_html_tokenizer_t *tkz,
                                                  const lxb_char_t *data,
                                                  const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+000D CARRIAGE RETURN (CR)
             * U+0020 SPACE
             */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, &tkz->start[tkz->entity_start] + 2,
                                                   tkz->pos);

                if (tkz->tmp_tag_id != tkz->token->tag_id) {
                    goto anything_else;
                }

                tkz->state = lxb_html_tokenizer_state_before_attribute_name;

                goto done;

            /* U+002F SOLIDUS (/) */
            case 0x2F:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, &tkz->start[tkz->entity_start] + 2,
                                                   tkz->pos);

                if (tkz->tmp_tag_id != tkz->token->tag_id) {
                    goto anything_else;
                }

                tkz->state = lxb_html_tokenizer_state_self_closing_start_tag;

                goto done;

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, &tkz->start[tkz->entity_start] + 2,
                                                   tkz->pos);

                if (tkz->tmp_tag_id != tkz->token->tag_id) {
                    goto anything_else;
                }

                tkz->state = lxb_html_tokenizer_state_data_before;

                /* Emit text token */
                tkz->token->tag_id = LXB_TAG__TEXT;
                tkz->pos = &tkz->start[tkz->entity_start];

                lxb_html_tokenizer_state_set_text(tkz);
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                /* Init close token */
                tkz->token->tag_id = tkz->tmp_tag_id;
                tkz->token->begin = tkz->temp;
                tkz->token->end = data;
                tkz->token->type |= LXB_HTML_TOKEN_TYPE_CLOSE;

                /* Emit close token */
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            default:
                if (lexbor_str_res_alpha_character[*data]
                    == LEXBOR_STR_RES_SLIP)
                {
                    lxb_html_tokenizer_state_append_data_m(tkz, data);
                    goto anything_else;
                }

                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;

anything_else:

    tkz->state = lxb_html_tokenizer_state_script_data;

    return data;

done:

    /* Emit text token */
    tkz->token->tag_id = LXB_TAG__TEXT;
    tkz->pos = &tkz->start[tkz->entity_start];

    lxb_html_tokenizer_state_set_text(tkz);
    lxb_html_tokenizer_state_token_done_m(tkz, end);

    /* Init close token */
    tkz->token->tag_id = tkz->tmp_tag_id;
    tkz->token->begin = tkz->temp;
    tkz->token->end = data;
    tkz->token->type |= LXB_HTML_TOKEN_TYPE_CLOSE;

    return (data + 1);
}

/*
 * 12.2.5.18 Script data escape start state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escape_start(lxb_html_tokenizer_t *tkz,
                                                  const lxb_char_t *data,
                                                  const lxb_char_t *end)
{
    /* U+002D HYPHEN-MINUS (-) */
    if (*data == 0x2D) {
        tkz->state = lxb_html_tokenizer_state_script_data_escape_start_dash;

        return (data + 1);
    }

    lxb_html_tokenizer_state_append_m(tkz, "!", 1);

    tkz->state = lxb_html_tokenizer_state_script_data;

    return data;
}

/*
 * 12.2.5.19 Script data escape start dash state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escape_start_dash(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end)
{
    /* U+002D HYPHEN-MINUS (-) */
    if (*data == 0x2D) {
        lxb_html_tokenizer_state_append_m(tkz, "!--", 3);

        tkz->state = lxb_html_tokenizer_state_script_data_escaped_dash_dash;

        return (data + 1);
    }

    lxb_html_tokenizer_state_append_m(tkz, "!-", 2);

    tkz->state = lxb_html_tokenizer_state_script_data;

    return data;
}

/*
 * 12.2.5.20 Script data escaped state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escaped(lxb_html_tokenizer_t *tkz,
                                             const lxb_char_t *data,
                                             const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /* U+002D HYPHEN-MINUS (-) */
            case 0x2D:
                lxb_html_tokenizer_state_append_data_m(tkz, data + 1);

                tkz->state = lxb_html_tokenizer_state_script_data_escaped_dash;

                return (data + 1);

            /* U+003C LESS-THAN SIGN (<) */
            case 0x3C:
                lxb_html_tokenizer_state_append_data_m(tkz, data + 1);
                lxb_html_tokenizer_state_token_set_end(tkz, data);

                tkz->state =
                    lxb_html_tokenizer_state_script_data_escaped_less_than_sign;

                return (data + 1);

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_script_data_escaped;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if (tkz->is_eof) {
                    lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                       LXB_HTML_TOKENIZER_ERROR_EOINSCHTCOLITE);

                    tkz->token->tag_id = LXB_TAG__TEXT;

                    lxb_html_tokenizer_state_set_text(tkz);
                    lxb_html_tokenizer_state_token_set_end_eof(tkz);
                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);
                break;

            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.21 Script data escaped dash state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escaped_dash(lxb_html_tokenizer_t *tkz,
                                                  const lxb_char_t *data,
                                                  const lxb_char_t *end)
{
    switch (*data) {
        /* U+002D HYPHEN-MINUS (-) */
        case 0x2D:
            lxb_html_tokenizer_state_append_m(tkz, data, 1);

            tkz->state = lxb_html_tokenizer_state_script_data_escaped_dash_dash;

            return (data + 1);

        /* U+003C LESS-THAN SIGN (<) */
        case 0x3C:
            lxb_html_tokenizer_state_append_m(tkz, data, 1);
            lxb_html_tokenizer_state_token_set_end(tkz, data);

            tkz->state =
                lxb_html_tokenizer_state_script_data_escaped_less_than_sign;

            return (data + 1);

        /*
         * U+0000 NULL
         * EOF
         */
        case 0x00:
            if (tkz->is_eof) {
                lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                       LXB_HTML_TOKENIZER_ERROR_EOINSCHTCOLITE);

                tkz->token->tag_id = LXB_TAG__TEXT;

                lxb_html_tokenizer_state_set_text(tkz);
                lxb_html_tokenizer_state_token_set_end_eof(tkz);
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return end;
            }

            lxb_html_tokenizer_state_append_replace_m(tkz);

            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_UNNUCH);

            tkz->state = lxb_html_tokenizer_state_script_data_escaped;

            return (data + 1);

        default:
            tkz->state = lxb_html_tokenizer_state_script_data_escaped;

            return data;
    }
}

/*
 * 12.2.5.22 Script data escaped dash dash state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escaped_dash_dash(lxb_html_tokenizer_t *tkz,
                                                       const lxb_char_t *data,
                                                       const lxb_char_t *end)
{
    switch (*data) {
        /* U+002D HYPHEN-MINUS (-) */
        case 0x2D:
            lxb_html_tokenizer_state_append_m(tkz, "-", 1);
            return (data + 1);

        /* U+003C LESS-THAN SIGN (<) */
        case 0x3C:
            lxb_html_tokenizer_state_append_m(tkz, "<", 1);
            lxb_html_tokenizer_state_token_set_end(tkz, data);

            tkz->state =
                lxb_html_tokenizer_state_script_data_escaped_less_than_sign;

            return (data + 1);

        /* U+003E GREATER-THAN SIGN (>) */
        case 0x3E:
            tkz->state = lxb_html_tokenizer_state_script_data;
            return data;

        default:
            tkz->state = lxb_html_tokenizer_state_script_data_escaped;
            return data;
    }
}

/*
 * 12.2.5.23 Script data escaped less-than sign state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escaped_less_than_sign(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end)
{
    /* U+002F SOLIDUS (/) */
    if (*data == 0x2F) {
        tkz->state = lxb_html_tokenizer_state_script_data_escaped_end_tag_open;

        return (data + 1);
    }

    /* ASCII alpha */
    if (lexbor_str_res_alpha_character[*data] != LEXBOR_STR_RES_SLIP) {
        tkz->entity_start = tkz->pos - tkz->start;

        tkz->state = lxb_html_tokenizer_state_script_data_double_escape_start;

        return data;
    }

    tkz->state = lxb_html_tokenizer_state_script_data_escaped;

    return data;
}

/*
 * 12.2.5.24 Script data escaped end tag open state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escaped_end_tag_open(lxb_html_tokenizer_t *tkz,
                                                          const lxb_char_t *data,
                                                          const lxb_char_t *end)
{
    if (lexbor_str_res_alpha_character[*data] != LEXBOR_STR_RES_SLIP) {
        tkz->temp = data;
        tkz->entity_start = (tkz->pos - 1) - tkz->start;

        tkz->state = lxb_html_tokenizer_state_script_data_escaped_end_tag_name;
    }
    else {
        tkz->state = lxb_html_tokenizer_state_script_data_escaped;
    }

    lxb_html_tokenizer_state_append_m(tkz, "/", 1);

    return data;
}

/*
 * 12.2.5.25 Script data escaped end tag name state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_escaped_end_tag_name(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
           /*
            * U+0009 CHARACTER TABULATION (tab)
            * U+000A LINE FEED (LF)
            * U+000C FORM FEED (FF)
            * U+000D CARRIAGE RETURN (CR)
            * U+0020 SPACE
            */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, &tkz->start[tkz->entity_start] + 2,
                                                   tkz->pos);

                if (tkz->tmp_tag_id != tkz->token->tag_id) {
                    goto anything_else;
                }

                tkz->state = lxb_html_tokenizer_state_before_attribute_name;

                goto done;

            /* U+002F SOLIDUS (/) */
            case 0x2F:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, &tkz->start[tkz->entity_start] + 2,
                                                   tkz->pos);

                if (tkz->tmp_tag_id != tkz->token->tag_id) {
                    goto anything_else;
                }

                tkz->state = lxb_html_tokenizer_state_self_closing_start_tag;

                goto done;

            /* U+003E GREATER-THAN SIGN (>) */
            case 0x3E:
                lxb_html_tokenizer_state_append_data_m(tkz, data);
                lxb_html_tokenizer_state_set_tag_m(tkz, &tkz->start[tkz->entity_start] + 2,
                                                   tkz->pos);

                if (tkz->tmp_tag_id != tkz->token->tag_id) {
                    goto anything_else;
                }

                tkz->state = lxb_html_tokenizer_state_data_before;

                /* Emit text token */
                tkz->token->tag_id = LXB_TAG__TEXT;
                tkz->pos = &tkz->start[tkz->entity_start];

                lxb_html_tokenizer_state_set_text(tkz);
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                /* Init close token */
                tkz->token->tag_id = tkz->tmp_tag_id;
                tkz->token->begin = tkz->temp;
                tkz->token->end = data;
                tkz->token->type |= LXB_HTML_TOKEN_TYPE_CLOSE;

                /* Emit close token */
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return (data + 1);

            default:
                if (lexbor_str_res_alpha_character[*data]
                    == LEXBOR_STR_RES_SLIP)
                {
                    lxb_html_tokenizer_state_append_data_m(tkz, data);
                    goto anything_else;
                }

                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;

anything_else:

    tkz->state = lxb_html_tokenizer_state_script_data_escaped;

    return data;

done:

    /* Emit text token */
    tkz->token->tag_id = LXB_TAG__TEXT;
    tkz->pos = &tkz->start[tkz->entity_start];

    lxb_html_tokenizer_state_set_text(tkz);
    lxb_html_tokenizer_state_token_done_m(tkz, end);

    /* Init close token */
    tkz->token->tag_id = tkz->tmp_tag_id;
    tkz->token->begin = tkz->temp;
    tkz->token->end = data;
    tkz->token->type |= LXB_HTML_TOKEN_TYPE_CLOSE;

    return (data + 1);
}

/*
 * 12.2.5.26 Script data double escape start state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_double_escape_start(lxb_html_tokenizer_t *tkz,
                                                         const lxb_char_t *data,
                                                         const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+000D CARRIAGE RETURN (CR)
             * U+0020 SPACE
             * U+002F SOLIDUS (/)
             * U+003E GREATER-THAN SIGN (>)
             */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
            case 0x2F:
            case 0x3E:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if ((tkz->pos - &tkz->start[tkz->entity_start]) == 6
                    && lexbor_str_data_ncasecmp(&tkz->start[tkz->entity_start],
                                                (const lxb_char_t *) "script", 6))
                {
                    tkz->state =
                        lxb_html_tokenizer_state_script_data_double_escaped;

                    return data;
                }

                tkz->state = lxb_html_tokenizer_state_script_data_escaped;

                return data;

            default:
                if (lexbor_str_res_alpha_character[*data]
                    == LEXBOR_STR_RES_SLIP)
                {
                    lxb_html_tokenizer_state_append_data_m(tkz, data);

                    tkz->state = lxb_html_tokenizer_state_script_data_escaped;

                    return data;
                }

                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.27 Script data double escaped state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_double_escaped(lxb_html_tokenizer_t *tkz,
                                                    const lxb_char_t *data,
                                                    const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /* U+002D HYPHEN-MINUS (-) */
            case 0x2D:
                lxb_html_tokenizer_state_append_data_m(tkz, data + 1);

                tkz->state =
                    lxb_html_tokenizer_state_script_data_double_escaped_dash;

                return (data + 1);

            /* U+003C LESS-THAN SIGN (<) */
            case 0x3C:
                lxb_html_tokenizer_state_append_data_m(tkz, data + 1);

                tkz->state =
             lxb_html_tokenizer_state_script_data_double_escaped_less_than_sign;

                return (data + 1);

            /* U+000D CARRIAGE RETURN (CR) */
            case 0x0D:
                if (++data >= end) {
                    lxb_html_tokenizer_state_append_data_m(tkz, data - 1);

                    tkz->state = lxb_html_tokenizer_state_cr;
                    tkz->state_return = lxb_html_tokenizer_state_script_data_double_escaped;

                    return data;
                }

                lxb_html_tokenizer_state_append_data_m(tkz, data);
                tkz->pos[-1] = 0x0A;

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);

                if (*data != 0x0A) {
                    lxb_html_tokenizer_state_begin_set(tkz, data);
                    data--;
                }

                break;

            /*
             * U+0000 NULL
             * EOF
             */
            case 0x00:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if (tkz->is_eof) {
                    lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                       LXB_HTML_TOKENIZER_ERROR_EOINSCHTCOLITE);

                    tkz->token->tag_id = LXB_TAG__TEXT;

                    lxb_html_tokenizer_state_set_text(tkz);
                    lxb_html_tokenizer_state_token_set_end_eof(tkz);
                    lxb_html_tokenizer_state_token_done_m(tkz, end);

                    return end;
                }

                lxb_html_tokenizer_state_begin_set(tkz, data + 1);
                lxb_html_tokenizer_state_append_replace_m(tkz);

                lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                             LXB_HTML_TOKENIZER_ERROR_UNNUCH);
                break;

            default:
                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

/*
 * 12.2.5.28 Script data double escaped dash state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_double_escaped_dash(lxb_html_tokenizer_t *tkz,
                                                         const lxb_char_t *data,
                                                         const lxb_char_t *end)
{
    switch (*data) {
        /* U+002D HYPHEN-MINUS (-) */
        case 0x2D:
            lxb_html_tokenizer_state_append_m(tkz, data, 1);

            tkz->state =
                lxb_html_tokenizer_state_script_data_double_escaped_dash_dash;

            return (data + 1);

        /* U+003C LESS-THAN SIGN (<) */
        case 0x3C:
            lxb_html_tokenizer_state_append_m(tkz, data, 1);

            tkz->state =
             lxb_html_tokenizer_state_script_data_double_escaped_less_than_sign;

            return (data + 1);

        /*
         * U+0000 NULL
         * EOF
         */
        case 0x00:
            if (tkz->is_eof) {
                lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                       LXB_HTML_TOKENIZER_ERROR_EOINSCHTCOLITE);

                tkz->token->tag_id = LXB_TAG__TEXT;

                lxb_html_tokenizer_state_set_text(tkz);
                lxb_html_tokenizer_state_token_set_end_eof(tkz);
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return end;
            }

            lxb_html_tokenizer_state_append_replace_m(tkz);

            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_UNNUCH);

            tkz->state = lxb_html_tokenizer_state_script_data_double_escaped;

            return (data + 1);

        default:
            tkz->state = lxb_html_tokenizer_state_script_data_double_escaped;

            return data;
    }
}

/*
 * 12.2.5.29 Script data double escaped dash dash state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_double_escaped_dash_dash(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end)
{
    switch (*data) {
        /* U+002D HYPHEN-MINUS (-) */
        case 0x2D:
            lxb_html_tokenizer_state_append_m(tkz, data, 1);
            return (data + 1);

        /* U+003C LESS-THAN SIGN (<) */
        case 0x3C:
            lxb_html_tokenizer_state_append_m(tkz, data, 1);

            tkz->state =
             lxb_html_tokenizer_state_script_data_double_escaped_less_than_sign;

            return (data + 1);

        /* U+003E GREATER-THAN SIGN (>) */
        case 0x3E:
            lxb_html_tokenizer_state_append_m(tkz, data, 1);

            tkz->state = lxb_html_tokenizer_state_script_data;

            return (data + 1);

        /*
         * U+0000 NULL
         * EOF
         */
        case 0x00:
            if (tkz->is_eof) {
                lxb_html_tokenizer_error_add(tkz->parse_errors, tkz->last,
                                       LXB_HTML_TOKENIZER_ERROR_EOINSCHTCOLITE);

                tkz->token->tag_id = LXB_TAG__TEXT;

                lxb_html_tokenizer_state_set_text(tkz);
                lxb_html_tokenizer_state_token_set_end_eof(tkz);
                lxb_html_tokenizer_state_token_done_m(tkz, end);

                return end;
            }

            lxb_html_tokenizer_state_append_replace_m(tkz);

            lxb_html_tokenizer_error_add(tkz->parse_errors, data,
                                         LXB_HTML_TOKENIZER_ERROR_UNNUCH);

            tkz->state = lxb_html_tokenizer_state_script_data_double_escaped;

            return (data + 1);

        default:
            tkz->state = lxb_html_tokenizer_state_script_data_double_escaped;

            return data;
    }

    return data;
}

/*
 * 12.2.5.30 Script data double escaped less-than sign state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_double_escaped_less_than_sign(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end)
{
    /* U+002F SOLIDUS (/) */
    if (*data == 0x2F) {
        tkz->state =
            lxb_html_tokenizer_state_script_data_double_escaped_end_tag_open;

        return (data + 1);
    }

    tkz->state = lxb_html_tokenizer_state_script_data_double_escaped;

    return data;
}

/*
 * 12.2.5.30.5 Helper function. No in the specification.
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_double_escaped_end_tag_open(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end)
{
    if (lexbor_str_res_alpha_character[*data] != LEXBOR_STR_RES_SLIP) {
        tkz->entity_start = (tkz->pos + 1) - tkz->start;

        tkz->state = lxb_html_tokenizer_state_script_data_double_escape_end;
    }
    else {
        tkz->state = lxb_html_tokenizer_state_script_data_double_escaped;
    }

    lxb_html_tokenizer_state_append_m(tkz, "/", 1);

    return data;
}

/*
 * 12.2.5.31 Script data double escape end state
 */
static const lxb_char_t *
lxb_html_tokenizer_state_script_data_double_escape_end(
                                                      lxb_html_tokenizer_t *tkz,
                                                      const lxb_char_t *data,
                                                      const lxb_char_t *end)
{
    lxb_html_tokenizer_state_begin_set(tkz, data);

    while (data != end) {
        switch (*data) {
            /*
             * U+0009 CHARACTER TABULATION (tab)
             * U+000A LINE FEED (LF)
             * U+000C FORM FEED (FF)
             * U+000D CARRIAGE RETURN (CR)
             * U+0020 SPACE
             * U+002F SOLIDUS (/)
             * U+003E GREATER-THAN SIGN (>)
             */
            case 0x09:
            case 0x0A:
            case 0x0C:
            case 0x0D:
            case 0x20:
            case 0x2F:
            case 0x3E:
                lxb_html_tokenizer_state_append_data_m(tkz, data);

                if ((tkz->pos - &tkz->start[tkz->entity_start]) == 6
                    && lexbor_str_data_ncasecmp(&tkz->start[tkz->entity_start],
                                                (const lxb_char_t *) "script", 6))
                {
                    tkz->state = lxb_html_tokenizer_state_script_data_escaped;
                    return data;
                }

                tkz->state = lxb_html_tokenizer_state_script_data_double_escaped;

                return data;

            default:
                if (lexbor_str_res_alpha_character[*data]
                    == LEXBOR_STR_RES_SLIP)
                {
                    lxb_html_tokenizer_state_append_data_m(tkz, data);

                    tkz->state = lxb_html_tokenizer_state_script_data_double_escaped;
                    return data;
                }

                break;
        }

        data++;
    }

    lxb_html_tokenizer_state_append_data_m(tkz, data);

    return data;
}

lxb_dom_attr_data_t *
lxb_dom_attr_local_name_append(lexbor_hash_t *hash,
                               const lxb_char_t *name, size_t length);

lxb_dom_attr_data_t *
lxb_dom_attr_qualified_name_append(lexbor_hash_t *hash, const lxb_char_t *name,
                                   size_t length);

const lxb_tag_data_t *
lxb_tag_append_lower(lexbor_hash_t *hash,
                     const lxb_char_t *name, size_t length);

static lxb_html_token_t *
lxb_html_tree_token_callback(lxb_html_tokenizer_t *tkz,
                             lxb_html_token_t *token, void *ctx);

static lxb_status_t
lxb_html_tree_insertion_mode(lxb_html_tree_t *tree, lxb_html_token_t *token);


lxb_html_tree_t *
lxb_html_tree_create(void)
{
    return lexbor_calloc(1, sizeof(lxb_html_tree_t));
}

lxb_status_t
lxb_html_tree_init(lxb_html_tree_t *tree, lxb_html_tokenizer_t *tkz)
{
    if (tree == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    if (tkz == NULL) {
        return LXB_STATUS_ERROR_WRONG_ARGS;
    }

    lxb_status_t status;

    /* Stack of open elements */
    tree->open_elements = lexbor_array_create();
    status = lexbor_array_init(tree->open_elements, 128);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    /* Stack of active formatting */
    tree->active_formatting = lexbor_array_create();
    status = lexbor_array_init(tree->active_formatting, 128);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    /* Stack of template insertion modes */
    tree->template_insertion_modes = lexbor_array_obj_create();
    status = lexbor_array_obj_init(tree->template_insertion_modes, 64,
                                   sizeof(lxb_html_tree_template_insertion_t));
    if (status != LXB_STATUS_OK) {
        return status;
    }

    /* Stack of pending table character tokens */
    tree->pending_table.text_list = lexbor_array_obj_create();
    status = lexbor_array_obj_init(tree->pending_table.text_list, 16,
                                   sizeof(lexbor_str_t));
    if (status != LXB_STATUS_OK) {
        return status;
    }

    /* Parse errors */
    tree->parse_errors = lexbor_array_obj_create();
    status = lexbor_array_obj_init(tree->parse_errors, 16,
                                                sizeof(lxb_html_tree_error_t));
    if (status != LXB_STATUS_OK) {
        return status;
    }

    tree->tkz_ref = lxb_html_tokenizer_ref(tkz);

    tree->document = NULL;
    tree->fragment = NULL;

    tree->form = NULL;

    tree->foster_parenting = false;
    tree->frameset_ok = true;

    tree->mode = lxb_html_tree_insertion_mode_initial;
    tree->before_append_attr = NULL;

    tree->status = LXB_STATUS_OK;

    tree->ref_count = 1;

    lxb_html_tokenizer_callback_token_done_set(tkz,
                                               lxb_html_tree_token_callback,
                                               tree);

    return LXB_STATUS_OK;
}

lxb_html_tree_t *
lxb_html_tree_ref(lxb_html_tree_t *tree)
{
    if (tree == NULL) {
        return NULL;
    }

    tree->ref_count++;

    return tree;
}

lxb_html_tree_t *
lxb_html_tree_unref(lxb_html_tree_t *tree)
{
    if (tree == NULL || tree->ref_count == 0) {
        return NULL;
    }

    tree->ref_count--;

    if (tree->ref_count == 0) {
        lxb_html_tree_destroy(tree);
    }

    return NULL;
}

void
lxb_html_tree_clean(lxb_html_tree_t *tree)
{
    lexbor_array_clean(tree->open_elements);
    lexbor_array_clean(tree->active_formatting);
    lexbor_array_obj_clean(tree->template_insertion_modes);
    lexbor_array_obj_clean(tree->pending_table.text_list);
    lexbor_array_obj_clean(tree->parse_errors);

    tree->document = NULL;
    tree->fragment = NULL;

    tree->form = NULL;

    tree->foster_parenting = false;
    tree->frameset_ok = true;

    tree->mode = lxb_html_tree_insertion_mode_initial;
    tree->before_append_attr = NULL;

    tree->status = LXB_STATUS_OK;
}

lxb_html_tree_t *
lxb_html_tree_destroy(lxb_html_tree_t *tree)
{
    if (tree == NULL) {
        return NULL;
    }

    tree->open_elements = lexbor_array_destroy(tree->open_elements, true);
    tree->active_formatting = lexbor_array_destroy(tree->active_formatting,
                                                   true);
    tree->template_insertion_modes = lexbor_array_obj_destroy(tree->template_insertion_modes,
                                                              true);
    tree->pending_table.text_list = lexbor_array_obj_destroy(tree->pending_table.text_list,
                                                             true);

    tree->parse_errors = lexbor_array_obj_destroy(tree->parse_errors, true);
    tree->tkz_ref = lxb_html_tokenizer_unref(tree->tkz_ref);

    return lexbor_free(tree);
}

static lxb_html_token_t *
lxb_html_tree_token_callback(lxb_html_tokenizer_t *tkz,
                             lxb_html_token_t *token, void *ctx)
{
    lxb_status_t status;

    status = lxb_html_tree_insertion_mode(ctx, token);
    if (status != LXB_STATUS_OK) {
        tkz->status = status;
        return NULL;
    }

    return token;
}

/* TODO: not complete!!! */
lxb_status_t
lxb_html_tree_stop_parsing(lxb_html_tree_t *tree)
{
    tree->document->ready_state = LXB_HTML_DOCUMENT_READY_STATE_COMPLETE;

    return LXB_STATUS_OK;
}

bool
lxb_html_tree_process_abort(lxb_html_tree_t *tree)
{
    if (tree->status == LXB_STATUS_OK) {
        tree->status = LXB_STATUS_ABORTED;
    }

    tree->open_elements->length = 0;
    tree->document->ready_state = LXB_HTML_DOCUMENT_READY_STATE_COMPLETE;

    return true;
}

void
lxb_html_tree_parse_error(lxb_html_tree_t *tree, lxb_html_token_t *token,
                          lxb_html_tree_error_id_t id)
{
    lxb_html_tree_error_add(tree->parse_errors, token, id);
}

bool
lxb_html_tree_construction_dispatcher(lxb_html_tree_t *tree,
                                      lxb_html_token_t *token)
{
    lxb_dom_node_t *adjusted;

    adjusted = lxb_html_tree_adjusted_current_node(tree);

    if (adjusted == NULL || adjusted->ns == LXB_NS_HTML) {
        return tree->mode(tree, token);
    }

    if (lxb_html_tree_mathml_text_integration_point(adjusted))
    {
        if ((token->type & LXB_HTML_TOKEN_TYPE_CLOSE) == 0
            && token->tag_id != LXB_TAG_MGLYPH
            && token->tag_id != LXB_TAG_MALIGNMARK)
        {
            return tree->mode(tree, token);
        }

        if (token->tag_id == LXB_TAG__TEXT) {
            return tree->mode(tree, token);
        }
    }

    if (adjusted->local_name == LXB_TAG_ANNOTATION_XML
        && adjusted->ns == LXB_NS_MATH
        && (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) == 0
        && token->tag_id == LXB_TAG_SVG)
    {
        return tree->mode(tree, token);
    }

    if (lxb_html_tree_html_integration_point(adjusted)) {
        if ((token->type & LXB_HTML_TOKEN_TYPE_CLOSE) == 0
            || token->tag_id == LXB_TAG__TEXT)
        {
            return tree->mode(tree, token);
        }
    }

    if (token->tag_id == LXB_TAG__END_OF_FILE) {
        return tree->mode(tree, token);
    }

    return lxb_html_tree_insertion_mode_foreign_content(tree, token);
}

static lxb_status_t
lxb_html_tree_insertion_mode(lxb_html_tree_t *tree, lxb_html_token_t *token)
{
    while (lxb_html_tree_construction_dispatcher(tree, token) == false) {}

    return tree->status;
}

/*
 * Action
 */
lxb_dom_node_t *
lxb_html_tree_appropriate_place_inserting_node(lxb_html_tree_t *tree,
                                       lxb_dom_node_t *override_target,
                                       lxb_html_tree_insertion_position_t *ipos)
{
    lxb_dom_node_t *target, *adjusted_location = NULL;

    *ipos = LXB_HTML_TREE_INSERTION_POSITION_CHILD;

    if (override_target != NULL) {
        target = override_target;
    }
    else {
        target = lxb_html_tree_current_node(tree);
    }

    if (tree->foster_parenting && target->ns == LXB_NS_HTML
           && (target->local_name == LXB_TAG_TABLE
            || target->local_name == LXB_TAG_TBODY
            || target->local_name == LXB_TAG_TFOOT
            || target->local_name == LXB_TAG_THEAD
            || target->local_name == LXB_TAG_TR))
    {
        lxb_dom_node_t *last_temp, *last_table;
        size_t last_temp_idx, last_table_idx;

        last_temp = lxb_html_tree_open_elements_find_reverse(tree,
                                                          LXB_TAG_TEMPLATE,
                                                          LXB_NS_HTML,
                                                          &last_temp_idx);

        last_table = lxb_html_tree_open_elements_find_reverse(tree,
                                                             LXB_TAG_TABLE,
                                                             LXB_NS_HTML,
                                                             &last_table_idx);

        if(last_temp != NULL && (last_table == NULL
                         || last_temp_idx > last_table_idx))
        {
            lxb_dom_document_fragment_t *doc_fragment;

            doc_fragment = lxb_html_interface_template(last_temp)->content;

            return lxb_dom_interface_node(doc_fragment);
        }
        else if (last_table == NULL) {
            adjusted_location = lxb_html_tree_open_elements_first(tree);

            lexbor_assert(adjusted_location != NULL);
            lexbor_assert(adjusted_location->local_name == LXB_TAG_HTML);
        }
        else if (last_table->parent != NULL) {
            adjusted_location = last_table;

            *ipos = LXB_HTML_TREE_INSERTION_POSITION_BEFORE;
        }
        else {
            lexbor_assert(last_table_idx != 0);

            adjusted_location = lxb_html_tree_open_elements_get(tree,
                                                            last_table_idx - 1);
        }
    }
    else {
        adjusted_location = target;
    }

    if (adjusted_location == NULL) {
        return NULL;
    }

    /*
     * In Spec it is not entirely clear what is meant:
     *
     * If the adjusted insertion location is inside a template element,
     * let it instead be inside the template element's template contents,
     * after its last child (if any).
     */
    if (lxb_html_tree_node_is(adjusted_location, LXB_TAG_TEMPLATE)) {
        lxb_dom_document_fragment_t *df;

        df = lxb_html_interface_template(adjusted_location)->content;
        adjusted_location = lxb_dom_interface_node(df);
    }

    return adjusted_location;
}

lxb_html_element_t *
lxb_html_tree_insert_foreign_element(lxb_html_tree_t *tree,
                                     lxb_html_token_t *token, lxb_ns_id_t ns,
                                     bool only_add_stack)
{
    lxb_status_t status;
    lxb_dom_node_t *pos;
    lxb_html_element_t *element;
    lxb_html_tree_insertion_position_t ipos;

    pos = lxb_html_tree_appropriate_place_inserting_node(tree, NULL, &ipos);
    if (pos == NULL) {
        return NULL;
    }

    element = lxb_html_tree_create_element_for_token(tree, token, ns);
    if (element == NULL) {
        return NULL;
    }

    if (only_add_stack == false) {
        lxb_html_tree_insert_node(pos, lxb_dom_interface_node(element), ipos);
    }

    status = lxb_html_tree_open_elements_push(tree,
                                              lxb_dom_interface_node(element));
    if (status != LXB_HTML_STATUS_OK) {
        return lxb_html_interface_destroy(element);
    }

    return element;
}

lxb_html_element_t *
lxb_html_tree_create_element_for_token(lxb_html_tree_t *tree,
                                       lxb_html_token_t *token, lxb_ns_id_t ns)
{
    lxb_dom_node_t *node = lxb_html_tree_create_node(tree, token->tag_id, ns);
    if (node == NULL) {
        return NULL;
    }

    lxb_status_t status;
    lxb_dom_element_t *element = lxb_dom_interface_element(node);

    if (token->base_element == NULL) {
        status = lxb_html_tree_append_attributes(tree, element, token, ns);
    }
    else {
        status = lxb_html_tree_append_attributes_from_element(tree, element,
                                                       token->base_element, ns);
    }

    if (status != LXB_HTML_STATUS_OK) {
        return lxb_html_interface_destroy(element);
    }

    return lxb_html_interface_element(node);
}

lxb_status_t
lxb_html_tree_append_attributes(lxb_html_tree_t *tree,
                                lxb_dom_element_t *element,
                                lxb_html_token_t *token, lxb_ns_id_t ns)
{
    lxb_status_t status;
    lxb_dom_attr_t *attr;
    lxb_html_document_t *doc;
    lxb_html_token_attr_t *token_attr = token->attr_first;

    doc = lxb_html_interface_document(element->node.owner_document);

    while (token_attr != NULL) {
        attr = lxb_dom_element_attr_by_local_name_data(element,
                                                       token_attr->name);
        if (attr != NULL) {
            token_attr = token_attr->next;
            continue;
        }

        attr = lxb_dom_attr_interface_create(lxb_dom_interface_document(doc));
        if (attr == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        if (token_attr->value_begin != NULL) {
            status = lxb_dom_attr_set_value_wo_copy(attr, token_attr->value,
                                                    token_attr->value_size);
            if (status != LXB_HTML_STATUS_OK) {
                return status;
            }
        }

        attr->node.local_name = token_attr->name->attr_id;
        attr->node.ns = ns;

        /* Fix for adjust MathML/SVG attributes */
        if (tree->before_append_attr != NULL) {
            status = tree->before_append_attr(tree, attr, NULL);
            if (status != LXB_STATUS_OK) {
                return status;
            }
        }

        lxb_dom_element_attr_append(element, attr);

        token_attr = token_attr->next;
    }

    return LXB_HTML_STATUS_OK;
}

lxb_status_t
lxb_html_tree_append_attributes_from_element(lxb_html_tree_t *tree,
                                             lxb_dom_element_t *element,
                                             lxb_dom_element_t *from,
                                             lxb_ns_id_t ns)
{
    lxb_status_t status;
    lxb_dom_attr_t *attr = from->first_attr;
    lxb_dom_attr_t *new_attr;

    while (attr != NULL) {
        new_attr = lxb_dom_attr_interface_create(element->node.owner_document);
        if (new_attr == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        status = lxb_dom_attr_clone_name_value(attr, new_attr);
        if (status != LXB_HTML_STATUS_OK) {
            return status;
        }

        new_attr->node.ns = attr->node.ns;

        /* Fix for  adjust MathML/SVG attributes */
        if (tree->before_append_attr != NULL) {
            status = tree->before_append_attr(tree, new_attr, NULL);
            if (status != LXB_STATUS_OK) {
                return status;
            }
        }

        lxb_dom_element_attr_append(element, new_attr);

        attr = attr->next;
    }

    return LXB_HTML_STATUS_OK;
}

lxb_status_t
lxb_html_tree_adjust_mathml_attributes(lxb_html_tree_t *tree,
                                       lxb_dom_attr_t *attr, void *ctx)
{
    lexbor_hash_t *attrs;
    const lxb_dom_attr_data_t *data;

    attrs = attr->node.owner_document->attrs;
    data = lxb_dom_attr_data_by_id(attrs, attr->node.local_name);

    if (data->entry.length == 13
        && lexbor_str_data_cmp(lexbor_hash_entry_str(&data->entry),
                               (const lxb_char_t *) "definitionurl"))
    {
        data = lxb_dom_attr_qualified_name_append(attrs,
                                      (const lxb_char_t *) "definitionURL", 13);
        if (data == NULL) {
            return LXB_STATUS_ERROR;
        }

        attr->qualified_name = data->attr_id;
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_tree_adjust_svg_attributes(lxb_html_tree_t *tree,
                                    lxb_dom_attr_t *attr, void *ctx)
{
    lexbor_hash_t *attrs;
    const lxb_dom_attr_data_t *data;
    const lxb_html_tree_res_attr_adjust_t *adjust;

    size_t len = sizeof(lxb_html_tree_res_attr_adjust_svg_map)
        / sizeof(lxb_html_tree_res_attr_adjust_t);

    attrs = attr->node.owner_document->attrs;

    data = lxb_dom_attr_data_by_id(attrs, attr->node.local_name);

    for (size_t i = 0; i < len; i++) {
        adjust = &lxb_html_tree_res_attr_adjust_svg_map[i];

        if (data->entry.length == adjust->len
            && lexbor_str_data_cmp(lexbor_hash_entry_str(&data->entry),
                                   (const lxb_char_t *) adjust->from))
        {
            data = lxb_dom_attr_qualified_name_append(attrs,
                                (const lxb_char_t *) adjust->to, adjust->len);
            if (data == NULL) {
                return LXB_STATUS_ERROR;
            }

            attr->qualified_name = data->attr_id;

            return LXB_STATUS_OK;
        }
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_tree_adjust_foreign_attributes(lxb_html_tree_t *tree,
                                        lxb_dom_attr_t *attr, void *ctx)
{
    size_t lname_length;
    lexbor_hash_t *attrs, *prefix;
    const lxb_dom_attr_data_t *attr_data;
    const lxb_ns_prefix_data_t *prefix_data;
    const lxb_dom_attr_data_t *data;
    const lxb_html_tree_res_attr_adjust_foreign_t *adjust;

    size_t len = sizeof(lxb_html_tree_res_attr_adjust_foreign_map)
        / sizeof(lxb_html_tree_res_attr_adjust_foreign_t);

    attrs = attr->node.owner_document->attrs;
    prefix = attr->node.owner_document->prefix;

    data = lxb_dom_attr_data_by_id(attrs, attr->node.local_name);

    for (size_t i = 0; i < len; i++) {
        adjust = &lxb_html_tree_res_attr_adjust_foreign_map[i];

        if (data->entry.length == adjust->name_len
            && lexbor_str_data_cmp(lexbor_hash_entry_str(&data->entry),
                                   (const lxb_char_t *) adjust->name))
        {
            if (adjust->prefix_len != 0) {
                data = lxb_dom_attr_qualified_name_append(attrs,
                           (const lxb_char_t *) adjust->name, adjust->name_len);
                if (data == NULL) {
                    return LXB_STATUS_ERROR;
                }

                attr->qualified_name = data->attr_id;

                lname_length = adjust->name_len - adjust->prefix_len - 1;

                attr_data = lxb_dom_attr_local_name_append(attrs,
                         (const lxb_char_t *) adjust->local_name, lname_length);
                if (attr_data == NULL) {
                    return LXB_STATUS_ERROR;
                }

                attr->node.local_name = attr_data->attr_id;

                prefix_data = lxb_ns_prefix_append(prefix,
                       (const lxb_char_t *) adjust->prefix, adjust->prefix_len);
                if (prefix_data == NULL) {
                    return LXB_STATUS_ERROR;
                }

                attr->node.prefix = prefix_data->prefix_id;
            }

            attr->node.ns = adjust->ns;

            return LXB_STATUS_OK;
        }
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_tree_insert_character(lxb_html_tree_t *tree, lxb_html_token_t *token,
                               lxb_dom_node_t **ret_node)
{
    size_t size;
    lxb_status_t status;
    lexbor_str_t str = {0};

    size = token->text_end - token->text_start;

    lexbor_str_init(&str, tree->document->dom_document.text, size + 1);
    if (str.data == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    memcpy(str.data, token->text_start, size);

    str.data[size] = 0x00;
    str.length = size;

    status = lxb_html_tree_insert_character_for_data(tree, &str, ret_node);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    return LXB_STATUS_OK;
}

lxb_status_t
lxb_html_tree_insert_character_for_data(lxb_html_tree_t *tree,
                                        lexbor_str_t *str,
                                        lxb_dom_node_t **ret_node)
{
    const lxb_char_t *data;
    lxb_dom_node_t *pos;
    lxb_dom_character_data_t *chrs = NULL;
    lxb_html_tree_insertion_position_t ipos;

    if (ret_node != NULL) {
        *ret_node = NULL;
    }

    pos = lxb_html_tree_appropriate_place_inserting_node(tree, NULL, &ipos);
    if (pos == NULL) {
        return LXB_STATUS_ERROR;
    }

    if (lxb_html_tree_node_is(pos, LXB_TAG__DOCUMENT)) {
        goto destroy_str;
    }

    if (ipos == LXB_HTML_TREE_INSERTION_POSITION_BEFORE) {
        /* No need check namespace */
        if (pos->prev != NULL && pos->prev->local_name == LXB_TAG__TEXT) {
            chrs = lxb_dom_interface_character_data(pos->prev);

            if (ret_node != NULL) {
                *ret_node = pos->prev;
            }
        }
    }
    else {
        /* No need check namespace */
        if (pos->last_child != NULL
            && pos->last_child->local_name == LXB_TAG__TEXT)
        {
            chrs = lxb_dom_interface_character_data(pos->last_child);

            if (ret_node != NULL) {
                *ret_node = pos->last_child;
            }
        }
    }

    if (chrs != NULL) {
        /* This is error. This can not happen, but... */
        if (chrs->data.data == NULL) {
            data = lexbor_str_init(&chrs->data, tree->document->dom_document.text,
                                   str->length);
            if (data == NULL) {
                return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
            }
        }

        data = lexbor_str_append(&chrs->data, tree->document->dom_document.text,
                                 str->data, str->length);
        if (data == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        goto destroy_str;
    }

    lxb_dom_node_t *text = lxb_html_tree_create_node(tree, LXB_TAG__TEXT,
                                                     LXB_NS_HTML);
    if (text == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    lxb_dom_interface_text(text)->char_data.data = *str;

    if (ret_node != NULL) {
        *ret_node = text;
    }

    lxb_html_tree_insert_node(pos, text, ipos);

    return LXB_STATUS_OK;

destroy_str:

    lexbor_str_destroy(str, tree->document->dom_document.text, false);

    return LXB_STATUS_OK;
}

lxb_dom_comment_t *
lxb_html_tree_insert_comment(lxb_html_tree_t *tree,
                             lxb_html_token_t *token, lxb_dom_node_t *pos)
{
    lxb_dom_node_t *node;
    lxb_dom_comment_t *comment;
    lxb_html_tree_insertion_position_t ipos;

    if (pos == NULL) {
        pos = lxb_html_tree_appropriate_place_inserting_node(tree, NULL, &ipos);
    }
    else {
        ipos = LXB_HTML_TREE_INSERTION_POSITION_CHILD;
    }

    lexbor_assert(pos != NULL);

    node = lxb_html_tree_create_node(tree, token->tag_id, pos->ns);
    comment = lxb_dom_interface_comment(node);

    if (comment == NULL) {
        return NULL;
    }

    tree->status = lxb_html_token_make_text(token, &comment->char_data.data,
                                            tree->document->dom_document.text);
    if (tree->status != LXB_STATUS_OK) {
        return NULL;
    }

    lxb_html_tree_insert_node(pos, node, ipos);

    return comment;
}

lxb_dom_document_type_t *
lxb_html_tree_create_document_type_from_token(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_status_t status;
    lxb_dom_node_t *doctype_node;
    lxb_dom_document_type_t *doc_type;

    /* Create */
    doctype_node = lxb_html_tree_create_node(tree, token->tag_id, LXB_NS_HTML);
    if (doctype_node == NULL) {
        return NULL;
    }

    doc_type = lxb_dom_interface_document_type(doctype_node);

    /* Parse */
    status = lxb_html_token_doctype_parse(token, doc_type);
    if (status != LXB_STATUS_OK) {
        return lxb_dom_document_type_interface_destroy(doc_type);
    }

    return doc_type;
}

/*
 * TODO: need use ref and unref for nodes (ref counter)
 * Not implemented until the end. It is necessary to finish it.
 */
void
lxb_html_tree_node_delete_deep(lxb_html_tree_t *tree, lxb_dom_node_t *node)
{
    lxb_dom_node_remove(node);
}

lxb_html_element_t *
lxb_html_tree_generic_rawtext_parsing(lxb_html_tree_t *tree,
                                      lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        return NULL;
    }

    /*
     * Need for tokenizer state RAWTEXT
     * See description for 'lxb_html_tokenizer_state_rawtext_before' function
     */
    lxb_html_tokenizer_tmp_tag_id_set(tree->tkz_ref, token->tag_id);
    lxb_html_tokenizer_state_set(tree->tkz_ref,
                                 lxb_html_tokenizer_state_rawtext_before);

    tree->original_mode = tree->mode;
    tree->mode = lxb_html_tree_insertion_mode_text;

    return element;
}

/* Magic of CopyPast power! */
lxb_html_element_t *
lxb_html_tree_generic_rcdata_parsing(lxb_html_tree_t *tree,
                                     lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        return NULL;
    }

    /*
     * Need for tokenizer state RCDATA
     * See description for 'lxb_html_tokenizer_state_rcdata_before' function
     */
    lxb_html_tokenizer_tmp_tag_id_set(tree->tkz_ref, token->tag_id);
    lxb_html_tokenizer_state_set(tree->tkz_ref,
                                 lxb_html_tokenizer_state_rcdata_before);

    tree->original_mode = tree->mode;
    tree->mode = lxb_html_tree_insertion_mode_text;

    return element;
}

void
lxb_html_tree_generate_implied_end_tags(lxb_html_tree_t *tree,
                                        lxb_tag_id_t ex_tag, lxb_ns_id_t ex_ns)
{
    lxb_dom_node_t *node;

    lexbor_assert(tree->open_elements != 0);

    while (lexbor_array_length(tree->open_elements) != 0) {
        node = lxb_html_tree_current_node(tree);

        lexbor_assert(node != NULL);

        switch (node->local_name) {
            case LXB_TAG_DD:
            case LXB_TAG_DT:
            case LXB_TAG_LI:
            case LXB_TAG_OPTGROUP:
            case LXB_TAG_OPTION:
            case LXB_TAG_P:
            case LXB_TAG_RB:
            case LXB_TAG_RP:
            case LXB_TAG_RT:
            case LXB_TAG_RTC:
                if(node->local_name == ex_tag && node->ns == ex_ns) {
                    return;
                }

                lxb_html_tree_open_elements_pop(tree);

                break;

            default:
                return;
        }
    }
}

void
lxb_html_tree_generate_all_implied_end_tags_thoroughly(lxb_html_tree_t *tree,
                                                       lxb_tag_id_t ex_tag,
                                                       lxb_ns_id_t ex_ns)
{
    lxb_dom_node_t *node;

    lexbor_assert(tree->open_elements != 0);

    while (lexbor_array_length(tree->open_elements) != 0) {
        node = lxb_html_tree_current_node(tree);

        lexbor_assert(node != NULL);

        switch (node->local_name) {
            case LXB_TAG_CAPTION:
            case LXB_TAG_COLGROUP:
            case LXB_TAG_DD:
            case LXB_TAG_DT:
            case LXB_TAG_LI:
            case LXB_TAG_OPTGROUP:
            case LXB_TAG_OPTION:
            case LXB_TAG_P:
            case LXB_TAG_RB:
            case LXB_TAG_RP:
            case LXB_TAG_RT:
            case LXB_TAG_RTC:
            case LXB_TAG_TBODY:
            case LXB_TAG_TD:
            case LXB_TAG_TFOOT:
            case LXB_TAG_TH:
            case LXB_TAG_THEAD:
            case LXB_TAG_TR:
                if(node->local_name == ex_tag && node->ns == ex_ns) {
                    return;
                }

                lxb_html_tree_open_elements_pop(tree);

                break;

            default:
                return;
        }
    }
}

void
lxb_html_tree_reset_insertion_mode_appropriately(lxb_html_tree_t *tree)
{
    lxb_dom_node_t *node;
    size_t idx = tree->open_elements->length;

    /* Step 1 */
    bool last = false;
    void **list = tree->open_elements->list;

    /* Step 3 */
    while (idx != 0) {
        idx--;

        /* Step 2 */
        node = list[idx];

        /* Step 3 */
        if (idx == 0) {
            last = true;

            if (tree->fragment != NULL) {
                node = tree->fragment;
            }
        }

        lexbor_assert(node != NULL);

        /* Step 16 */
        if (node->ns != LXB_NS_HTML) {
            if (last) {
                tree->mode = lxb_html_tree_insertion_mode_in_body;
                return;
            }

            continue;
        }

        /* Step 4-15 */
        switch (node->local_name) {
            case LXB_TAG_TD:
            case LXB_TAG_TH:
                if (last == false) {
                    tree->mode = lxb_html_tree_insertion_mode_in_cell;
                    return;
                }

                break;

            case LXB_TAG_TR:
                tree->mode = lxb_html_tree_insertion_mode_in_row;
                return;

            case LXB_TAG_TBODY:
            case LXB_TAG_TFOOT:
            case LXB_TAG_THEAD:
                tree->mode = lxb_html_tree_insertion_mode_in_table_body;
                return;

            case LXB_TAG_CAPTION:
                tree->mode = lxb_html_tree_insertion_mode_in_caption;
                return;

            case LXB_TAG_COLGROUP:
                tree->mode = lxb_html_tree_insertion_mode_in_column_group;
                return;

            case LXB_TAG_TABLE:
                tree->mode = lxb_html_tree_insertion_mode_in_table;
                return;

            case LXB_TAG_TEMPLATE:
                tree->mode = lxb_html_tree_template_insertion_current(tree);

                lexbor_assert(tree->mode != NULL);

                return;

            case LXB_TAG_HEAD:
                if (last == false) {
                    tree->mode = lxb_html_tree_insertion_mode_in_head;
                    return;
                }

                break;

            case LXB_TAG_BODY:
                tree->mode = lxb_html_tree_insertion_mode_in_body;
                return;

            case LXB_TAG_FRAMESET:
                tree->mode = lxb_html_tree_insertion_mode_in_frameset;
                return;

            case LXB_TAG_HTML: {
                if (tree->document->head == NULL) {
                    tree->mode = lxb_html_tree_insertion_mode_before_head;
                    return;
                }

                tree->mode = lxb_html_tree_insertion_mode_after_head;
                return;
            }

            default:
                break;
        }

        /* Step 16 */
        if (last) {
            tree->mode = lxb_html_tree_insertion_mode_in_body;
            return;
        }
    }
}

lxb_dom_node_t *
lxb_html_tree_element_in_scope(lxb_html_tree_t *tree, lxb_tag_id_t tag_id,
                               lxb_ns_id_t ns, lxb_html_tag_category_t ct)
{
    lxb_dom_node_t *node;

    size_t idx = tree->open_elements->length;
    void **list = tree->open_elements->list;

    while (idx != 0) {
        idx--;
        node = list[idx];

        if (node->local_name == tag_id && node->ns == ns) {
            return node;
        }

        if (lxb_html_tag_is_category(node->local_name, node->ns, ct)) {
            return NULL;
        }
    }

    return NULL;
}

lxb_dom_node_t *
lxb_html_tree_element_in_scope_by_node(lxb_html_tree_t *tree,
                                       lxb_dom_node_t *by_node,
                                       lxb_html_tag_category_t ct)
{
    lxb_dom_node_t *node;

    size_t idx = tree->open_elements->length;
    void **list = tree->open_elements->list;

    while (idx != 0) {
        idx--;
        node = list[idx];

        if (node == by_node) {
            return node;
        }

        if (lxb_html_tag_is_category(node->local_name, node->ns, ct)) {
            return NULL;
        }
    }

    return NULL;
}

lxb_dom_node_t *
lxb_html_tree_element_in_scope_h123456(lxb_html_tree_t *tree)
{
    lxb_dom_node_t *node;

    size_t idx = tree->open_elements->length;
    void **list = tree->open_elements->list;

    while (idx != 0) {
        idx--;
        node = list[idx];

        switch (node->local_name) {
            case LXB_TAG_H1:
            case LXB_TAG_H2:
            case LXB_TAG_H3:
            case LXB_TAG_H4:
            case LXB_TAG_H5:
            case LXB_TAG_H6:
                if (node->ns == LXB_NS_HTML) {
                    return node;
                }

                break;

            default:
                break;
        }

        if (lxb_html_tag_is_category(node->local_name, LXB_NS_HTML,
                                     LXB_HTML_TAG_CATEGORY_SCOPE))
        {
            return NULL;
        }
    }

    return NULL;
}

lxb_dom_node_t *
lxb_html_tree_element_in_scope_tbody_thead_tfoot(lxb_html_tree_t *tree)
{
    lxb_dom_node_t *node;

    size_t idx = tree->open_elements->length;
    void **list = tree->open_elements->list;

    while (idx != 0) {
        idx--;
        node = list[idx];

        switch (node->local_name) {
            case LXB_TAG_TBODY:
            case LXB_TAG_THEAD:
            case LXB_TAG_TFOOT:
                if (node->ns == LXB_NS_HTML) {
                    return node;
                }

                break;

            default:
                break;
        }

        if (lxb_html_tag_is_category(node->local_name, LXB_NS_HTML,
                                     LXB_HTML_TAG_CATEGORY_SCOPE_TABLE))
        {
            return NULL;
        }
    }

    return NULL;
}

lxb_dom_node_t *
lxb_html_tree_element_in_scope_td_th(lxb_html_tree_t *tree)
{
    lxb_dom_node_t *node;

    size_t idx = tree->open_elements->length;
    void **list = tree->open_elements->list;

    while (idx != 0) {
        idx--;
        node = list[idx];

        switch (node->local_name) {
            case LXB_TAG_TD:
            case LXB_TAG_TH:
                if (node->ns == LXB_NS_HTML) {
                    return node;
                }

                break;

            default:
                break;
        }

        if (lxb_html_tag_is_category(node->local_name, LXB_NS_HTML,
                                     LXB_HTML_TAG_CATEGORY_SCOPE_TABLE))
        {
            return NULL;
        }
    }

    return NULL;
}

lxb_dom_node_t *
lxb_html_tree_element_in_scope_option_optgroup(lxb_html_tree_t *tree)
{
    lxb_dom_node_t *node;

    size_t idx = tree->open_elements->length;
    void **list = tree->open_elements->list;

    while (idx != 0) {
        idx--;
        node = list[idx];

        switch (node->local_name) {
            case LXB_TAG_OPTION:
            case LXB_TAG_OPTGROUP:
                if (node->ns == LXB_NS_HTML) {
                    return node;
                }

                break;

            default:
                break;
        }

        if (lxb_html_tag_is_category(node->local_name, LXB_NS_HTML,
                                     LXB_HTML_TAG_CATEGORY_SCOPE))
        {
            return NULL;
        }
    }

    return NULL;
}

bool
lxb_html_tree_check_scope_element(lxb_html_tree_t *tree)
{
    lxb_dom_node_t *node;

    for (size_t i = 0; i < tree->open_elements->length; i++) {
        node = tree->open_elements->list[i];

        switch (node->local_name) {
            case LXB_TAG_DD:
            case LXB_TAG_DT:
            case LXB_TAG_LI:
            case LXB_TAG_OPTGROUP:
            case LXB_TAG_OPTION:
            case LXB_TAG_P:
            case LXB_TAG_RB:
            case LXB_TAG_RP:
            case LXB_TAG_RT:
            case LXB_TAG_RTC:
            case LXB_TAG_TBODY:
            case LXB_TAG_TD:
            case LXB_TAG_TFOOT:
            case LXB_TAG_TH:
            case LXB_TAG_THEAD:
            case LXB_TAG_TR:
            case LXB_TAG_BODY:
            case LXB_TAG_HTML:
                return true;

            default:
                break;
        }
    }

    return false;
}

void
lxb_html_tree_close_p_element(lxb_html_tree_t *tree, lxb_html_token_t *token)
{
    lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG_P, LXB_NS_HTML);

    lxb_dom_node_t *node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(node, LXB_TAG_P) == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNELINOPELST);
    }

    lxb_html_tree_open_elements_pop_until_tag_id(tree, LXB_TAG_P, LXB_NS_HTML,
                                                 true);
}


bool
lxb_html_tree_adoption_agency_algorithm(lxb_html_tree_t *tree,
                                        lxb_html_token_t *token,
                                        lxb_status_t *status)
{
    lexbor_assert(tree->open_elements->length != 0);

    /* State 1 */
    bool is;
    short outer_loop;
    lxb_html_element_t *element;
    lxb_dom_node_t *node, *marker, **oel_list, **afe_list;

    lxb_tag_id_t subject = token->tag_id;

    oel_list = (lxb_dom_node_t **) tree->open_elements->list;
    afe_list = (lxb_dom_node_t **) tree->active_formatting->list;
    marker = (lxb_dom_node_t *) lxb_html_tree_active_formatting_marker();

    *status = LXB_STATUS_OK;

    /* State 2 */
    node = lxb_html_tree_current_node(tree);
    lexbor_assert(node != NULL);

    if (lxb_html_tree_node_is(node, subject)) {
        is = lxb_html_tree_active_formatting_find_by_node_reverse(tree, node,
                                                                  NULL);
        if (is == false) {
            lxb_html_tree_open_elements_pop(tree);

            return false;
        }
    }

    /* State 3 */
    outer_loop = 0;

    /* State 4 */
    while (outer_loop < 8) {
        /* State 5 */
        outer_loop++;

        /* State 6 */
        size_t formatting_index = 0;
        size_t idx = tree->active_formatting->length;
        lxb_dom_node_t *formatting_element = NULL;

        while (idx) {
            idx--;

            if (afe_list[idx] == marker) {
                    return true;
            }
            else if (afe_list[idx]->local_name == subject) {
                formatting_index = idx;
                formatting_element = afe_list[idx];

                break;
            }
        }

        if (formatting_element == NULL) {
            return true;
        }

        /* State 7 */
        size_t oel_formatting_idx;
        is = lxb_html_tree_open_elements_find_by_node_reverse(tree,
                                                              formatting_element,
                                                              &oel_formatting_idx);
        if (is == false) {
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_MIELINOPELST);

            lxb_html_tree_active_formatting_remove_by_node(tree,
                                                           formatting_element);

            return false;
        }

        /* State 8 */
        node = lxb_html_tree_element_in_scope_by_node(tree, formatting_element,
                                                      LXB_HTML_TAG_CATEGORY_SCOPE);
        if (node == NULL) {
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_MIELINSC);
            return false;
        }

        /* State 9 */
        node = lxb_html_tree_current_node(tree);

        if (formatting_element != node) {
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_UNELINOPELST);
        }

        /* State 10 */
        lxb_dom_node_t *furthest_block = NULL;
        size_t furthest_block_idx = 0;
        size_t oel_idx = tree->open_elements->length;

        for (furthest_block_idx = oel_formatting_idx;
             furthest_block_idx < oel_idx;
             furthest_block_idx++)
        {
            is = lxb_html_tag_is_category(oel_list[furthest_block_idx]->local_name,
                                          oel_list[furthest_block_idx]->ns,
                                          LXB_HTML_TAG_CATEGORY_SPECIAL);
            if (is) {
                furthest_block = oel_list[furthest_block_idx];

                break;
            }
        }

        /* State 11 */
        if (furthest_block == NULL) {
            lxb_html_tree_open_elements_pop_until_node(tree, formatting_element,
                                                       true);

            lxb_html_tree_active_formatting_remove_by_node(tree,
                                                           formatting_element);

            return false;
        }

        lexbor_assert(oel_formatting_idx != 0);

        /* State 12 */
        lxb_dom_node_t *common_ancestor = oel_list[oel_formatting_idx - 1];

        /* State 13 */
        size_t bookmark = formatting_index;

        /* State 14 */
        lxb_dom_node_t *node;
        lxb_dom_node_t *last = furthest_block;
        size_t node_idx = furthest_block_idx;

        /* State 14.1 */
        size_t inner_loop_counter = 0;

        /* State 14.2 */
        while (1) {
            inner_loop_counter++;

            /* State 14.3 */
            lexbor_assert(node_idx != 0);

            if (node_idx == 0) {
                return false;
            }

            node_idx--;
            node = oel_list[node_idx];

            /* State 14.4 */
            if (node == formatting_element) {
                break;
            }

            /* State 14.5 */
            size_t afe_node_idx;
            is = lxb_html_tree_active_formatting_find_by_node_reverse(tree,
                                                                      node,
                                                                      &afe_node_idx);
            /* State 14.5 */
            if (inner_loop_counter > 3 && is) {
                lxb_html_tree_active_formatting_remove_by_node(tree, node);

                continue;
            }

            /* State 14.6 */
            if (is == false) {
                lxb_html_tree_open_elements_remove_by_node(tree, node);

                continue;
            }

            /* State 14.7 */
            lxb_html_token_t fake_token = {0};

            fake_token.tag_id = node->local_name;
            fake_token.base_element = node;

            element = lxb_html_tree_create_element_for_token(tree, &fake_token,
                                                             LXB_NS_HTML);
            if (element == NULL) {
                *status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

                return false;
            }

            node = lxb_dom_interface_node(element);

            afe_list[afe_node_idx] = node;
            oel_list[node_idx] = node;

            /* State 14.8 */
            if (last == furthest_block) {
                bookmark = afe_node_idx + 1;

                lexbor_assert(bookmark < tree->active_formatting->length);
            }

            /* State 14.9 */
            if (last->parent != NULL) {
                lxb_dom_node_remove_wo_events(last);
            }

            lxb_dom_node_insert_child_wo_events(node, last);

            /* State 14.10 */
            last = node;
        }

        if (last->parent != NULL) {
            lxb_dom_node_remove_wo_events(last);
        }

        /* State 15 */
        lxb_dom_node_t *pos;
        lxb_html_tree_insertion_position_t ipos;

        pos = lxb_html_tree_appropriate_place_inserting_node(tree,
                                                             common_ancestor,
                                                             &ipos);
        if (pos == NULL) {
            return false;
        }

        lxb_html_tree_insert_node(pos, last, ipos);

        /* State 16 */
        lxb_html_token_t fake_token = {0};

        fake_token.tag_id = formatting_element->local_name;
        fake_token.base_element = formatting_element;

        element = lxb_html_tree_create_element_for_token(tree, &fake_token,
                                                         LXB_NS_HTML);
        if (element == NULL) {
            *status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

            return false;
        }

        /* State 17 */
        lxb_dom_node_t *next;
        node = furthest_block->first_child;

        while (node != NULL) {
            next = node->next;

            lxb_dom_node_remove_wo_events(node);
            lxb_dom_node_insert_child_wo_events(lxb_dom_interface_node(element),
                                                node);
            node = next;
        }

        node = lxb_dom_interface_node(element);

        /* State 18 */
        lxb_dom_node_insert_child_wo_events(furthest_block, node);

        /* State 19 */
        lxb_html_tree_active_formatting_remove(tree, formatting_index);

        if (bookmark > tree->active_formatting->length) {
            bookmark = tree->active_formatting->length;
        }

        *status = lxb_html_tree_active_formatting_insert(tree, node, bookmark);
        if (*status != LXB_STATUS_OK) {
            return false;
        }

        /* State 20 */
        lxb_html_tree_open_elements_remove_by_node(tree, formatting_element);

        lxb_html_tree_open_elements_find_by_node(tree, furthest_block,
                                                 &furthest_block_idx);

        *status = lxb_html_tree_open_elements_insert_after(tree, node,
                                                           furthest_block_idx);
        if (*status != LXB_STATUS_OK) {
            return false;
        }
    }

    return false;
}

bool
lxb_html_tree_html_integration_point(lxb_dom_node_t *node)
{
    if (node->ns == LXB_NS_MATH
        && node->local_name == LXB_TAG_ANNOTATION_XML)
    {
        lxb_dom_attr_t *attr;
        attr = lxb_dom_element_attr_is_exist(lxb_dom_interface_element(node),
                                             (const lxb_char_t *) "encoding",
                                             8);
        if (attr == NULL || attr->value == NULL) {
            return false;
        }

        if (attr->value->length == 9
            && lexbor_str_data_casecmp(attr->value->data,
                                       (const lxb_char_t *) "text/html"))
        {
            return true;
        }

        if (attr->value->length == 21
            && lexbor_str_data_casecmp(attr->value->data,
                                       (const lxb_char_t *) "application/xhtml+xml"))
        {
            return true;
        }

        return false;
    }

    if (node->ns == LXB_NS_SVG
        && (node->local_name == LXB_TAG_FOREIGNOBJECT
            || node->local_name == LXB_TAG_DESC
            || node->local_name == LXB_TAG_TITLE))
    {
        return true;
    }

    return false;
}

lxb_status_t
lxb_html_tree_adjust_attributes_mathml(lxb_html_tree_t *tree,
                                       lxb_dom_attr_t *attr, void *ctx)
{
    lxb_status_t status;

    status = lxb_html_tree_adjust_mathml_attributes(tree, attr, ctx);
    if (status !=LXB_STATUS_OK) {
        return status;
    }

    return lxb_html_tree_adjust_foreign_attributes(tree, attr, ctx);
}

lxb_status_t
lxb_html_tree_adjust_attributes_svg(lxb_html_tree_t *tree,
                                    lxb_dom_attr_t *attr, void *ctx)
{
    lxb_status_t status;

    status = lxb_html_tree_adjust_svg_attributes(tree, attr, ctx);
    if (status !=LXB_STATUS_OK) {
        return status;
    }

    return lxb_html_tree_adjust_foreign_attributes(tree, attr, ctx);
}

static lxb_html_element_t lxb_html_tree_active_formatting_marker_static;

static lxb_dom_node_t *lxb_html_tree_active_formatting_marker_node_static =
    (lxb_dom_node_t *) &lxb_html_tree_active_formatting_marker_static;


lxb_html_element_t *
lxb_html_tree_active_formatting_marker(void)
{
    return &lxb_html_tree_active_formatting_marker_static;
}

void
lxb_html_tree_active_formatting_up_to_last_marker(lxb_html_tree_t *tree)
{
    void **list = tree->active_formatting->list;

    while (tree->active_formatting->length != 0) {
        tree->active_formatting->length--;

        if (list[tree->active_formatting->length]
            == &lxb_html_tree_active_formatting_marker_static)
        {
            break;
        }
    }
}

void
lxb_html_tree_active_formatting_remove_by_node(lxb_html_tree_t *tree,
                                               lxb_dom_node_t *node)
{
    size_t delta;
    void **list = tree->active_formatting->list;
    size_t idx = tree->active_formatting->length;

    while (idx != 0) {
        idx--;

        if (list[idx] == node) {
            delta = tree->active_formatting->length - idx - 1;

            memmove(list + idx, list + idx + 1, sizeof(void *) * delta);

            tree->active_formatting->length--;

            break;
        }
    }
}

bool
lxb_html_tree_active_formatting_find_by_node(lxb_html_tree_t *tree,
                                             lxb_dom_node_t *node,
                                             size_t *return_pos)
{
    void **list = tree->active_formatting->list;

    for (size_t i = 0; i < tree->active_formatting->length; i++) {
        if (list[i] == node) {
            if (return_pos) {
                *return_pos = i;
            }

            return true;
        }
    }

    if (return_pos) {
        *return_pos = 0;
    }

    return false;
}

bool
lxb_html_tree_active_formatting_find_by_node_reverse(lxb_html_tree_t *tree,
                                                     lxb_dom_node_t *node,
                                                     size_t *return_pos)
{
    void **list = tree->active_formatting->list;
    size_t len = tree->active_formatting->length;

    while (len != 0) {
        len--;

        if (list[len] == node) {
            if (return_pos) {
                *return_pos = len;
            }

            return true;
        }
    }

    if (return_pos) {
        *return_pos = 0;
    }

    return false;
}

lxb_status_t
lxb_html_tree_active_formatting_reconstruct_elements(lxb_html_tree_t *tree)
{
    /* Step 1 */
    if (tree->active_formatting->length == 0) {
        return LXB_STATUS_OK;
    }

    lexbor_array_t *af = tree->active_formatting;
    void **list = af->list;

    /* Step 2-3 */
    size_t af_idx = af->length - 1;

    if(list[af_idx] == &lxb_html_tree_active_formatting_marker_static
       || lxb_html_tree_open_elements_find_by_node_reverse(tree, list[af_idx],
                                                           NULL))
    {
        return LXB_STATUS_OK;
    }

    /*
     * Step 4-6
     * Rewind
     */
    while (af_idx != 0) {
        af_idx--;

        if(list[af_idx] == &lxb_html_tree_active_formatting_marker_static ||
           lxb_html_tree_open_elements_find_by_node_reverse(tree, list[af_idx],
                                                            NULL))
        {
            /* Step 7 */
            af_idx++;

            break;
        }
    }

    /*
     * Step 8-10
     * Create
     */
    lxb_dom_node_t *node;
    lxb_html_element_t *element;
    lxb_html_token_t fake_token = {0};

    while (af_idx < af->length) {
        node = list[af_idx];

        fake_token.tag_id = node->local_name;
        fake_token.base_element = node;

        element = lxb_html_tree_insert_html_element(tree, &fake_token);
        if (element == NULL) {
            return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        }

        /* Step 9 */
        list[af_idx] = lxb_dom_interface_node(element);

        /* Step 10 */
        af_idx++;
    }

    return LXB_STATUS_OK;
}

lxb_dom_node_t *
lxb_html_tree_active_formatting_between_last_marker(lxb_html_tree_t *tree,
                                                    lxb_tag_id_t tag_idx,
                                                    size_t *return_idx)
{
    lxb_dom_node_t **list = (lxb_dom_node_t **) tree->active_formatting->list;
    size_t idx = tree->active_formatting->length;

    while (idx) {
        idx--;

        if (list[idx] == lxb_html_tree_active_formatting_marker_node_static) {
            return NULL;
        }

        if (list[idx]->local_name == tag_idx && list[idx]->ns == LXB_NS_HTML) {
            if (return_idx) {
                *return_idx = idx;
            }

            return list[idx];
        }
    }

    return NULL;
}

void
lxb_html_tree_active_formatting_push_with_check_dupl(lxb_html_tree_t *tree,
                                                     lxb_dom_node_t *node)
{
    lxb_dom_node_t **list = (lxb_dom_node_t **) tree->active_formatting->list;
    size_t idx = tree->active_formatting->length;
    size_t earliest_idx = (idx ? (idx - 1) : 0);
    size_t count = 0;

    while (idx) {
        idx--;

        if (list[idx] == lxb_html_tree_active_formatting_marker_node_static) {
            break;
        }

        if(list[idx]->local_name == node->local_name && list[idx]->ns == node->ns
            && lxb_dom_element_compare(lxb_dom_interface_element(list[idx]),
                                       lxb_dom_interface_element(node)))
        {
            count++;
            earliest_idx = idx;
        }
    }

    if(count >= 3) {
        lxb_html_tree_active_formatting_remove(tree, earliest_idx);
    }

    lxb_html_tree_active_formatting_push(tree, node);
}

lxb_html_tree_error_t *
lxb_html_tree_error_add(lexbor_array_obj_t *parse_errors,
                        lxb_html_token_t *token, lxb_html_tree_error_id_t id)
{
    if (parse_errors == NULL) {
        return NULL;
    }

    lxb_html_tree_error_t *entry = lexbor_array_obj_push(parse_errors);
    if (entry == NULL) {
        return NULL;
    }

    entry->id = id;
    entry->begin = token->begin;
    entry->end = token->end;

    return entry;
}

const lxb_char_t *
lxb_html_tree_error_to_string(lxb_html_tree_error_id_t id, size_t *len)
{
    static const lexbor_str_t unknown = lexbor_str("unknown error");

    static const lexbor_str_t errors[LXB_HTML_RULES_ERROR_LAST_ENTRY] = {
        lexbor_str("unexpected token"),
        lexbor_str("unexpected closed token"),
        lexbor_str("null character"),
        lexbor_str("unexpected character token"),
        lexbor_str("unexpected token in initial mode"),
        lexbor_str("bad doctype token in initial mode"),
        lexbor_str("doctype token in before html mode"),
        lexbor_str("unexpected closed token in before html mode"),
        lexbor_str("doctype token in before head mode"),
        lexbor_str("unexpected closed token in before head mode"),
        lexbor_str("doctype token in head mode"),
        lexbor_str("non void html element start tag with trailing solidus"),
        lexbor_str("head token in head mode"),
        lexbor_str("unexpected closed token in head mode"),
        lexbor_str("template closed token without opening in head mode"),
        lexbor_str("template element is not current in head mode"),
        lexbor_str("doctype token in head noscript mode"),
        lexbor_str("doctype token after head mode"),
        lexbor_str("head token after head mode"),
        lexbor_str("doctype token in body mode"),
        lexbor_str("bad ending open elements is wrong"),
        lexbor_str("open elements is wrong"),
        lexbor_str("unexpected element in open elements stack"),
        lexbor_str("missing element in open elements stack"),
        lexbor_str("no body element in scope"),
        lexbor_str("missing element in scope"),
        lexbor_str("unexpected element in scope"),
        lexbor_str("unexpected element in active formatting stack"),
        lexbor_str("unexpected end of file"),
        lexbor_str("characters in table text"),
        lexbor_str("doctype token in table mode"),
        lexbor_str("doctype token in select mode"),
        lexbor_str("doctype token after body mode"),
        lexbor_str("doctype token in frameset mode"),
        lexbor_str("doctype token after frameset mode"),
        lexbor_str("doctype token foreign content mode"),
        lexbor_str("select in scope"),
        lexbor_str("fragment parsing select in context parse input"),
        lexbor_str("fragment parsing select in context parse select"),
        lexbor_str("hr parsing select option optgroup in scope"),
        lexbor_str("option parsing option in scope"),
        lexbor_str("optgroup parsing option optgroup in scope")
    };

    if (id >= (sizeof(errors) / sizeof(lexbor_str_t))) {
        if (len != NULL) {
            *len = unknown.length;
        }

        return unknown.data;
    }

    if (len != NULL) {
        *len = errors[id].length;
    }

    return errors[id].data;
}

bool
lxb_html_tree_insertion_mode_after_after_body(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    switch (token->tag_id) {
        case LXB_TAG__EM_COMMENT: {
            lxb_dom_comment_t *comment;

            comment = lxb_html_tree_insert_comment(tree, token,
                                                   lxb_dom_interface_node(tree->document));
            if (comment == NULL) {
                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG__EM_DOCTYPE:
        case LXB_TAG_HTML:
            return lxb_html_tree_insertion_mode_in_body(tree, token);

        case LXB_TAG__END_OF_FILE:
            tree->status = lxb_html_tree_stop_parsing(tree);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            break;

        case LXB_TAG__TEXT: {
            lxb_html_token_t ws_token = *token;

            tree->status = lxb_html_token_data_skip_ws_begin(&ws_token);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            if (ws_token.text_start == ws_token.text_end) {
                return lxb_html_tree_insertion_mode_in_body(tree, token);
            }
        }
        /* fall through */

        default:
            lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

            tree->mode = lxb_html_tree_insertion_mode_in_body;

            return false;
    }

    return true;
}

bool
lxb_html_tree_insertion_mode_after_after_frameset(lxb_html_tree_t *tree,
                                                  lxb_html_token_t *token)
{
    switch (token->tag_id) {
        case LXB_TAG__EM_COMMENT: {
            lxb_dom_comment_t *comment;

            comment = lxb_html_tree_insert_comment(tree, token,
                                                   lxb_dom_interface_node(tree->document));
            if (comment == NULL) {
                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG__EM_DOCTYPE:
        case LXB_TAG_HTML:
            return lxb_html_tree_insertion_mode_in_body(tree, token);

        case LXB_TAG__END_OF_FILE:
            tree->status = lxb_html_tree_stop_parsing(tree);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            break;

        case LXB_TAG_NOFRAMES:
            return lxb_html_tree_insertion_mode_in_head(tree, token);

        case LXB_TAG__TEXT: {
            lxb_html_token_t ws_token = *token;

            tree->status = lxb_html_token_data_skip_ws_begin(&ws_token);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            if (ws_token.text_start == ws_token.text_end) {
                return lxb_html_tree_insertion_mode_in_body(tree, token);
            }
        }
        /* fall through */

        default:
            lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

            break;
    }

    return true;
}

bool
lxb_html_tree_insertion_mode_after_body(lxb_html_tree_t *tree,
                                        lxb_html_token_t *token)
{
    switch (token->tag_id) {
        case LXB_TAG__EM_COMMENT: {
            lxb_dom_comment_t *comment;
            lxb_dom_node_t *html_node;

            html_node = lxb_html_tree_open_elements_first(tree);

            comment = lxb_html_tree_insert_comment(tree, token, html_node);
            if (comment == NULL) {
                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG__EM_DOCTYPE:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_DOTOAFBOMO);
            break;

        case LXB_TAG_HTML:
            if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE)
            {
                if (tree->fragment != NULL) {
                    lxb_html_tree_parse_error(tree, token,
                                              LXB_HTML_RULES_ERROR_UNCLTO);
                    return true;
                }

                tree->mode = lxb_html_tree_insertion_mode_after_after_body;

                return true;
            }

            return lxb_html_tree_insertion_mode_in_body(tree, token);

        case LXB_TAG__END_OF_FILE:
            tree->status = lxb_html_tree_stop_parsing(tree);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            break;

        case LXB_TAG__TEXT: {
            lxb_html_token_t ws_token = *token;

            tree->status = lxb_html_token_data_skip_ws_begin(&ws_token);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            if (ws_token.text_start == ws_token.text_end) {
                return lxb_html_tree_insertion_mode_in_body(tree, token);
            }
        }
        /* fall through */

        default:
            lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

            tree->mode = lxb_html_tree_insertion_mode_in_body;

            return false;
    }

    return true;
}

bool
lxb_html_tree_insertion_mode_after_frameset(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token)
{
    switch (token->tag_id) {
        case LXB_TAG__EM_COMMENT: {
            lxb_dom_comment_t *comment;

            comment = lxb_html_tree_insert_comment(tree, token, NULL);
            if (comment == NULL) {
                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG__EM_DOCTYPE:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_DOTOAFFRMO);
            break;

        case LXB_TAG_HTML:
            if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
                tree->mode = lxb_html_tree_insertion_mode_after_after_frameset;

                return true;
            }

            return lxb_html_tree_insertion_mode_in_body(tree, token);

        case LXB_TAG_NOFRAMES:
            return lxb_html_tree_insertion_mode_in_head(tree, token);

        case LXB_TAG__END_OF_FILE: {
            tree->status = lxb_html_tree_stop_parsing(tree);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG__TEXT: {
            size_t cur_len;
            lexbor_str_t str;

            tree->status = lxb_html_token_make_text(token, &str,
                                                    tree->document->dom_document.text);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            cur_len = str.length;

            lexbor_str_stay_only_whitespace(&str);

            if (str.length != 0) {
                tree->status = lxb_html_tree_insert_character_for_data(tree,
                                                                       &str,
                                                                       NULL);
                if (tree->status != LXB_STATUS_OK) {
                    return lxb_html_tree_process_abort(tree);
                }
            }

            if (str.length == cur_len) {
                return true;
            }
        }
        /* fall through */

        default:
            lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

            break;
    }

    return true;
}

static bool
lxb_html_tree_insertion_mode_after_head_open(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token);
static bool
lxb_html_tree_insertion_mode_after_head_closed(lxb_html_tree_t *tree,
                                               lxb_html_token_t *token);

lxb_inline bool
lxb_html_tree_insertion_mode_after_head_anything_else(lxb_html_tree_t *tree);

lxb_inline lxb_html_element_t *
lxb_html_tree_insertion_mode_after_head_create_body(lxb_html_tree_t *tree,
                                                    lxb_html_token_t *token);


bool
lxb_html_tree_insertion_mode_after_head(lxb_html_tree_t *tree,
                                        lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
        return lxb_html_tree_insertion_mode_after_head_closed(tree, token);
    }

    return lxb_html_tree_insertion_mode_after_head_open(tree, token);
}

static bool
lxb_html_tree_insertion_mode_after_head_open(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token)
{
    switch (token->tag_id) {
        case LXB_TAG__EM_COMMENT: {
            lxb_dom_comment_t *comment;

            comment = lxb_html_tree_insert_comment(tree, token, NULL);
            if (comment == NULL) {
                tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG__EM_DOCTYPE:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_DOTOAFHEMO);
            break;

        case LXB_TAG_HTML:
            return lxb_html_tree_insertion_mode_in_body(tree, token);

        case LXB_TAG_BODY: {
            lxb_html_element_t *element;

            element = lxb_html_tree_insertion_mode_after_head_create_body(tree,
                                                                          token);
            if (element == NULL) {
                tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

                return lxb_html_tree_process_abort(tree);
            }

            tree->frameset_ok = false;
            tree->mode = lxb_html_tree_insertion_mode_in_body;

            break;
        }

        case LXB_TAG_FRAMESET: {
            lxb_html_element_t *element;

            element = lxb_html_tree_insert_html_element(tree, token);
            if (element == NULL) {
                tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

                return lxb_html_tree_process_abort(tree);
            }

            tree->mode = lxb_html_tree_insertion_mode_in_frameset;

            break;
        }

        case LXB_TAG_BASE:
        case LXB_TAG_BASEFONT:
        case LXB_TAG_BGSOUND:
        case LXB_TAG_LINK:
        case LXB_TAG_META:
        case LXB_TAG_NOFRAMES:
        case LXB_TAG_SCRIPT:
        case LXB_TAG_STYLE:
        case LXB_TAG_TEMPLATE:
        case LXB_TAG_TITLE: {
            lxb_dom_node_t *head_node;

            head_node = lxb_dom_interface_node(tree->document->head);
            if (head_node == NULL) {
                tree->status = LXB_STATUS_ERROR;

                return lxb_html_tree_process_abort(tree);
            }

            lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

            tree->status = lxb_html_tree_open_elements_push(tree, head_node);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            lxb_html_tree_insertion_mode_in_head(tree, token);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            lxb_html_tree_open_elements_remove_by_node(tree, head_node);

            break;
        }

        case LXB_TAG_HEAD:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_HETOAFHEMO);
            break;

        case LXB_TAG__TEXT: {
            lxb_html_token_t ws_token = {0};

            tree->status = lxb_html_token_data_split_ws_begin(token, &ws_token);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            if (ws_token.text_start != ws_token.text_end) {
                tree->status = lxb_html_tree_insert_character(tree, &ws_token,
                                                              NULL);
                if (tree->status != LXB_STATUS_OK) {
                    return lxb_html_tree_process_abort(tree);
                }
            }

            if (token->text_start == token->text_end) {
                return true;
            }
        }
        /* fall through */

        default:
            return lxb_html_tree_insertion_mode_after_head_anything_else(tree);
    }

    return true;
}

static bool
lxb_html_tree_insertion_mode_after_head_closed(lxb_html_tree_t *tree,
                                               lxb_html_token_t *token)
{
    switch (token->tag_id) {
        case LXB_TAG_TEMPLATE:
            return lxb_html_tree_insertion_mode_in_head(tree, token);

        case LXB_TAG_BODY:
        case LXB_TAG_HTML:
        case LXB_TAG_BR:
            return lxb_html_tree_insertion_mode_after_head_anything_else(tree);

        default:
            lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

            break;
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_after_head_anything_else(lxb_html_tree_t *tree)
{
    lxb_html_element_t *element;
    lxb_html_token_t fake_token = {0};

    fake_token.tag_id = LXB_TAG_BODY;

    element = lxb_html_tree_insertion_mode_after_head_create_body(tree,
                                                                  &fake_token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_body;

    return false;
}

lxb_inline lxb_html_element_t *
lxb_html_tree_insertion_mode_after_head_create_body(lxb_html_tree_t *tree,
                                                    lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        return NULL;
    }

    tree->document->body = lxb_html_interface_body(element);

    return element;
}

static bool
lxb_html_tree_insertion_mode_before_head_open(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token);

static bool
lxb_html_tree_insertion_mode_before_head_closed(lxb_html_tree_t *tree,
                                                lxb_html_token_t *token);

lxb_inline bool
lxb_html_tree_insertion_mode_before_head_anything_else(lxb_html_tree_t *tree);

lxb_inline lxb_status_t
lxb_html_tree_insertion_mode_before_head_head(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token);


bool
lxb_html_tree_insertion_mode_before_head(lxb_html_tree_t *tree,
                                         lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
        return lxb_html_tree_insertion_mode_before_head_closed(tree, token);
    }

    return lxb_html_tree_insertion_mode_before_head_open(tree, token);
}

static bool
lxb_html_tree_insertion_mode_before_head_open(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    switch (token->tag_id) {
        case LXB_TAG__EM_COMMENT: {
            lxb_dom_comment_t *comment;

            comment = lxb_html_tree_insert_comment(tree, token, NULL);
            if (comment == NULL) {
                tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG__EM_DOCTYPE:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_DOTOINBEHEMO);
            break;

        case LXB_TAG_HTML:
            return lxb_html_tree_insertion_mode_in_body(tree, token);

        case LXB_TAG_HEAD:
            tree->status = lxb_html_tree_insertion_mode_before_head_head(tree,
                                                                         token);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            tree->mode = lxb_html_tree_insertion_mode_in_head;

            break;

        case LXB_TAG__TEXT:
            tree->status = lxb_html_token_data_skip_ws_begin(token);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            if (token->text_start == token->text_end) {
                return true;
            }
            /* fall through */

        default:
            return lxb_html_tree_insertion_mode_before_head_anything_else(tree);
    }

    return true;
}

static bool
lxb_html_tree_insertion_mode_before_head_closed(lxb_html_tree_t *tree,
                                                lxb_html_token_t *token)
{
    switch (token->tag_id) {
        case LXB_TAG_HEAD:
        case LXB_TAG_BODY:
        case LXB_TAG_HTML:
        case LXB_TAG_BR:
            return lxb_html_tree_insertion_mode_before_head_anything_else(tree);

        default:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_UNCLTOINBEHEMO);
            break;
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_before_head_anything_else(lxb_html_tree_t *tree)
{
    lxb_html_token_t fake_token = {0};

    fake_token.tag_id = LXB_TAG_HEAD;

    tree->status = lxb_html_tree_insertion_mode_before_head_head(tree,
                                                                 &fake_token);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_head;

    return false;
}

lxb_inline lxb_status_t
lxb_html_tree_insertion_mode_before_head_head(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    tree->document->head = lxb_html_interface_head(element);

    return LXB_STATUS_OK;
}

static bool
lxb_html_tree_insertion_mode_before_html_open(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token);

static bool
lxb_html_tree_insertion_mode_before_html_closed(lxb_html_tree_t *tree,
                                                lxb_html_token_t *token);

lxb_inline bool
lxb_html_tree_insertion_mode_before_html_anything_else(lxb_html_tree_t *tree);

lxb_inline lxb_status_t
lxb_html_tree_insertion_mode_before_html_html(lxb_html_tree_t *tree,
                                              lxb_dom_node_t *node_html);


bool
lxb_html_tree_insertion_mode_before_html(lxb_html_tree_t *tree,
                                         lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
        return lxb_html_tree_insertion_mode_before_html_closed(tree, token);;
    }

    return lxb_html_tree_insertion_mode_before_html_open(tree, token);
}

static bool
lxb_html_tree_insertion_mode_before_html_open(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    switch (token->tag_id) {
        case LXB_TAG__EM_DOCTYPE:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_DOTOINBEHTMO);
            break;

        case LXB_TAG__EM_COMMENT: {
            lxb_dom_comment_t *comment;

            comment = lxb_html_tree_insert_comment(tree, token,
                                        lxb_dom_interface_node(tree->document));
            if (comment == NULL) {
                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG_HTML: {
            lxb_dom_node_t *node_html;
            lxb_html_element_t *element;

            element = lxb_html_tree_create_element_for_token(tree, token,
                                            LXB_NS_HTML);
            if (element == NULL) {
                tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

                return lxb_html_tree_process_abort(tree);
            }

            node_html = lxb_dom_interface_node(element);

            tree->status = lxb_html_tree_insertion_mode_before_html_html(tree,
                                                                     node_html);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            tree->mode = lxb_html_tree_insertion_mode_before_head;

            break;
        }

        case LXB_TAG__TEXT:
            tree->status = lxb_html_token_data_skip_ws_begin(token);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            if (token->text_start == token->text_end) {
                return true;
            }
            /* fall through */

        default:
            return lxb_html_tree_insertion_mode_before_html_anything_else(tree);
    }

    return true;
}

static bool
lxb_html_tree_insertion_mode_before_html_closed(lxb_html_tree_t *tree,
                                                lxb_html_token_t *token)
{
    switch (token->tag_id) {
        case LXB_TAG_HEAD:
        case LXB_TAG_BODY:
        case LXB_TAG_HTML:
        case LXB_TAG_BR:
            return lxb_html_tree_insertion_mode_before_html_anything_else(tree);

        default:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_UNCLTOINBEHTMO);
            break;
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_before_html_anything_else(lxb_html_tree_t *tree)
{
    lxb_dom_node_t *node_html;

    node_html = lxb_html_tree_create_node(tree, LXB_TAG_HTML, LXB_NS_HTML);
    if (node_html == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        return lxb_html_tree_process_abort(tree);
    }

    tree->status = lxb_html_tree_insertion_mode_before_html_html(tree,
                                                                 node_html);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_before_head;

    return false;
}

lxb_inline lxb_status_t
lxb_html_tree_insertion_mode_before_html_html(lxb_html_tree_t *tree,
                                              lxb_dom_node_t *node_html)
{
    lxb_status_t status;

    status = lxb_html_tree_open_elements_push(tree, node_html);
    if (status != LXB_STATUS_OK) {
        return status;
    }

    lxb_html_tree_insert_node(lxb_dom_interface_node(tree->document),
                              node_html,
                              LXB_HTML_TREE_INSERTION_POSITION_CHILD);

    lxb_dom_document_attach_element(&tree->document->dom_document,
                                    lxb_dom_interface_element(node_html));

    return LXB_STATUS_OK;
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_ansi_replacement_character[4];
    LXB_EXTERN const unsigned char lexbor_tokenizer_chars_map[256];
#endif

lxb_status_t
lxb_dom_element_qualified_name_set(lxb_dom_element_t *element,
                                   const lxb_char_t *prefix, size_t prefix_len,
                                   const lxb_char_t *lname, size_t lname_len);


lxb_inline bool
lxb_html_tree_insertion_mode_foreign_content_anything_else_closed(lxb_html_tree_t *tree,
                                                                  lxb_html_token_t *token)
{
    if (tree->open_elements->length == 0) {
        return tree->mode(tree, token);
    }

    lxb_dom_node_t **list = (lxb_dom_node_t **) tree->open_elements->list;

    size_t idx = tree->open_elements->length - 1;

    if (idx > 0 && list[idx]->local_name != token->tag_id) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNELINOPELST);
    }

    while (idx != 0) {
        if (list[idx]->local_name == token->tag_id) {
            lxb_html_tree_open_elements_pop_until_node(tree, list[idx], true);

            return true;
        }

        idx--;

        if (list[idx]->ns == LXB_NS_HTML) {
            break;
        }
    }

    return tree->mode(tree, token);
}

/*
 * TODO: Need to process script
 */
lxb_inline bool
lxb_html_tree_insertion_mode_foreign_content_script_closed(lxb_html_tree_t *tree,
                                                           lxb_html_token_t *token)
{
    lxb_dom_node_t *node = lxb_html_tree_current_node(tree);

    if (node->local_name != LXB_TAG_SCRIPT || node->ns != LXB_NS_SVG) {
        return lxb_html_tree_insertion_mode_foreign_content_anything_else_closed(tree,
                                                                                 token);
    }

    lxb_html_tree_open_elements_pop(tree);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_foreign_content_anything_else(lxb_html_tree_t *tree,
                                                           lxb_html_token_t *token)
{
    lxb_html_element_t *element;
    const lxb_html_tag_fixname_t *fixname_svg;
    lxb_dom_node_t *node = lxb_html_tree_adjusted_current_node(tree);

    if (node->ns == LXB_NS_MATH) {
        tree->before_append_attr = lxb_html_tree_adjust_attributes_mathml;
    }
    else if (node->ns == LXB_NS_SVG) {
        tree->before_append_attr = lxb_html_tree_adjust_attributes_svg;
    }

    element = lxb_html_tree_insert_foreign_element(tree, token, node->ns,
                                                   false);
    if (element == NULL) {
        tree->before_append_attr = NULL;
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    if (node->ns == LXB_NS_SVG) {
        fixname_svg = lxb_html_tag_fixname_svg(element->element.node.local_name);
        if (fixname_svg != NULL && fixname_svg->name != NULL) {
            lxb_dom_element_qualified_name_set(&element->element, NULL, 0,
                                               fixname_svg->name,
                                               (size_t) fixname_svg->len);
        }
    }

    tree->before_append_attr = NULL;

    if ((token->type & LXB_HTML_TOKEN_TYPE_CLOSE_SELF) == 0) {
        return true;
    }

    node = lxb_html_tree_current_node(tree);

    if (token->tag_id == LXB_TAG_SCRIPT && node->ns == LXB_NS_SVG) {
        return lxb_html_tree_insertion_mode_foreign_content_script_closed(tree, token);
    }
    else {
        lxb_html_tree_open_elements_pop(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_foreign_content_text(lxb_html_tree_t *tree,
                                                  lxb_html_token_t *token)
{
    lexbor_str_t str;

    if (token->null_count != 0) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_NUCH);

        tree->status = lxb_html_token_make_text_replace_null(token, &str,
                                                             tree->document->dom_document.text);
    }
    else {
        tree->status = lxb_html_token_make_text(token, &str,
                                                tree->document->dom_document.text);
    }

    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    /* Can be zero only if all NULL are gone */
    if (str.length == 0) {
        lexbor_str_destroy(&str, tree->document->dom_document.text, false);

        return true;
    }

    if (tree->frameset_ok) {
        const lxb_char_t *pos = str.data;
        const lxb_char_t *end = str.data + str.length;

        static const lxb_char_t *rep = lexbor_str_res_ansi_replacement_character;
        static const unsigned rep_len = sizeof(lexbor_str_res_ansi_replacement_character) - 1;

        while (pos != end) {
            /* Need skip U+FFFD REPLACEMENT CHARACTER */
            if (*pos == *rep) {
                if ((end - pos) < rep_len) {
                    tree->frameset_ok = false;

                    break;
                }

                if (memcmp(pos, rep, sizeof(lxb_char_t) * rep_len) != 0) {
                    tree->frameset_ok = false;

                    break;
                }

                pos = pos + rep_len;

                continue;
            }

            if (lexbor_tokenizer_chars_map[*pos]
                != LEXBOR_STR_RES_MAP_CHAR_WHITESPACE)
            {
                tree->frameset_ok = false;

                break;
            }

            pos++;
        }
    }

    tree->status = lxb_html_tree_insert_character_for_data(tree, &str, NULL);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_foreign_content_comment(lxb_html_tree_t *tree,
                                                     lxb_html_token_t *token)
{
    lxb_dom_comment_t *comment;

    comment = lxb_html_tree_insert_comment(tree, token, NULL);
    if (comment == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_foreign_content_doctype(lxb_html_tree_t *tree,
                                                     lxb_html_token_t *token)
{
    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_DOTOFOCOMO);

    return true;
}

/*
 * "b", "big", "blockquote", "body", "br", "center", "code", "dd", "div", "dl",
 * "dt", "em", "embed", "h1", "h2", "h3", "h4", "h5", "h6", "head", "hr", "i",
 * "img", "li", "listing", "menu", "meta", "nobr", "ol", "p", "pre", "ruby",
 * "s", "small", "span", "strong", "strike", "sub", "sup", "table", "tt", "u",
 * "ul", "var"
 * "font", if the token has any attributes named "color", "face", or "size"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_foreign_content_all(lxb_html_tree_t *tree,
                                                 lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    if (token->tag_id == LXB_TAG_FONT) {
        lxb_html_token_attr_t *attr = token->attr_first;

        while (attr != NULL) {
            if (attr->name != NULL
                && (attr->name->attr_id == LXB_DOM_ATTR_COLOR
                || attr->name->attr_id == LXB_DOM_ATTR_FACE
                || attr->name->attr_id == LXB_DOM_ATTR_SIZE))
            {
                goto go_next;
            }

            attr = attr->next;
        }

        return lxb_html_tree_insertion_mode_foreign_content_anything_else(tree,
                                                                          token);
    }

go_next:

    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

    node = lxb_html_tree_current_node(tree);

    while (node != NULL &&
           !(lxb_html_tree_mathml_text_integration_point(node)
             || lxb_html_tree_html_integration_point(node)
             || node->ns == LXB_NS_HTML))
    {
        lxb_html_tree_open_elements_pop(tree);

        node = lxb_html_tree_current_node(tree);
    }

    return tree->mode(tree, token);
}

bool
lxb_html_tree_insertion_mode_foreign_content(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
        switch (token->tag_id) {
            case LXB_TAG_SCRIPT:
                return lxb_html_tree_insertion_mode_foreign_content_script_closed(tree,
                                                                                  token);
            case LXB_TAG_P:
            case LXB_TAG_BR:
                return lxb_html_tree_insertion_mode_foreign_content_all(tree,
                                                                        token);
            default:
                return lxb_html_tree_insertion_mode_foreign_content_anything_else_closed(tree,
                                                                                         token);
        }
    }

    switch (token->tag_id) {
        case LXB_TAG__TEXT:
            return lxb_html_tree_insertion_mode_foreign_content_text(tree,
                                                                     token);
        case LXB_TAG__EM_COMMENT:
            return lxb_html_tree_insertion_mode_foreign_content_comment(tree,
                                                                        token);
        case LXB_TAG__EM_DOCTYPE:
            return lxb_html_tree_insertion_mode_foreign_content_doctype(tree,
                                                                        token);

        case LXB_TAG_B:
        case LXB_TAG_BIG:
        case LXB_TAG_BLOCKQUOTE:
        case LXB_TAG_BODY:
        case LXB_TAG_BR:
        case LXB_TAG_CENTER:
        case LXB_TAG_CODE:
        case LXB_TAG_DD:
        case LXB_TAG_DIV:
        case LXB_TAG_DL:
        case LXB_TAG_DT:
        case LXB_TAG_EM:
        case LXB_TAG_EMBED:
        case LXB_TAG_H1:
        case LXB_TAG_H2:
        case LXB_TAG_H3:
        case LXB_TAG_H4:
        case LXB_TAG_H5:
        case LXB_TAG_H6:
        case LXB_TAG_HEAD:
        case LXB_TAG_HR:
        case LXB_TAG_I:
        case LXB_TAG_IMG:
        case LXB_TAG_LI:
        case LXB_TAG_LISTING:
        case LXB_TAG_MENU:
        case LXB_TAG_META:
        case LXB_TAG_NOBR:
        case LXB_TAG_OL:
        case LXB_TAG_P:
        case LXB_TAG_PRE:
        case LXB_TAG_RUBY:
        case LXB_TAG_S:
        case LXB_TAG_SMALL:
        case LXB_TAG_SPAN:
        case LXB_TAG_STRONG:
        case LXB_TAG_STRIKE:
        case LXB_TAG_SUB:
        case LXB_TAG_TABLE:
        case LXB_TAG_TT:
        case LXB_TAG_U:
        case LXB_TAG_UL:
        case LXB_TAG_VAR:
        case LXB_TAG_FONT:
            return lxb_html_tree_insertion_mode_foreign_content_all(tree,
                                                                    token);
        default:
            return lxb_html_tree_insertion_mode_foreign_content_anything_else(tree,
                                                                              token);
    }
}

#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const unsigned char lexbor_tokenizer_chars_map[256];
#endif

static bool
lxb_html_tree_insertion_mode_in_body_anything_else_closed(lxb_html_tree_t *tree,
                                                          lxb_html_token_t *token);

/*
 * User case insertion mode.
 *
 * After "pre" and "listing" tag we need skip one newline in text tag.
 * Since we have a stream of tokens,
 * we can "look into the future" only in this way.
 */
bool
lxb_html_tree_insertion_mode_in_body_skip_new_line(lxb_html_tree_t *tree,
                                                   lxb_html_token_t *token)
{
    tree->mode = tree->original_mode;

    if (token->tag_id != LXB_TAG__TEXT) {
        return false;
    }

    tree->status = lxb_html_token_data_skip_one_newline_begin(token);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    if (token->text_start == token->text_end) {
        return true;
    }

    return false;
}

/*
 * User case insertion mode.
 *
 * After "textarea" tag we need skip one newline in text tag.
 */
bool
lxb_html_tree_insertion_mode_in_body_skip_new_line_textarea(lxb_html_tree_t *tree,
                                                            lxb_html_token_t *token)
{
    tree->mode = tree->original_mode;

    if (token->tag_id != LXB_TAG__TEXT) {
        return false;
    }

    tree->status = lxb_html_token_data_skip_one_newline_begin(token);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    if (token->text_start == token->text_end) {
        return true;
    }

    return false;
}

/* Open */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_text(lxb_html_tree_t *tree,
                                          lxb_html_token_t *token)
{
    lexbor_str_t str;

    if (token->null_count != 0) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_NUCH);

        tree->status = lxb_html_token_make_text_drop_null(token, &str,
                                                          tree->document->dom_document.text);
    }
    else {
        tree->status = lxb_html_token_make_text(token, &str,
                                                tree->document->dom_document.text);
    }

    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    /* Can be zero only if all NULL are gone */
    if (str.length == 0) {
        lexbor_str_destroy(&str, tree->document->dom_document.text, false);

        return true;
    }

    lxb_html_tree_insertion_mode_in_body_text_append(tree, &str);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_status_t
lxb_html_tree_insertion_mode_in_body_text_append(lxb_html_tree_t *tree,
                                                 lexbor_str_t *str)
{
    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return tree->status;
    }

    if (tree->frameset_ok) {
        const lxb_char_t *pos = str->data;
        const lxb_char_t *end = str->data + str->length;

        while (pos != end) {
            if (lexbor_tokenizer_chars_map[*pos]
                != LEXBOR_STR_RES_MAP_CHAR_WHITESPACE)
            {
                tree->frameset_ok = false;
                break;
            }

            pos++;
        }
    }

    tree->status = lxb_html_tree_insert_character_for_data(tree, str, NULL);
    if (tree->status != LXB_STATUS_OK) {
        return tree->status;
    }

    return LXB_STATUS_OK;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_comment(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token)
{
    lxb_dom_comment_t *comment;

    comment = lxb_html_tree_insert_comment(tree, token, NULL);
    if (comment == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_doctype(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token)
{
    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_DOTOINBOMO);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_html(lxb_html_tree_t *tree,
                                          lxb_html_token_t *token)
{
    lxb_dom_node_t *temp_node;
    lxb_dom_element_t *html;

    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

    temp_node = lxb_html_tree_open_elements_find(tree, LXB_TAG_TEMPLATE,
                                                 LXB_NS_HTML, NULL);
    if (temp_node != NULL) {
        return true;
    }

    html = lxb_dom_interface_element(lxb_html_tree_open_elements_first(tree));

    tree->status = lxb_html_tree_append_attributes(tree, html, token,
                                                   html->node.ns);
    if (tree->status != LXB_HTML_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

/*
 * Start tag:
 *      "base", "basefont", "bgsound", "link", "meta", "noframes",
 *      "script", "style", "template", "title"
 * End Tag:
 *      "template"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_blmnst(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_head(tree, token);
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_body(lxb_html_tree_t *tree,
                                          lxb_html_token_t *token)
{
    lxb_dom_node_t *node, *temp;
    lxb_dom_element_t *body;

    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

    node = lxb_html_tree_open_elements_get(tree, 1);
    if (node == NULL || node->local_name != LXB_TAG_BODY) {
        return true;
    }

    temp = lxb_html_tree_open_elements_find_reverse(tree, LXB_TAG_TEMPLATE,
                                                    LXB_NS_HTML, NULL);
    if (temp != NULL) {
        return true;
    }

    tree->frameset_ok = false;

    body = lxb_dom_interface_element(node);

    tree->status = lxb_html_tree_append_attributes(tree, body, token, node->ns);
    if (tree->status != LXB_HTML_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_frameset(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

    node = lxb_html_tree_open_elements_get(tree, 1);
    if (node == NULL || node->local_name != LXB_TAG_BODY) {
        return true;
    }

    if (tree->frameset_ok == false) {
        return true;
    }

    lxb_html_tree_node_delete_deep(tree, node);

    /* node is HTML */
    node = lxb_html_tree_open_elements_get(tree, 0);
    lxb_html_tree_open_elements_pop_until_node(tree, node, false);

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_frameset;

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_eof(lxb_html_tree_t *tree,
                                         lxb_html_token_t *token)
{
    if (lexbor_array_obj_length(tree->template_insertion_modes) != 0) {
        return lxb_html_tree_insertion_mode_in_template(tree, token);
    }

    bool it_is = lxb_html_tree_check_scope_element(tree);
    if (it_is == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_BAENOPELISWR);
    }

    tree->status = lxb_html_tree_stop_parsing(tree);
    if (tree->status != LXB_HTML_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_body_closed(lxb_html_tree_t *tree,
                                                 lxb_html_token_t *token)
{
    lxb_dom_node_t *body_node;

    body_node = lxb_html_tree_element_in_scope(tree, LXB_TAG_BODY, LXB_NS_HTML,
                                               LXB_HTML_TAG_CATEGORY_SCOPE);
    if (body_node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_NOBOELINSC);

        return true;
    }

    bool it_is = lxb_html_tree_check_scope_element(tree);
    if (it_is == false) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_OPELISWR);
    }

    tree->mode = lxb_html_tree_insertion_mode_after_body;

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_html_closed(lxb_html_tree_t *tree,
                                                 lxb_html_token_t *token)
{
    lxb_dom_node_t *body_node;

    body_node = lxb_html_tree_element_in_scope(tree, LXB_TAG_BODY, LXB_NS_HTML,
                                               LXB_HTML_TAG_CATEGORY_SCOPE);
    if (body_node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_NOBOELINSC);

        return true;
    }

    bool it_is = lxb_html_tree_check_scope_element(tree);
    if (it_is == false) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_OPELISWR);
    }

    tree->mode = lxb_html_tree_insertion_mode_after_body;

    return false;
}

/*
 * "address", "article", "aside", "blockquote", "center", "details", "dialog",
 * "dir", "div", "dl", "fieldset", "figcaption", "figure", "footer", "header",
 * "hgroup", "main", "menu", "nav", "ol", "p", "section", "summary", "ul"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_abcdfhmnopsu(lxb_html_tree_t *tree,
                                                  lxb_html_token_t *token)
{
    lxb_dom_node_t *body_node;
    lxb_html_element_t *element;

    body_node = lxb_html_tree_element_in_scope(tree, LXB_TAG_P, LXB_NS_HTML,
                                               LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON);
    if (body_node != NULL) {
        lxb_html_tree_close_p_element(tree, token);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

/*
 * "h1", "h2", "h3", "h4", "h5", "h6"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_h123456(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_P, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON);
    if (node != NULL) {
        lxb_html_tree_close_p_element(tree, token);
    }

    node = lxb_html_tree_current_node(tree);

    switch (node->local_name) {
        case LXB_TAG_H1:
        case LXB_TAG_H2:
        case LXB_TAG_H3:
        case LXB_TAG_H4:
        case LXB_TAG_H5:
        case LXB_TAG_H6:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_UNELINOPELST);

            lxb_html_tree_open_elements_pop(tree);
            break;

        default:
            break;
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

/*
 * "pre", "listing"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_pre_listing(lxb_html_tree_t *tree,
                                                 lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_P, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON);
    if (node != NULL) {
        lxb_html_tree_close_p_element(tree, token);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->original_mode = tree->mode;
    tree->mode = lxb_html_tree_insertion_mode_in_body_skip_new_line;
    tree->frameset_ok = false;

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_form(lxb_html_tree_t *tree,
                                          lxb_html_token_t *token)
{
    lxb_dom_node_t *node, *temp;
    lxb_html_element_t *element;

    temp = lxb_html_tree_open_elements_find_reverse(tree, LXB_TAG_TEMPLATE,
                                                    LXB_NS_HTML, NULL);

    if (tree->form != NULL && temp == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

        return true;
    }

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_P, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON);
    if (node != NULL) {
        lxb_html_tree_close_p_element(tree, token);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    if (temp == NULL) {
        tree->form = lxb_html_interface_form(element);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_li(lxb_html_tree_t *tree,
                                        lxb_html_token_t *token)
{
    bool is_special;
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    void **list = tree->open_elements->list;
    size_t idx = tree->open_elements->length;

    tree->frameset_ok = false;

    while (idx != 0) {
        idx--;

        node = list[idx];

        if (lxb_html_tree_node_is(node, LXB_TAG_LI)) {
            lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG_LI,
                                                    LXB_NS_HTML);

            node = lxb_html_tree_current_node(tree);

            if (lxb_html_tree_node_is(node, LXB_TAG_LI) == false) {
                lxb_html_tree_parse_error(tree, token,
                                          LXB_HTML_RULES_ERROR_UNELINOPELST);
            }

            lxb_html_tree_open_elements_pop_until_tag_id(tree, LXB_TAG_LI,
                                                         LXB_NS_HTML, true);
            break;
        }

        is_special = lxb_html_tag_is_category(node->local_name, node->ns,
                                              LXB_HTML_TAG_CATEGORY_SPECIAL);
        if (is_special
            && lxb_html_tree_node_is(node, LXB_TAG_ADDRESS) == false
            && lxb_html_tree_node_is(node, LXB_TAG_DIV) == false
            && lxb_html_tree_node_is(node, LXB_TAG_P) == false)
        {
            break;
        }
    }

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_P, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON);
    if (node != NULL) {
        lxb_html_tree_close_p_element(tree, token);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

/*
 * "dd", "dt"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_dd_dt(lxb_html_tree_t *tree,
                                           lxb_html_token_t *token)
{
    bool is_special;
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    void **list = tree->open_elements->list;
    size_t idx = tree->open_elements->length;

    tree->frameset_ok = false;

    while (idx != 0) {
        idx--;

        node = list[idx];

        if (lxb_html_tree_node_is(node, LXB_TAG_DD)) {
            lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG_DD,
                                                    LXB_NS_HTML);

            node = lxb_html_tree_current_node(tree);

            if (lxb_html_tree_node_is(node, LXB_TAG_DD) == false) {
                lxb_html_tree_parse_error(tree, token,
                                          LXB_HTML_RULES_ERROR_UNELINOPELST);
            }

            lxb_html_tree_open_elements_pop_until_tag_id(tree, LXB_TAG_DD,
                                                         LXB_NS_HTML, true);
            break;
        }

        if (lxb_html_tree_node_is(node, LXB_TAG_DT)) {
            lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG_DT,
                                                    LXB_NS_HTML);

            node = lxb_html_tree_current_node(tree);

            if (lxb_html_tree_node_is(node, LXB_TAG_DT) == false) {
                lxb_html_tree_parse_error(tree, token,
                                          LXB_HTML_RULES_ERROR_UNELINOPELST);
            }

            lxb_html_tree_open_elements_pop_until_tag_id(tree, LXB_TAG_DT,
                                                         LXB_NS_HTML, true);
            break;
        }

        is_special = lxb_html_tag_is_category(node->local_name, node->ns,
                                              LXB_HTML_TAG_CATEGORY_SPECIAL);
        if (is_special
            && lxb_html_tree_node_is(node, LXB_TAG_ADDRESS) == false
            && lxb_html_tree_node_is(node, LXB_TAG_DIV) == false
            && lxb_html_tree_node_is(node, LXB_TAG_P) == false)
        {
            break;
        }
    }

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_P, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON);
    if (node != NULL) {
        lxb_html_tree_close_p_element(tree, token);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_plaintext(lxb_html_tree_t *tree,
                                               lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_P, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON);
    if (node != NULL) {
        lxb_html_tree_close_p_element(tree, token);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    lxb_html_tokenizer_state_set(tree->tkz_ref,
                                 lxb_html_tokenizer_state_plaintext_before);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_button(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_BUTTON, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE);
    if (node != NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

        lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG__UNDEF,
                                                LXB_NS__UNDEF);

        lxb_html_tree_open_elements_pop_until_tag_id(tree, LXB_TAG_BUTTON,
                                                     LXB_NS_HTML, true);
    }

    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->frameset_ok = false;

    return true;
}

/*
 * "address", "article", "aside", "blockquote", "button",  "center", "details",
 * "dialog", "dir", "div", "dl", "fieldset", "figcaption", "figure", "footer",
 * "header", "hgroup", "listing", "main", "menu", "nav", "ol", "pre", "section",
 * "select", "summary", "ul"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_abcdfhlmnopsu_closed(lxb_html_tree_t *tree,
                                                          lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope(tree, token->tag_id,
                                          LXB_NS_HTML, LXB_HTML_TAG_CATEGORY_SCOPE);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

        return true;
    }

    lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG__UNDEF,
                                            LXB_NS__UNDEF);

    node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(node, token->tag_id) == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNELINOPELST);
    }

    lxb_html_tree_open_elements_pop_until_tag_id(tree, token->tag_id,
                                                 LXB_NS_HTML, true);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_form_closed(lxb_html_tree_t *tree,
                                                 lxb_html_token_t *token)
{
    lxb_dom_node_t *node, *current;

    node = lxb_html_tree_open_elements_find_reverse(tree, LXB_TAG_TEMPLATE,
                                                    LXB_NS_HTML, NULL);
    if (node == NULL) {
        node = lxb_dom_interface_node(tree->form);

        tree->form = NULL;

        if (node == NULL) {
            lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

            return true;
        }

        node = lxb_html_tree_element_in_scope_by_node(tree, node,
                                                      LXB_HTML_TAG_CATEGORY_SCOPE);
        if (node == NULL) {
            lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

            return true;
        }

        lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG__UNDEF,
                                                LXB_NS__UNDEF);

        current = lxb_html_tree_current_node(tree);

        if (current != node) {
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_UNELINOPELST);
        }

        lxb_html_tree_open_elements_remove_by_node(tree, node);

        return true;
    }

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_FORM, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

        return true;
    }

    lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG__UNDEF,
                                            LXB_NS__UNDEF);

    node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(node, LXB_TAG_FORM) == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNELINOPELST);
    }

    lxb_html_tree_open_elements_pop_until_tag_id(tree, LXB_TAG_FORM,
                                                 LXB_NS_HTML, true);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_p_closed(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_P, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON);
    if (node == NULL) {
        lxb_html_token_t fake_token = {0};
        lxb_html_element_t *element;

        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNCLTO);

        fake_token.tag_id = LXB_TAG_P;

        element = lxb_html_tree_insert_html_element(tree, &fake_token);
        if (element == NULL) {
            tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

            return lxb_html_tree_process_abort(tree);
        }
    }

    lxb_html_tree_close_p_element(tree, token);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_li_closed(lxb_html_tree_t *tree,
                                               lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_LI, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_LIST_ITEM);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNCLTO);
        return true;
    }

    lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG_LI, LXB_NS_HTML);

    node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(node, LXB_TAG_LI) == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNELINOPELST);
    }

    lxb_html_tree_open_elements_pop_until_tag_id(tree, LXB_TAG_LI, LXB_NS_HTML,
                                                 true);

    return true;
}

/*
 * "dd", "dt"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_dd_dt_closed(lxb_html_tree_t *tree,
                                                  lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope(tree, token->tag_id, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNCLTO);
        return true;
    }

    lxb_html_tree_generate_implied_end_tags(tree, token->tag_id, LXB_NS_HTML);

    node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(node, token->tag_id) == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNELINOPELST);
    }

    lxb_html_tree_open_elements_pop_until_tag_id(tree, token->tag_id,
                                                 LXB_NS_HTML, true);

    return true;
}

/*
 * "h1", "h2", "h3", "h4", "h5", "h6"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_h123456_closed(lxb_html_tree_t *tree,
                                                    lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope_h123456(tree);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNCLTO);
        return true;
    }

    lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG__UNDEF,
                                            LXB_NS__UNDEF);

    node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(node, token->tag_id) == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNELINOPELST);
    }

    lxb_html_tree_open_elements_pop_until_h123456(tree);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_a(lxb_html_tree_t *tree,
                                       lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    node = lxb_html_tree_active_formatting_between_last_marker(tree,
                                                               token->tag_id,
                                                               NULL);
    if (node != NULL) {
        /* bool is; */

        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNELINACFOST);

        lxb_html_tree_adoption_agency_algorithm(tree, token,
                                                &tree->status);
        if (tree->status != LXB_STATUS_OK) {
            return lxb_html_tree_process_abort(tree);
        }

/*
        if (is) {
            return lxb_html_tree_insertion_mode_in_body_anything_else_closed(tree,
                                                                             token);
        }
*/

        lxb_html_tree_active_formatting_remove_by_node(tree, node);
        lxb_html_tree_open_elements_remove_by_node(tree, node);
    }

    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    node = lxb_dom_interface_node(element);

    lxb_html_tree_active_formatting_push_with_check_dupl(tree, node);

    return true;
}

/*
 * "b", "big", "code", "em", "font", "i", "s", "small", "strike", "strong",
 * "tt", "u"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_bcefistu(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    node = lxb_dom_interface_node(element);

    lxb_html_tree_active_formatting_push_with_check_dupl(tree, node);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_nobr(lxb_html_tree_t *tree,
                                          lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_NOBR, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE);
    if (node != NULL) {
        /* bool is; */

        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNELINSC);

        lxb_html_tree_adoption_agency_algorithm(tree, token, &tree->status);
        if (tree->status != LXB_STATUS_OK) {
            return lxb_html_tree_process_abort(tree);
        }
/*
        if (is) {
            return lxb_html_tree_insertion_mode_in_body_anything_else_closed(tree,
                                                                             token);
        }
*/
        tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
        if (tree->status != LXB_STATUS_OK) {
            return lxb_html_tree_process_abort(tree);
        }
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    node = lxb_dom_interface_node(element);

    lxb_html_tree_active_formatting_push_with_check_dupl(tree, node);

    return true;
}

/*
 * "a", "b", "big", "code", "em", "font", "i", "nobr", "s", "small", "strike",
 * "strong", "tt", "u"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_abcefinstu_closed(lxb_html_tree_t *tree,
                                                       lxb_html_token_t *token)
{
    /* bool is; */

    lxb_html_tree_adoption_agency_algorithm(tree, token, &tree->status);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

/*
    if (is) {
        return lxb_html_tree_insertion_mode_in_body_anything_else_closed(tree,
                                                                         token);
    }
*/

    return true;
}

/*
 * "applet", "marquee", "object"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_amo(lxb_html_tree_t *tree,
                                         lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->status = lxb_html_tree_active_formatting_push_marker(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    tree->frameset_ok = false;

    return true;
}

/*
 * "applet", "marquee", "object"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_amo_closed(lxb_html_tree_t *tree,
                                                lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope(tree, token->tag_id, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNCLTO);
        return true;
    }

    lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG__UNDEF,
                                            LXB_NS__UNDEF);

    node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(node, token->tag_id) == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNELINOPELST);
    }

    lxb_html_tree_open_elements_pop_until_tag_id(tree, token->tag_id,
                                                 LXB_NS_HTML, true);

    lxb_html_tree_active_formatting_up_to_last_marker(tree);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_table(lxb_html_tree_t *tree,
                                           lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    if (lxb_dom_interface_document(tree->document)->compat_mode
        != LXB_DOM_DOCUMENT_CMODE_QUIRKS)
    {
        node = lxb_html_tree_element_in_scope(tree, LXB_TAG_P, LXB_NS_HTML,
                                              LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON);
        if (node != NULL) {
            lxb_html_tree_close_p_element(tree, token);
        }
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->frameset_ok = false;
    tree->mode = lxb_html_tree_insertion_mode_in_table;

    return true;
}

/*
 * "area", "br", "embed", "img", "keygen", "wbr"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_abeikw(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    lxb_html_tree_open_elements_pop(tree);
    lxb_html_tree_acknowledge_token_self_closing(tree, token);

    tree->frameset_ok = false;

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_br_closed(lxb_html_tree_t *tree,
                                               lxb_html_token_t *token)
{
    token->type ^= (token->type & LXB_HTML_TOKEN_TYPE_CLOSE);
    token->attr_first = NULL;
    token->attr_last = NULL;

    return lxb_html_tree_insertion_mode_in_body_abeikw(tree, token);
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_option_closed(lxb_html_tree_t *tree,
                                                   lxb_html_token_t *token)
{
    bool is;
    size_t index;
    lxb_dom_node_t *node;
    lxb_html_option_element_t *option;
    lxb_dom_exception_code_t code;

    node = lxb_html_tree_open_elements_find_reverse(tree, LXB_TAG_OPTION,
                                                    LXB_NS_HTML, &index);

    lxb_html_tree_insertion_mode_in_body_anything_else_closed(tree, token);

    if (node != NULL) {
        is = lxb_html_tree_open_elements_find_by_node(tree, node, &index);

        if (!is) {
            option = lxb_html_interface_option(node);

            code = lxb_html_option_maybe_clone_to_selectedcontent(option);
            if (code != LXB_DOM_EXCEPTION_OK) {
                tree->status = LXB_STATUS_ERROR;

                return lxb_html_tree_process_abort(tree);
            }
        }
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_input(lxb_html_tree_t *tree,
                                           lxb_html_token_t *token)
{
    bool is;
    lxb_dom_node_t *node;
    lxb_dom_attr_t *attr;
    lxb_html_element_t *element;

    is = lxb_html_tree_is_fragment_element(tree, LXB_TAG_SELECT, LXB_NS_HTML);
    if (is) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_FRPASEINCOPAIN);
        return true;
    }

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_SELECT, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE);
    if (node != NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_SEINSC);
        lxb_html_tree_open_elements_pop_until_node(tree, node, true);
    }


    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    lxb_html_tree_open_elements_pop(tree);
    lxb_html_tree_acknowledge_token_self_closing(tree, token);

    attr = lxb_dom_element_attr_is_exist(lxb_dom_interface_element(element),
                                         (lxb_char_t *) "type", 4);
    if (attr != NULL) {
        if (attr->value == NULL || attr->value->length != 6
            || lexbor_str_data_cmp(attr->value->data, (lxb_char_t *) "hidden") == false)
        {
            tree->frameset_ok = false;
        }
    }
    else {
        tree->frameset_ok = false;
    }

    return true;
}

/*
 * "param", "source", "track"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_pst(lxb_html_tree_t *tree,
                                         lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    lxb_html_tree_open_elements_pop(tree);
    lxb_html_tree_acknowledge_token_self_closing(tree, token);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_hr(lxb_html_tree_t *tree,
                                        lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_P, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON);
    if (node != NULL) {
        lxb_html_tree_close_p_element(tree, token);
    }

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_SELECT, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE);
    if (node != NULL) {
        lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG__UNDEF,
                                                LXB_NS__UNDEF);

        node = lxb_html_tree_element_in_scope_option_optgroup(tree);
        if (node != NULL) {
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_HRPASEOPOPINSC);
        }
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    lxb_html_tree_open_elements_pop(tree);
    lxb_html_tree_acknowledge_token_self_closing(tree, token);

    tree->frameset_ok = false;

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_image(lxb_html_tree_t *tree,
                                           lxb_html_token_t *token)
{
    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

    token->tag_id = LXB_TAG_IMG;

    return false;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_textarea(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    lxb_html_tokenizer_tmp_tag_id_set(tree->tkz_ref, LXB_TAG_TEXTAREA);
    lxb_html_tokenizer_state_set(tree->tkz_ref,
                                 lxb_html_tokenizer_state_rcdata_before);

    tree->frameset_ok = false;

    tree->original_mode = tree->mode;
    tree->mode = lxb_html_tree_insertion_mode_in_body_skip_new_line_textarea;

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_xmp(lxb_html_tree_t *tree,
                                         lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_P, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_BUTTON);
    if (node != NULL) {
        lxb_html_tree_close_p_element(tree, token);
    }

    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    tree->frameset_ok = false;

    element = lxb_html_tree_generic_rawtext_parsing(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_iframe(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    tree->frameset_ok = false;

    element = lxb_html_tree_generic_rawtext_parsing(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_noembed(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    element = lxb_html_tree_generic_rawtext_parsing(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_select(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token)
{
    bool is;
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    is = lxb_html_tree_is_fragment_element(tree, LXB_TAG_SELECT, LXB_NS_HTML);
    if (is) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_FRPASEINCOPASE);
        return true;
    }

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_SELECT, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE);
    if (node != NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_SEINSC);
        lxb_html_tree_open_elements_pop_until_node(tree, node, true);
        return true;
    }

    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->frameset_ok = false;

    return true;
}

/*
 * "option"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_option(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_SELECT, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE);
    if (node != NULL) {
        lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG_OPTGROUP,
                                                LXB_NS_HTML);

        node = lxb_html_tree_element_in_scope(tree, LXB_TAG_OPTION, LXB_NS_HTML,
                                              LXB_HTML_TAG_CATEGORY_SCOPE);
        if (node != NULL) {
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_OPPAOPINSC);
        }
    }
    else {
        node = lxb_html_tree_current_node(tree);
        if (lxb_html_tree_node_is(node, LXB_TAG_OPTION)) {
            lxb_html_tree_open_elements_pop(tree);
        }
    }

    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

/*
 * "optgroup"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_optgroup(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_SELECT, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE);
    if (node != NULL) {
        lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG__UNDEF,
                                                LXB_NS__UNDEF);

        node = lxb_html_tree_element_in_scope_option_optgroup(tree);
        if (node != NULL) {
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_OPPAOPOPINSC);
        }
    }
    else {
        node = lxb_html_tree_current_node(tree);
        if (lxb_html_tree_node_is(node, LXB_TAG_OPTION)) {
            lxb_html_tree_open_elements_pop(tree);
        }
    }

    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

/*
 * "rb", "rtc"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_rbrtc(lxb_html_tree_t *tree,
                                           lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_RUBY, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE);
    if (node != NULL) {
        lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG__UNDEF,
                                                LXB_NS__UNDEF);
    }

    node = lxb_html_tree_current_node(tree);
    if (lxb_html_tree_node_is(node, LXB_TAG_RUBY) == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_MIELINOPELST);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

/*
 * "rp", "rt"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_rprt(lxb_html_tree_t *tree,
                                          lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_RUBY, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE);
    if (node != NULL) {
        lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG_RTC,
                                                LXB_NS_HTML);
    }

    node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(node, LXB_TAG_RTC) == false
        || lxb_html_tree_node_is(node, LXB_TAG_RUBY) == false)
    {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_MIELINOPELST);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_math(lxb_html_tree_t *tree,
                                          lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    tree->before_append_attr = lxb_html_tree_adjust_attributes_mathml;

    element = lxb_html_tree_insert_foreign_element(tree, token, LXB_NS_MATH,
                                                   false);
    if (element == NULL) {
        tree->before_append_attr = NULL;
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->before_append_attr = NULL;

    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE_SELF) {
        lxb_html_tree_open_elements_pop(tree);
        lxb_html_tree_acknowledge_token_self_closing(tree, token);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_svg(lxb_html_tree_t *tree,
                                         lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    tree->before_append_attr = lxb_html_tree_adjust_attributes_svg;

    element = lxb_html_tree_insert_foreign_element(tree, token, LXB_NS_SVG,
                                                   false);
    if (element == NULL) {
        tree->before_append_attr = NULL;
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->before_append_attr = NULL;

    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE_SELF) {
        lxb_html_tree_open_elements_pop(tree);
        lxb_html_tree_acknowledge_token_self_closing(tree, token);
    }

    return true;
}

/*
 * "caption", "col", "colgroup", "frame", "head", "tbody", "td", "tfoot", "th",
 * "thead", "tr"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_body_cfht(lxb_html_tree_t *tree,
                                          lxb_html_token_t *token)
{
    lxb_html_tree_parse_error(tree, token,
                              LXB_HTML_RULES_ERROR_UNTO);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_anything_else(lxb_html_tree_t *tree,
                                                   lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    tree->status = lxb_html_tree_active_formatting_reconstruct_elements(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_body_noscript(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    if (tree->document->dom_document.scripting == false) {
        return lxb_html_tree_insertion_mode_in_body_anything_else(tree, token);
    }

    lxb_html_element_t *element;

    element = lxb_html_tree_generic_rawtext_parsing(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

static bool
lxb_html_tree_insertion_mode_in_body_anything_else_closed(lxb_html_tree_t *tree,
                                                          lxb_html_token_t *token)
{
    bool is;
    lxb_dom_node_t **list = (lxb_dom_node_t **) tree->open_elements->list;
    size_t len = tree->open_elements->length;

    while (len != 0) {
        len--;

        if (lxb_html_tree_node_is(list[len], token->tag_id)) {
            lxb_html_tree_generate_implied_end_tags(tree, token->tag_id,
                                                    LXB_NS_HTML);

            if (list[len] != lxb_html_tree_current_node(tree)) {
                lxb_html_tree_parse_error(tree, token,
                                          LXB_HTML_RULES_ERROR_UNELINOPELST);
            }

            lxb_html_tree_open_elements_pop_until_node(tree, list[len], true);

            return true;
        }

        is = lxb_html_tag_is_category(list[len]->local_name, list[len]->ns,
                                      LXB_HTML_TAG_CATEGORY_SPECIAL);
        if (is) {
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_UNCLTO);
            return true;
        }
    }

    return true;
}


bool
lxb_html_tree_insertion_mode_in_body(lxb_html_tree_t *tree,
                                     lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
        switch (token->tag_id) {
            case LXB_TAG_TEMPLATE:
                return lxb_html_tree_insertion_mode_in_body_blmnst(tree, token);

            case LXB_TAG_BODY:
                return lxb_html_tree_insertion_mode_in_body_body_closed(tree,
                                                                        token);
            case LXB_TAG_HTML:
                return lxb_html_tree_insertion_mode_in_body_html_closed(tree,
                                                                        token);
            case LXB_TAG_ADDRESS:
            case LXB_TAG_ARTICLE:
            case LXB_TAG_ASIDE:
            case LXB_TAG_BLOCKQUOTE:
            case LXB_TAG_BUTTON:
            case LXB_TAG_CENTER:
            case LXB_TAG_DETAILS:
            case LXB_TAG_DIALOG:
            case LXB_TAG_DIR:
            case LXB_TAG_DIV:
            case LXB_TAG_DL:
            case LXB_TAG_FIELDSET:
            case LXB_TAG_FIGCAPTION:
            case LXB_TAG_FIGURE:
            case LXB_TAG_FOOTER:
            case LXB_TAG_HEADER:
            case LXB_TAG_HGROUP:
            case LXB_TAG_LISTING:
            case LXB_TAG_MAIN:
            case LXB_TAG_MENU:
            case LXB_TAG_NAV:
            case LXB_TAG_OL:
            case LXB_TAG_PRE:
            case LXB_TAG_SEARCH:
            case LXB_TAG_SECTION:
            case LXB_TAG_SELECT:
            case LXB_TAG_SUMMARY:
            case LXB_TAG_UL:
                return lxb_html_tree_insertion_mode_in_body_abcdfhlmnopsu_closed(tree,
                                                                                 token);
            case LXB_TAG_FORM:
                return lxb_html_tree_insertion_mode_in_body_form_closed(tree,
                                                                        token);
            case LXB_TAG_P:
                return lxb_html_tree_insertion_mode_in_body_p_closed(tree,
                                                                     token);
            case LXB_TAG_LI:
                return lxb_html_tree_insertion_mode_in_body_li_closed(tree,
                                                                      token);
            case LXB_TAG_DD:
            case LXB_TAG_DT:
                return lxb_html_tree_insertion_mode_in_body_dd_dt_closed(tree,
                                                                         token);
            case LXB_TAG_H1:
            case LXB_TAG_H2:
            case LXB_TAG_H3:
            case LXB_TAG_H4:
            case LXB_TAG_H5:
            case LXB_TAG_H6:
                return lxb_html_tree_insertion_mode_in_body_h123456_closed(tree,
                                                                           token);
            case LXB_TAG_A:
            case LXB_TAG_B:
            case LXB_TAG_BIG:
            case LXB_TAG_CODE:
            case LXB_TAG_EM:
            case LXB_TAG_FONT:
            case LXB_TAG_I:
            case LXB_TAG_NOBR:
            case LXB_TAG_S:
            case LXB_TAG_SMALL:
            case LXB_TAG_STRIKE:
            case LXB_TAG_STRONG:
            case LXB_TAG_TT:
            case LXB_TAG_U:
                return lxb_html_tree_insertion_mode_in_body_abcefinstu_closed(tree,
                                                                              token);
            case LXB_TAG_APPLET:
            case LXB_TAG_MARQUEE:
            case LXB_TAG_OBJECT:
                return lxb_html_tree_insertion_mode_in_body_amo_closed(tree,
                                                                       token);
            case LXB_TAG_BR:
                return lxb_html_tree_insertion_mode_in_body_br_closed(tree,
                                                                      token);

            case LXB_TAG_OPTION:
                return lxb_html_tree_insertion_mode_in_body_option_closed(tree,
                                                                          token);

            default:
                return lxb_html_tree_insertion_mode_in_body_anything_else_closed(tree,
                                                                                 token);
        }
    }

    switch (token->tag_id) {
        case LXB_TAG__TEXT:
            return lxb_html_tree_insertion_mode_in_body_text(tree, token);

        case LXB_TAG__EM_COMMENT:
            return lxb_html_tree_insertion_mode_in_body_comment(tree, token);

        case LXB_TAG__EM_DOCTYPE:
            return lxb_html_tree_insertion_mode_in_body_doctype(tree, token);

        case LXB_TAG_HTML:
            return lxb_html_tree_insertion_mode_in_body_html(tree, token);

        case LXB_TAG_BASE:
        case LXB_TAG_BASEFONT:
        case LXB_TAG_BGSOUND:
        case LXB_TAG_LINK:
        case LXB_TAG_META:
        case LXB_TAG_NOFRAMES:
        case LXB_TAG_SCRIPT:
        case LXB_TAG_STYLE:
        case LXB_TAG_TEMPLATE:
        case LXB_TAG_TITLE:
            return lxb_html_tree_insertion_mode_in_body_blmnst(tree, token);

        case LXB_TAG_BODY:
            return lxb_html_tree_insertion_mode_in_body_body(tree, token);

        case LXB_TAG_FRAMESET:
            return lxb_html_tree_insertion_mode_in_body_frameset(tree, token);

        case LXB_TAG__END_OF_FILE:
            return lxb_html_tree_insertion_mode_in_body_eof(tree, token);

        case LXB_TAG_ADDRESS:
        case LXB_TAG_ARTICLE:
        case LXB_TAG_ASIDE:
        case LXB_TAG_BLOCKQUOTE:
        case LXB_TAG_CENTER:
        case LXB_TAG_DETAILS:
        case LXB_TAG_DIALOG:
        case LXB_TAG_DIR:
        case LXB_TAG_DIV:
        case LXB_TAG_DL:
        case LXB_TAG_FIELDSET:
        case LXB_TAG_FIGCAPTION:
        case LXB_TAG_FIGURE:
        case LXB_TAG_FOOTER:
        case LXB_TAG_HEADER:
        case LXB_TAG_HGROUP:
        case LXB_TAG_MAIN:
        case LXB_TAG_MENU:
        case LXB_TAG_NAV:
        case LXB_TAG_OL:
        case LXB_TAG_P:
        case LXB_TAG_SEARCH:
        case LXB_TAG_SECTION:
        case LXB_TAG_SUMMARY:
        case LXB_TAG_UL:
            return lxb_html_tree_insertion_mode_in_body_abcdfhmnopsu(tree,
                                                                     token);

        case LXB_TAG_H1:
        case LXB_TAG_H2:
        case LXB_TAG_H3:
        case LXB_TAG_H4:
        case LXB_TAG_H5:
        case LXB_TAG_H6:
            return lxb_html_tree_insertion_mode_in_body_h123456(tree, token);

        case LXB_TAG_PRE:
        case LXB_TAG_LISTING:
            return lxb_html_tree_insertion_mode_in_body_pre_listing(tree,
                                                                    token);

        case LXB_TAG_FORM:
            return lxb_html_tree_insertion_mode_in_body_form(tree, token);

        case LXB_TAG_LI:
            return lxb_html_tree_insertion_mode_in_body_li(tree, token);

        case LXB_TAG_DD:
        case LXB_TAG_DT:
            return lxb_html_tree_insertion_mode_in_body_dd_dt(tree, token);

        case LXB_TAG_PLAINTEXT:
            return lxb_html_tree_insertion_mode_in_body_plaintext(tree, token);

        case LXB_TAG_BUTTON:
            return lxb_html_tree_insertion_mode_in_body_button(tree, token);

        case LXB_TAG_A:
            return lxb_html_tree_insertion_mode_in_body_a(tree, token);

        case LXB_TAG_B:
        case LXB_TAG_BIG:
        case LXB_TAG_CODE:
        case LXB_TAG_EM:
        case LXB_TAG_FONT:
        case LXB_TAG_I:
        case LXB_TAG_S:
        case LXB_TAG_SMALL:
        case LXB_TAG_STRIKE:
        case LXB_TAG_STRONG:
        case LXB_TAG_TT:
        case LXB_TAG_U:
            return lxb_html_tree_insertion_mode_in_body_bcefistu(tree, token);

        case LXB_TAG_NOBR:
            return lxb_html_tree_insertion_mode_in_body_nobr(tree, token);

        case LXB_TAG_APPLET:
        case LXB_TAG_MARQUEE:
        case LXB_TAG_OBJECT:
            return lxb_html_tree_insertion_mode_in_body_amo(tree, token);

        case LXB_TAG_TABLE:
            return lxb_html_tree_insertion_mode_in_body_table(tree, token);

        case LXB_TAG_AREA:
        case LXB_TAG_BR:
        case LXB_TAG_EMBED:
        case LXB_TAG_IMG:
        case LXB_TAG_KEYGEN:
        case LXB_TAG_WBR:
            return lxb_html_tree_insertion_mode_in_body_abeikw(tree, token);

        case LXB_TAG_INPUT:
            return lxb_html_tree_insertion_mode_in_body_input(tree, token);

        case LXB_TAG_PARAM:
        case LXB_TAG_SOURCE:
        case LXB_TAG_TRACK:
            return lxb_html_tree_insertion_mode_in_body_pst(tree, token);

        case LXB_TAG_HR:
            return lxb_html_tree_insertion_mode_in_body_hr(tree, token);

        case LXB_TAG_IMAGE:
            return lxb_html_tree_insertion_mode_in_body_image(tree, token);

        case LXB_TAG_TEXTAREA:
            return lxb_html_tree_insertion_mode_in_body_textarea(tree, token);

        case LXB_TAG_XMP:
            return lxb_html_tree_insertion_mode_in_body_xmp(tree, token);

        case LXB_TAG_IFRAME:
            return lxb_html_tree_insertion_mode_in_body_iframe(tree, token);

        case LXB_TAG_NOEMBED:
            return lxb_html_tree_insertion_mode_in_body_noembed(tree, token);

        case LXB_TAG_NOSCRIPT:
            return lxb_html_tree_insertion_mode_in_body_noscript(tree, token);

        case LXB_TAG_SELECT:
            return lxb_html_tree_insertion_mode_in_body_select(tree, token);

        case LXB_TAG_OPTION:
            return lxb_html_tree_insertion_mode_in_body_option(tree, token);

        case LXB_TAG_OPTGROUP:
            return lxb_html_tree_insertion_mode_in_body_optgroup(tree, token);

        case LXB_TAG_RB:
        case LXB_TAG_RTC:
            return lxb_html_tree_insertion_mode_in_body_rbrtc(tree, token);

        case LXB_TAG_RP:
        case LXB_TAG_RT:
            return lxb_html_tree_insertion_mode_in_body_rprt(tree, token);

        case LXB_TAG_MATH:
            return lxb_html_tree_insertion_mode_in_body_math(tree, token);

        case LXB_TAG_SVG:
            return lxb_html_tree_insertion_mode_in_body_svg(tree, token);

        case LXB_TAG_CAPTION:
        case LXB_TAG_COL:
        case LXB_TAG_COLGROUP:
        case LXB_TAG_FRAME:
        case LXB_TAG_HEAD:
        case LXB_TAG_TBODY:
        case LXB_TAG_TD:
        case LXB_TAG_TFOOT:
        case LXB_TAG_TH:
        case LXB_TAG_THEAD:
        case LXB_TAG_TR:
            return lxb_html_tree_insertion_mode_in_body_cfht(tree, token);

        default:
            return lxb_html_tree_insertion_mode_in_body_anything_else(tree,
                                                                      token);
    }
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_caption_caption_closed(lxb_html_tree_t *tree,
                                                       lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_CAPTION, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_TABLE);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_MIELINSC);

        return true;
    }

    lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG__UNDEF,
                                            LXB_NS__UNDEF);

    node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(node, LXB_TAG_CAPTION) == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNELINOPELST);
    }

    lxb_html_tree_open_elements_pop_until_tag_id(tree, LXB_TAG_CAPTION,
                                                 LXB_NS_HTML, true);

    lxb_html_tree_active_formatting_up_to_last_marker(tree);

    tree->mode = lxb_html_tree_insertion_mode_in_table;

    return true;
}

/*
 * A start tag whose tag name is one of: "caption", "col", "colgroup", "tbody",
 * "td", "tfoot", "th", "thead", "tr"
 * An end tag whose tag name is "table"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_caption_ct_open_closed(lxb_html_tree_t *tree,
                                                       lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_CAPTION, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_TABLE);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_MIELINSC);

        return true;
    }

    lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG__UNDEF,
                                            LXB_NS__UNDEF);

    node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(node, LXB_TAG_CAPTION) == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_UNELINOPELST);
    }

    lxb_html_tree_open_elements_pop_until_tag_id(tree, LXB_TAG_CAPTION,
                                                 LXB_NS_HTML, true);

    lxb_html_tree_active_formatting_up_to_last_marker(tree);

    tree->mode = lxb_html_tree_insertion_mode_in_table;

    return false;
}

/*
 * "body", "col", "colgroup", "html", "tbody", "td", "tfoot", "th", "thead",
 * "tr"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_caption_bcht_closed(lxb_html_tree_t *tree,
                                                    lxb_html_token_t *token)
{
    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_caption_anything_else(lxb_html_tree_t *tree,
                                                      lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_body(tree, token);
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_caption_anything_else_closed(lxb_html_tree_t *tree,
                                                             lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_caption_anything_else(tree, token);
}

bool
lxb_html_tree_insertion_mode_in_caption(lxb_html_tree_t *tree,
                                        lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
        switch (token->tag_id) {
            case LXB_TAG_CAPTION:
                return lxb_html_tree_insertion_mode_in_caption_caption_closed(tree,
                                                                              token);
            case LXB_TAG_TABLE:
                return lxb_html_tree_insertion_mode_in_caption_ct_open_closed(tree,
                                                                              token);
            case LXB_TAG_BODY:
            case LXB_TAG_COL:
            case LXB_TAG_COLGROUP:
            case LXB_TAG_HTML:
            case LXB_TAG_TBODY:
            case LXB_TAG_TD:
            case LXB_TAG_TFOOT:
            case LXB_TAG_TH:
            case LXB_TAG_THEAD:
            case LXB_TAG_TR:
                return lxb_html_tree_insertion_mode_in_caption_bcht_closed(tree,
                                                                           token);
            default:
                return lxb_html_tree_insertion_mode_in_caption_anything_else_closed(tree,
                                                                                    token);
        }
    }

    switch (token->tag_id) {
        case LXB_TAG_CAPTION:
        case LXB_TAG_COL:
        case LXB_TAG_COLGROUP:
        case LXB_TAG_TBODY:
        case LXB_TAG_TD:
        case LXB_TAG_TFOOT:
        case LXB_TAG_TH:
        case LXB_TAG_THEAD:
        case LXB_TAG_TR:
            return lxb_html_tree_insertion_mode_in_caption_ct_open_closed(tree,
                                                                          token);
        default:
            return lxb_html_tree_insertion_mode_in_caption_anything_else(tree,
                                                                         token);
    }
}

static void
lxb_html_tree_close_cell(lxb_html_tree_t *tree, lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG__UNDEF,
                                            LXB_NS__UNDEF);

    node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(node, LXB_TAG_TD) == false
        && lxb_html_tree_node_is(node, LXB_TAG_TH) == false)
    {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_MIELINOPELST);
    }

    lxb_html_tree_open_elements_pop_until_td_th(tree);
    lxb_html_tree_active_formatting_up_to_last_marker(tree);

    tree->mode = lxb_html_tree_insertion_mode_in_row;
}

/*
 * "td", "th"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_cell_tdth_closed(lxb_html_tree_t *tree,
                                                 lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope(tree, token->tag_id, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_TABLE);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

        return true;
    }

    lxb_html_tree_generate_implied_end_tags(tree, LXB_TAG__UNDEF,
                                            LXB_NS__UNDEF);

    node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(node, token->tag_id) == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_MIELINOPELST);
    }

    lxb_html_tree_open_elements_pop_until_tag_id(tree, token->tag_id,
                                                 LXB_NS_HTML, true);

    lxb_html_tree_active_formatting_up_to_last_marker(tree);

    tree->mode = lxb_html_tree_insertion_mode_in_row;

    return true;
}

/*
 * "caption", "col", "colgroup", "tbody", "td", "tfoot", "th", "thead", "tr"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_cell_ct(lxb_html_tree_t *tree,
                                        lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope_td_th(tree);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_MIELINSC);

        return true;
    }

    lxb_html_tree_close_cell(tree, token);

    return false;
}

/*
 * "body", "caption", "col", "colgroup", "html"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_cell_bch_closed(lxb_html_tree_t *tree,
                                                lxb_html_token_t *token)
{
    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

    return true;
}

/*
 * "table", "tbody", "tfoot", "thead", "tr"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_cell_t_closed(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope(tree, token->tag_id, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_TABLE);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

        return true;
    }

    lxb_html_tree_close_cell(tree, token);

    return false;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_cell_anything_else(lxb_html_tree_t *tree,
                                                   lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_body(tree, token);
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_cell_anything_else_closed(lxb_html_tree_t *tree,
                                                          lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_cell_anything_else(tree, token);
}

bool
lxb_html_tree_insertion_mode_in_cell(lxb_html_tree_t *tree,
                                     lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
        switch (token->tag_id) {
            case LXB_TAG_TD:
            case LXB_TAG_TH:
                return lxb_html_tree_insertion_mode_in_cell_tdth_closed(tree,
                                                                        token);
            case LXB_TAG_BODY:
            case LXB_TAG_CAPTION:
            case LXB_TAG_COL:
            case LXB_TAG_COLGROUP:
            case LXB_TAG_HTML:
                return lxb_html_tree_insertion_mode_in_cell_bch_closed(tree,
                                                                       token);
            case LXB_TAG_TABLE:
            case LXB_TAG_TBODY:
            case LXB_TAG_TFOOT:
            case LXB_TAG_THEAD:
            case LXB_TAG_TR:
                return lxb_html_tree_insertion_mode_in_cell_t_closed(tree,
                                                                     token);
            default:
                return lxb_html_tree_insertion_mode_in_cell_anything_else_closed(tree,
                                                                                 token);
        }
    }

    switch (token->tag_id) {
        case LXB_TAG_CAPTION:
        case LXB_TAG_COL:
        case LXB_TAG_COLGROUP:
        case LXB_TAG_TBODY:
        case LXB_TAG_TD:
        case LXB_TAG_TFOOT:
        case LXB_TAG_TH:
        case LXB_TAG_THEAD:
        case LXB_TAG_TR:
            return lxb_html_tree_insertion_mode_in_cell_ct(tree, token);

        default:
            return lxb_html_tree_insertion_mode_in_cell_anything_else(tree,
                                                                      token);
    }
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_column_group_anything_else(lxb_html_tree_t *tree,
                                                           lxb_html_token_t *token)
{
    lxb_dom_node_t *node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(node, LXB_TAG_COLGROUP) == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_MIELINOPELST);

        return true;
    }

    lxb_html_tree_open_elements_pop(tree);

    tree->mode = lxb_html_tree_insertion_mode_in_table;

    return false;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_column_group_text(lxb_html_tree_t *tree,
                                                  lxb_html_token_t *token)
{
    lxb_html_token_t ws_token = {0};

    tree->status = lxb_html_token_data_split_ws_begin(token, &ws_token);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    if (ws_token.text_start != ws_token.text_end) {
        tree->status = lxb_html_tree_insert_character(tree, &ws_token, NULL);
        if (tree->status != LXB_STATUS_OK) {
            return lxb_html_tree_process_abort(tree);
        }
    }

    if (token->text_start == token->text_end) {
        return true;
    }

    return lxb_html_tree_insertion_mode_in_column_group_anything_else(tree,
                                                                      token);
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_column_group_comment(lxb_html_tree_t *tree,
                                                     lxb_html_token_t *token)
{
    lxb_dom_comment_t *comment;

    comment = lxb_html_tree_insert_comment(tree, token, NULL);
    if (comment == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_column_group_html(lxb_html_tree_t *tree,
                                                  lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_body(tree, token);
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_column_group_col(lxb_html_tree_t *tree,
                                                 lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    lxb_html_tree_open_elements_pop(tree);
    lxb_html_tree_acknowledge_token_self_closing(tree, token);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_column_group_colgroup_closed(lxb_html_tree_t *tree,
                                                             lxb_html_token_t *token)
{
    lxb_dom_node_t *node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(node, LXB_TAG_COLGROUP) == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_MIELINOPELST);

        return true;
    }

    lxb_html_tree_open_elements_pop(tree);

    tree->mode = lxb_html_tree_insertion_mode_in_table;

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_column_group_col_closed(lxb_html_tree_t *tree,
                                                        lxb_html_token_t *token)
{
    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_column_group_template_open_closed(lxb_html_tree_t *tree,
                                                                  lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_head(tree, token);
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_column_group_end_of_file(lxb_html_tree_t *tree,
                                                         lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_body(tree, token);
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_column_group_anything_else_closed(lxb_html_tree_t *tree,
                                                                  lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_column_group_anything_else(tree, token);
}

bool
lxb_html_tree_insertion_mode_in_column_group(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
        switch (token->tag_id) {
            case LXB_TAG_COLGROUP:
                return lxb_html_tree_insertion_mode_in_column_group_colgroup_closed(tree,
                                                                                    token);
            case LXB_TAG_COL:
                return lxb_html_tree_insertion_mode_in_column_group_col_closed(tree,
                                                                               token);
            case LXB_TAG_TEMPLATE:
                return lxb_html_tree_insertion_mode_in_column_group_template_open_closed(tree,
                                                                                         token);
            default:
                return lxb_html_tree_insertion_mode_in_column_group_anything_else_closed(tree,
                                                                                         token);
        }
    }

    switch (token->tag_id) {
        case LXB_TAG__TEXT:
            return lxb_html_tree_insertion_mode_in_column_group_text(tree,
                                                                     token);
        case LXB_TAG__EM_COMMENT:
            return lxb_html_tree_insertion_mode_in_column_group_comment(tree,
                                                                        token);
        case LXB_TAG_HTML:
            return lxb_html_tree_insertion_mode_in_column_group_html(tree,
                                                                     token);
        case LXB_TAG_COL:
            return lxb_html_tree_insertion_mode_in_column_group_col(tree,
                                                                    token);
        case LXB_TAG_TEMPLATE:
            return lxb_html_tree_insertion_mode_in_column_group_template_open_closed(tree,
                                                                                     token);

        case LXB_TAG__END_OF_FILE:
            return lxb_html_tree_insertion_mode_in_column_group_end_of_file(tree,
                                                                            token);
        default:
            return lxb_html_tree_insertion_mode_in_column_group_anything_else(tree,
                                                                              token);
    }
}

bool
lxb_html_tree_insertion_mode_in_frameset(lxb_html_tree_t *tree,
                                         lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
        if (token->tag_id == LXB_TAG_FRAMESET)
        {
            lxb_dom_node_t *node;
            node = lxb_html_tree_current_node(tree);

            if (node == lxb_html_tree_open_elements_first(tree)) {
                lxb_html_tree_parse_error(tree, token,
                                          LXB_HTML_RULES_ERROR_UNELINOPELST);
                return true;
            }

            lxb_html_tree_open_elements_pop(tree);

            node = lxb_html_tree_current_node(tree);

            if (tree->fragment == NULL
                && lxb_html_tree_node_is(node, LXB_TAG_FRAMESET) == false)
            {
                tree->mode = lxb_html_tree_insertion_mode_after_frameset;
            }

            return true;
        }

        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

        return true;
    }

    switch (token->tag_id) {
        case LXB_TAG__EM_COMMENT: {
            lxb_dom_comment_t *comment;

            comment = lxb_html_tree_insert_comment(tree, token, NULL);
            if (comment == NULL) {
                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG__EM_DOCTYPE:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_DOTOINFRMO);
            break;

        case LXB_TAG_HTML:
            return lxb_html_tree_insertion_mode_in_body(tree, token);

        case LXB_TAG_FRAMESET: {
            lxb_html_element_t *element;

            element = lxb_html_tree_insert_html_element(tree, token);
            if (element == NULL) {
                tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG_FRAME: {
            lxb_html_element_t *element;

            element = lxb_html_tree_insert_html_element(tree, token);
            if (element == NULL) {
                tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

                return lxb_html_tree_process_abort(tree);
            }

            lxb_html_tree_open_elements_pop(tree);
            lxb_html_tree_acknowledge_token_self_closing(tree, token);

            break;
        }

        case LXB_TAG_NOFRAMES:
            return lxb_html_tree_insertion_mode_in_head(tree, token);

        case LXB_TAG__END_OF_FILE: {
            lxb_dom_node_t *node = lxb_html_tree_current_node(tree);

            if (node != lxb_html_tree_open_elements_first(tree)) {
                lxb_html_tree_parse_error(tree, token,
                                          LXB_HTML_RULES_ERROR_UNELINOPELST);
            }

            tree->status = lxb_html_tree_stop_parsing(tree);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG__TEXT: {
            size_t cur_len;
            lexbor_str_t str;

            tree->status = lxb_html_token_make_text(token, &str,
                                                    tree->document->dom_document.text);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            cur_len = str.length;

            lexbor_str_stay_only_whitespace(&str);

            if (str.length != 0) {
                tree->status = lxb_html_tree_insert_character_for_data(tree,
                                                                       &str,
                                                                       NULL);
                if (tree->status != LXB_STATUS_OK) {
                    return lxb_html_tree_process_abort(tree);
                }
            }

            if (str.length == cur_len) {
                return true;
            }
        }
        /* fall through */

        default:
            lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

            break;
    }

    return true;
}

static bool
lxb_html_tree_insertion_mode_in_head_open(lxb_html_tree_t *tree,
                                          lxb_html_token_t *token);

static bool
lxb_html_tree_insertion_mode_in_head_closed(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token);

lxb_inline bool
lxb_html_tree_insertion_mode_in_head_script(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token);

lxb_inline bool
lxb_html_tree_insertion_mode_in_head_template(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token);

lxb_inline bool
lxb_html_tree_insertion_mode_in_head_template_closed(lxb_html_tree_t *tree,
                                                     lxb_html_token_t *token);

lxb_inline bool
lxb_html_tree_insertion_mode_in_head_anything_else(lxb_html_tree_t *tree);


bool
lxb_html_tree_insertion_mode_in_head(lxb_html_tree_t *tree,
                                     lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
        return lxb_html_tree_insertion_mode_in_head_closed(tree, token);;
    }

    return lxb_html_tree_insertion_mode_in_head_open(tree, token);
}

static bool
lxb_html_tree_insertion_mode_in_head_open(lxb_html_tree_t *tree,
                                          lxb_html_token_t *token)
{
    switch (token->tag_id) {
        case LXB_TAG__EM_COMMENT: {
            lxb_dom_comment_t *comment;

            comment = lxb_html_tree_insert_comment(tree, token, NULL);
            if (comment == NULL) {
                tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG__EM_DOCTYPE:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_DOTOINHEMO);
            break;

        case LXB_TAG_HTML:
            return lxb_html_tree_insertion_mode_in_body(tree, token);

        case LXB_TAG_BASE:
        case LXB_TAG_BASEFONT:
        case LXB_TAG_BGSOUND:
        case LXB_TAG_LINK: {
            lxb_html_element_t *element;

            element = lxb_html_tree_insert_html_element(tree, token);
            if (element == NULL) {
                tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

                return lxb_html_tree_process_abort(tree);
            }

            lxb_html_tree_open_elements_pop(tree);
            lxb_html_tree_acknowledge_token_self_closing(tree, token);

            break;
        }

        case LXB_TAG_META: {
            lxb_html_element_t *element;

            element = lxb_html_tree_insert_html_element(tree, token);
            if (element == NULL) {
                tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

                return lxb_html_tree_process_abort(tree);
            }

            lxb_html_tree_open_elements_pop(tree);
            lxb_html_tree_acknowledge_token_self_closing(tree, token);

            /*
             * TODO: Check encoding: charset attribute or http-equiv attribute.
             */

            break;
        }

        case LXB_TAG_TITLE: {
            lxb_html_element_t *element;

            element = lxb_html_tree_generic_rcdata_parsing(tree, token);
            if (element == NULL) {
                tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG_NOSCRIPT: {
            lxb_html_element_t *element;

            if (tree->document->dom_document.scripting) {
                element = lxb_html_tree_generic_rawtext_parsing(tree, token);
            }
            else {
                element = lxb_html_tree_insert_html_element(tree, token);
                tree->mode = lxb_html_tree_insertion_mode_in_head_noscript;
            }

            if (element == NULL) {
                tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG_NOFRAMES:
        case LXB_TAG_STYLE: {
            lxb_html_element_t *element;

            element = lxb_html_tree_generic_rawtext_parsing(tree, token);
            if (element == NULL) {
                tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG_SCRIPT:
            return lxb_html_tree_insertion_mode_in_head_script(tree, token);

        case LXB_TAG_TEMPLATE:
            return lxb_html_tree_insertion_mode_in_head_template(tree, token);

        case LXB_TAG_HEAD:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_HETOINHEMO);
            break;

        /*
         * We can create function for this, but...
         *
         * The "in head noscript" insertion mode use this
         * is you change this code, please, change it in head noscript" mode
         */
        case LXB_TAG__TEXT: {
            lxb_html_token_t ws_token = {0};

            tree->status = lxb_html_token_data_split_ws_begin(token, &ws_token);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            if (ws_token.text_start != ws_token.text_end) {
                tree->status = lxb_html_tree_insert_character(tree, &ws_token,
                                                              NULL);
                if (tree->status != LXB_STATUS_OK) {
                    return lxb_html_tree_process_abort(tree);
                }
            }

            if (token->text_start == token->text_end) {
                return true;
            }
        }
        /* fall through */

        default:
            return lxb_html_tree_insertion_mode_in_head_anything_else(tree);
    }

    return true;
}

static bool
lxb_html_tree_insertion_mode_in_head_closed(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token)
{
    switch (token->tag_id) {
        case LXB_TAG_HEAD:
            lxb_html_tree_open_elements_pop(tree);

            tree->mode = lxb_html_tree_insertion_mode_after_head;

            break;

        case LXB_TAG_BODY:
        case LXB_TAG_HTML:
        case LXB_TAG_BR:
            return lxb_html_tree_insertion_mode_in_head_anything_else(tree);

        case LXB_TAG_TEMPLATE:
            return lxb_html_tree_insertion_mode_in_head_template_closed(tree,
                                                                        token);

        default:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_UNCLTOINHEMO);
            break;

    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_head_script(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token)
{
    lxb_dom_node_t *ap_node;
    lxb_html_element_t *element;
    lxb_html_tree_insertion_position_t ipos;

    ap_node = lxb_html_tree_appropriate_place_inserting_node(tree, NULL, &ipos);
    if (ap_node == NULL) {
        tree->status = LXB_STATUS_ERROR;

        return lxb_html_tree_process_abort(tree);
    }

    element = lxb_html_tree_create_element_for_token(tree, token, LXB_NS_HTML);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    /* TODO: Need code for set flags for Script Element */

    tree->status = lxb_html_tree_open_elements_push(tree,
                                                    lxb_dom_interface_node(element));
    if (tree->status != LXB_HTML_STATUS_OK) {
        lxb_html_script_element_interface_destroy(lxb_html_interface_script(element));

        return lxb_html_tree_process_abort(tree);
    }

    lxb_html_tree_insert_node(ap_node, lxb_dom_interface_node(element), ipos);

    /*
     * Need for tokenizer state Script
     * See description for
     * 'lxb_html_tokenizer_state_script_data_before' function
     */
    lxb_html_tokenizer_tmp_tag_id_set(tree->tkz_ref, token->tag_id);
    lxb_html_tokenizer_state_set(tree->tkz_ref,
                                 lxb_html_tokenizer_state_script_data_before);

    tree->original_mode = tree->mode;
    tree->mode = lxb_html_tree_insertion_mode_text;

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_head_template(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->status = lxb_html_tree_active_formatting_push_marker(tree);
    if (tree->status != LXB_STATUS_OK) {
        lxb_html_template_element_interface_destroy(lxb_html_interface_template(element));

        return lxb_html_tree_process_abort(tree);
    }

    tree->frameset_ok = false;
    tree->mode = lxb_html_tree_insertion_mode_in_template;

    tree->status = lxb_html_tree_template_insertion_push(tree,
                                      lxb_html_tree_insertion_mode_in_template);
    if (tree->status != LXB_STATUS_OK) {
        lxb_html_template_element_interface_destroy(lxb_html_interface_template(element));

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_head_template_closed(lxb_html_tree_t *tree,
                                                     lxb_html_token_t *token)
{
    lxb_dom_node_t *temp_node;

    temp_node = lxb_html_tree_open_elements_find_reverse(tree, LXB_TAG_TEMPLATE,
                                                         LXB_NS_HTML, NULL);
    if (temp_node == NULL) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_TECLTOWIOPINHEMO);
        return true;
    }

    lxb_html_tree_generate_all_implied_end_tags_thoroughly(tree, LXB_TAG__UNDEF,
                                                           LXB_NS__UNDEF);

    temp_node = lxb_html_tree_current_node(tree);

    if (lxb_html_tree_node_is(temp_node, LXB_TAG_TEMPLATE) == false) {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_TEELISNOCUINHEMO);
    }

    lxb_html_tree_open_elements_pop_until_tag_id(tree, LXB_TAG_TEMPLATE,
                                                 LXB_NS_HTML, true);

    lxb_html_tree_active_formatting_up_to_last_marker(tree);
    lxb_html_tree_template_insertion_pop(tree);
    lxb_html_tree_reset_insertion_mode_appropriately(tree);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_head_anything_else(lxb_html_tree_t *tree)
{
    lxb_html_tree_open_elements_pop(tree);

    tree->mode = lxb_html_tree_insertion_mode_after_head;

    return false;
}

static bool
lxb_html_tree_insertion_mode_in_head_noscript_open(lxb_html_tree_t *tree,
                                                   lxb_html_token_t *token);

static bool
lxb_html_tree_insertion_mode_in_head_noscript_closed(lxb_html_tree_t *tree,
                                                     lxb_html_token_t *token);


bool
lxb_html_tree_insertion_mode_in_head_noscript(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
       return lxb_html_tree_insertion_mode_in_head_noscript_closed(tree, token);
    }

    return lxb_html_tree_insertion_mode_in_head_noscript_open(tree, token);
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_head_noscript_anything_else(lxb_html_tree_t *tree,
                                                            lxb_html_token_t *token);


static bool
lxb_html_tree_insertion_mode_in_head_noscript_open(lxb_html_tree_t *tree,
                                                   lxb_html_token_t *token)
{
    switch (token->tag_id) {
        case LXB_TAG__EM_DOCTYPE:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_DOTOINHENOMO);
            break;

        case LXB_TAG_HTML:
            return lxb_html_tree_insertion_mode_in_body(tree, token);

        case LXB_TAG__EM_COMMENT:
        case LXB_TAG_BASEFONT:
        case LXB_TAG_BGSOUND:
        case LXB_TAG_LINK:
        case LXB_TAG_META:
        case LXB_TAG_NOFRAMES:
        case LXB_TAG_STYLE:
            return lxb_html_tree_insertion_mode_in_head(tree, token);

        case LXB_TAG_HEAD:
        case LXB_TAG_NOSCRIPT:
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_UNTO);
            break;

        /* CopyPast from "in head" insertion mode */
        case LXB_TAG__TEXT: {
            lxb_html_token_t ws_token = {0};

            tree->status = lxb_html_token_data_split_ws_begin(token, &ws_token);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            if (ws_token.text_start != ws_token.text_end) {
                tree->status = lxb_html_tree_insert_character(tree, &ws_token,
                                                              NULL);
                if (tree->status != LXB_STATUS_OK) {
                    return lxb_html_tree_process_abort(tree);
                }
            }

            if (token->text_start == token->text_end) {
                return true;
            }
        }
        /* fall through */

        default:
            return lxb_html_tree_insertion_mode_in_head_noscript_anything_else(tree,
                                                                               token);
    }

    return true;
}

static bool
lxb_html_tree_insertion_mode_in_head_noscript_closed(lxb_html_tree_t *tree,
                                                     lxb_html_token_t *token)
{
    if(token->tag_id == LXB_TAG_BR) {
        return lxb_html_tree_insertion_mode_in_head_noscript_anything_else(tree,
                                                                            token);
    }

    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_head_noscript_anything_else(lxb_html_tree_t *tree,
                                                            lxb_html_token_t *token)
{
    lxb_html_tree_parse_error(tree, token,
                              LXB_HTML_RULES_ERROR_UNTO);

    lxb_html_tree_open_elements_pop(tree);

    tree->mode = lxb_html_tree_insertion_mode_in_head;

    return false;
}

static void
lxb_html_tree_clear_stack_back_to_table_row(lxb_html_tree_t *tree)
{
    lxb_dom_node_t *current = lxb_html_tree_current_node(tree);

    while ((current->local_name != LXB_TAG_TR
            && current->local_name != LXB_TAG_TEMPLATE
            && current->local_name != LXB_TAG_HTML)
           || current->ns != LXB_NS_HTML)
    {
        lxb_html_tree_open_elements_pop(tree);
        current = lxb_html_tree_current_node(tree);
    }
}

/*
 * "th", "td"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_row_thtd(lxb_html_tree_t *tree,
                                         lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    lxb_html_tree_clear_stack_back_to_table_row(tree);

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_cell;

    tree->status = lxb_html_tree_active_formatting_push_marker(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_row_tr_closed(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_TR, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_TABLE);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

        return true;
    }

    lxb_html_tree_clear_stack_back_to_table_row(tree);
    lxb_html_tree_open_elements_pop(tree);

    tree->mode = lxb_html_tree_insertion_mode_in_table_body;

    return true;
}

/*
 * A start tag whose tag name is one of: "caption", "col", "colgroup", "tbody",
 * "tfoot", "thead", "tr"
 * An end tag whose tag name is "table"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_row_ct_open_closed(lxb_html_tree_t *tree,
                                                   lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_TR, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_TABLE);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

        return true;
    }

    lxb_html_tree_clear_stack_back_to_table_row(tree);
    lxb_html_tree_open_elements_pop(tree);

    tree->mode = lxb_html_tree_insertion_mode_in_table_body;

    return false;
}

/*
 * "tbody", "tfoot", "thead"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_row_tbtfth_closed(lxb_html_tree_t *tree,
                                                  lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope(tree, token->tag_id, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_TABLE);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

        return true;
    }

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_TR, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_TABLE);
    if (node == NULL) {
        return true;
    }

    lxb_html_tree_clear_stack_back_to_table_row(tree);
    lxb_html_tree_open_elements_pop(tree);

    tree->mode = lxb_html_tree_insertion_mode_in_table_body;

    return false;
}

/*
 * "body", "caption", "col", "colgroup", "html", "td", "th"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_row_bcht_closed(lxb_html_tree_t *tree,
                                                lxb_html_token_t *token)
{
    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_row_anything_else(lxb_html_tree_t *tree,
                                                  lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_table(tree, token);
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_row_anything_else_closed(lxb_html_tree_t *tree,
                                                         lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_row_anything_else(tree, token);
}

bool
lxb_html_tree_insertion_mode_in_row(lxb_html_tree_t *tree,
                                    lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
        switch (token->tag_id) {
            case LXB_TAG_TR:
                return lxb_html_tree_insertion_mode_in_row_tr_closed(tree,
                                                                     token);
            case LXB_TAG_TABLE:
                return lxb_html_tree_insertion_mode_in_row_ct_open_closed(tree,
                                                                          token);
            case LXB_TAG_TBODY:
            case LXB_TAG_TFOOT:
            case LXB_TAG_THEAD:
                return lxb_html_tree_insertion_mode_in_row_tbtfth_closed(tree,
                                                                         token);
            case LXB_TAG_BODY:
            case LXB_TAG_CAPTION:
            case LXB_TAG_COL:
            case LXB_TAG_COLGROUP:
            case LXB_TAG_HTML:
            case LXB_TAG_TD:
            case LXB_TAG_TH:
                return lxb_html_tree_insertion_mode_in_row_bcht_closed(tree,
                                                                       token);
            default:
                return lxb_html_tree_insertion_mode_in_row_anything_else_closed(tree,
                                                                                token);
        }
    }

    switch (token->tag_id) {
        case LXB_TAG_TH:
        case LXB_TAG_TD:
            return lxb_html_tree_insertion_mode_in_row_thtd(tree, token);

        case LXB_TAG_CAPTION:
        case LXB_TAG_COL:
        case LXB_TAG_COLGROUP:
        case LXB_TAG_TBODY:
        case LXB_TAG_TFOOT:
        case LXB_TAG_THEAD:
        case LXB_TAG_TR:
            return lxb_html_tree_insertion_mode_in_row_ct_open_closed(tree,
                                                                      token);
        default:
            return lxb_html_tree_insertion_mode_in_row_anything_else(tree,
                                                                     token);
    }
}

lxb_inline void
lxb_html_tree_clear_stack_back_to_table_context(lxb_html_tree_t *tree)
{
    lxb_dom_node_t *current = lxb_html_tree_current_node(tree);

    while ((current->local_name != LXB_TAG_TABLE
            && current->local_name != LXB_TAG_TEMPLATE
            && current->local_name != LXB_TAG_HTML)
           || current->ns != LXB_NS_HTML)
    {
        lxb_html_tree_open_elements_pop(tree);
        current = lxb_html_tree_current_node(tree);
    }
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_text_open(lxb_html_tree_t *tree,
                                                lxb_html_token_t *token)
{
    lxb_dom_node_t *node = lxb_html_tree_current_node(tree);

    if (node->ns == LXB_NS_HTML &&
        (node->local_name == LXB_TAG_TABLE
         || node->local_name == LXB_TAG_TBODY
         || node->local_name == LXB_TAG_TFOOT
         || node->local_name == LXB_TAG_THEAD
         || node->local_name == LXB_TAG_TR))
    {
        tree->pending_table.text_list->length = 0;
        tree->pending_table.have_non_ws = false;

        tree->original_mode = tree->mode;
        tree->mode = lxb_html_tree_insertion_mode_in_table_text;

        return false;
    }

    return lxb_html_tree_insertion_mode_in_table_anything_else(tree, token);
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_comment(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_dom_comment_t *comment;

    comment = lxb_html_tree_insert_comment(tree, token, NULL);
    if (comment == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_doctype(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_DOTOINTAMO);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_caption(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    lxb_html_tree_clear_stack_back_to_table_context(tree);

    tree->status = lxb_html_tree_active_formatting_push_marker(tree);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_caption;

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_colgroup(lxb_html_tree_t *tree,
                                               lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    lxb_html_tree_clear_stack_back_to_table_context(tree);

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_column_group;

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_col(lxb_html_tree_t *tree,
                                          lxb_html_token_t *token)
{
    lxb_html_element_t *element;
    lxb_html_token_t fake_token = {0};

    lxb_html_tree_clear_stack_back_to_table_context(tree);

    fake_token.tag_id = LXB_TAG_COLGROUP;
    fake_token.attr_first = NULL;
    fake_token.attr_last = NULL;

    element = lxb_html_tree_insert_html_element(tree, &fake_token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_column_group;

    return false;
}

/*
 * "tbody", "tfoot", "thead"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_table_tbtfth(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    lxb_html_tree_clear_stack_back_to_table_context(tree);

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_table_body;

    return true;
}

/*
 * "td", "th", "tr"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_table_tdthtr(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token)
{
    lxb_html_element_t *element;
    lxb_html_token_t fake_token = {0};

    lxb_html_tree_clear_stack_back_to_table_context(tree);

    fake_token.tag_id = LXB_TAG_TBODY;
    fake_token.attr_first = NULL;
    fake_token.attr_last = NULL;

    element = lxb_html_tree_insert_html_element(tree, &fake_token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_table_body;

    return false;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_table(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_TABLE, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_TABLE);
    if (node == NULL) {
        return true;
    }

    lxb_html_tree_open_elements_pop_until_node(tree, node, true);
    lxb_html_tree_reset_insertion_mode_appropriately(tree);

    return false;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_table_closed(lxb_html_tree_t *tree,
                                                   lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope(tree, LXB_TAG_TABLE, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_TABLE);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

        return true;
    }

    lxb_html_tree_open_elements_pop_until_node(tree, node, true);
    lxb_html_tree_reset_insertion_mode_appropriately(tree);

    return true;
}

/*
 * "body", "caption", "col", "colgroup", "html", "tbody", "td", "tfoot", "th",
 * "thead", "tr"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_table_bcht_closed(lxb_html_tree_t *tree,
                                                  lxb_html_token_t *token)
{
    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

    return true;
}

/*
 * A start tag whose tag name is one of: "style", "script", "template"
 * An end tag whose tag name is "template"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_table_st_open_closed(lxb_html_tree_t *tree,
                                                     lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_head(tree, token);
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_input(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token)
{
    lxb_html_element_t *element;
    lxb_html_token_attr_t *attr = token->attr_first;

    while (attr != NULL) {

        /* Name == "type" and value == "hidden" */
        if (attr->name != NULL && attr->name->attr_id == LXB_DOM_ATTR_TYPE) {
            if (attr->value_size == 6
                && lexbor_str_data_ncasecmp(attr->value,
                                            (const lxb_char_t *) "hidden", 6))
            {
                goto have_hidden;
            }
        }

        attr = attr->next;
    }

    return lxb_html_tree_insertion_mode_in_table_anything_else(tree, token);

have_hidden:

    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    lxb_html_tree_open_elements_pop_until_node(tree,
                                               lxb_dom_interface_node(element),
                                               true);

    lxb_html_tree_acknowledge_token_self_closing(tree, token);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_form(lxb_html_tree_t *tree,
                                           lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    lxb_html_element_t *element;

    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

    if (tree->form != NULL) {
        return true;
    }

    node = lxb_html_tree_open_elements_find_reverse(tree, LXB_TAG_TEMPLATE,
                                                    LXB_NS_HTML, NULL);
    if (node != NULL) {
        return true;
    }

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->form = lxb_html_interface_form(element);

    lxb_html_tree_open_elements_pop_until_node(tree,
                                               lxb_dom_interface_node(element),
                                               true);
    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_end_of_file(lxb_html_tree_t *tree,
                                                  lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_body(tree, token);
}

bool
lxb_html_tree_insertion_mode_in_table_anything_else(lxb_html_tree_t *tree,
                                                    lxb_html_token_t *token)
{
    tree->foster_parenting = true;

    lxb_html_tree_insertion_mode_in_body(tree, token);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    tree->foster_parenting = false;

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_anything_else_closed(lxb_html_tree_t *tree,
                                                           lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_table_anything_else(tree, token);
}

bool
lxb_html_tree_insertion_mode_in_table(lxb_html_tree_t *tree,
                                      lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
        switch (token->tag_id) {
            case LXB_TAG_TABLE:
                return lxb_html_tree_insertion_mode_in_table_table_closed(tree,
                                                                          token);
            case LXB_TAG_BODY:
            case LXB_TAG_CAPTION:
            case LXB_TAG_COL:
            case LXB_TAG_COLGROUP:
            case LXB_TAG_HTML:
            case LXB_TAG_TBODY:
            case LXB_TAG_TD:
            case LXB_TAG_TFOOT:
            case LXB_TAG_TH:
            case LXB_TAG_THEAD:
            case LXB_TAG_TR:
                return lxb_html_tree_insertion_mode_in_table_bcht_closed(tree,
                                                                         token);
            case LXB_TAG_TEMPLATE:
                return lxb_html_tree_insertion_mode_in_table_st_open_closed(tree,
                                                                            token);
            default:
                return lxb_html_tree_insertion_mode_in_table_anything_else_closed(tree,
                                                                                  token);
        }
    }

    switch (token->tag_id) {
        case LXB_TAG__TEXT:
            return lxb_html_tree_insertion_mode_in_table_text_open(tree, token);

        case LXB_TAG__EM_COMMENT:
            return lxb_html_tree_insertion_mode_in_table_comment(tree, token);

        case LXB_TAG__EM_DOCTYPE:
            return lxb_html_tree_insertion_mode_in_table_doctype(tree, token);

        case LXB_TAG_CAPTION:
            return lxb_html_tree_insertion_mode_in_table_caption(tree, token);

        case LXB_TAG_COLGROUP:
            return lxb_html_tree_insertion_mode_in_table_colgroup(tree, token);

        case LXB_TAG_COL:
            return lxb_html_tree_insertion_mode_in_table_col(tree, token);

        case LXB_TAG_TBODY:
        case LXB_TAG_TFOOT:
        case LXB_TAG_THEAD:
            return lxb_html_tree_insertion_mode_in_table_tbtfth(tree, token);

        case LXB_TAG_TD:
        case LXB_TAG_TH:
        case LXB_TAG_TR:
            return lxb_html_tree_insertion_mode_in_table_tdthtr(tree, token);

        case LXB_TAG_TABLE:
            return lxb_html_tree_insertion_mode_in_table_table(tree, token);

        case LXB_TAG_STYLE:
        case LXB_TAG_SCRIPT:
        case LXB_TAG_TEMPLATE:
            return lxb_html_tree_insertion_mode_in_table_st_open_closed(tree,
                                                                        token);
        case LXB_TAG_INPUT:
            return lxb_html_tree_insertion_mode_in_table_input(tree, token);

        case LXB_TAG_FORM:
            return lxb_html_tree_insertion_mode_in_table_form(tree, token);

        case LXB_TAG__END_OF_FILE:
            return lxb_html_tree_insertion_mode_in_table_end_of_file(tree,
                                                                     token);
        default:
            return lxb_html_tree_insertion_mode_in_table_anything_else(tree,
                                                                       token);
    }
}

static void
lxb_html_tree_clear_stack_back_to_table_body(lxb_html_tree_t *tree)
{
    lxb_dom_node_t *current = lxb_html_tree_current_node(tree);

    while ((current->local_name != LXB_TAG_TBODY
            && current->local_name != LXB_TAG_TFOOT
            && current->local_name != LXB_TAG_THEAD
            && current->local_name != LXB_TAG_TEMPLATE
            && current->local_name != LXB_TAG_HTML)
           || current->ns != LXB_NS_HTML)
    {
        lxb_html_tree_open_elements_pop(tree);
        current = lxb_html_tree_current_node(tree);
    }
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_body_tr(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_html_element_t *element;

    lxb_html_tree_clear_stack_back_to_table_body(tree);

    element = lxb_html_tree_insert_html_element(tree, token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_row;

    return true;
}

/*
 * "th", "td"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_table_body_thtd(lxb_html_tree_t *tree,
                                                lxb_html_token_t *token)
{
    lxb_html_token_t fake_token;
    lxb_html_element_t *element;

    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNTO);

    lxb_html_tree_clear_stack_back_to_table_body(tree);

    fake_token = *token;

    fake_token.tag_id = LXB_TAG_TR;
    fake_token.attr_first = NULL;
    fake_token.attr_last = NULL;

    element = lxb_html_tree_insert_html_element(tree, &fake_token);
    if (element == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_row;

    return false;
}

/*
 * "tbody", "tfoot", "thead"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_table_body_tbtfth_closed(lxb_html_tree_t *tree,
                                                         lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope(tree, token->tag_id, LXB_NS_HTML,
                                          LXB_HTML_TAG_CATEGORY_SCOPE_TABLE);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_MIELINSC);

        return true;
    }

    lxb_html_tree_clear_stack_back_to_table_body(tree);
    lxb_html_tree_open_elements_pop(tree);

    tree->mode = lxb_html_tree_insertion_mode_in_table;

    return true;
}

/*
 * A start tag whose tag name is one of: "caption", "col", "colgroup", "tbody",
 * "tfoot", "thead"
 * An end tag whose tag name is "table"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_table_body_ct_open_closed(lxb_html_tree_t *tree,
                                                          lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_element_in_scope_tbody_thead_tfoot(tree);
    if (node == NULL) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_MIELINSC);

        return true;
    }

    lxb_html_tree_clear_stack_back_to_table_body(tree);
    lxb_html_tree_open_elements_pop(tree);

    tree->mode = lxb_html_tree_insertion_mode_in_table;

    return false;
}

/*
 * "body", "caption", "col", "colgroup", "html", "td", "th", "tr"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_table_body_bcht_closed(lxb_html_tree_t *tree,
                                                       lxb_html_token_t *token)
{
    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

    return true;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_body_anything_else(lxb_html_tree_t *tree,
                                                         lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_table(tree, token);
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_table_body_anything_else_closed(lxb_html_tree_t *tree,
                                                                lxb_html_token_t *token)
{
    return lxb_html_tree_insertion_mode_in_table_body_anything_else(tree,
                                                                    token);
}

bool
lxb_html_tree_insertion_mode_in_table_body(lxb_html_tree_t *tree,
                                           lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
        switch (token->tag_id) {
            case LXB_TAG_TBODY:
            case LXB_TAG_TFOOT:
            case LXB_TAG_THEAD:
                return lxb_html_tree_insertion_mode_in_table_body_tbtfth_closed(tree,
                                                                                token);
            case LXB_TAG_TABLE:
                return lxb_html_tree_insertion_mode_in_table_body_ct_open_closed(tree,
                                                                                 token);
            case LXB_TAG_BODY:
            case LXB_TAG_CAPTION:
            case LXB_TAG_COL:
            case LXB_TAG_COLGROUP:
            case LXB_TAG_HTML:
            case LXB_TAG_TD:
            case LXB_TAG_TH:
            case LXB_TAG_TR:
                return lxb_html_tree_insertion_mode_in_table_body_bcht_closed(tree,
                                                                              token);
            default:
                return lxb_html_tree_insertion_mode_in_table_body_anything_else_closed(tree,
                                                                                       token);
        }
    }

    switch (token->tag_id) {
        case LXB_TAG_TR:
            return lxb_html_tree_insertion_mode_in_table_body_tr(tree, token);

        case LXB_TAG_TH:
        case LXB_TAG_TD:
            return lxb_html_tree_insertion_mode_in_table_body_thtd(tree, token);

        case LXB_TAG_CAPTION:
        case LXB_TAG_COL:
        case LXB_TAG_COLGROUP:
        case LXB_TAG_TBODY:
        case LXB_TAG_TFOOT:
        case LXB_TAG_THEAD:
            return lxb_html_tree_insertion_mode_in_table_body_ct_open_closed(tree,
                                                                             token);
        default:
            return lxb_html_tree_insertion_mode_in_table_body_anything_else(tree,
                                                                            token);
    }
}

static void
lxb_html_tree_insertion_mode_in_table_text_erase(lxb_html_tree_t *tree);


bool
lxb_html_tree_insertion_mode_in_table_text(lxb_html_tree_t *tree,
                                           lxb_html_token_t *token)
{
    lxb_status_t status;
    lexbor_str_t *text;
    lexbor_array_obj_t *pt_list = tree->pending_table.text_list;

    if (token->tag_id == LXB_TAG__TEXT) {
        if (token->null_count != 0) {
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_NUCH);
        }

        text = lexbor_array_obj_push(pt_list);
        if (text == NULL) {
            tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

            lxb_html_tree_insertion_mode_in_table_text_erase(tree);

            return lxb_html_tree_process_abort(tree);
        }

        if (token->null_count != 0) {
            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_NUCH);

            tree->status = lxb_html_token_make_text_drop_null(token, text,
                                                              tree->document->dom_document.text);
        }
        else {
            tree->status = lxb_html_token_make_text(token, text,
                                                    tree->document->dom_document.text);
        }

        if (tree->status != LXB_STATUS_OK) {
            lxb_html_tree_insertion_mode_in_table_text_erase(tree);

            return lxb_html_tree_process_abort(tree);
        }

        if (text->length == 0) {
            lexbor_array_obj_pop(pt_list);
            lexbor_str_destroy(text, tree->document->dom_document.text, false);

            return true;
        }

        /*
         * The lxb_html_token_data_skip_ws_begin function
         * can change token->text_start value.
         */
        size_t i_pos = lexbor_str_whitespace_from_begin(text);

        if (i_pos != text->length) {
            if (!tree->pending_table.have_non_ws) {
                tree->pending_table.have_non_ws = true;
            }
        }

        return true;
    }

    if (tree->pending_table.have_non_ws) {
        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_CHINTATE);

        tree->foster_parenting = true;

        for (size_t i = 0; i < lexbor_array_obj_length(pt_list); i++) {
            text = lexbor_array_obj_get(pt_list, i);

            status = lxb_html_tree_insertion_mode_in_body_text_append(tree,
                                                                      text);
            if (status != LXB_STATUS_OK) {
                lxb_html_tree_insertion_mode_in_table_text_erase(tree);

                return lxb_html_tree_process_abort(tree);
            }
        }

        tree->foster_parenting = false;
    }
    else {
        for (size_t i = 0; i < lexbor_array_obj_length(pt_list); i++) {
            text = lexbor_array_obj_get(pt_list, i);

            tree->status = lxb_html_tree_insert_character_for_data(tree, text,
                                                                   NULL);
            if (tree->status != LXB_STATUS_OK) {
                lxb_html_tree_insertion_mode_in_table_text_erase(tree);

                return lxb_html_tree_process_abort(tree);
            }
        }
    }

    tree->mode = tree->original_mode;

    return false;
}

static void
lxb_html_tree_insertion_mode_in_table_text_erase(lxb_html_tree_t *tree)
{
    lexbor_str_t *text;
    lexbor_array_obj_t *pt_list = tree->pending_table.text_list;

    for (size_t i = 0; i < lexbor_array_obj_length(pt_list); i++) {
        text = lexbor_array_obj_get(pt_list, i);

        lexbor_str_destroy(text, tree->document->dom_document.text, false);
    }
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_template_ct(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token)
{
    lxb_html_tree_template_insertion_pop(tree);

    tree->status = lxb_html_tree_template_insertion_push(tree,
                                                         lxb_html_tree_insertion_mode_in_table);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_table;

    return false;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_template_col(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token)
{
    lxb_html_tree_template_insertion_pop(tree);

    tree->status = lxb_html_tree_template_insertion_push(tree,
                                                         lxb_html_tree_insertion_mode_in_column_group);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_column_group;

    return false;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_template_tr(lxb_html_tree_t *tree,
                                            lxb_html_token_t *token)
{
    lxb_html_tree_template_insertion_pop(tree);

    tree->status = lxb_html_tree_template_insertion_push(tree,
                                                         lxb_html_tree_insertion_mode_in_table_body);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_table_body;

    return false;
}

/*
 * "td", "th"
 */
lxb_inline bool
lxb_html_tree_insertion_mode_in_template_tdth(lxb_html_tree_t *tree,
                                              lxb_html_token_t *token)
{
    lxb_html_tree_template_insertion_pop(tree);

    tree->status = lxb_html_tree_template_insertion_push(tree,
                                                         lxb_html_tree_insertion_mode_in_row);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_row;

    return false;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_template_end_of_file(lxb_html_tree_t *tree,
                                                     lxb_html_token_t *token)
{
    lxb_dom_node_t *node;

    node = lxb_html_tree_open_elements_find(tree, LXB_TAG_TEMPLATE, LXB_NS_HTML,
                                            NULL);
    if (node == NULL) {
        tree->status =  lxb_html_tree_stop_parsing(tree);
        if (tree->status != LXB_STATUS_OK) {
            return lxb_html_tree_process_abort(tree);
        }

        return true;
    }

    lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNENOFFI);

    lxb_html_tree_open_elements_pop_until_tag_id(tree, LXB_TAG_TEMPLATE,
                                                 LXB_NS_HTML, true);

    lxb_html_tree_active_formatting_up_to_last_marker(tree);
    lxb_html_tree_template_insertion_pop(tree);
    lxb_html_tree_reset_insertion_mode_appropriately(tree);

    return false;
}

lxb_inline bool
lxb_html_tree_insertion_mode_in_template_anything_else(lxb_html_tree_t *tree,
                                                       lxb_html_token_t *token)
{
    lxb_html_tree_template_insertion_pop(tree);

    tree->status = lxb_html_tree_template_insertion_push(tree,
                                                         lxb_html_tree_insertion_mode_in_body);
    if (tree->status != LXB_STATUS_OK) {
        return lxb_html_tree_process_abort(tree);
    }

    tree->mode = lxb_html_tree_insertion_mode_in_body;

    return false;
}

bool
lxb_html_tree_insertion_mode_in_template(lxb_html_tree_t *tree,
                                         lxb_html_token_t *token)
{
    if (token->type & LXB_HTML_TOKEN_TYPE_CLOSE) {
        if (token->tag_id == LXB_TAG_TEMPLATE) {
            return lxb_html_tree_insertion_mode_in_head(tree, token);
        }

        lxb_html_tree_parse_error(tree, token, LXB_HTML_RULES_ERROR_UNCLTO);

        return true;
    }

    switch (token->tag_id) {
        case LXB_TAG__TEXT:
        case LXB_TAG__EM_COMMENT:
        case LXB_TAG__EM_DOCTYPE:
            return lxb_html_tree_insertion_mode_in_body(tree, token);

        case LXB_TAG_BASE:
        case LXB_TAG_BASEFONT:
        case LXB_TAG_BGSOUND:
        case LXB_TAG_LINK:
        case LXB_TAG_META:
        case LXB_TAG_NOFRAMES:
        case LXB_TAG_SCRIPT:
        case LXB_TAG_STYLE:
        case LXB_TAG_TEMPLATE:
        case LXB_TAG_TITLE:
            return lxb_html_tree_insertion_mode_in_head(tree, token);

        case LXB_TAG_CAPTION:
        case LXB_TAG_COLGROUP:
        case LXB_TAG_TBODY:
        case LXB_TAG_TFOOT:
        case LXB_TAG_THEAD:
            return lxb_html_tree_insertion_mode_in_template_ct(tree, token);

        case LXB_TAG_COL:
            return lxb_html_tree_insertion_mode_in_template_col(tree, token);

        case LXB_TAG_TR:
            return lxb_html_tree_insertion_mode_in_template_tr(tree, token);

        case LXB_TAG_TD:
        case LXB_TAG_TH:
            return lxb_html_tree_insertion_mode_in_template_tdth(tree, token);

        case LXB_TAG__END_OF_FILE:
            return lxb_html_tree_insertion_mode_in_template_end_of_file(tree,
                                                                        token);
        default:
            return lxb_html_tree_insertion_mode_in_template_anything_else(tree,
                                                                          token);
    }
}

typedef struct {
    const char *data;
    size_t len;
}
lxb_html_tree_insertion_mode_initial_str_t;


static lxb_html_tree_insertion_mode_initial_str_t
lxb_html_tree_insertion_mode_initial_doctype_public_is[] =
{
    {"-//W3O//DTD W3 HTML Strict 3.0//EN//", 36},
    {"-/W3C/DTD HTML 4.0 Transitional/EN", 34},
    {"HTML", 4}
};

static lxb_html_tree_insertion_mode_initial_str_t
lxb_html_tree_insertion_mode_initial_doctype_system_is[] =
{
    {"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd", 58}
};

static lxb_html_tree_insertion_mode_initial_str_t
lxb_html_tree_insertion_mode_initial_doctype_public_start[] =
{
    {"+//Silmaril//dtd html Pro v0r11 19970101//", 42},
    {"-//AS//DTD HTML 3.0 asWedit + extensions//", 42},
    {"-//AdvaSoft Ltd//DTD HTML 3.0 asWedit + extensions//", 52},
    {"-//IETF//DTD HTML 2.0 Level 1//", 31},
    {"-//IETF//DTD HTML 2.0 Level 2//", 31},
    {"-//IETF//DTD HTML 2.0 Strict Level 1//", 38},
    {"-//IETF//DTD HTML 2.0 Strict Level 2//", 38},
    {"-//IETF//DTD HTML 2.0 Strict//", 30},
    {"-//IETF//DTD HTML 2.0//", 23},
    {"-//IETF//DTD HTML 2.1E//", 24},
    {"-//IETF//DTD HTML 3.0//", 23},
    {"-//IETF//DTD HTML 3.2 Final//", 29},
    {"-//IETF//DTD HTML 3.2//", 23},
    {"-//IETF//DTD HTML 3//", 21},
    {"-//IETF//DTD HTML Level 0//", 27},
    {"-//IETF//DTD HTML Level 1//", 27},
    {"-//IETF//DTD HTML Level 2//", 27},
    {"-//IETF//DTD HTML Level 3//", 27},
    {"-//IETF//DTD HTML Strict Level 0//", 34},
    {"-//IETF//DTD HTML Strict Level 1//", 34},
    {"-//IETF//DTD HTML Strict Level 2//", 34},
    {"-//IETF//DTD HTML Strict Level 3//", 34},
    {"-//IETF//DTD HTML Strict//", 26},
    {"-//IETF//DTD HTML//", 19},
    {"-//Metrius//DTD Metrius Presentational//", 40},
    {"-//Microsoft//DTD Internet Explorer 2.0 HTML Strict//", 53},
    {"-//Microsoft//DTD Internet Explorer 2.0 HTML//", 46},
    {"-//Microsoft//DTD Internet Explorer 2.0 Tables//", 48},
    {"-//Microsoft//DTD Internet Explorer 3.0 HTML Strict//", 53},
    {"-//Microsoft//DTD Internet Explorer 3.0 HTML//", 46},
    {"-//Microsoft//DTD Internet Explorer 3.0 Tables//", 48},
    {"-//Netscape Comm. Corp.//DTD HTML//", 35},
    {"-//Netscape Comm. Corp.//DTD Strict HTML//", 42},
    {"-//O'Reilly and Associates//DTD HTML 2.0//", 42},
    {"-//O'Reilly and Associates//DTD HTML Extended 1.0//", 51},
    {"-//O'Reilly and Associates//DTD HTML Extended Relaxed 1.0//", 59},
    {"-//SQ//DTD HTML 2.0 HoTMetaL + extensions//", 43},
    {"-//SoftQuad Software//DTD HoTMetaL PRO 6.0::19990601::extensions to HTML 4.0//", 78},
    {"-//SoftQuad//DTD HoTMetaL PRO 4.0::19971010::extensions to HTML 4.0//", 69},
    {"-//Spyglass//DTD HTML 2.0 Extended//", 36},
    {"-//Sun Microsystems Corp.//DTD HotJava HTML//", 45},
    {"-//Sun Microsystems Corp.//DTD HotJava Strict HTML//", 52},
    {"-//W3C//DTD HTML 3 1995-03-24//", 31},
    {"-//W3C//DTD HTML 3.2 Draft//", 28},
    {"-//W3C//DTD HTML 3.2 Final//", 28},
    {"-//W3C//DTD HTML 3.2//", 22},
    {"-//W3C//DTD HTML 3.2S Draft//", 29},
    {"-//W3C//DTD HTML 4.0 Frameset//", 31},
    {"-//W3C//DTD HTML 4.0 Transitional//", 35},
    {"-//W3C//DTD HTML Experimental 19960712//", 40},
    {"-//W3C//DTD HTML Experimental 970421//", 38},
    {"-//W3C//DTD W3 HTML//", 21},
    {"-//W3O//DTD W3 HTML 3.0//", 25},
    {"-//WebTechs//DTD Mozilla HTML 2.0//", 35},
    {"-//WebTechs//DTD Mozilla HTML//", 31}
};

static lxb_html_tree_insertion_mode_initial_str_t
lxb_html_tree_insertion_mode_initial_doctype_sys_pub_start[] =
{
    {"-//W3C//DTD HTML 4.01 Frameset//", 32},
    {"-//W3C//DTD HTML 4.01 Transitional//", 36}
};

static lxb_html_tree_insertion_mode_initial_str_t
lxb_html_tree_insertion_mode_initial_doctype_lim_pub_start[] =
{
    {"-//W3C//DTD XHTML 1.0 Frameset//", 32},
    {"-//W3C//DTD XHTML 1.0 Transitional//", 36}
};


static bool
lxb_html_tree_insertion_mode_initial_doctype(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token);

static void
lxb_html_tree_insertion_mode_initial_doctype_ckeck(lxb_html_tree_t *tree,
                                         lxb_dom_document_type_t *doc_type,
                                         lxb_html_token_t *token, bool is_html);

static bool
lxb_html_tree_insertion_mode_initial_doctype_ckeck_public(
                                             lxb_dom_document_type_t *doc_type);

static bool
lxb_html_tree_insertion_mode_initial_doctype_ckeck_system(
                                             lxb_dom_document_type_t *doc_type);

static bool
lxb_html_tree_insertion_mode_initial_doctype_ckeck_pubsys(
                                             lxb_dom_document_type_t *doc_type);

static bool
lxb_html_tree_insertion_mode_initial_doctype_check_limq(
                                             lxb_dom_document_type_t *doc_type);


bool
lxb_html_tree_insertion_mode_initial(lxb_html_tree_t *tree,
                                     lxb_html_token_t *token)
{
    switch (token->tag_id) {
        case LXB_TAG__EM_COMMENT: {
            lxb_dom_comment_t *comment;

            comment = lxb_html_tree_insert_comment(tree, token,
                                        lxb_dom_interface_node(tree->document));
            if (comment == NULL) {
                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG__EM_DOCTYPE:
            tree->mode = lxb_html_tree_insertion_mode_before_html;

            return lxb_html_tree_insertion_mode_initial_doctype(tree, token);

        case LXB_TAG__TEXT:
            tree->status = lxb_html_token_data_skip_ws_begin(token);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            if (token->text_start == token->text_end) {
                return true;
            }
            /* fall through */

        default: {
            lxb_dom_document_t *document = &tree->document->dom_document;

            if (tree->document->iframe_srcdoc == NULL) {
                lxb_html_tree_parse_error(tree, token,
                                          LXB_HTML_RULES_ERROR_UNTOININMO);

                document->compat_mode = LXB_DOM_DOCUMENT_CMODE_QUIRKS;
            }

            tree->mode = lxb_html_tree_insertion_mode_before_html;

            return false;
        }
    }

    return true;
}

static bool
lxb_html_tree_insertion_mode_initial_doctype(lxb_html_tree_t *tree,
                                             lxb_html_token_t *token)
{
    lxb_dom_document_type_t *doc_type;

    /* Create */
    doc_type = lxb_html_tree_create_document_type_from_token(tree, token);
    if (doc_type == NULL) {
        tree->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

        return lxb_html_tree_process_abort(tree);
    }

    /* Check */
    bool is_html = (doc_type->name == LXB_DOM_ATTR_HTML);

    if (is_html == false
        || doc_type->public_id.length != 0
        || (doc_type->system_id.length == 19
            && strncmp("about:legacy-compat",
                       (const char *) doc_type->system_id.data, 19) != 0)
        )
    {
        lxb_html_tree_parse_error(tree, token,
                                  LXB_HTML_RULES_ERROR_BADOTOININMO);
    }

    lxb_html_tree_insertion_mode_initial_doctype_ckeck(tree, doc_type,
                                                       token, is_html);

    lxb_dom_node_insert_child_wo_events(&tree->document->dom_document.node,
                                        lxb_dom_interface_node(doc_type));

    lxb_dom_document_attach_doctype(&tree->document->dom_document, doc_type);

    return true;
}

static void
lxb_html_tree_insertion_mode_initial_doctype_ckeck(lxb_html_tree_t *tree,
                                          lxb_dom_document_type_t *doc_type,
                                          lxb_html_token_t *token, bool is_html)
{
    if (tree->document->iframe_srcdoc != NULL) {
        return;
    }

    bool quirks;
    lxb_dom_document_t *document = &tree->document->dom_document;

    if (token->type & LXB_HTML_TOKEN_TYPE_FORCE_QUIRKS) {
        goto set_quirks;
    }

    if (is_html == false) {
        goto set_quirks;
    }

    if (doc_type->public_id.length != 0) {
        quirks =
            lxb_html_tree_insertion_mode_initial_doctype_ckeck_public(doc_type);

        if (quirks) {
            goto set_quirks;
        }
    }

    if (doc_type->system_id.length != 0) {
        quirks =
            lxb_html_tree_insertion_mode_initial_doctype_ckeck_system(doc_type);

        if (quirks) {
            goto set_quirks;
        }
    }

    if (doc_type->public_id.length != 0 && doc_type->system_id.length == 0) {
        quirks =
            lxb_html_tree_insertion_mode_initial_doctype_ckeck_pubsys(doc_type);

        if (quirks) {
            goto set_quirks;
        }
    }

    if (doc_type->public_id.length != 0) {
        quirks =
            lxb_html_tree_insertion_mode_initial_doctype_check_limq(doc_type);

        if (quirks) {
            document->compat_mode = LXB_DOM_DOCUMENT_CMODE_LIMITED_QUIRKS;
            return;
        }
    }

    return;

set_quirks:

    document->compat_mode = LXB_DOM_DOCUMENT_CMODE_QUIRKS;
}

static bool
lxb_html_tree_insertion_mode_initial_doctype_ckeck_public(
                                              lxb_dom_document_type_t *doc_type)
{
    size_t size, i;
    lxb_html_tree_insertion_mode_initial_str_t *str;

    /* The public identifier is set to */
    size = sizeof(lxb_html_tree_insertion_mode_initial_doctype_public_is)
        / sizeof(lxb_html_tree_insertion_mode_initial_str_t);

    for (i = 0; i < size; i++) {
        str = &lxb_html_tree_insertion_mode_initial_doctype_public_is[i];

        if (str->len == doc_type->public_id.length
            && lexbor_str_data_casecmp((const lxb_char_t *) str->data,
                                       doc_type->public_id.data))
        {
            return true;
        }
    }

    /* The public identifier starts with */
    size = sizeof(lxb_html_tree_insertion_mode_initial_doctype_public_start)
        / sizeof(lxb_html_tree_insertion_mode_initial_str_t);

    for (i = 0; i < size; i++) {
        str = &lxb_html_tree_insertion_mode_initial_doctype_public_start[i];

        if (str->len <= doc_type->public_id.length
            && lexbor_str_data_ncasecmp((const lxb_char_t *) str->data,
                                        doc_type->public_id.data, str->len))
        {
            return true;
        }
    }

    return false;
}

static bool
lxb_html_tree_insertion_mode_initial_doctype_ckeck_system(
                                              lxb_dom_document_type_t *doc_type)
{
    size_t size;
    lxb_html_tree_insertion_mode_initial_str_t *str;

    /* The system identifier is set to */
    size = sizeof(lxb_html_tree_insertion_mode_initial_doctype_system_is)
        / sizeof(lxb_html_tree_insertion_mode_initial_str_t);

    for (size_t i = 0; i < size; i++) {
        str = &lxb_html_tree_insertion_mode_initial_doctype_system_is[i];

        if (str->len == doc_type->system_id.length
            && lexbor_str_data_casecmp((const lxb_char_t *) str->data,
                                       doc_type->system_id.data))
        {
            return true;
        }
    }

    return false;
}

static bool
lxb_html_tree_insertion_mode_initial_doctype_ckeck_pubsys(
                                              lxb_dom_document_type_t *doc_type)
{
    size_t size;
    lxb_html_tree_insertion_mode_initial_str_t *str;

    /* The system identifier is missing and the public identifier starts with */
    size = sizeof(lxb_html_tree_insertion_mode_initial_doctype_sys_pub_start)
        / sizeof(lxb_html_tree_insertion_mode_initial_str_t);

    for (size_t i = 0; i < size; i++) {
        str = &lxb_html_tree_insertion_mode_initial_doctype_sys_pub_start[i];

        if (str->len <= doc_type->public_id.length
            && lexbor_str_data_ncasecmp((const lxb_char_t *) str->data,
                                        doc_type->public_id.data, str->len))
        {
            return true;
        }
    }

    return false;
}

static bool
lxb_html_tree_insertion_mode_initial_doctype_check_limq(
                                              lxb_dom_document_type_t *doc_type)
{
    bool quirks;
    size_t size;
    lxb_html_tree_insertion_mode_initial_str_t *str;

    if (doc_type->system_id.length != 0) {
        quirks =
            lxb_html_tree_insertion_mode_initial_doctype_ckeck_pubsys(doc_type);

        if (quirks) {
            return true;
        }
    }

    /* The public identifier starts with */
    size = sizeof(lxb_html_tree_insertion_mode_initial_doctype_lim_pub_start)
        / sizeof(lxb_html_tree_insertion_mode_initial_str_t);

    for (size_t i = 0; i < size; i++) {
        str = &lxb_html_tree_insertion_mode_initial_doctype_lim_pub_start[i];

        if (str->len <= doc_type->public_id.length
            && lexbor_str_data_ncasecmp((const lxb_char_t *) str->data,
                                        doc_type->public_id.data, str->len))
        {
            return true;
        }
    }

    return false;
}

bool
lxb_html_tree_insertion_mode_text(lxb_html_tree_t *tree,
                                  lxb_html_token_t *token)
{
    lxb_dom_node_t *node;
    const lxb_html_document_parse_cb_t *pcb;

    switch (token->tag_id) {
        case LXB_TAG__TEXT: {
            tree->status = lxb_html_tree_insert_character(tree, token, NULL);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            break;
        }

        case LXB_TAG__END_OF_FILE: {
            lxb_dom_node_t *node;

            lxb_html_tree_parse_error(tree, token,
                                      LXB_HTML_RULES_ERROR_UNENOFFI);

            node = lxb_html_tree_current_node(tree);

            if (lxb_html_tree_node_is(node, LXB_TAG_SCRIPT)) {
                /* TODO: mark the script element as "already started" */
            }

            lxb_html_tree_open_elements_pop(tree);

            tree->mode = tree->original_mode;

            return false;
        }

        /* TODO: need to implement */
        case LXB_TAG_SCRIPT:
            node = lxb_html_tree_open_elements_pop(tree);

            tree->mode = tree->original_mode;
            pcb = tree->document->parse_cb;

            if (pcb == NULL || pcb->script == NULL) {
                break;
            }

            tree->status = pcb->script(tree, node);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            break;

        case LXB_TAG_STYLE:
            node = lxb_html_tree_open_elements_pop(tree);

            tree->mode = tree->original_mode;
            pcb = tree->document->parse_cb;

            if (pcb == NULL || pcb->style == NULL) {
                break;
            }

            tree->status = pcb->style(tree, node);
            if (tree->status != LXB_STATUS_OK) {
                return lxb_html_tree_process_abort(tree);
            }

            break;

        default:
            lxb_html_tree_open_elements_pop(tree);

            tree->mode = tree->original_mode;

            break;
    }

    return true;
}

LXB_API void
lxb_html_tree_open_elements_remove_by_node(lxb_html_tree_t *tree,
                                           lxb_dom_node_t *node)
{
    size_t delta;
    void **list = tree->open_elements->list;
    size_t len = tree->open_elements->length;

    while (len != 0) {
        len--;

        if (list[len] == node) {
            delta = tree->open_elements->length - len - 1;

            memmove(list + len, list + len + 1, sizeof(void *) * delta);

            tree->open_elements->length--;

            break;
        }
    }
}

void
lxb_html_tree_open_elements_pop_until_tag_id(lxb_html_tree_t *tree,
                                             lxb_tag_id_t tag_id,
                                             lxb_ns_id_t ns,
                                             bool exclude)
{
    void **list = tree->open_elements->list;
    lxb_dom_node_t *node;

    while (tree->open_elements->length != 0) {
        tree->open_elements->length--;

        node = list[ tree->open_elements->length ];

        if (node->local_name == tag_id && node->ns == ns) {
            if (exclude == false) {
                tree->open_elements->length++;
            }

            break;
        }
    }
}

void
lxb_html_tree_open_elements_pop_until_h123456(lxb_html_tree_t *tree)
{
    void **list = tree->open_elements->list;
    lxb_dom_node_t *node;

    while (tree->open_elements->length != 0) {
        tree->open_elements->length--;

        node = list[ tree->open_elements->length ];

        switch (node->local_name) {
            case LXB_TAG_H1:
            case LXB_TAG_H2:
            case LXB_TAG_H3:
            case LXB_TAG_H4:
            case LXB_TAG_H5:
            case LXB_TAG_H6:
                if (node->ns == LXB_NS_HTML) {
                    return;
                }

                break;

            default:
                break;
        }
    }
}

void
lxb_html_tree_open_elements_pop_until_td_th(lxb_html_tree_t *tree)
{
    void **list = tree->open_elements->list;
    lxb_dom_node_t *node;

    while (tree->open_elements->length != 0) {
        tree->open_elements->length--;

        node = list[ tree->open_elements->length ];

        switch (node->local_name) {
            case LXB_TAG_TD:
            case LXB_TAG_TH:
                if (node->ns == LXB_NS_HTML) {
                    return;
                }

                break;

            default:
                break;
        }
    }
}

void
lxb_html_tree_open_elements_pop_until_node(lxb_html_tree_t *tree,
                                           lxb_dom_node_t *node,
                                           bool exclude)
{
    void **list = tree->open_elements->list;

    while (tree->open_elements->length != 0) {
        tree->open_elements->length--;

        if (list[ tree->open_elements->length ] == node) {
            if (exclude == false) {
                tree->open_elements->length++;
            }

            break;
        }
    }
}

void
lxb_html_tree_open_elements_pop_until(lxb_html_tree_t *tree, size_t idx,
                                      bool exclude)
{
    tree->open_elements->length = idx;

    if (exclude == false) {
        tree->open_elements->length++;
    }
}

bool
lxb_html_tree_open_elements_find_by_node(lxb_html_tree_t *tree,
                                         lxb_dom_node_t *node,
                                         size_t *return_pos)
{
    void **list = tree->open_elements->list;

    for (size_t i = 0; i < tree->open_elements->length; i++) {
        if (list[i] == node) {
            if (return_pos) {
                *return_pos = i;
            }

            return true;
        }
    }

    if (return_pos) {
        *return_pos = 0;
    }

    return false;
}

bool
lxb_html_tree_open_elements_find_by_node_reverse(lxb_html_tree_t *tree,
                                                 lxb_dom_node_t *node,
                                                 size_t *return_pos)
{
    void **list = tree->open_elements->list;
    size_t len = tree->open_elements->length;

    while (len != 0) {
        len--;

        if (list[len] == node) {
            if (return_pos) {
                *return_pos = len;
            }

            return true;
        }
    }

    if (return_pos) {
        *return_pos = 0;
    }

    return false;
}

lxb_dom_node_t *
lxb_html_tree_open_elements_find(lxb_html_tree_t *tree,
                                 lxb_tag_id_t tag_id, lxb_ns_id_t ns,
                                 size_t *return_index)
{
    void **list = tree->open_elements->list;
    lxb_dom_node_t *node;

    for (size_t i = 0; i < tree->open_elements->length; i++) {
        node = list[i];

        if (node->local_name == tag_id && node->ns == ns) {
            if (return_index) {
                *return_index = i;
            }

            return node;
        }
    }

    if (return_index) {
        *return_index = 0;
    }

    return NULL;
}

lxb_dom_node_t *
lxb_html_tree_open_elements_find_reverse(lxb_html_tree_t *tree,
                                         lxb_tag_id_t tag_id, lxb_ns_id_t ns,
                                         size_t *return_index)
{
    void **list = tree->open_elements->list;
    size_t len = tree->open_elements->length;

    lxb_dom_node_t *node;

    while (len != 0) {
        len--;
        node = list[len];

        if (node->local_name == tag_id && node->ns == ns) {
            if (return_index) {
                *return_index = len;
            }

            return node;
        }
    }

    if (return_index) {
        *return_index = 0;
    }

    return NULL;
}


#ifndef LEXBOR_DISABLE_INTERNAL_EXTERN
    LXB_EXTERN const lxb_char_t lexbor_str_res_map_lowercase[256];
#endif


LXB_API const lxb_ns_data_t *
lxb_ns_append(lexbor_hash_t *hash, const lxb_char_t *link, size_t length)
{
    lxb_ns_data_t *data;
    const lexbor_shs_entry_t *entry;

    if (link == NULL || length == 0) {
        return NULL;
    }

    entry = lexbor_shs_entry_get_lower_static(lxb_ns_res_shs_link_data,
                                              link, length);
    if (entry != NULL) {
        return entry->value;
    }

    data = lexbor_hash_insert(hash, lexbor_hash_insert_lower, link, length);
    if ((lxb_ns_id_t) data <= LXB_NS__LAST_ENTRY) {
        return NULL;
    }

    data->ns_id = (lxb_ns_id_t) data;

    return data;
}

const lxb_char_t *
lxb_ns_by_id(lexbor_hash_t *hash, lxb_ns_id_t ns_id, size_t *length)
{
    const lxb_ns_data_t *data;

    data = lxb_ns_data_by_id(hash, ns_id);
    if (data == NULL) {
        if (length != NULL) {
            *length = 0;
        }

        return NULL;
    }

    if (length != NULL) {
        *length = data->entry.length;
    }

    return lexbor_hash_entry_str(&data->entry);
}

const lxb_ns_data_t *
lxb_ns_data_by_id(lexbor_hash_t *hash, lxb_ns_id_t ns_id)
{
    if (ns_id >= LXB_NS__LAST_ENTRY) {
        if (ns_id == LXB_NS__LAST_ENTRY) {
            return NULL;
        }

        return (const lxb_ns_data_t *) ns_id;
    }

    return &lxb_ns_res_data[ns_id];
}

const lxb_ns_data_t *
lxb_ns_data_by_link(lexbor_hash_t *hash, const lxb_char_t *link, size_t length)
{
    const lexbor_shs_entry_t *entry;

    if (link == NULL || length == 0) {
        return NULL;
    }

    entry = lexbor_shs_entry_get_lower_static(lxb_ns_res_shs_link_data,
                                              link, length);
    if (entry != NULL) {
        return entry->value;
    }

    return lexbor_hash_search(hash, lexbor_hash_search_lower, link, length);
}

/* Prefix */
const lxb_ns_prefix_data_t *
lxb_ns_prefix_append(lexbor_hash_t *hash,
                     const lxb_char_t *prefix, size_t length)
{
    lxb_ns_prefix_data_t *data;
    const lexbor_shs_entry_t *entry;

    if (prefix == NULL || length == 0) {
        return NULL;
    }

    entry = lexbor_shs_entry_get_lower_static(lxb_ns_res_shs_data,
                                              prefix, length);
    if (entry != NULL) {
        return entry->value;
    }

    data = lexbor_hash_insert(hash, lexbor_hash_insert_lower, prefix, length);
    if ((lxb_ns_prefix_id_t) data <= LXB_NS__LAST_ENTRY) {
        return NULL;
    }

    data->prefix_id = (lxb_ns_prefix_id_t) data;

    return data;
}

const lxb_ns_prefix_data_t *
lxb_ns_prefix_data_by_id(lexbor_hash_t *hash, lxb_ns_prefix_id_t prefix_id)
{
    if (prefix_id >= LXB_NS__LAST_ENTRY) {
        if (prefix_id == LXB_NS__LAST_ENTRY) {
            return NULL;
        }

        return (const lxb_ns_prefix_data_t *) prefix_id;
    }

    return &lxb_ns_prefix_res_data[prefix_id];
}

const lxb_ns_prefix_data_t *
lxb_ns_prefix_data_by_name(lexbor_hash_t *hash,
                           const lxb_char_t *prefix, size_t length)
{
    const lexbor_shs_entry_t *entry;

    if (prefix == NULL || length == 0) {
        return NULL;
    }

    entry = lexbor_shs_entry_get_lower_static(lxb_ns_res_shs_data,
                                              prefix, length);
    if (entry != NULL) {
        return entry->value;
    }

    return lexbor_hash_search(hash, lexbor_hash_search_lower, prefix, length);
}

#ifndef _DEFAULT_SOURCE
#define _DEFAULT_SOURCE
#endif

#ifndef _BSD_SOURCE
#define _BSD_SOURCE
#endif

#include <string.h>
#include <dirent.h>

#include <sys/types.h>
#include <sys/stat.h>


lxb_status_t
lexbor_fs_dir_read(const lxb_char_t *dirpath, lexbor_fs_dir_opt_t opt,
                   lexbor_fs_dir_file_f callback, void *ctx)
{
    DIR *dir;
    size_t path_len, free_len, d_namlen;
    struct dirent *entry;
    lexbor_action_t action;
    lexbor_fs_file_type_t f_type;

    char *file_begin;
    char full_path[4096];

    path_len = strlen((const char *) dirpath);
    if (path_len == 0 || path_len >= (sizeof(full_path) - 1)) {
        return LXB_STATUS_ERROR;
    }

    dir = opendir((const char *) dirpath);
    if (dir == NULL) {
        return LXB_STATUS_ERROR;
    }

    memcpy(full_path, dirpath, path_len);

    /* Check for a separating character at the end dirpath */
    if (full_path[(path_len - 1)] != '/') {
        path_len++;

        if (path_len >= (sizeof(full_path) - 1)) {
            goto error;
        }

        full_path[(path_len - 1)] = '/';
    }

    file_begin = &full_path[path_len];
    free_len = (sizeof(full_path) - 1) - path_len;

    if (opt == LEXBOR_FS_DIR_OPT_UNDEF)
    {
        while ((entry = readdir(dir)) != NULL) {
            d_namlen = strlen(entry->d_name);

            if (d_namlen >= free_len) {
                goto error;
            }

            /* +1 copy terminating null byte '\0' */
            memcpy(file_begin, entry->d_name, (d_namlen + 1));

            action = callback((const lxb_char_t *) full_path,
                              (path_len + d_namlen),
                              (const lxb_char_t *) entry->d_name,
                              d_namlen, ctx);
            if (action == LEXBOR_ACTION_STOP) {
                break;
            }
        }

        goto done;
    }

    while ((entry = readdir(dir)) != NULL) {
        if (opt & LEXBOR_FS_DIR_OPT_WITHOUT_HIDDEN
            && *entry->d_name == '.')
        {
            continue;
        }

        d_namlen = strlen(entry->d_name);

        if (d_namlen >= free_len) {
            goto error;
        }

        f_type = lexbor_fs_file_type((const lxb_char_t *) entry->d_name);

        if (opt & LEXBOR_FS_DIR_OPT_WITHOUT_DIR
            && f_type == LEXBOR_FS_FILE_TYPE_DIRECTORY)
        {
            continue;
        }

        if (opt & LEXBOR_FS_DIR_OPT_WITHOUT_FILE
            && f_type == LEXBOR_FS_FILE_TYPE_FILE)
        {
            continue;
        }

        /* +1 copy terminating null byte '\0' */
        memcpy(file_begin, entry->d_name, (d_namlen + 1));

        action = callback((const lxb_char_t *) full_path,
                          (path_len + d_namlen),
                          (const lxb_char_t *) entry->d_name,
                          d_namlen, ctx);
        if (action == LEXBOR_ACTION_STOP) {
            break;
        }
    }

done:

    closedir(dir);

    return LXB_STATUS_OK;

error:

    closedir(dir);

    return LXB_STATUS_ERROR;
}

lexbor_fs_file_type_t
lexbor_fs_file_type(const lxb_char_t *full_path)
{
    struct stat sb;

    if (stat((const char *) full_path, &sb) == -1) {
        return LEXBOR_FS_FILE_TYPE_UNDEF;
    }

    switch (sb.st_mode & S_IFMT) {
        case S_IFBLK:
            return LEXBOR_FS_FILE_TYPE_BLOCK_DEVICE;

        case S_IFCHR:
            return LEXBOR_FS_FILE_TYPE_CHARACTER_DEVICE;

        case S_IFDIR:
            return LEXBOR_FS_FILE_TYPE_DIRECTORY;

        case S_IFIFO:
            return LEXBOR_FS_FILE_TYPE_PIPE;

        case S_IFLNK:
            return LEXBOR_FS_FILE_TYPE_SYMLINK;

        case S_IFREG:
            return LEXBOR_FS_FILE_TYPE_FILE;

        case S_IFSOCK:
            return LEXBOR_FS_FILE_TYPE_SOCKET;

        default:
            return LEXBOR_FS_FILE_TYPE_UNDEF;
    }

    return LEXBOR_FS_FILE_TYPE_UNDEF;
}

lxb_char_t *
lexbor_fs_file_easy_read(const lxb_char_t *full_path, size_t *len)
{
    FILE *fh;
    long size;
    size_t nread;
    lxb_char_t *data;

    fh = fopen((const char *) full_path, "rb");
    if (fh == NULL) {
        goto error;
    }

    if (fseek(fh, 0L, SEEK_END) != 0) {
        goto error_close;
    }

    size = ftell(fh);
    if (size < 0) {
        goto error_close;
    }

    if (fseek(fh, 0L, SEEK_SET) != 0) {
        goto error_close;
    }

    data = lexbor_malloc(size + 1);
    if (data == NULL) {
        goto error_close;
    }

    nread = fread(data, 1, size, fh);
    if (nread != (size_t) size) {
        lexbor_free(data);

        goto error_close;
    }

    fclose(fh);

    data[size] = '\0';

    if (len != NULL) {
        *len = nread;
    }

    return data;

error_close:

    fclose(fh);

error:

    if (len != NULL) {
        *len = 0;
    }

    return NULL;
}

static lexbor_memory_malloc_f lexbor_memory_malloc = malloc;
static lexbor_memory_realloc_f lexbor_memory_realloc = realloc;
static lexbor_memory_calloc_f lexbor_memory_calloc = calloc;
static lexbor_memory_free_f lexbor_memory_free = free;

void *
lexbor_malloc(size_t size)
{
    return lexbor_memory_malloc(size);
}

void *
lexbor_realloc(void *dst, size_t size)
{
    return lexbor_memory_realloc(dst, size);
}

void *
lexbor_calloc(size_t num, size_t size)
{
    return lexbor_memory_calloc(num, size);
}

void *
lexbor_free(void *dst)
{
    lexbor_memory_free(dst);
    return NULL;
}

lxb_status_t
lexbor_memory_setup(lexbor_memory_malloc_f new_malloc, lexbor_memory_realloc_f new_realloc,
                    lexbor_memory_calloc_f new_calloc, lexbor_memory_free_f new_free)
{
    if (new_malloc == NULL || new_realloc == NULL || new_calloc == NULL || new_free == NULL) {
        return LXB_STATUS_ERROR_OBJECT_IS_NULL;
    }

    lexbor_memory_malloc = new_malloc;
    lexbor_memory_realloc = new_realloc;
    lexbor_memory_calloc = new_calloc;
    lexbor_memory_free = new_free;

    return LXB_STATUS_OK;
}

#ifdef LEXBOR_WITH_PERF

#ifdef __APPLE__
    #include <sys/sysctl.h>
#endif

#if defined(__arm64__) || defined(__arm__)
    #include <time.h>
#endif

#endif /* LEXBOR_WITH_PERF */


static unsigned long long
lexbor_perf_clock(void);

static unsigned long long
lexbor_perf_frequency(void);


typedef struct lexbor_perf {
    unsigned long long start;
    unsigned long long end;
    unsigned long long freq;
}
lexbor_perf_t;


void *
lexbor_perf_create(void)
{
    lexbor_perf_t *perf = lexbor_calloc(1, sizeof(lexbor_perf_t));
    if (perf == NULL) {
        return NULL;
    }

    perf->freq = lexbor_perf_frequency();

    return perf;
}

void
lexbor_perf_clean(void *perf)
{
    memset(perf, 0, sizeof(lexbor_perf_t));
}

void
lexbor_perf_destroy(void *perf)
{
    if (perf != NULL) {
        lexbor_free(perf);
    }
}

lxb_status_t
lexbor_perf_begin(void *perf)
{
    ((lexbor_perf_t *) (perf))->start = lexbor_perf_clock();

    return LXB_STATUS_OK;
}

lxb_status_t
lexbor_perf_end(void *perf)
{
    ((lexbor_perf_t *) (perf))->end = lexbor_perf_clock();

    return LXB_STATUS_OK;
}

double
lexbor_perf_in_sec(void *perf)
{
    lexbor_perf_t *obj_perf = (lexbor_perf_t *) perf;

    if (obj_perf->freq != 0) {
        return ((double) (obj_perf->end - obj_perf->start)
                / (double) obj_perf->freq);
    }

    return 0.0f;
}

#ifdef LEXBOR_WITH_PERF

static unsigned long long
lexbor_perf_clock(void)
{
#if defined(__POWERPC__) || defined(__powerpc__)
    unsigned long long int result = 0;
    unsigned long int upper, lower, tmp;
    __asm__ volatile (
                      "0:\n"
                      "\tmftbu %0\n"
                      "\tmftb %1\n"
                      "\tmftbu %2\n"
                      "\tcmpw %2,%0\n"
                      "\tbne 0b\n"
                      : "=r"(upper), "=r"(lower), "=r"(tmp)
                     );
    result = upper;
    result = result << 32;
    result = result | lower;

    return result;

#elif defined(__arm64__) || defined(__arm__)
    struct timespec ts;

    if (clock_gettime(CLOCK_MONOTONIC, &ts) == -1) {
        return 0;
    }

    return ts.tv_sec * 1000000000ULL + ts.tv_nsec;

#else
    unsigned long long x;

     /*
      * cpuid serializes any out-of-order prefetches
      * before executing rdtsc (clobbers ebx, ecx, edx).
      */
    __asm__ volatile (
                      "cpuid\n\t"
                      "rdtsc\n\t"
                      "shl $32, %%rdx\n\t"
                      "or %%rdx, %%rax"
                      : "=a" (x)
                      :
                      : "rdx", "ebx", "ecx");

    return x;
#endif
}

static unsigned long long
lexbor_perf_frequency(void)
{
    unsigned long long freq = 0;

#if defined(__arm64__) || defined(__arm__)

    freq = 1000000000;

    return freq;

#elif defined(__APPLE__) && defined(CTL_HW) && defined(HW_CPU_FREQ)

    /* OSX kernel: sysctl(CTL_HW | HW_CPU_FREQ) */
    size_t len = sizeof(freq);
    int mib[2] = {CTL_HW, HW_CPU_FREQ};

    if(sysctl(mib, 2, &freq, &len, NULL, 0)) {
        return 0;
    }

    return freq;

#elif defined(__linux__)

    char buf[1024] = {0};
    double fval = 0.0;

    /* Use procfs on linux */
    FILE* fp = fopen("/proc/cpuinfo", "r");
    if (fp == NULL) {
        return 0;
    }

    /* Find 'CPU MHz :' */
    while (fgets(buf, sizeof(buf), fp) != NULL) {
        if (sscanf(buf, "cpu MHz : %lf\n", &fval) == 1) {
            freq = (unsigned long long)(fval * 1000000ull);

            break;
        }
    }

    fclose(fp);

    return freq;

#else

    return freq;

#endif /* __APPLE__ || __linux__ */
}

#else /* LEXBOR_WITH_PERF */

static unsigned long long
lexbor_perf_clock(void)
{
    return 0;
}

static unsigned long long
lexbor_perf_frequency(void)
{
    return 0;
}

#endif /* LEXBOR_WITH_PERF */

#include <math.h>


static lxb_status_t
lxb_selectors_tree(lxb_selectors_t *selectors, lxb_dom_node_t *root);

static lxb_status_t
lxb_selectors_run(lxb_selectors_t *selectors, lxb_dom_node_t *node);

static lxb_selectors_entry_t *
lxb_selectors_state_find(lxb_selectors_t *selectors,
                         lxb_selectors_entry_t *entry);

static lxb_selectors_entry_t *
lxb_selectors_state_found_check(lxb_selectors_t *selectors,
                                lxb_selectors_entry_t *entry);

static lxb_selectors_entry_t *
lxb_selectors_state_found_check_forward(lxb_selectors_t *selectors,
                                        lxb_selectors_entry_t *entry);

static lxb_selectors_entry_t *
lxb_selectors_state_found(lxb_selectors_t *selectors,
                          lxb_selectors_entry_t *entry);

static lxb_selectors_entry_t *
lxb_selectors_state_found_forward(lxb_selectors_t *selectors,
                                  lxb_selectors_entry_t *entry);

static lxb_selectors_entry_t *
lxb_selectors_state_not_found(lxb_selectors_t *selectors,
                              lxb_selectors_entry_t *entry);

static lxb_selectors_entry_t *
lxb_selectors_state_not_found_forward(lxb_selectors_t *selectors,
                                      lxb_selectors_entry_t *entry);

static lxb_selectors_entry_t *
lxb_selectors_next_list(lxb_selectors_t *selectors,
                        lxb_selectors_entry_t *entry);

static lxb_selectors_entry_t *
lxb_selectors_next_list_forward(lxb_selectors_t *selectors,
                                lxb_selectors_entry_t *entry);

static lxb_selectors_entry_t *
lxb_selectors_make_following(lxb_selectors_t *selectors,
                             lxb_selectors_entry_t *entry);

static lxb_selectors_entry_t *
lxb_selectors_make_following_forward(lxb_selectors_t *selectors,
                                     lxb_selectors_entry_t *entry);

static lxb_selectors_entry_t *
lxb_selectors_state_after_find(lxb_selectors_t *selectors,
                               lxb_selectors_entry_t *entry);

static lxb_selectors_entry_t *
lxb_selectors_state_after_not(lxb_selectors_t *selectors,
                              lxb_selectors_entry_t *entry);

static lxb_selectors_entry_t *
lxb_selectors_state_after_nth_child(lxb_selectors_t *selectors,
                                    lxb_selectors_entry_t *entry);

static lxb_selectors_entry_t *
lxb_selectors_state_nth_child_found(lxb_selectors_t *selectors,
                                    lxb_selectors_entry_t *entry);

static bool
lxb_selectors_match(lxb_selectors_t *selectors, lxb_selectors_entry_t *entry,
                    lxb_dom_node_t *node);

static bool
lxb_selectors_match_element(const lxb_css_selector_t *selector,
                            lxb_dom_node_t *node, lxb_selectors_entry_t *entry);

static bool
lxb_selectors_match_id(const lxb_css_selector_t *selector, lxb_dom_node_t *node);

static bool
lxb_selectors_match_class(const lexbor_str_t *target, const lexbor_str_t *src,
                          bool quirks);

static bool
lxb_selectors_match_attribute(const lxb_css_selector_t *selector,
                              lxb_dom_node_t *node, lxb_selectors_entry_t *entry);

static bool
lxb_selectors_pseudo_class(const lxb_css_selector_t *selector,
                           const lxb_dom_node_t *node);

static bool
lxb_selectors_pseudo_class_function(lxb_selectors_t *selectors,
                                    const lxb_css_selector_t *selector,
                                    lxb_dom_node_t *node);

static bool
lxb_selectors_pseudo_element(const lxb_css_selector_t *selector,
                             const lxb_dom_node_t *node);

static bool
lxb_selectors_pseudo_class_disabled(const lxb_dom_node_t *node);

static bool
lxb_selectors_pseudo_class_first_child(const lxb_dom_node_t *node);

static bool
lxb_selectors_pseudo_class_first_of_type(const lxb_dom_node_t *node);

static bool
lxb_selectors_pseudo_class_last_child(const lxb_dom_node_t *node);

static bool
lxb_selectors_pseudo_class_last_of_type(const lxb_dom_node_t *node);

static bool
lxb_selectors_pseudo_class_read_write(const lxb_dom_node_t *node);

static bool
lxb_selectors_anb_calc(lxb_css_selector_anb_of_t *anb, size_t index);

static lxb_status_t
lxb_selectors_cb_ok(lxb_dom_node_t *node,
                    lxb_css_selector_specificity_t spec, void *ctx);

static lxb_status_t
lxb_selectors_cb_not(lxb_dom_node_t *node,
                     lxb_css_selector_specificity_t spec, void *ctx);

static lxb_status_t
lxb_selectors_cb_nth_ok(lxb_dom_node_t *node,
                        lxb_css_selector_specificity_t spec, void *ctx);


lxb_selectors_t *
lxb_selectors_create(void)
{
    return lexbor_calloc(1, sizeof(lxb_selectors_t));
}

lxb_status_t
lxb_selectors_init(lxb_selectors_t *selectors)
{
    lxb_status_t status;

    if (selectors == NULL) {
        return LXB_STATUS_ERROR_INCOMPLETE_OBJECT;
    }

    selectors->objs = lexbor_dobject_create();
    status = lexbor_dobject_init(selectors->objs,
                                 128, sizeof(lxb_selectors_entry_t));
    if (status != LXB_STATUS_OK) {
        return status;
    }

    selectors->nested = lexbor_dobject_create();
    status = lexbor_dobject_init(selectors->nested,
                                 64, sizeof(lxb_selectors_nested_t));
    if (status != LXB_STATUS_OK) {
        return status;
    }

    selectors->options = LXB_SELECTORS_OPT_DEFAULT;

    return LXB_STATUS_OK;
}

void
lxb_selectors_clean(lxb_selectors_t *selectors)
{
    lexbor_dobject_clean(selectors->objs);
    lexbor_dobject_clean(selectors->nested);
}

lxb_selectors_t *
lxb_selectors_destroy(lxb_selectors_t *selectors, bool self_destroy)
{
    if (selectors == NULL) {
        return NULL;
    }

    selectors->objs = lexbor_dobject_destroy(selectors->objs, true);
    selectors->nested = lexbor_dobject_destroy(selectors->nested, true);

    if (self_destroy) {
        return lexbor_free(selectors);
    }

    return selectors;
}

static lxb_selectors_entry_t *
lxb_selectors_state_entry_create(lxb_selectors_t *selectors,
                                 const lxb_css_selector_t *selector,
                                 lxb_selectors_entry_t *root,
                                 lxb_dom_node_t *node)
{
    lxb_selectors_entry_t *entry;
    lxb_css_selector_combinator_t combinator;

    combinator = selector->combinator;

    do {
        selector = selector->prev;

        entry = lexbor_dobject_calloc(selectors->objs);
        if (entry == NULL) {
            selectors->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
            return NULL;
        }

        entry->combinator = selector->combinator;
        entry->selector = selector;
        entry->node = node;

        if (root->prev != NULL) {
            root->prev->next = entry;
            entry->prev = root->prev;
        }

        entry->next = root;
        root->prev = entry;
    }
    while (selector->combinator == LXB_CSS_SELECTOR_COMBINATOR_CLOSE
           && selector->prev != NULL);

    entry->combinator = combinator;

    return entry;
}

static lxb_selectors_entry_t *
lxb_selectors_state_entry_create_forward(lxb_selectors_t *selectors,
                                         const lxb_css_selector_t *selector,
                                         lxb_selectors_entry_t *root,
                                         lxb_dom_node_t *node)
{
    lxb_selectors_entry_t *entry;

    selector = selector->next;

    entry = lexbor_dobject_calloc(selectors->objs);
    if (entry == NULL) {
        selectors->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        return NULL;
    }

    entry->combinator = selector->combinator;
    entry->selector = selector;
    entry->node = node;

    entry->prev = root;
    root->next = entry;

    return entry;
}

static lxb_selectors_entry_t *
lxb_selectors_entry_make_first(lxb_selectors_t *selectors,
                               lxb_css_selector_t *selector)
{
    lxb_selectors_entry_t *entry, *prev;

    prev = NULL;

    do {
        entry = lexbor_dobject_calloc(selectors->objs);
        if (entry == NULL) {
            return NULL;
        }

        entry->selector = selector;
        entry->combinator = LXB_CSS_SELECTOR_COMBINATOR_CLOSE;

        if (prev != NULL) {
            prev->next = entry;
            entry->prev = prev;
        }

        if (selector->combinator != LXB_CSS_SELECTOR_COMBINATOR_CLOSE
            || selector->prev == NULL)
        {
            break;
        }

        prev = entry;
        selector = selector->prev;
    }
    while (true);

    return entry;
}

lxb_inline lxb_dom_node_t *
lxb_selectors_descendant(lxb_selectors_t *selectors,
                         lxb_selectors_entry_t *entry,
                         lxb_dom_node_t *node)
{
    node = node->parent;

    while (node != NULL) {
        if (node->type == LXB_DOM_NODE_TYPE_ELEMENT
            && lxb_selectors_match(selectors, entry, node))
        {
            return node;
        }

        node = node->parent;
    }

    return NULL;
}

lxb_inline lxb_dom_node_t *
lxb_selectors_descendant_forward(lxb_selectors_t *selectors,
                                 lxb_selectors_entry_t *entry,
                                 lxb_dom_node_t *node)
{
    lxb_dom_node_t *root;
    lxb_selectors_nested_t *current = selectors->current;

    if (entry->prev != NULL) {
        root = entry->prev->node;
    }
    else {
        root = current->root;
    }

    do {
        if (node->first_child != NULL) {
            node = node->first_child;
        }
        else {

        next:

            while (node != root && node->next == NULL) {
                node = node->parent;
            }

            if (node == root) {
                break;
            }

            node = node->next;
        }

        if (node->type != LXB_DOM_NODE_TYPE_ELEMENT) {
            goto next;
        }

        if (lxb_selectors_match(selectors, entry, node)) {
            return node;
        }
    }
    while (node != NULL);

    return NULL;
}

lxb_inline lxb_dom_node_t *
lxb_selectors_close(lxb_selectors_t *selectors, lxb_selectors_entry_t *entry,
                    lxb_dom_node_t *node)
{
    if (lxb_selectors_match(selectors, entry, node)) {
        return node;
    }

    return NULL;
}

lxb_inline lxb_dom_node_t *
lxb_selectors_close_forward(lxb_selectors_t *selectors,
                            lxb_selectors_entry_t *entry, lxb_dom_node_t *node)
{
    if (lxb_selectors_match(selectors, entry, node)) {
        return node;
    }

    return NULL;
}

lxb_inline lxb_dom_node_t *
lxb_selectors_child(lxb_selectors_t *selectors, lxb_selectors_entry_t *entry,
                    lxb_dom_node_t *root)
{
    root = root->parent;

    if (root != NULL && root->type == LXB_DOM_NODE_TYPE_ELEMENT
        && lxb_selectors_match(selectors, entry, root))
    {
        return root;
    }

    return NULL;
}

lxb_inline lxb_dom_node_t *
lxb_selectors_child_forward(lxb_selectors_t *selectors,
                            lxb_selectors_entry_t *entry, lxb_dom_node_t *root)
{
    if (entry->prev != NULL) {
        if (entry->prev->node == root) {
            root = root->first_child;
        }
        else {
            root = root->next;
        }
    }
    else if (selectors->current->root == root) {
        root = root->first_child;
    }
    else {
        root = root->next;
    }

    while (root != NULL) {
        if (root->type == LXB_DOM_NODE_TYPE_ELEMENT
            && lxb_selectors_match(selectors, entry, root))
        {
            return root;
        }

        root = root->next;
    }

    return NULL;
}

lxb_inline lxb_dom_node_t *
lxb_selectors_sibling(lxb_selectors_t *selectors, lxb_selectors_entry_t *entry,
                      lxb_dom_node_t *node)
{
    node = node->prev;

    while (node != NULL) {
        if (node->type == LXB_DOM_NODE_TYPE_ELEMENT) {
            if (lxb_selectors_match(selectors, entry, node)) {
                return node;
            }

            return NULL;
        }

        node = node->prev;
    }

    return NULL;
}

lxb_inline lxb_dom_node_t *
lxb_selectors_sibling_forward(lxb_selectors_t *selectors,
                              lxb_selectors_entry_t *entry, lxb_dom_node_t *node)
{
    node = node->next;

    while (node != NULL) {
        if (node->type == LXB_DOM_NODE_TYPE_ELEMENT) {
            if (lxb_selectors_match(selectors, entry, node)) {
                return node;
            }

            return NULL;
        }

        node = node->next;
    }

    return NULL;
}

lxb_inline lxb_dom_node_t *
lxb_selectors_following(lxb_selectors_t *selectors, lxb_selectors_entry_t *entry,
                        lxb_dom_node_t *node)
{
    node = node->prev;

    while (node != NULL) {
        if (node->type == LXB_DOM_NODE_TYPE_ELEMENT &&
            lxb_selectors_match(selectors, entry, node))
        {
            return node;
        }

        node = node->prev;
    }

    return NULL;
}

lxb_inline lxb_dom_node_t *
lxb_selectors_following_forward(lxb_selectors_t *selectors,
                                lxb_selectors_entry_t *entry,
                                lxb_dom_node_t *node)
{
    node = node->next;

    while (node != NULL) {
        if (node->type == LXB_DOM_NODE_TYPE_ELEMENT &&
            lxb_selectors_match(selectors, entry, node))
        {
            return node;
        }

        node = node->next;
    }

    return NULL;
}

lxb_inline void
lxb_selectors_switch_to_found_check(lxb_selectors_t *selectors,
                                    lxb_selectors_nested_t *current)
{
    if (current->forward) {
        selectors->state = lxb_selectors_state_found_check_forward;
    }
    else {
        selectors->state = lxb_selectors_state_found_check;
    }
}

lxb_inline void
lxb_selectors_switch_to_not_found(lxb_selectors_t *selectors,
                                  lxb_selectors_nested_t *current)
{
    if (current->forward) {
        selectors->state = lxb_selectors_state_not_found_forward;
    }
    else {
        selectors->state = lxb_selectors_state_not_found;
    }
}

static lxb_selectors_entry_t *
lxb_selectors_state_failed(lxb_selectors_t *selectors,
                           lxb_selectors_entry_t *entry)
{
    return NULL;
}

lxb_status_t
lxb_selectors_find(lxb_selectors_t *selectors, lxb_dom_node_t *root,
                   const lxb_css_selector_list_t *list,
                   lxb_selectors_cb_f cb, void *ctx)
{
    lxb_selectors_entry_t *entry;
    lxb_selectors_nested_t nested;

    entry = lxb_selectors_entry_make_first(selectors, list->last);
    if (entry == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    nested.parent = NULL;
    nested.entry = entry;
    nested.first = entry;
    nested.top = entry;
    nested.cb = cb;
    nested.ctx = ctx;
    nested.forward = false;

    selectors->current = &nested;
    selectors->status = LXB_STATUS_OK;

    return lxb_selectors_tree(selectors, root);
}

lxb_status_t
lxb_selectors_match_node(lxb_selectors_t *selectors, lxb_dom_node_t *node,
                         const lxb_css_selector_list_t *list,
                         lxb_selectors_cb_f cb, void *ctx)
{
    lxb_status_t status;
    lxb_selectors_entry_t *entry;
    lxb_selectors_nested_t nested;

    if (node->type != LXB_DOM_NODE_TYPE_ELEMENT) {
        return LXB_STATUS_OK;
    }

    entry = lxb_selectors_entry_make_first(selectors, list->last);
    if (entry == NULL) {
        return LXB_STATUS_ERROR_MEMORY_ALLOCATION;
    }

    nested.parent = NULL;
    nested.entry = entry;
    nested.first = entry;
    nested.top = entry;
    nested.cb = cb;
    nested.ctx = ctx;
    nested.forward = false;

    selectors->current = &nested;
    selectors->status = LXB_STATUS_OK;

    status = lxb_selectors_run(selectors, node);

    lxb_selectors_clean(selectors);

    return status;
}

lxb_status_t
lxb_selectors_find_reverse(lxb_selectors_t *selectors, lxb_dom_node_t *root,
                           const lxb_css_selector_list_t *list,
                           lxb_selectors_cb_f cb, void *ctx)
{
    return lxb_selectors_find(selectors, root, list, cb, ctx);
}

static lxb_status_t
lxb_selectors_tree(lxb_selectors_t *selectors, lxb_dom_node_t *root)
{
    lxb_status_t status;
    lxb_dom_node_t *node;

    if (selectors->options & LXB_SELECTORS_OPT_MATCH_ROOT) {
        node = root;

        if (node->type == LXB_DOM_NODE_TYPE_DOCUMENT) {
            node = root->first_child;
        }
    }
    else {
        node = root->first_child;
    }

    if (node == NULL) {
        goto out;
    }

    do {
        if (node->type != LXB_DOM_NODE_TYPE_ELEMENT) {
            goto next;
        }

        status = lxb_selectors_run(selectors, node);
        if (status != LXB_STATUS_OK) {
            if (status == LXB_STATUS_STOP) {
                break;
            }

            lxb_selectors_clean(selectors);

            return status;
        }

        if (node->first_child != NULL) {
            node = node->first_child;
        }
        else {

        next:

            while (node != root && node->next == NULL) {
                node = node->parent;
            }

            if (node == root) {
                break;
            }

            node = node->next;
        }
    }
    while (true);

out:
    lxb_selectors_clean(selectors);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_selectors_run(lxb_selectors_t *selectors, lxb_dom_node_t *node)
{
    lxb_selectors_entry_t *entry;
    lxb_selectors_nested_t *current = selectors->current;

    entry = current->entry;

    entry->node = node;
    current->root = node;
    selectors->state = lxb_selectors_state_find;

    do {
        entry = selectors->state(selectors, entry);
    }
    while (entry != NULL);

    current->first = current->top;
    current->entry = current->top;

    return selectors->status;
}

static lxb_selectors_entry_t *
lxb_selectors_state_find(lxb_selectors_t *selectors,
                         lxb_selectors_entry_t *entry)
{
    lxb_dom_node_t *node;

    selectors->state = lxb_selectors_state_found_check;

    switch (entry->combinator) {
        case LXB_CSS_SELECTOR_COMBINATOR_DESCENDANT:
            node = lxb_selectors_descendant(selectors, entry, entry->node);
            break;

        case LXB_CSS_SELECTOR_COMBINATOR_CLOSE:
            node = lxb_selectors_close(selectors, entry, entry->node);
            break;

        case LXB_CSS_SELECTOR_COMBINATOR_CHILD:
            node = lxb_selectors_child(selectors, entry, entry->node);
            break;

        case LXB_CSS_SELECTOR_COMBINATOR_SIBLING:
            node = lxb_selectors_sibling(selectors, entry, entry->node);
            break;

        case LXB_CSS_SELECTOR_COMBINATOR_FOLLOWING:
            node = lxb_selectors_following(selectors, entry, entry->node);
            break;

        case LXB_CSS_SELECTOR_COMBINATOR_CELL:
        default:
            selectors->status = LXB_STATUS_ERROR;
            return NULL;
    }

    if (node == NULL) {
        selectors->state = lxb_selectors_state_not_found;
    }
    else {
        selectors->current->entry->node = node;
    }

    return selectors->current->entry;
}

static lxb_selectors_entry_t *
lxb_selectors_state_find_forward(lxb_selectors_t *selectors,
                                 lxb_selectors_entry_t *entry)
{
    lxb_dom_node_t *node;

    selectors->state = lxb_selectors_state_found_check_forward;

    switch (entry->combinator) {
        case LXB_CSS_SELECTOR_COMBINATOR_DESCENDANT:
            node = lxb_selectors_descendant_forward(selectors, entry,
                                                    entry->node);
            break;

        case LXB_CSS_SELECTOR_COMBINATOR_CLOSE:
            node = lxb_selectors_close_forward(selectors, entry,
                                               entry->node);
            break;

        case LXB_CSS_SELECTOR_COMBINATOR_CHILD:
            node = lxb_selectors_child_forward(selectors, entry, entry->node);
            break;

        case LXB_CSS_SELECTOR_COMBINATOR_SIBLING:
            node = lxb_selectors_sibling_forward(selectors, entry, entry->node);
            break;

        case LXB_CSS_SELECTOR_COMBINATOR_FOLLOWING:
            node = lxb_selectors_following_forward(selectors, entry,
                                                   entry->node);
            break;

        case LXB_CSS_SELECTOR_COMBINATOR_CELL:
        default:
            selectors->status = LXB_STATUS_ERROR;
            return NULL;
    }

    if (node == NULL) {
    try_next:

        do {
            if (entry->prev == NULL) {
                return lxb_selectors_next_list_forward(selectors, entry);
            }

            entry = entry->prev;
        }
        while (entry->combinator == LXB_CSS_SELECTOR_COMBINATOR_CLOSE);

        if (entry->combinator == LXB_CSS_SELECTOR_COMBINATOR_SIBLING) {
            goto try_next;
        }

        selectors->current->entry = entry;
        selectors->state = lxb_selectors_state_find_forward;
    }
    else {
        selectors->current->entry->node = node;
    }

    return selectors->current->entry;
}

lxb_inline lxb_selectors_entry_t *
lxb_selectors_done(lxb_selectors_t *selectors)
{
    lxb_selectors_nested_t *current = selectors->current;

    if (current->parent == NULL) {
        return NULL;
    }

    selectors->current = current->parent;

    return selectors->current->entry;
}

lxb_inline lxb_selectors_entry_t *
lxb_selectors_exit(lxb_selectors_t *selectors)
{
    lxb_selectors_nested_t *current = selectors->current;

    if (current->parent == NULL) {
        return NULL;
    }

    selectors->state = current->return_state;

    return current->entry;
}

static lxb_selectors_entry_t *
lxb_selectors_state_found_check(lxb_selectors_t *selectors,
                                lxb_selectors_entry_t *entry)
{
    lxb_selectors_nested_t *current;
    lxb_dom_node_t *node;
    lxb_selectors_entry_t *prev;
    const lxb_css_selector_t *selector;

    current = selectors->current;
    entry = current->entry;
    node = entry->node;

    if (entry->prev == NULL) {
        selector = entry->selector;

        while (selector->combinator == LXB_CSS_SELECTOR_COMBINATOR_CLOSE
               && selector->prev != NULL)
        {
            selector = selector->prev;
        }

        if (selector->prev == NULL) {
            return lxb_selectors_state_found(selectors, entry);
        }

        prev = lxb_selectors_state_entry_create(selectors, selector,
                                                entry, node);
        current->entry = prev;
        selectors->state = lxb_selectors_state_find;

        return prev;
    }

    selectors->state = lxb_selectors_state_find;

    current->entry = entry->prev;
    entry->prev->node = node;

    return entry->prev;
}

static lxb_selectors_entry_t *
lxb_selectors_state_found_check_forward(lxb_selectors_t *selectors,
                                        lxb_selectors_entry_t *entry)
{
    lxb_selectors_nested_t *current;
    lxb_dom_node_t *node;
    lxb_selectors_entry_t *next;
    const lxb_css_selector_t *selector;

    current = selectors->current;
    entry = current->entry;
    node = entry->node;

    if (entry->next == NULL) {
        selector = entry->selector;

        if (selector->next == NULL) {
            return lxb_selectors_state_found_forward(selectors, entry);
        }

        next = lxb_selectors_state_entry_create_forward(selectors, selector,
                                                        entry, node);
        current->entry = next;
        selectors->state = lxb_selectors_state_find_forward;

        return next;
    }

    selectors->state = lxb_selectors_state_find_forward;

    current->entry = entry->next;
    entry->next->node = node;

    return entry->next;
}

static lxb_selectors_entry_t *
lxb_selectors_state_found(lxb_selectors_t *selectors,
                          lxb_selectors_entry_t *entry)
{
    lxb_selectors_nested_t *current;
    const lxb_css_selector_t *selector;

    current = selectors->current;
    selector = current->entry->selector;

    selectors->state = lxb_selectors_state_find;

    selectors->status = current->cb(current->root,
                                    selector->list->specificity,
                                    current->ctx);

    if ((selectors->options & LXB_SELECTORS_OPT_MATCH_FIRST) == 0
        && current->parent == NULL)
    {
        if (selectors->status == LXB_STATUS_OK) {
            entry = selectors->current->first;
            return lxb_selectors_next_list(selectors, entry);
        }
    }

    return lxb_selectors_done(selectors);
}

static lxb_selectors_entry_t *
lxb_selectors_state_found_forward(lxb_selectors_t *selectors,
                                  lxb_selectors_entry_t *entry)
{
    lxb_selectors_nested_t *current;
    const lxb_css_selector_t *selector;

    current = selectors->current;
    selector = current->entry->selector;

    selectors->state = lxb_selectors_state_find_forward;

    selectors->status = current->cb(current->root,
                                    selector->list->specificity,
                                    current->ctx);

    if ((selectors->options & LXB_SELECTORS_OPT_MATCH_FIRST) == 0
        && current->parent == NULL)
    {
        if (selectors->status == LXB_STATUS_OK) {
            entry = selectors->current->first;
            return lxb_selectors_next_list_forward(selectors, entry);
        }
    }

    return lxb_selectors_done(selectors);
}


static lxb_selectors_entry_t *
lxb_selectors_state_not_found(lxb_selectors_t *selectors,
                              lxb_selectors_entry_t *entry)
{
    lxb_selectors_nested_t *current;

    current = selectors->current;
    entry = current->entry;

try_next:

    if (entry->next == NULL) {
        return lxb_selectors_next_list(selectors, entry);
    }

    entry = entry->next;

    while (entry->combinator == LXB_CSS_SELECTOR_COMBINATOR_CLOSE) {
        if (entry->next == NULL) {
            goto try_next;
        }

        entry = entry->next;
    }

    switch (entry->combinator) {
        case LXB_CSS_SELECTOR_COMBINATOR_SIBLING:
        case LXB_CSS_SELECTOR_COMBINATOR_CHILD:
        case LXB_CSS_SELECTOR_COMBINATOR_CLOSE:
            goto try_next;

        default:
            break;
    }

    current->entry = entry;
    selectors->state = lxb_selectors_state_find;

    return entry;
}

static lxb_selectors_entry_t *
lxb_selectors_state_not_found_forward(lxb_selectors_t *selectors,
                                      lxb_selectors_entry_t *entry)
{
try_next:

    if (entry->prev == NULL) {
        return lxb_selectors_next_list_forward(selectors, entry);
    }

    while (entry->combinator == LXB_CSS_SELECTOR_COMBINATOR_CLOSE) {
        if (entry->prev == NULL) {
            goto try_next;
        }

        entry = entry->prev;
    }

    if (entry->combinator == LXB_CSS_SELECTOR_COMBINATOR_SIBLING) {
        if (entry->prev != NULL) {
            entry = entry->prev;
        }

        goto try_next;
    }

    selectors->current->entry = entry;
    selectors->state = lxb_selectors_state_find_forward;

    return entry;
}

static lxb_selectors_entry_t *
lxb_selectors_next_list(lxb_selectors_t *selectors,
                        lxb_selectors_entry_t *entry)
{
    if (entry->selector->list->next == NULL) {
        return lxb_selectors_exit(selectors);
    }

    selectors->state = lxb_selectors_state_find;

    /*
     * Try the following selectors from the selector list.
     */

    return lxb_selectors_make_following(selectors, entry);
}

static lxb_selectors_entry_t *
lxb_selectors_next_list_forward(lxb_selectors_t *selectors,
                                lxb_selectors_entry_t *entry)
{
    if (entry->selector->list->next == NULL) {
        return lxb_selectors_exit(selectors);
    }

    selectors->state = lxb_selectors_state_find_forward;

    /*
     * Try the following selectors from the selector list.
     */

    return lxb_selectors_make_following_forward(selectors, entry);
}

static lxb_selectors_entry_t *
lxb_selectors_make_following(lxb_selectors_t *selectors,
                             lxb_selectors_entry_t *entry)
{
    lxb_selectors_entry_t *next;
    lxb_selectors_nested_t *current;
    const lxb_css_selector_t *selector;

    selector = entry->selector;
    current = selectors->current;

    if (entry->following != NULL) {
        entry->following->node = current->root;
        current->first = entry->following;
        current->entry = entry->following;

        return entry->following;
    }

    next = lxb_selectors_entry_make_first(selectors,
                                          selector->list->next->last);
    if (next == NULL) {
        selectors->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        return NULL;
    }

    next->node = current->root;

    entry->following = next;
    current->first = next;
    current->entry = next;

    return next;
}

static lxb_selectors_entry_t *
lxb_selectors_make_following_forward(lxb_selectors_t *selectors,
                                     lxb_selectors_entry_t *entry)
{
    lxb_selectors_entry_t *next;
    lxb_selectors_nested_t *current;
    const lxb_css_selector_t *selector;

    selector = entry->selector;
    current = selectors->current;

    if (entry->following != NULL) {
        entry->following->node = current->root;
        current->first = entry->following;
        current->entry = entry->following;

        return entry->following;
    }

    next = lexbor_dobject_calloc(selectors->objs);
    if (next == NULL) {
        selectors->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
        return NULL;
    }

    next->selector = selector->list->next->first;
    next->node = current->root;
    next->combinator = next->selector->combinator;

    entry->following = next;
    current->first = next;
    current->entry = next;

    return next;
}

static lxb_selectors_entry_t *
lxb_selectors_state_after_find(lxb_selectors_t *selectors,
                               lxb_selectors_entry_t *entry)
{
    selectors->current = selectors->current->parent;

    lxb_selectors_switch_to_not_found(selectors, selectors->current);

    return selectors->current->entry;
}

static lxb_selectors_entry_t *
lxb_selectors_state_after_not(lxb_selectors_t *selectors,
                              lxb_selectors_entry_t *entry)
{
    selectors->current = selectors->current->parent;

    lxb_selectors_switch_to_found_check(selectors, selectors->current);

    return selectors->current->entry;
}

lxb_inline lxb_dom_node_t *
lxb_selectors_state_nth_child_node(const lxb_css_selector_pseudo_t *pseudo,
                                   lxb_dom_node_t *node)
{
    if (pseudo->type == LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_CHILD) {
        node = node->prev;

        while (node != NULL) {
            if (node->type == LXB_DOM_NODE_TYPE_ELEMENT) {
                break;
            }

            node = node->prev;
        }
    }
    else {
        node = node->next;

        while (node != NULL) {
            if (node->type == LXB_DOM_NODE_TYPE_ELEMENT) {
                break;
            }

            node = node->next;
        }
    }

    return node;
}

lxb_inline lxb_selectors_entry_t *
lxb_selectors_state_nth_child_done(lxb_selectors_t *selectors,
                                   const lxb_css_selector_pseudo_t *pseudo,
                                   size_t index)
{
    if (lxb_selectors_anb_calc(pseudo->data, index)) {
        lxb_selectors_switch_to_found_check(selectors, selectors->current);
    }
    else {
        lxb_selectors_switch_to_not_found(selectors, selectors->current);
    }

    return selectors->current->entry;
}

static lxb_selectors_entry_t *
lxb_selectors_state_after_nth_child(lxb_selectors_t *selectors,
                                    lxb_selectors_entry_t *entry)
{
    lxb_dom_node_t *node;
    lxb_selectors_nested_t *current;
    const lxb_css_selector_pseudo_t *pseudo;

    current = selectors->current;

    if (current->index == 0) {
        selectors->state = lxb_selectors_state_not_found;
        selectors->current = selectors->current->parent;

        return selectors->current->entry;
    }

    pseudo = &current->parent->entry->selector->u.pseudo;
    node = lxb_selectors_state_nth_child_node(pseudo, current->root);

    if (node == NULL) {
        selectors->current = selectors->current->parent;

        return lxb_selectors_state_nth_child_done(selectors, pseudo,
                                                  current->index);
    }

    current->root = node;
    current->entry->node = node;

    selectors->state = lxb_selectors_state_find;

    return entry;
}

static lxb_selectors_entry_t *
lxb_selectors_state_nth_child_found(lxb_selectors_t *selectors,
                                    lxb_selectors_entry_t *entry)
{
    lxb_dom_node_t *node;
    lxb_selectors_nested_t *current;
    const lxb_css_selector_pseudo_t *pseudo;

    current = entry->nested;
    pseudo = &entry->selector->u.pseudo;
    node = lxb_selectors_state_nth_child_node(pseudo, current->root);

    if (node == NULL) {
        return lxb_selectors_state_nth_child_done(selectors, pseudo,
                                                  current->index);
    }

    current->root = node;
    current->entry->node = node;

    selectors->current = current;
    selectors->state = lxb_selectors_state_find;

    return current->entry;
}

static bool
lxb_selectors_match(lxb_selectors_t *selectors, lxb_selectors_entry_t *entry,
                    lxb_dom_node_t *node)
{
    lxb_dom_element_t *element;

    switch (entry->selector->type) {
        case LXB_CSS_SELECTOR_TYPE_ANY:
            return true;

        case LXB_CSS_SELECTOR_TYPE_ELEMENT:
            return lxb_selectors_match_element(entry->selector, node, entry);

        case LXB_CSS_SELECTOR_TYPE_ID:
            return lxb_selectors_match_id(entry->selector, node);

        case LXB_CSS_SELECTOR_TYPE_CLASS:
            element = lxb_dom_interface_element(node);

            if (element->attr_class == NULL
                || element->attr_class->value == NULL)
            {
                return false;
            }

            return lxb_selectors_match_class(element->attr_class->value,
                                             &entry->selector->name, true);

        case LXB_CSS_SELECTOR_TYPE_ATTRIBUTE:
            return lxb_selectors_match_attribute(entry->selector, node, entry);

        case LXB_CSS_SELECTOR_TYPE_PSEUDO_CLASS:
            return lxb_selectors_pseudo_class(entry->selector, node);

        case LXB_CSS_SELECTOR_TYPE_PSEUDO_CLASS_FUNCTION:
            return lxb_selectors_pseudo_class_function(selectors,
                                                       entry->selector, node);
        case LXB_CSS_SELECTOR_TYPE_PSEUDO_ELEMENT:
            return lxb_selectors_pseudo_element(entry->selector, node);

        case LXB_CSS_SELECTOR_TYPE_PSEUDO_ELEMENT_FUNCTION:
            return false;

        default:
            break;
    }

    return false;
}

static bool
lxb_selectors_match_element(const lxb_css_selector_t *selector,
                            lxb_dom_node_t *node, lxb_selectors_entry_t *entry)
{
    lxb_tag_id_t tag_id;

    if (entry->id == 0) {
        tag_id = lxb_tag_id_by_name(node->owner_document->tags,
                                    selector->name.data, selector->name.length);
        if (tag_id == LXB_TAG__UNDEF) {
            return false;
        }

        entry->id = tag_id;
    }

    return node->local_name == entry->id;
}

static bool
lxb_selectors_match_id(const lxb_css_selector_t *selector, lxb_dom_node_t *node)
{
    const lexbor_str_t *trg, *src;
    lxb_dom_element_t *element;

    element = lxb_dom_interface_element(node);

    if (element->attr_id == NULL || element->attr_id->value == NULL) {
        return false;
    }

    trg = element->attr_id->value;
    src = &selector->name;

    return trg->length == src->length
           && lexbor_str_data_ncasecmp(trg->data, src->data, src->length);
}

static bool
lxb_selectors_match_class(const lexbor_str_t *target, const lexbor_str_t *src,
                          bool quirks)
{
    lxb_char_t chr;

    if (target->length < src->length) {
        return false;
    }

    bool is_it = false;

    const lxb_char_t *data = target->data;
    const lxb_char_t *pos = data;
    const lxb_char_t *end = data + target->length;

    for (; data < end; data++) {
        chr = *data;

        if (lexbor_utils_whitespace(chr, ==, ||)) {

            if ((size_t) (data - pos) == src->length) {
                if (quirks) {
                    is_it = lexbor_str_data_ncasecmp(pos, src->data, src->length);
                }
                else {
                    is_it = lexbor_str_data_ncmp(pos, src->data, src->length);
                }

                if (is_it) {
                    return true;
                }
            }

            if ((size_t) (end - data) < src->length) {
                return false;
            }

            pos = data + 1;
        }
    }

    if ((size_t) (end - pos) == src->length && src->length != 0) {
        if (quirks) {
            is_it = lexbor_str_data_ncasecmp(pos, src->data, src->length);
        }
        else {
            is_it = lexbor_str_data_ncmp(pos, src->data, src->length);
        }
    }

    return is_it;
}

static bool
lxb_selectors_match_attribute(const lxb_css_selector_t *selector,
                              lxb_dom_node_t *node, lxb_selectors_entry_t *entry)
{
    bool res, ins;
    lxb_dom_attr_t *dom_attr;
    lxb_dom_element_t *element;
    const lexbor_str_t *trg, *src;
    const lxb_dom_attr_data_t *attr_data;
    const lxb_css_selector_attribute_t *attr;

    static const lexbor_str_t lxb_blank_str = {
        .data = (lxb_char_t *) "",
        .length = 0
    };

    element = lxb_dom_interface_element(node);
    attr = &selector->u.attribute;

    if (entry->id == 0) {
        attr_data = lxb_dom_attr_data_by_local_name(node->owner_document->attrs,
                                    selector->name.data, selector->name.length);
        if (attr_data == NULL) {
            return false;
        }

        entry->id = attr_data->attr_id;
    }

    dom_attr = lxb_dom_element_attr_by_id(element, entry->id);
    if (dom_attr == NULL) {
        return false;
    }

    trg = dom_attr->value;
    src = &attr->value;

    if (src->data == NULL) {
        return true;
    }

    if (trg == NULL) {
        trg = &lxb_blank_str;
    }

    ins = attr->modifier == LXB_CSS_SELECTOR_MODIFIER_I;

    switch (attr->match) {
        case LXB_CSS_SELECTOR_MATCH_EQUAL:      /*  = */
            if (trg->length == src->length) {
                if (ins) {
                    return lexbor_str_data_ncasecmp(trg->data, src->data,
                                                    src->length);
                }

                return lexbor_str_data_ncmp(trg->data, src->data,
                                            src->length);
            }

            return false;

        case LXB_CSS_SELECTOR_MATCH_INCLUDE:    /* ~= */
            return lxb_selectors_match_class(trg, src, ins);

        case LXB_CSS_SELECTOR_MATCH_DASH:       /* |= */
            if (trg->length == src->length) {
                if (ins) {
                    return lexbor_str_data_ncasecmp(trg->data, src->data,
                                                    src->length);
                }

                return lexbor_str_data_ncmp(trg->data, src->data,
                                            src->length);
            }

            if (trg->length > src->length) {
                if (ins) {
                    res = lexbor_str_data_ncasecmp(trg->data,
                                                   src->data, src->length);
                }
                else {
                    res = lexbor_str_data_ncmp(trg->data,
                                               src->data, src->length);
                }

                if (res && trg->data[src->length] == '-') {
                    return true;
                }
            }

            return false;

        case LXB_CSS_SELECTOR_MATCH_PREFIX:     /* ^= */
            if (src->length != 0 && trg->length >= src->length) {
                if (ins) {
                    return lexbor_str_data_ncasecmp(trg->data, src->data,
                                                    src->length);
                }

                return lexbor_str_data_ncmp(trg->data, src->data,
                                            src->length);
            }

            return false;

        case LXB_CSS_SELECTOR_MATCH_SUFFIX:     /* $= */
            if (src->length != 0 && trg->length >= src->length) {
                size_t dif = trg->length - src->length;

                if (ins) {
                    return lexbor_str_data_ncasecmp(trg->data + dif,
                                                    src->data, src->length);
                }

                return lexbor_str_data_ncmp(trg->data + dif, src->data,
                                            src->length);
            }

            return false;

        case LXB_CSS_SELECTOR_MATCH_SUBSTRING:  /* *= */
            if (src->length == 0) {
                return false;
            }

            if (ins) {
                return lexbor_str_data_ncasecmp_contain(trg->data, trg->length,
                                                        src->data, src->length);
            }

            return lexbor_str_data_ncmp_contain(trg->data, trg->length,
                                                src->data, src->length);
        default:
            break;
    }

    return false;
}

static bool
lxb_selectors_pseudo_class(const lxb_css_selector_t *selector,
                           const lxb_dom_node_t *node)
{
    lexbor_str_t *str;
    lxb_dom_attr_t *attr;
    const lxb_dom_node_t *root;
    const lxb_css_selector_pseudo_t *pseudo = &selector->u.pseudo;

    static const lxb_char_t checkbox[] = "checkbox";
    static const size_t checkbox_length = sizeof(checkbox) / sizeof(lxb_char_t) - 1;

    static const lxb_char_t radio[] = "radio";
    static const size_t radio_length = sizeof(radio) / sizeof(lxb_char_t) - 1;

    switch (pseudo->type) {
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_ACTIVE:
            attr = lxb_dom_element_attr_by_id(lxb_dom_interface_element(node),
                                              LXB_DOM_ATTR_ACTIVE);
            return attr != NULL;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_ANY_LINK:
            if(node->local_name == LXB_TAG_A ||
               node->local_name == LXB_TAG_AREA ||
               node->local_name == LXB_TAG_MAP)
            {
                attr = lxb_dom_element_attr_by_id(lxb_dom_interface_element(node),
                                                  LXB_DOM_ATTR_HREF);
                return attr != NULL;
            }

            return false;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_BLANK:
            return lxb_dom_node_is_empty(node);

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_CHECKED:
            if (node->local_name == LXB_TAG_INPUT) {
                attr = lxb_dom_element_attr_by_id(lxb_dom_interface_element(node),
                                                  LXB_DOM_ATTR_TYPE);
                if (attr == NULL) {
                    return false;
                }

                if (attr->value == NULL) {
                    return false;
                }

                str = attr->value;

                if(str->length == 8) {
                    if (lexbor_str_data_ncasecmp(checkbox, str->data, checkbox_length)) {
                        goto check;
                    }
                }
                else if(str->length == 5) {
                    if (lexbor_str_data_ncasecmp(radio, str->data, radio_length)) {
                        goto check;
                    }
                }
            }
            else if(node->local_name == LXB_TAG_OPTION) {
                attr = lxb_dom_element_attr_by_id(lxb_dom_interface_element(node),
                                                  LXB_DOM_ATTR_SELECTED);
                if (attr != NULL) {
                    return true;
                }
            }
            else if(node->local_name >= LXB_TAG__LAST_ENTRY) {
                goto check;
            }

            return false;

        check:

            attr = lxb_dom_element_attr_by_id(lxb_dom_interface_element(node),
                                              LXB_DOM_ATTR_CHECKED);
            if (attr != NULL) {
                return true;
            }

            return false;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_CURRENT:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_DEFAULT:
            return false;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_DISABLED:
            return lxb_selectors_pseudo_class_disabled(node);

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_EMPTY:
            root = node;
            node = node->first_child;

            while (node != NULL) {
                if (node->local_name != LXB_TAG__EM_COMMENT) {
                    return false;
                }

                if (node->first_child != NULL) {
                    node = node->first_child;
                }
                else {
                    while (node != root && node->next == NULL) {
                        node = node->parent;
                    }

                    if (node == root) {
                        break;
                    }

                    node = node->next;
                }
            }

            return true;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_ENABLED:
            return !lxb_selectors_pseudo_class_disabled(node);

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FIRST_CHILD:
            return lxb_selectors_pseudo_class_first_child(node);

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FIRST_OF_TYPE:
            return lxb_selectors_pseudo_class_first_of_type(node);

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FOCUS:
            attr = lxb_dom_element_attr_by_id(lxb_dom_interface_element(node),
                                              LXB_DOM_ATTR_FOCUS);
            return attr != NULL;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FOCUS_VISIBLE:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FOCUS_WITHIN:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FULLSCREEN:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUTURE:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_HOVER:
            attr = lxb_dom_element_attr_by_id(lxb_dom_interface_element(node),
                                              LXB_DOM_ATTR_HOVER);
            return attr != NULL;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_IN_RANGE:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_INDETERMINATE:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_INVALID:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_LAST_CHILD:
            return lxb_selectors_pseudo_class_last_child(node);

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_LAST_OF_TYPE:
            return lxb_selectors_pseudo_class_last_of_type(node);

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_LINK:
            if (node->local_name == LXB_TAG_A
                || node->local_name == LXB_TAG_AREA
                || node->local_name == LXB_TAG_LINK)
            {
                attr = lxb_dom_element_attr_by_id(lxb_dom_interface_element(node),
                                                  LXB_DOM_ATTR_HREF);
                return attr != NULL;
            }

            return false;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_LOCAL_LINK:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_ONLY_CHILD:
            return lxb_selectors_pseudo_class_first_child(node)
            && lxb_selectors_pseudo_class_last_child(node);

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_ONLY_OF_TYPE:
            return lxb_selectors_pseudo_class_first_of_type(node)
            && lxb_selectors_pseudo_class_last_of_type(node);

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_OPTIONAL:
            if (node->local_name == LXB_TAG_INPUT
                || node->local_name == LXB_TAG_SELECT
                || node->local_name == LXB_TAG_TEXTAREA)
            {
                attr = lxb_dom_element_attr_by_id(lxb_dom_interface_element(node),
                                                  LXB_DOM_ATTR_REQUIRED);
                return attr == NULL;
            }

            return false;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_OUT_OF_RANGE:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_PAST:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_PLACEHOLDER_SHOWN:
            if (node->local_name == LXB_TAG_INPUT
                || node->local_name == LXB_TAG_TEXTAREA)
            {
                attr = lxb_dom_element_attr_by_id(lxb_dom_interface_element(node),
                                                  LXB_DOM_ATTR_PLACEHOLDER);
                return attr != NULL;
            }

            return false;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_READ_ONLY:
            return !lxb_selectors_pseudo_class_read_write(node);

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_READ_WRITE:
            return lxb_selectors_pseudo_class_read_write(node);

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_REQUIRED:
            if (node->local_name == LXB_TAG_INPUT
                || node->local_name == LXB_TAG_SELECT
                || node->local_name == LXB_TAG_TEXTAREA)
            {
                attr = lxb_dom_element_attr_by_id(lxb_dom_interface_element(node),
                                                  LXB_DOM_ATTR_REQUIRED);
                return attr != NULL;
            }

            return false;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_ROOT:
            return lxb_dom_document_root(node->owner_document) == node;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_SCOPE:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_TARGET:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_TARGET_WITHIN:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_USER_INVALID:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_VALID:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_VISITED:
            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_WARNING:
            break;
    }

    return false;
}

static lxb_selectors_nested_t *
lxb_selectors_nested_make(lxb_selectors_t *selectors, lxb_dom_node_t *node,
                          lxb_css_selector_t *selector, bool forward)
{
    lxb_selectors_entry_t *next;
    lxb_selectors_entry_t *entry;

    entry = selectors->current->entry;
    entry->node = node;

    if (entry->nested == NULL) {
        if (!forward) {
            next = lxb_selectors_entry_make_first(selectors, selector);
            if (next == NULL) {
                selectors->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
                return NULL;
            }
        }
        else {
            next = lexbor_dobject_calloc(selectors->objs);
            if (next == NULL) {
                selectors->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
                return NULL;
            }

            next->combinator = selector->combinator;
            next->selector = selector;
        }

        entry->nested = lexbor_dobject_calloc(selectors->nested);
        if (entry->nested == NULL) {
            selectors->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;
            return NULL;
        }

        entry->nested->top = next;
        entry->nested->parent = selectors->current;
        entry->nested->forward = forward;
    }

    selectors->current = entry->nested;
    entry->nested->entry = entry->nested->top;
    entry->nested->first = entry->nested->top;

    selectors->current->root = node;
    selectors->current->ctx = selectors;

    return selectors->current;
}

static bool
lxb_selectors_pseudo_class_function(lxb_selectors_t *selectors,
                                    const lxb_css_selector_t *selector,
                                    lxb_dom_node_t *node)
{
    bool is;
    size_t index;
    lxb_dom_node_t *base;
    lxb_selectors_nested_t *current;
    const lexbor_str_t *str;
    const lxb_dom_text_t *text;
    const lxb_css_selector_list_t *list;
    const lxb_css_selector_anb_of_t *anb;
    const lxb_css_selector_pseudo_t *pseudo;
    const lxb_css_selector_contains_t *contains;

    pseudo = &selector->u.pseudo;

    switch (pseudo->type) {
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_HAS:
            list = (lxb_css_selector_list_t *) pseudo->data;

            current = lxb_selectors_nested_make(selectors, node,
                                                list->first, true);
            if (current == NULL) {
                goto failed;
            }

            current->cb = lxb_selectors_cb_ok;
            current->return_state = lxb_selectors_state_after_find;
            selectors->state = lxb_selectors_state_find_forward;

            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_CURRENT:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_IS:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_WHERE:
            list = (lxb_css_selector_list_t *) pseudo->data;

            current = lxb_selectors_nested_make(selectors, node, list->last,
                                                false);
            if (current == NULL) {
                goto failed;
            }

            current->cb = lxb_selectors_cb_ok;
            current->return_state = lxb_selectors_state_after_find;
            selectors->state = lxb_selectors_state_find;

            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NOT:
            list = (lxb_css_selector_list_t *) pseudo->data;

            current = lxb_selectors_nested_make(selectors, node, list->last,
                                                false);
            if (current == NULL) {
                goto failed;
            }

            current->cb = lxb_selectors_cb_not;
            current->return_state = lxb_selectors_state_after_not;
            selectors->state = lxb_selectors_state_find;

            break;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_CHILD:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_CHILD:
            anb = pseudo->data;

            if (anb->of != NULL) {
                current = lxb_selectors_nested_make(selectors, node,
                                                    anb->of->last, false);
                if (current == NULL) {
                    goto failed;
                }

                current->return_state = lxb_selectors_state_after_nth_child;
                current->cb = lxb_selectors_cb_nth_ok;
                current->index = 0;
                selectors->state = lxb_selectors_state_find;

                return true;
            }

            index = 0;

            if (pseudo->type == LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_CHILD) {
                while (node != NULL) {
                    if (node->local_name != LXB_TAG__TEXT
                        && node->local_name != LXB_TAG__EM_COMMENT)
                    {
                        index++;
                    }

                    node = node->prev;
                }
            }
            else {
                while (node != NULL) {
                    if (node->local_name != LXB_TAG__TEXT
                        && node->local_name != LXB_TAG__EM_COMMENT)
                    {
                        index++;
                    }

                    node = node->next;
                }
            }

            return lxb_selectors_anb_calc(pseudo->data, index);

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_OF_TYPE:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_OF_TYPE:
            index = 0;
            base = node;

            if (pseudo->type == LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_OF_TYPE) {
                while (node != NULL) {
                    if(node->local_name == base->local_name
                       && node->ns == base->ns)
                    {
                        index++;
                    }

                    node = node->prev;
                }
            }
            else {
                while (node != NULL) {
                    if(node->local_name == base->local_name
                       && node->ns == base->ns)
                    {
                        index++;
                    }

                    node = node->next;
                }
            }

            return lxb_selectors_anb_calc(pseudo->data, index);

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_LEXBOR_CONTAINS:
            contains = pseudo->data;

            node = node->first_child;
            while (node != NULL) {
                if (node->type == LXB_DOM_NODE_TYPE_TEXT) {
                    text = lxb_dom_interface_text(node);
                    str = &text->char_data.data;

                    if (contains->insensitive) {
                        is = lexbor_str_data_ncasecmp_contain(str->data, str->length,
                                                              contains->str.data,
                                                              contains->str.length);
                    }
                    else {
                        is = lexbor_str_data_ncmp_contain(str->data, str->length,
                                                          contains->str.data,
                                                          contains->str.length);
                    }

                    if (is) {
                        return true;
                    }
                }

                node = node->next;
            }

            return false;

        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_DIR:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_LANG:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_COL:
        case LXB_CSS_SELECTOR_PSEUDO_CLASS_FUNCTION_NTH_LAST_COL:
        default:
            return false;
    }

    return true;

failed:

    selectors->state = lxb_selectors_state_failed;
    selectors->status = LXB_STATUS_ERROR_MEMORY_ALLOCATION;

    return true;
}

static bool
lxb_selectors_pseudo_element(const lxb_css_selector_t *selector,
                             const lxb_dom_node_t *node)
{
    const lxb_css_selector_pseudo_t *pseudo = &selector->u.pseudo;

    switch (pseudo->type) {
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_AFTER:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_BACKDROP:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_BEFORE:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_FIRST_LETTER:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_FIRST_LINE:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_GRAMMAR_ERROR:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_INACTIVE_SELECTION:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_MARKER:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_PLACEHOLDER:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_SELECTION:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_SPELLING_ERROR:
        case LXB_CSS_SELECTOR_PSEUDO_ELEMENT_TARGET_TEXT:
            break;
    }

    return false;
}

static bool
lxb_selectors_pseudo_class_disabled(const lxb_dom_node_t *node)
{
    lxb_dom_attr_t *attr;
    uintptr_t tag_id = node->local_name;

    attr = lxb_dom_element_attr_by_id(lxb_dom_interface_element(node),
                                      LXB_DOM_ATTR_DISABLED);
    if (attr == NULL) {
        return false;
    }

    if (tag_id == LXB_TAG_BUTTON || tag_id == LXB_TAG_INPUT ||
        tag_id == LXB_TAG_SELECT || tag_id == LXB_TAG_TEXTAREA ||
        tag_id >= LXB_TAG__LAST_ENTRY)
    {
        return true;
    }

    node = node->parent;

    while (node != NULL) {
        if (node->local_name == LXB_TAG_FIELDSET
            && node->first_child->local_name != LXB_TAG_LEGEND)
        {
            return true;
        }

        node = node->parent;
    }

    return false;
}

static bool
lxb_selectors_pseudo_class_first_child(const lxb_dom_node_t *node)
{
    node = node->prev;

    while (node != NULL) {
        if (node->local_name != LXB_TAG__TEXT
            && node->local_name != LXB_TAG__EM_COMMENT)
        {
            return false;
        }

        node = node->prev;
    }

    return true;
}

static bool
lxb_selectors_pseudo_class_first_of_type(const lxb_dom_node_t *node)
{
    const lxb_dom_node_t *root = node;
    node = node->prev;

    while (node) {
        if (node->local_name == root->local_name
            && node->ns == root->ns)
        {
            return false;
        }

        node = node->prev;
    }

    return true;
}

static bool
lxb_selectors_pseudo_class_last_child(const lxb_dom_node_t *node)
{
    node = node->next;

    while (node != NULL) {
        if (node->local_name != LXB_TAG__TEXT
            && node->local_name != LXB_TAG__EM_COMMENT)
        {
            return false;
        }

        node = node->next;
    }

    return true;
}

static bool
lxb_selectors_pseudo_class_last_of_type(const lxb_dom_node_t *node)
{
    const lxb_dom_node_t *root = node;
    node = node->next;

    while (node) {
        if (node->local_name == root->local_name
            && node->ns == root->ns)
        {
            return false;
        }

        node = node->next;
    }

    return true;
}

static bool
lxb_selectors_pseudo_class_read_write(const lxb_dom_node_t *node)
{
    lxb_dom_attr_t *attr;

    if (node->local_name == LXB_TAG_INPUT
        || node->local_name == LXB_TAG_TEXTAREA)
    {
        attr = lxb_dom_element_attr_by_id(lxb_dom_interface_element(node),
                                          LXB_DOM_ATTR_READONLY);
        if (attr != NULL) {
            return false;
        }

        return !lxb_selectors_pseudo_class_disabled(node);
    }

    return false;
}

static bool
lxb_selectors_anb_calc(lxb_css_selector_anb_of_t *anb, size_t index)
{
    double num;

    if (anb->anb.a == 0) {
        if (anb->anb.b >= 0 && (size_t) anb->anb.b == index) {
            return true;
        }
    }
    else {
        num = ((double) index - (double) anb->anb.b) / (double) anb->anb.a;

        if (num >= 0.0f && (num - trunc(num)) == 0.0f) {
            return true;
        }
    }

    return false;
}

static lxb_status_t
lxb_selectors_cb_ok(lxb_dom_node_t *node,
                    lxb_css_selector_specificity_t spec, void *ctx)
{
    lxb_selectors_t *selectors = ctx;

    lxb_selectors_switch_to_found_check(selectors, selectors->current->parent);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_selectors_cb_not(lxb_dom_node_t *node,
                     lxb_css_selector_specificity_t spec, void *ctx)
{
    lxb_selectors_t *selectors = ctx;

    lxb_selectors_switch_to_not_found(selectors, selectors->current->parent);

    return LXB_STATUS_OK;
}

static lxb_status_t
lxb_selectors_cb_nth_ok(lxb_dom_node_t *node,
                        lxb_css_selector_specificity_t spec, void *ctx)
{
    lxb_selectors_t *selectors = ctx;

    selectors->current->index += 1;
    selectors->state = lxb_selectors_state_nth_child_found;

    return LXB_STATUS_OK;
}

void
lxb_selectors_opt_set_noi(lxb_selectors_t *selectors, lxb_selectors_opt_t opt)
{
    lxb_selectors_opt_set(selectors, opt);
}

const lxb_css_selector_list_t *
lxb_selectors_selector_noi(const lxb_selectors_t *selectors)
{
    return lxb_selectors_selector(selectors);
}

LXB_API const lxb_tag_data_t *
lxb_tag_append(lexbor_hash_t *hash, lxb_tag_id_t tag_id,
               const lxb_char_t *name, size_t length)
{
    lxb_tag_data_t *data;
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_static(lxb_tag_res_shs_data_default,
                                        name, length);
    if (entry != NULL) {
        return entry->value;
    }

    data = lexbor_hash_insert(hash, lexbor_hash_insert_raw, name, length);
    if (data == NULL) {
        return NULL;
    }

    if (tag_id == LXB_TAG__UNDEF) {
        data->tag_id = (lxb_tag_id_t) data;
    }
    else {
        data->tag_id = tag_id;
    }

    return data;
}

LXB_API const lxb_tag_data_t *
lxb_tag_append_lower(lexbor_hash_t *hash, const lxb_char_t *name, size_t length)
{
    lxb_tag_data_t *data;
    const lexbor_shs_entry_t *entry;

    entry = lexbor_shs_entry_get_lower_static(lxb_tag_res_shs_data_default,
                                              name, length);
    if (entry != NULL) {
        return entry->value;
    }

    data = lexbor_hash_insert(hash, lexbor_hash_insert_lower, name, length);
    if (data == NULL) {
        return NULL;
    }

    data->tag_id = (lxb_tag_id_t) data;

    return data;
}

const lxb_tag_data_t *
lxb_tag_data_by_id(lxb_tag_id_t tag_id)
{
    if (tag_id >= LXB_TAG__LAST_ENTRY) {
        if (tag_id == LXB_TAG__LAST_ENTRY) {
            return NULL;
        }

        return (const lxb_tag_data_t *) tag_id;
    }

    return &lxb_tag_res_data_default[tag_id];
}

const lxb_tag_data_t *
lxb_tag_data_by_name(lexbor_hash_t *hash, const lxb_char_t *name, size_t len)
{
    const lexbor_shs_entry_t *entry;

    if (name == NULL || len == 0) {
        return NULL;
    }

    entry = lexbor_shs_entry_get_lower_static(lxb_tag_res_shs_data_default,
                                              name, len);
    if (entry != NULL) {
        return (const lxb_tag_data_t *) entry->value;
    }

    return (const lxb_tag_data_t *) lexbor_hash_search(hash,
                                           lexbor_hash_search_lower, name, len);
}

const lxb_tag_data_t *
lxb_tag_data_by_name_upper(lexbor_hash_t *hash,
                           const lxb_char_t *name, size_t len)
{
    uintptr_t dif;
    const lexbor_shs_entry_t *entry;

    if (name == NULL || len == 0) {
        return NULL;
    }

    entry = lexbor_shs_entry_get_upper_static(lxb_tag_res_shs_data_default,
                                              name, len);
    if (entry != NULL) {
        dif = (const lxb_tag_data_t *) entry->value - lxb_tag_res_data_default;

        return (const lxb_tag_data_t *) (lxb_tag_res_data_upper_default + dif);
    }

    return (const lxb_tag_data_t *) lexbor_hash_search(hash,
                                           lexbor_hash_search_upper, name, len);
}

/*
 * No inline functions for ABI.
 */
const lxb_char_t *
lxb_tag_name_by_id_noi(lxb_tag_id_t tag_id, size_t *len)
{
    return lxb_tag_name_by_id(tag_id, len);
}

const lxb_char_t *
lxb_tag_name_upper_by_id_noi(lxb_tag_id_t tag_id, size_t *len)
{
    return lxb_tag_name_upper_by_id(tag_id, len);
}

lxb_tag_id_t
lxb_tag_id_by_name_noi(lexbor_hash_t *hash, const lxb_char_t *name, size_t len)
{
    return lxb_tag_id_by_name(hash, name, len);
}

lexbor_mraw_t *
lxb_tag_mraw_noi(lexbor_hash_t *hash)
{
    return lxb_tag_mraw(hash);
}
